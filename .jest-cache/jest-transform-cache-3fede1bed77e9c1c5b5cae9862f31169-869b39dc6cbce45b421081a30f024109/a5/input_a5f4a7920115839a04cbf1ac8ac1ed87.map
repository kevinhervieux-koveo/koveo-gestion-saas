{"file":"/home/runner/workspace/node_modules/@testing-library/user-event/dist/cjs/event/input.js","mappings":"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","names":[],"sources":["/home/runner/workspace/node_modules/@testing-library/user-event/dist/cjs/event/input.js"],"sourcesContent":["'use strict';\n\nvar UI = require('../document/UI.js');\nvar isElementType = require('../utils/misc/isElementType.js');\nrequire('../utils/dataTransfer/Clipboard.js');\nvar timeValue = require('../utils/edit/timeValue.js');\nvar maxLength = require('../utils/edit/maxLength.js');\nvar cursor = require('../utils/focus/cursor.js');\nvar trackValue = require('../document/trackValue.js');\nvar getInputRange = require('./selection/getInputRange.js');\nvar setSelection = require('./selection/setSelection.js');\n\nfunction isDateOrTime(element) {\n    return isElementType.isElementType(element, 'input') && [\n        'date',\n        'time'\n    ].includes(element.type);\n}\nfunction input(instance, element, data, inputType = 'insertText') {\n    const inputRange = getInputRange.getInputRange(element);\n    /* istanbul ignore if */ if (!inputRange) {\n        return;\n    }\n    // There is no `beforeinput` event on `date` and `time` input\n    if (!isDateOrTime(element)) {\n        const unprevented = instance.dispatchUIEvent(element, 'beforeinput', {\n            inputType,\n            data\n        });\n        if (!unprevented) {\n            return;\n        }\n    }\n    if ('startContainer' in inputRange) {\n        editContenteditable(instance, element, inputRange, data, inputType);\n    } else {\n        editInputElement(instance, element, inputRange, data, inputType);\n    }\n}\nfunction editContenteditable(instance, element, inputRange, data, inputType) {\n    let del = false;\n    if (!inputRange.collapsed) {\n        del = true;\n        inputRange.deleteContents();\n    } else if ([\n        'deleteContentBackward',\n        'deleteContentForward'\n    ].includes(inputType)) {\n        const nextPosition = cursor.getNextCursorPosition(inputRange.startContainer, inputRange.startOffset, inputType === 'deleteContentBackward' ? -1 : 1, inputType);\n        if (nextPosition) {\n            del = true;\n            const delRange = inputRange.cloneRange();\n            if (delRange.comparePoint(nextPosition.node, nextPosition.offset) < 0) {\n                delRange.setStart(nextPosition.node, nextPosition.offset);\n            } else {\n                delRange.setEnd(nextPosition.node, nextPosition.offset);\n            }\n            delRange.deleteContents();\n        }\n    }\n    if (data) {\n        if (inputRange.endContainer.nodeType === 3) {\n            const offset = inputRange.endOffset;\n            inputRange.endContainer.insertData(offset, data);\n            inputRange.setStart(inputRange.endContainer, offset + data.length);\n            inputRange.setEnd(inputRange.endContainer, offset + data.length);\n        } else {\n            const text = element.ownerDocument.createTextNode(data);\n            inputRange.insertNode(text);\n            inputRange.setStart(text, data.length);\n            inputRange.setEnd(text, data.length);\n        }\n    }\n    if (del || data) {\n        instance.dispatchUIEvent(element, 'input', {\n            inputType\n        });\n    }\n}\nfunction editInputElement(instance, element, inputRange, data, inputType) {\n    let dataToInsert = data;\n    if (maxLength.supportsMaxLength(element)) {\n        const maxLength$1 = maxLength.getMaxLength(element);\n        if (maxLength$1 !== undefined && data.length > 0) {\n            const spaceUntilMaxLength = maxLength$1 - element.value.length;\n            if (spaceUntilMaxLength > 0) {\n                dataToInsert = data.substring(0, spaceUntilMaxLength);\n            } else {\n                return;\n            }\n        }\n    }\n    const { newValue, newOffset, oldValue } = calculateNewValue(dataToInsert, element, inputRange, inputType);\n    if (newValue === oldValue && newOffset === inputRange.startOffset && newOffset === inputRange.endOffset) {\n        return;\n    }\n    if (isElementType.isElementType(element, 'input', {\n        type: 'number'\n    }) && !isValidNumberInput(newValue)) {\n        return;\n    }\n    UI.setUIValue(element, newValue);\n    setSelection.setSelection({\n        focusNode: element,\n        anchorOffset: newOffset,\n        focusOffset: newOffset\n    });\n    if (isDateOrTime(element)) {\n        if (timeValue.isValidDateOrTimeValue(element, newValue)) {\n            commitInput(instance, element, newOffset, {});\n            instance.dispatchUIEvent(element, 'change');\n            UI.clearInitialValue(element);\n        }\n    } else {\n        commitInput(instance, element, newOffset, {\n            data,\n            inputType\n        });\n    }\n}\nfunction calculateNewValue(inputData, node, { startOffset, endOffset }, inputType) {\n    const value = UI.getUIValue(node);\n    const prologEnd = Math.max(0, startOffset === endOffset && inputType === 'deleteContentBackward' ? startOffset - 1 : startOffset);\n    const prolog = value.substring(0, prologEnd);\n    const epilogStart = Math.min(value.length, startOffset === endOffset && inputType === 'deleteContentForward' ? startOffset + 1 : endOffset);\n    const epilog = value.substring(epilogStart, value.length);\n    let newValue = `${prolog}${inputData}${epilog}`;\n    let newOffset = prologEnd + inputData.length;\n    if (isElementType.isElementType(node, 'input', {\n        type: 'time'\n    })) {\n        const builtValue = timeValue.buildTimeValue(newValue);\n        if (builtValue !== '' && timeValue.isValidDateOrTimeValue(node, builtValue)) {\n            newValue = builtValue;\n            newOffset = builtValue.length;\n        }\n    }\n    return {\n        oldValue: value,\n        newValue,\n        newOffset\n    };\n}\nfunction commitInput(instance, element, newOffset, inputInit) {\n    instance.dispatchUIEvent(element, 'input', inputInit);\n    trackValue.commitValueAfterInput(element, newOffset);\n}\nfunction isValidNumberInput(value) {\n    var _value_match, _value_match1;\n    // the browser allows some invalid input but not others\n    // it allows up to two '-' at any place before any 'e' or one directly following 'e'\n    // it allows one '.' at any place before e\n    const valueParts = value.split('e', 2);\n    return !(/[^\\d.\\-e]/.test(value) || Number((_value_match = value.match(/-/g)) === null || _value_match === undefined ? undefined : _value_match.length) > 2 || Number((_value_match1 = value.match(/\\./g)) === null || _value_match1 === undefined ? undefined : _value_match1.length) > 1 || valueParts[1] && !/^-?\\d*$/.test(valueParts[1]));\n}\n\nexports.input = input;\n"],"version":3}