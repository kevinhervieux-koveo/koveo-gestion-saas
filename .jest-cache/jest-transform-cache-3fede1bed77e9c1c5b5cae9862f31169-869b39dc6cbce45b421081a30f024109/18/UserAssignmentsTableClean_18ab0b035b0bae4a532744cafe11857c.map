{"file":"/home/runner/workspace/client/src/components/UserAssignmentsTableClean.tsx","mappings":"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","names":[],"sources":["/home/runner/workspace/client/src/components/UserAssignmentsTableClean.tsx"],"sourcesContent":["import React from 'react';\nimport type { UserWithAssignments } from '@shared/schema';\n\ninterface UserAssignmentsTableProps {\n  users: UserWithAssignments[];\n  isLoading: boolean;\n  onEditUser?: (user: UserWithAssignments) => void;\n  onEditOrganizations?: (user: UserWithAssignments) => void;\n  onEditResidences?: (user: UserWithAssignments) => void;\n  onDeleteUser?: (user: UserWithAssignments) => void;\n  canEditOrganizations?: boolean;\n  canEditResidences?: boolean;\n  canDeleteUsers?: boolean;\n}\n\nexport function UserAssignmentsTable({ \n  users, \n  isLoading, \n  onEditUser,\n  onEditOrganizations,\n  onEditResidences,\n  onDeleteUser,\n  canEditOrganizations = false,\n  canEditResidences = false,\n  canDeleteUsers = false\n}: UserAssignmentsTableProps) {\n\n  if (isLoading) {\n    return (\n      <div className=\"flex justify-center items-center py-8\" data-testid=\"loading-users\">\n        <div className=\"text-gray-500\">Loading users...</div>\n      </div>\n    );\n  }\n\n  if (!users || users.length === 0) {\n    return (\n      <div className=\"text-center py-8 text-gray-500\" data-testid=\"no-users\">\n        No users found\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"overflow-x-auto\">\n      <table className=\"w-full border-collapse border border-gray-300\" data-testid=\"users-table\">\n        <thead>\n          <tr className=\"bg-gray-50\">\n            <th className=\"border border-gray-300 px-4 py-2 text-left\" data-testid=\"header-name\">\n              Name\n            </th>\n            <th className=\"border border-gray-300 px-4 py-2 text-left\" data-testid=\"header-email\">\n              Email\n            </th>\n            <th className=\"border border-gray-300 px-4 py-2 text-left\" data-testid=\"header-role\">\n              Role\n            </th>\n            <th className=\"border border-gray-300 px-4 py-2 text-left\" data-testid=\"header-status\">\n              Status\n            </th>\n            <th className=\"border border-gray-300 px-4 py-2 text-left\" data-testid=\"header-organizations\">\n              Organizations\n            </th>\n            <th className=\"border border-gray-300 px-4 py-2 text-left\" data-testid=\"header-buildings\">\n              Buildings\n            </th>\n            <th className=\"border border-gray-300 px-4 py-2 text-left\" data-testid=\"header-residences\">\n              Residences\n            </th>\n            <th className=\"border border-gray-300 px-4 py-2 text-left\" data-testid=\"header-actions\">\n              Actions\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {users.map((user) => (\n            <tr key={user.id} className=\"hover:bg-gray-50\" data-testid={`user-row-${user.id}`}>\n              {/* Name */}\n              <td className=\"border border-gray-300 px-4 py-2\" data-testid={`name-${user.id}`}>\n                {user.firstName} {user.lastName}\n              </td>\n              \n              {/* Email */}\n              <td className=\"border border-gray-300 px-4 py-2\" data-testid={`email-${user.id}`}>\n                {user.email}\n              </td>\n              \n              {/* Role */}\n              <td className=\"border border-gray-300 px-4 py-2\" data-testid={`role-${user.id}`}>\n                <span className={`px-2 py-1 rounded text-xs ${\n                  user.role === 'admin' \n                    ? 'bg-red-100 text-red-800'\n                    : user.role === 'manager'\n                    ? 'bg-blue-100 text-blue-800'\n                    : 'bg-green-100 text-green-800'\n                }`}>\n                  {user.role}\n                </span>\n              </td>\n              \n              {/* Status */}\n              <td className=\"border border-gray-300 px-4 py-2\" data-testid={`status-${user.id}`}>\n                <span className={`px-2 py-1 rounded text-xs ${\n                  user.isActive\n                    ? 'bg-green-100 text-green-800'\n                    : 'bg-gray-100 text-gray-800'\n                }`}>\n                  {user.isActive ? 'Active' : 'Inactive'}\n                </span>\n              </td>\n              \n              {/* Organizations */}\n              <td className=\"border border-gray-300 px-4 py-2\" data-testid={`organizations-${user.id}`}>\n                <div className=\"space-y-1\">\n                  {Array.isArray(user.organizations) && user.organizations.length > 0 ? (\n                    user.organizations.map((org, idx) => (\n                      <div\n                        key={org.id || idx}\n                        className=\"text-xs bg-blue-50 px-2 py-1 rounded\"\n                        data-testid={`org-${user.id}-${idx}`}\n                      >\n                        {org.name}\n                      </div>\n                    ))\n                  ) : (\n                    <div className=\"text-gray-400 text-xs\" data-testid={`no-orgs-${user.id}`}>\n                      No organizations\n                    </div>\n                  )}\n                </div>\n              </td>\n              \n              {/* Buildings */}\n              <td className=\"border border-gray-300 px-4 py-2\" data-testid={`buildings-${user.id}`}>\n                <div className=\"space-y-1\">\n                  {Array.isArray(user.buildings) && user.buildings.length > 0 ? (\n                    user.buildings.slice(0, 3).map((building, idx) => (\n                      <div\n                        key={building.id || idx}\n                        className=\"text-xs bg-purple-50 px-2 py-1 rounded\"\n                        data-testid={`building-${user.id}-${idx}`}\n                      >\n                        {building.name}\n                      </div>\n                    ))\n                  ) : (\n                    <div className=\"text-gray-400 text-xs\" data-testid={`no-buildings-${user.id}`}>\n                      No buildings\n                    </div>\n                  )}\n                  {Array.isArray(user.buildings) && user.buildings.length > 3 && (\n                    <div className=\"text-xs text-gray-500\" data-testid={`more-buildings-${user.id}`}>\n                      +{user.buildings.length - 3} more\n                    </div>\n                  )}\n                </div>\n              </td>\n              \n              {/* Residences */}\n              <td className=\"border border-gray-300 px-4 py-2\" data-testid={`residences-${user.id}`}>\n                <div className=\"space-y-1\">\n                  {Array.isArray(user.residences) && user.residences.length > 0 ? (\n                    user.residences.slice(0, 3).map((residence, idx) => (\n                      <div\n                        key={residence.id || idx}\n                        className=\"text-xs bg-yellow-50 px-2 py-1 rounded\"\n                        data-testid={`residence-${user.id}-${idx}`}\n                      >\n                        Unit {residence.unitNumber}\n                      </div>\n                    ))\n                  ) : (\n                    <div className=\"text-gray-400 text-xs\" data-testid={`no-residences-${user.id}`}>\n                      No residences\n                    </div>\n                  )}\n                  {Array.isArray(user.residences) && user.residences.length > 3 && (\n                    <div className=\"text-xs text-gray-500\" data-testid={`more-residences-${user.id}`}>\n                      +{user.residences.length - 3} more\n                    </div>\n                  )}\n                </div>\n              </td>\n              \n              {/* Actions */}\n              <td className=\"border border-gray-300 px-4 py-2\" data-testid={`actions-${user.id}`}>\n                <div className=\"flex gap-2 flex-wrap\">\n                  {onEditUser && (\n                    <button\n                      onClick={() => onEditUser(user)}\n                      className=\"px-2 py-1 text-xs bg-blue-50 text-blue-700 rounded hover:bg-blue-100\"\n                      data-testid={`edit-user-${user.id}`}\n                    >\n                      Edit User\n                    </button>\n                  )}\n                  \n                  {canDeleteUsers && onDeleteUser && (\n                    <button\n                      onClick={() => onDeleteUser(user)}\n                      className=\"px-2 py-1 text-xs bg-red-50 text-red-700 rounded hover:bg-red-100\"\n                      data-testid={`delete-user-${user.id}`}\n                    >\n                      Delete\n                    </button>\n                  )}\n                </div>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n}"],"version":3}