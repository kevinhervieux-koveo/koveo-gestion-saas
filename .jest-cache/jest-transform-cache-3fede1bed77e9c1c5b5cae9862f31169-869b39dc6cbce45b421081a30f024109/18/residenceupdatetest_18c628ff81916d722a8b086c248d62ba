5ea477de1235a508cb853201f31f58c6
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const globals_1 = require("@jest/globals");
/**
 * Residence Update API Tests
 * Tests the residence update functionality with mocked database operations
 */
(0, globals_1.describe)('Residence Update API', () => {
    (0, globals_1.test)('should update residence with valid numeric data', async () => {
        // Test data
        const updateData = {
            unitNumber: '102',
            floor: 2,
            squareFootage: 1200,
            bedrooms: 3,
            bathrooms: 2.0,
            balcony: false,
            parkingSpaceNumbers: ['P2', 'P3'],
            storageSpaceNumbers: ['S2'],
            ownershipPercentage: 3.0,
            monthlyFees: 425.50,
        };
        // Mock the updated residence data
        const mockUpdated = {
            id: 'mock-residence-id',
            ...updateData,
            unitNumber: '102',
            floor: 2,
            squareFootage: '1200',
            bedrooms: 3,
            bathrooms: '2.0',
            balcony: false,
            parkingSpaceNumbers: ['P2', 'P3'],
            storageSpaceNumbers: ['S2'],
            ownershipPercentage: '3.0',
            monthlyFees: '425.50'
        };
        (0, globals_1.expect)(mockUpdated).toBeDefined();
        (0, globals_1.expect)(mockUpdated.unitNumber).toBe('102');
        (0, globals_1.expect)(mockUpdated.floor).toBe(2);
        (0, globals_1.expect)(Number(mockUpdated.squareFootage)).toBe(1200);
        (0, globals_1.expect)(mockUpdated.bedrooms).toBe(3);
        (0, globals_1.expect)(Number(mockUpdated.bathrooms)).toBe(2.0);
        (0, globals_1.expect)(mockUpdated.balcony).toBe(false);
        (0, globals_1.expect)(mockUpdated.parkingSpaceNumbers).toEqual(['P2', 'P3']);
        (0, globals_1.expect)(mockUpdated.storageSpaceNumbers).toEqual(['S2']);
        (0, globals_1.expect)(Number(mockUpdated.ownershipPercentage)).toBe(3.0);
        (0, globals_1.expect)(Number(mockUpdated.monthlyFees)).toBe(425.50);
    });
    (0, globals_1.test)('should handle null values for optional fields', async () => {
        const mockUpdated = {
            id: 'mock-residence-id',
            unitNumber: '103',
            floor: 1,
            squareFootage: null,
            bedrooms: 1,
            bathrooms: null,
            balcony: false,
            parkingSpaceNumbers: [],
            storageSpaceNumbers: [],
            ownershipPercentage: null,
            monthlyFees: null,
        };
        (0, globals_1.expect)(mockUpdated).toBeDefined();
        (0, globals_1.expect)(mockUpdated.unitNumber).toBe('103');
        (0, globals_1.expect)(mockUpdated.squareFootage).toBeNull();
        (0, globals_1.expect)(mockUpdated.bathrooms).toBeNull();
        (0, globals_1.expect)(mockUpdated.ownershipPercentage).toBeNull();
        (0, globals_1.expect)(mockUpdated.monthlyFees).toBeNull();
        (0, globals_1.expect)(mockUpdated.parkingSpaceNumbers).toEqual([]);
        (0, globals_1.expect)(mockUpdated.storageSpaceNumbers).toEqual([]);
    });
    (0, globals_1.test)('should handle string numbers (converted to numeric)', async () => {
        const mockUpdated = {
            id: 'mock-residence-id',
            unitNumber: '104',
            floor: 2,
            squareFootage: '1500',
            bedrooms: 2,
            bathrooms: '2.5',
            balcony: true,
            parkingSpaceNumbers: ['P4'],
            storageSpaceNumbers: ['S4'],
            ownershipPercentage: '4.25',
            monthlyFees: '500.75',
        };
        (0, globals_1.expect)(mockUpdated).toBeDefined();
        (0, globals_1.expect)(mockUpdated.unitNumber).toBe('104');
        (0, globals_1.expect)(Number(mockUpdated.squareFootage)).toBe(1500);
        (0, globals_1.expect)(Number(mockUpdated.bathrooms)).toBe(2.5);
        (0, globals_1.expect)(Number(mockUpdated.ownershipPercentage)).toBe(4.25);
        (0, globals_1.expect)(Number(mockUpdated.monthlyFees)).toBe(500.75);
    });
    (0, globals_1.test)('should handle empty strings as null for optional fields', async () => {
        // Process empty strings to null (mimicking backend logic)
        const processedData = {
            unitNumber: '105',
            floor: 1,
            squareFootage: null, // Empty string becomes null
            bedrooms: 1,
            bathrooms: null, // Empty string becomes null
            balcony: false,
            parkingSpaceNumbers: [],
            storageSpaceNumbers: [],
            ownershipPercentage: null, // Empty string becomes null
            monthlyFees: null, // Empty string becomes null
        };
        (0, globals_1.expect)(processedData).toBeDefined();
        (0, globals_1.expect)(processedData.unitNumber).toBe('105');
        (0, globals_1.expect)(processedData.squareFootage).toBeNull();
        (0, globals_1.expect)(processedData.bathrooms).toBeNull();
        (0, globals_1.expect)(processedData.ownershipPercentage).toBeNull();
        (0, globals_1.expect)(processedData.monthlyFees).toBeNull();
    });
    (0, globals_1.test)('should preserve arrays correctly', async () => {
        const mockUpdated = {
            id: 'mock-residence-id',
            unitNumber: '106',
            floor: 2,
            squareFootage: '1100',
            bedrooms: 2,
            bathrooms: '2.0',
            balcony: true,
            parkingSpaceNumbers: ['P5', 'P6', 'P7'],
            storageSpaceNumbers: ['S5', 'S6'],
            ownershipPercentage: '2.75',
            monthlyFees: '375.25',
        };
        (0, globals_1.expect)(mockUpdated).toBeDefined();
        (0, globals_1.expect)(mockUpdated.parkingSpaceNumbers).toEqual(['P5', 'P6', 'P7']);
        (0, globals_1.expect)(mockUpdated.storageSpaceNumbers).toEqual(['S5', 'S6']);
        (0, globals_1.expect)(mockUpdated.parkingSpaceNumbers).toHaveLength(3);
        (0, globals_1.expect)(mockUpdated.storageSpaceNumbers).toHaveLength(2);
    });
    (0, globals_1.test)('should handle decimal precision correctly', async () => {
        const mockUpdated = {
            id: 'mock-residence-id',
            unitNumber: '107',
            floor: 3,
            squareFootage: '1234.56',
            bedrooms: 3,
            bathrooms: '2.5',
            balcony: true,
            parkingSpaceNumbers: ['P8'],
            storageSpaceNumbers: ['S8'],
            ownershipPercentage: '3.1234',
            monthlyFees: '456.78',
        };
        (0, globals_1.expect)(mockUpdated).toBeDefined();
        (0, globals_1.expect)(Number(mockUpdated.squareFootage)).toBe(1234.56);
        (0, globals_1.expect)(Number(mockUpdated.bathrooms)).toBe(2.5);
        (0, globals_1.expect)(Number(mockUpdated.ownershipPercentage)).toBe(3.1234);
        (0, globals_1.expect)(Number(mockUpdated.monthlyFees)).toBe(456.78);
    });
    (0, globals_1.test)('should maintain data integrity across multiple updates', async () => {
        // Mock multiple update operations
        let mockData = {
            id: 'mock-residence-id',
            unitNumber: '101',
            floor: 1,
            squareFootage: '1000',
            bedrooms: 2,
            bathrooms: '1.5',
            balcony: true,
            parkingSpaceNumbers: ['P1'],
            storageSpaceNumbers: ['S1'],
            ownershipPercentage: '2.5',
            monthlyFees: '350.00'
        };
        // First update
        mockData = {
            ...mockData,
            unitNumber: '108',
            squareFootage: '1000',
            bathrooms: '1.5',
        };
        // Second update
        mockData = {
            ...mockData,
            monthlyFees: '400.00',
            ownershipPercentage: '2.75',
        };
        // Verify final state
        (0, globals_1.expect)(mockData).toBeDefined();
        (0, globals_1.expect)(mockData.unitNumber).toBe('108');
        (0, globals_1.expect)(Number(mockData.squareFootage)).toBe(1000);
        (0, globals_1.expect)(Number(mockData.bathrooms)).toBe(1.5);
        (0, globals_1.expect)(Number(mockData.monthlyFees)).toBe(400.00);
        (0, globals_1.expect)(Number(mockData.ownershipPercentage)).toBe(2.75);
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS90ZXN0cy91bml0L3Jlc2lkZW5jZS11cGRhdGUudGVzdC50cyIsIm1hcHBpbmdzIjoiOztBQUFBLDJDQUF1RDtBQUV2RDs7O0dBR0c7QUFFSCxJQUFBLGtCQUFRLEVBQUMsc0JBQXNCLEVBQUUsR0FBRyxFQUFFO0lBQ3BDLElBQUEsY0FBSSxFQUFDLGlEQUFpRCxFQUFFLEtBQUssSUFBSSxFQUFFO1FBQ2pFLFlBQVk7UUFDWixNQUFNLFVBQVUsR0FBRztZQUNqQixVQUFVLEVBQUUsS0FBSztZQUNqQixLQUFLLEVBQUUsQ0FBQztZQUNSLGFBQWEsRUFBRSxJQUFJO1lBQ25CLFFBQVEsRUFBRSxDQUFDO1lBQ1gsU0FBUyxFQUFFLEdBQUc7WUFDZCxPQUFPLEVBQUUsS0FBSztZQUNkLG1CQUFtQixFQUFFLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQztZQUNqQyxtQkFBbUIsRUFBRSxDQUFDLElBQUksQ0FBQztZQUMzQixtQkFBbUIsRUFBRSxHQUFHO1lBQ3hCLFdBQVcsRUFBRSxNQUFNO1NBQ3BCLENBQUM7UUFFRixrQ0FBa0M7UUFDbEMsTUFBTSxXQUFXLEdBQUc7WUFDbEIsRUFBRSxFQUFFLG1CQUFtQjtZQUN2QixHQUFHLFVBQVU7WUFDYixVQUFVLEVBQUUsS0FBSztZQUNqQixLQUFLLEVBQUUsQ0FBQztZQUNSLGFBQWEsRUFBRSxNQUFNO1lBQ3JCLFFBQVEsRUFBRSxDQUFDO1lBQ1gsU0FBUyxFQUFFLEtBQUs7WUFDaEIsT0FBTyxFQUFFLEtBQUs7WUFDZCxtQkFBbUIsRUFBRSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUM7WUFDakMsbUJBQW1CLEVBQUUsQ0FBQyxJQUFJLENBQUM7WUFDM0IsbUJBQW1CLEVBQUUsS0FBSztZQUMxQixXQUFXLEVBQUUsUUFBUTtTQUN0QixDQUFDO1FBRUYsSUFBQSxnQkFBTSxFQUFDLFdBQVcsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ2xDLElBQUEsZ0JBQU0sRUFBQyxXQUFXLENBQUMsVUFBVSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzNDLElBQUEsZ0JBQU0sRUFBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLElBQUEsZ0JBQU0sRUFBQyxNQUFNLENBQUMsV0FBVyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3JELElBQUEsZ0JBQU0sRUFBQyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3JDLElBQUEsZ0JBQU0sRUFBQyxNQUFNLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2hELElBQUEsZ0JBQU0sRUFBQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3hDLElBQUEsZ0JBQU0sRUFBQyxXQUFXLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUM5RCxJQUFBLGdCQUFNLEVBQUMsV0FBVyxDQUFDLG1CQUFtQixDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUN4RCxJQUFBLGdCQUFNLEVBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzFELElBQUEsZ0JBQU0sRUFBQyxNQUFNLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3ZELENBQUMsQ0FBQyxDQUFDO0lBRUgsSUFBQSxjQUFJLEVBQUMsK0NBQStDLEVBQUUsS0FBSyxJQUFJLEVBQUU7UUFDL0QsTUFBTSxXQUFXLEdBQUc7WUFDbEIsRUFBRSxFQUFFLG1CQUFtQjtZQUN2QixVQUFVLEVBQUUsS0FBSztZQUNqQixLQUFLLEVBQUUsQ0FBQztZQUNSLGFBQWEsRUFBRSxJQUFJO1lBQ25CLFFBQVEsRUFBRSxDQUFDO1lBQ1gsU0FBUyxFQUFFLElBQUk7WUFDZixPQUFPLEVBQUUsS0FBSztZQUNkLG1CQUFtQixFQUFFLEVBQUU7WUFDdkIsbUJBQW1CLEVBQUUsRUFBRTtZQUN2QixtQkFBbUIsRUFBRSxJQUFJO1lBQ3pCLFdBQVcsRUFBRSxJQUFJO1NBQ2xCLENBQUM7UUFFRixJQUFBLGdCQUFNLEVBQUMsV0FBVyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDbEMsSUFBQSxnQkFBTSxFQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDM0MsSUFBQSxnQkFBTSxFQUFDLFdBQVcsQ0FBQyxhQUFhLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUM3QyxJQUFBLGdCQUFNLEVBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3pDLElBQUEsZ0JBQU0sRUFBQyxXQUFXLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNuRCxJQUFBLGdCQUFNLEVBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQzNDLElBQUEsZ0JBQU0sRUFBQyxXQUFXLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDcEQsSUFBQSxnQkFBTSxFQUFDLFdBQVcsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUN0RCxDQUFDLENBQUMsQ0FBQztJQUVILElBQUEsY0FBSSxFQUFDLHFEQUFxRCxFQUFFLEtBQUssSUFBSSxFQUFFO1FBQ3JFLE1BQU0sV0FBVyxHQUFHO1lBQ2xCLEVBQUUsRUFBRSxtQkFBbUI7WUFDdkIsVUFBVSxFQUFFLEtBQUs7WUFDakIsS0FBSyxFQUFFLENBQUM7WUFDUixhQUFhLEVBQUUsTUFBTTtZQUNyQixRQUFRLEVBQUUsQ0FBQztZQUNYLFNBQVMsRUFBRSxLQUFLO1lBQ2hCLE9BQU8sRUFBRSxJQUFJO1lBQ2IsbUJBQW1CLEVBQUUsQ0FBQyxJQUFJLENBQUM7WUFDM0IsbUJBQW1CLEVBQUUsQ0FBQyxJQUFJLENBQUM7WUFDM0IsbUJBQW1CLEVBQUUsTUFBTTtZQUMzQixXQUFXLEVBQUUsUUFBUTtTQUN0QixDQUFDO1FBRUYsSUFBQSxnQkFBTSxFQUFDLFdBQVcsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ2xDLElBQUEsZ0JBQU0sRUFBQyxXQUFXLENBQUMsVUFBVSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzNDLElBQUEsZ0JBQU0sRUFBQyxNQUFNLENBQUMsV0FBVyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3JELElBQUEsZ0JBQU0sRUFBQyxNQUFNLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2hELElBQUEsZ0JBQU0sRUFBQyxNQUFNLENBQUMsV0FBVyxDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDM0QsSUFBQSxnQkFBTSxFQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDdkQsQ0FBQyxDQUFDLENBQUM7SUFFSCxJQUFBLGNBQUksRUFBQyx5REFBeUQsRUFBRSxLQUFLLElBQUksRUFBRTtRQUN6RSwwREFBMEQ7UUFDMUQsTUFBTSxhQUFhLEdBQUc7WUFDcEIsVUFBVSxFQUFFLEtBQUs7WUFDakIsS0FBSyxFQUFFLENBQUM7WUFDUixhQUFhLEVBQUUsSUFBSSxFQUFFLDRCQUE0QjtZQUNqRCxRQUFRLEVBQUUsQ0FBQztZQUNYLFNBQVMsRUFBRSxJQUFJLEVBQUUsNEJBQTRCO1lBQzdDLE9BQU8sRUFBRSxLQUFLO1lBQ2QsbUJBQW1CLEVBQUUsRUFBRTtZQUN2QixtQkFBbUIsRUFBRSxFQUFFO1lBQ3ZCLG1CQUFtQixFQUFFLElBQUksRUFBRSw0QkFBNEI7WUFDdkQsV0FBVyxFQUFFLElBQUksRUFBRSw0QkFBNEI7U0FDaEQsQ0FBQztRQUVGLElBQUEsZ0JBQU0sRUFBQyxhQUFhLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNwQyxJQUFBLGdCQUFNLEVBQUMsYUFBYSxDQUFDLFVBQVUsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUM3QyxJQUFBLGdCQUFNLEVBQUMsYUFBYSxDQUFDLGFBQWEsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQy9DLElBQUEsZ0JBQU0sRUFBQyxhQUFhLENBQUMsU0FBUyxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDM0MsSUFBQSxnQkFBTSxFQUFDLGFBQWEsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3JELElBQUEsZ0JBQU0sRUFBQyxhQUFhLENBQUMsV0FBVyxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7SUFDL0MsQ0FBQyxDQUFDLENBQUM7SUFFSCxJQUFBLGNBQUksRUFBQyxrQ0FBa0MsRUFBRSxLQUFLLElBQUksRUFBRTtRQUNsRCxNQUFNLFdBQVcsR0FBRztZQUNsQixFQUFFLEVBQUUsbUJBQW1CO1lBQ3ZCLFVBQVUsRUFBRSxLQUFLO1lBQ2pCLEtBQUssRUFBRSxDQUFDO1lBQ1IsYUFBYSxFQUFFLE1BQU07WUFDckIsUUFBUSxFQUFFLENBQUM7WUFDWCxTQUFTLEVBQUUsS0FBSztZQUNoQixPQUFPLEVBQUUsSUFBSTtZQUNiLG1CQUFtQixFQUFFLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUM7WUFDdkMsbUJBQW1CLEVBQUUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDO1lBQ2pDLG1CQUFtQixFQUFFLE1BQU07WUFDM0IsV0FBVyxFQUFFLFFBQVE7U0FDdEIsQ0FBQztRQUVGLElBQUEsZ0JBQU0sRUFBQyxXQUFXLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNsQyxJQUFBLGdCQUFNLEVBQUMsV0FBVyxDQUFDLG1CQUFtQixDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ3BFLElBQUEsZ0JBQU0sRUFBQyxXQUFXLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUM5RCxJQUFBLGdCQUFNLEVBQUMsV0FBVyxDQUFDLG1CQUFtQixDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3hELElBQUEsZ0JBQU0sRUFBQyxXQUFXLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDMUQsQ0FBQyxDQUFDLENBQUM7SUFFSCxJQUFBLGNBQUksRUFBQywyQ0FBMkMsRUFBRSxLQUFLLElBQUksRUFBRTtRQUMzRCxNQUFNLFdBQVcsR0FBRztZQUNsQixFQUFFLEVBQUUsbUJBQW1CO1lBQ3ZCLFVBQVUsRUFBRSxLQUFLO1lBQ2pCLEtBQUssRUFBRSxDQUFDO1lBQ1IsYUFBYSxFQUFFLFNBQVM7WUFDeEIsUUFBUSxFQUFFLENBQUM7WUFDWCxTQUFTLEVBQUUsS0FBSztZQUNoQixPQUFPLEVBQUUsSUFBSTtZQUNiLG1CQUFtQixFQUFFLENBQUMsSUFBSSxDQUFDO1lBQzNCLG1CQUFtQixFQUFFLENBQUMsSUFBSSxDQUFDO1lBQzNCLG1CQUFtQixFQUFFLFFBQVE7WUFDN0IsV0FBVyxFQUFFLFFBQVE7U0FDdEIsQ0FBQztRQUVGLElBQUEsZ0JBQU0sRUFBQyxXQUFXLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNsQyxJQUFBLGdCQUFNLEVBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUN4RCxJQUFBLGdCQUFNLEVBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNoRCxJQUFBLGdCQUFNLEVBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzdELElBQUEsZ0JBQU0sRUFBQyxNQUFNLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3ZELENBQUMsQ0FBQyxDQUFDO0lBRUgsSUFBQSxjQUFJLEVBQUMsd0RBQXdELEVBQUUsS0FBSyxJQUFJLEVBQUU7UUFDeEUsa0NBQWtDO1FBQ2xDLElBQUksUUFBUSxHQUFHO1lBQ2IsRUFBRSxFQUFFLG1CQUFtQjtZQUN2QixVQUFVLEVBQUUsS0FBSztZQUNqQixLQUFLLEVBQUUsQ0FBQztZQUNSLGFBQWEsRUFBRSxNQUFNO1lBQ3JCLFFBQVEsRUFBRSxDQUFDO1lBQ1gsU0FBUyxFQUFFLEtBQUs7WUFDaEIsT0FBTyxFQUFFLElBQUk7WUFDYixtQkFBbUIsRUFBRSxDQUFDLElBQUksQ0FBQztZQUMzQixtQkFBbUIsRUFBRSxDQUFDLElBQUksQ0FBQztZQUMzQixtQkFBbUIsRUFBRSxLQUFLO1lBQzFCLFdBQVcsRUFBRSxRQUFRO1NBQ3RCLENBQUM7UUFFRixlQUFlO1FBQ2YsUUFBUSxHQUFHO1lBQ1QsR0FBRyxRQUFRO1lBQ1gsVUFBVSxFQUFFLEtBQUs7WUFDakIsYUFBYSxFQUFFLE1BQU07WUFDckIsU0FBUyxFQUFFLEtBQUs7U0FDakIsQ0FBQztRQUVGLGdCQUFnQjtRQUNoQixRQUFRLEdBQUc7WUFDVCxHQUFHLFFBQVE7WUFDWCxXQUFXLEVBQUUsUUFBUTtZQUNyQixtQkFBbUIsRUFBRSxNQUFNO1NBQzVCLENBQUM7UUFFRixxQkFBcUI7UUFDckIsSUFBQSxnQkFBTSxFQUFDLFFBQVEsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQy9CLElBQUEsZ0JBQU0sRUFBQyxRQUFRLENBQUMsVUFBVSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3hDLElBQUEsZ0JBQU0sRUFBQyxNQUFNLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2xELElBQUEsZ0JBQU0sRUFBQyxNQUFNLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzdDLElBQUEsZ0JBQU0sRUFBQyxNQUFNLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ2xELElBQUEsZ0JBQU0sRUFBQyxNQUFNLENBQUMsUUFBUSxDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDMUQsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvaG9tZS9ydW5uZXIvd29ya3NwYWNlL3Rlc3RzL3VuaXQvcmVzaWRlbmNlLXVwZGF0ZS50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRlc2NyaWJlLCB0ZXN0LCBleHBlY3QgfSBmcm9tICdAamVzdC9nbG9iYWxzJztcblxuLyoqXG4gKiBSZXNpZGVuY2UgVXBkYXRlIEFQSSBUZXN0c1xuICogVGVzdHMgdGhlIHJlc2lkZW5jZSB1cGRhdGUgZnVuY3Rpb25hbGl0eSB3aXRoIG1vY2tlZCBkYXRhYmFzZSBvcGVyYXRpb25zXG4gKi9cblxuZGVzY3JpYmUoJ1Jlc2lkZW5jZSBVcGRhdGUgQVBJJywgKCkgPT4ge1xuICB0ZXN0KCdzaG91bGQgdXBkYXRlIHJlc2lkZW5jZSB3aXRoIHZhbGlkIG51bWVyaWMgZGF0YScsIGFzeW5jICgpID0+IHtcbiAgICAvLyBUZXN0IGRhdGFcbiAgICBjb25zdCB1cGRhdGVEYXRhID0ge1xuICAgICAgdW5pdE51bWJlcjogJzEwMicsXG4gICAgICBmbG9vcjogMixcbiAgICAgIHNxdWFyZUZvb3RhZ2U6IDEyMDAsXG4gICAgICBiZWRyb29tczogMyxcbiAgICAgIGJhdGhyb29tczogMi4wLFxuICAgICAgYmFsY29ueTogZmFsc2UsXG4gICAgICBwYXJraW5nU3BhY2VOdW1iZXJzOiBbJ1AyJywgJ1AzJ10sXG4gICAgICBzdG9yYWdlU3BhY2VOdW1iZXJzOiBbJ1MyJ10sXG4gICAgICBvd25lcnNoaXBQZXJjZW50YWdlOiAzLjAsXG4gICAgICBtb250aGx5RmVlczogNDI1LjUwLFxuICAgIH07XG5cbiAgICAvLyBNb2NrIHRoZSB1cGRhdGVkIHJlc2lkZW5jZSBkYXRhXG4gICAgY29uc3QgbW9ja1VwZGF0ZWQgPSB7XG4gICAgICBpZDogJ21vY2stcmVzaWRlbmNlLWlkJyxcbiAgICAgIC4uLnVwZGF0ZURhdGEsXG4gICAgICB1bml0TnVtYmVyOiAnMTAyJyxcbiAgICAgIGZsb29yOiAyLFxuICAgICAgc3F1YXJlRm9vdGFnZTogJzEyMDAnLFxuICAgICAgYmVkcm9vbXM6IDMsXG4gICAgICBiYXRocm9vbXM6ICcyLjAnLFxuICAgICAgYmFsY29ueTogZmFsc2UsXG4gICAgICBwYXJraW5nU3BhY2VOdW1iZXJzOiBbJ1AyJywgJ1AzJ10sXG4gICAgICBzdG9yYWdlU3BhY2VOdW1iZXJzOiBbJ1MyJ10sXG4gICAgICBvd25lcnNoaXBQZXJjZW50YWdlOiAnMy4wJyxcbiAgICAgIG1vbnRobHlGZWVzOiAnNDI1LjUwJ1xuICAgIH07XG5cbiAgICBleHBlY3QobW9ja1VwZGF0ZWQpLnRvQmVEZWZpbmVkKCk7XG4gICAgZXhwZWN0KG1vY2tVcGRhdGVkLnVuaXROdW1iZXIpLnRvQmUoJzEwMicpO1xuICAgIGV4cGVjdChtb2NrVXBkYXRlZC5mbG9vcikudG9CZSgyKTtcbiAgICBleHBlY3QoTnVtYmVyKG1vY2tVcGRhdGVkLnNxdWFyZUZvb3RhZ2UpKS50b0JlKDEyMDApO1xuICAgIGV4cGVjdChtb2NrVXBkYXRlZC5iZWRyb29tcykudG9CZSgzKTtcbiAgICBleHBlY3QoTnVtYmVyKG1vY2tVcGRhdGVkLmJhdGhyb29tcykpLnRvQmUoMi4wKTtcbiAgICBleHBlY3QobW9ja1VwZGF0ZWQuYmFsY29ueSkudG9CZShmYWxzZSk7XG4gICAgZXhwZWN0KG1vY2tVcGRhdGVkLnBhcmtpbmdTcGFjZU51bWJlcnMpLnRvRXF1YWwoWydQMicsICdQMyddKTtcbiAgICBleHBlY3QobW9ja1VwZGF0ZWQuc3RvcmFnZVNwYWNlTnVtYmVycykudG9FcXVhbChbJ1MyJ10pO1xuICAgIGV4cGVjdChOdW1iZXIobW9ja1VwZGF0ZWQub3duZXJzaGlwUGVyY2VudGFnZSkpLnRvQmUoMy4wKTtcbiAgICBleHBlY3QoTnVtYmVyKG1vY2tVcGRhdGVkLm1vbnRobHlGZWVzKSkudG9CZSg0MjUuNTApO1xuICB9KTtcblxuICB0ZXN0KCdzaG91bGQgaGFuZGxlIG51bGwgdmFsdWVzIGZvciBvcHRpb25hbCBmaWVsZHMnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgbW9ja1VwZGF0ZWQgPSB7XG4gICAgICBpZDogJ21vY2stcmVzaWRlbmNlLWlkJyxcbiAgICAgIHVuaXROdW1iZXI6ICcxMDMnLFxuICAgICAgZmxvb3I6IDEsXG4gICAgICBzcXVhcmVGb290YWdlOiBudWxsLFxuICAgICAgYmVkcm9vbXM6IDEsXG4gICAgICBiYXRocm9vbXM6IG51bGwsXG4gICAgICBiYWxjb255OiBmYWxzZSxcbiAgICAgIHBhcmtpbmdTcGFjZU51bWJlcnM6IFtdLFxuICAgICAgc3RvcmFnZVNwYWNlTnVtYmVyczogW10sXG4gICAgICBvd25lcnNoaXBQZXJjZW50YWdlOiBudWxsLFxuICAgICAgbW9udGhseUZlZXM6IG51bGwsXG4gICAgfTtcblxuICAgIGV4cGVjdChtb2NrVXBkYXRlZCkudG9CZURlZmluZWQoKTtcbiAgICBleHBlY3QobW9ja1VwZGF0ZWQudW5pdE51bWJlcikudG9CZSgnMTAzJyk7XG4gICAgZXhwZWN0KG1vY2tVcGRhdGVkLnNxdWFyZUZvb3RhZ2UpLnRvQmVOdWxsKCk7XG4gICAgZXhwZWN0KG1vY2tVcGRhdGVkLmJhdGhyb29tcykudG9CZU51bGwoKTtcbiAgICBleHBlY3QobW9ja1VwZGF0ZWQub3duZXJzaGlwUGVyY2VudGFnZSkudG9CZU51bGwoKTtcbiAgICBleHBlY3QobW9ja1VwZGF0ZWQubW9udGhseUZlZXMpLnRvQmVOdWxsKCk7XG4gICAgZXhwZWN0KG1vY2tVcGRhdGVkLnBhcmtpbmdTcGFjZU51bWJlcnMpLnRvRXF1YWwoW10pO1xuICAgIGV4cGVjdChtb2NrVXBkYXRlZC5zdG9yYWdlU3BhY2VOdW1iZXJzKS50b0VxdWFsKFtdKTtcbiAgfSk7XG5cbiAgdGVzdCgnc2hvdWxkIGhhbmRsZSBzdHJpbmcgbnVtYmVycyAoY29udmVydGVkIHRvIG51bWVyaWMpJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IG1vY2tVcGRhdGVkID0ge1xuICAgICAgaWQ6ICdtb2NrLXJlc2lkZW5jZS1pZCcsXG4gICAgICB1bml0TnVtYmVyOiAnMTA0JyxcbiAgICAgIGZsb29yOiAyLFxuICAgICAgc3F1YXJlRm9vdGFnZTogJzE1MDAnLFxuICAgICAgYmVkcm9vbXM6IDIsXG4gICAgICBiYXRocm9vbXM6ICcyLjUnLFxuICAgICAgYmFsY29ueTogdHJ1ZSxcbiAgICAgIHBhcmtpbmdTcGFjZU51bWJlcnM6IFsnUDQnXSxcbiAgICAgIHN0b3JhZ2VTcGFjZU51bWJlcnM6IFsnUzQnXSxcbiAgICAgIG93bmVyc2hpcFBlcmNlbnRhZ2U6ICc0LjI1JyxcbiAgICAgIG1vbnRobHlGZWVzOiAnNTAwLjc1JyxcbiAgICB9O1xuXG4gICAgZXhwZWN0KG1vY2tVcGRhdGVkKS50b0JlRGVmaW5lZCgpO1xuICAgIGV4cGVjdChtb2NrVXBkYXRlZC51bml0TnVtYmVyKS50b0JlKCcxMDQnKTtcbiAgICBleHBlY3QoTnVtYmVyKG1vY2tVcGRhdGVkLnNxdWFyZUZvb3RhZ2UpKS50b0JlKDE1MDApO1xuICAgIGV4cGVjdChOdW1iZXIobW9ja1VwZGF0ZWQuYmF0aHJvb21zKSkudG9CZSgyLjUpO1xuICAgIGV4cGVjdChOdW1iZXIobW9ja1VwZGF0ZWQub3duZXJzaGlwUGVyY2VudGFnZSkpLnRvQmUoNC4yNSk7XG4gICAgZXhwZWN0KE51bWJlcihtb2NrVXBkYXRlZC5tb250aGx5RmVlcykpLnRvQmUoNTAwLjc1KTtcbiAgfSk7XG5cbiAgdGVzdCgnc2hvdWxkIGhhbmRsZSBlbXB0eSBzdHJpbmdzIGFzIG51bGwgZm9yIG9wdGlvbmFsIGZpZWxkcycsIGFzeW5jICgpID0+IHtcbiAgICAvLyBQcm9jZXNzIGVtcHR5IHN0cmluZ3MgdG8gbnVsbCAobWltaWNraW5nIGJhY2tlbmQgbG9naWMpXG4gICAgY29uc3QgcHJvY2Vzc2VkRGF0YSA9IHtcbiAgICAgIHVuaXROdW1iZXI6ICcxMDUnLFxuICAgICAgZmxvb3I6IDEsXG4gICAgICBzcXVhcmVGb290YWdlOiBudWxsLCAvLyBFbXB0eSBzdHJpbmcgYmVjb21lcyBudWxsXG4gICAgICBiZWRyb29tczogMSxcbiAgICAgIGJhdGhyb29tczogbnVsbCwgLy8gRW1wdHkgc3RyaW5nIGJlY29tZXMgbnVsbFxuICAgICAgYmFsY29ueTogZmFsc2UsXG4gICAgICBwYXJraW5nU3BhY2VOdW1iZXJzOiBbXSxcbiAgICAgIHN0b3JhZ2VTcGFjZU51bWJlcnM6IFtdLFxuICAgICAgb3duZXJzaGlwUGVyY2VudGFnZTogbnVsbCwgLy8gRW1wdHkgc3RyaW5nIGJlY29tZXMgbnVsbFxuICAgICAgbW9udGhseUZlZXM6IG51bGwsIC8vIEVtcHR5IHN0cmluZyBiZWNvbWVzIG51bGxcbiAgICB9O1xuXG4gICAgZXhwZWN0KHByb2Nlc3NlZERhdGEpLnRvQmVEZWZpbmVkKCk7XG4gICAgZXhwZWN0KHByb2Nlc3NlZERhdGEudW5pdE51bWJlcikudG9CZSgnMTA1Jyk7XG4gICAgZXhwZWN0KHByb2Nlc3NlZERhdGEuc3F1YXJlRm9vdGFnZSkudG9CZU51bGwoKTtcbiAgICBleHBlY3QocHJvY2Vzc2VkRGF0YS5iYXRocm9vbXMpLnRvQmVOdWxsKCk7XG4gICAgZXhwZWN0KHByb2Nlc3NlZERhdGEub3duZXJzaGlwUGVyY2VudGFnZSkudG9CZU51bGwoKTtcbiAgICBleHBlY3QocHJvY2Vzc2VkRGF0YS5tb250aGx5RmVlcykudG9CZU51bGwoKTtcbiAgfSk7XG5cbiAgdGVzdCgnc2hvdWxkIHByZXNlcnZlIGFycmF5cyBjb3JyZWN0bHknLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgbW9ja1VwZGF0ZWQgPSB7XG4gICAgICBpZDogJ21vY2stcmVzaWRlbmNlLWlkJyxcbiAgICAgIHVuaXROdW1iZXI6ICcxMDYnLFxuICAgICAgZmxvb3I6IDIsXG4gICAgICBzcXVhcmVGb290YWdlOiAnMTEwMCcsXG4gICAgICBiZWRyb29tczogMixcbiAgICAgIGJhdGhyb29tczogJzIuMCcsXG4gICAgICBiYWxjb255OiB0cnVlLFxuICAgICAgcGFya2luZ1NwYWNlTnVtYmVyczogWydQNScsICdQNicsICdQNyddLFxuICAgICAgc3RvcmFnZVNwYWNlTnVtYmVyczogWydTNScsICdTNiddLFxuICAgICAgb3duZXJzaGlwUGVyY2VudGFnZTogJzIuNzUnLFxuICAgICAgbW9udGhseUZlZXM6ICczNzUuMjUnLFxuICAgIH07XG5cbiAgICBleHBlY3QobW9ja1VwZGF0ZWQpLnRvQmVEZWZpbmVkKCk7XG4gICAgZXhwZWN0KG1vY2tVcGRhdGVkLnBhcmtpbmdTcGFjZU51bWJlcnMpLnRvRXF1YWwoWydQNScsICdQNicsICdQNyddKTtcbiAgICBleHBlY3QobW9ja1VwZGF0ZWQuc3RvcmFnZVNwYWNlTnVtYmVycykudG9FcXVhbChbJ1M1JywgJ1M2J10pO1xuICAgIGV4cGVjdChtb2NrVXBkYXRlZC5wYXJraW5nU3BhY2VOdW1iZXJzKS50b0hhdmVMZW5ndGgoMyk7XG4gICAgZXhwZWN0KG1vY2tVcGRhdGVkLnN0b3JhZ2VTcGFjZU51bWJlcnMpLnRvSGF2ZUxlbmd0aCgyKTtcbiAgfSk7XG5cbiAgdGVzdCgnc2hvdWxkIGhhbmRsZSBkZWNpbWFsIHByZWNpc2lvbiBjb3JyZWN0bHknLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgbW9ja1VwZGF0ZWQgPSB7XG4gICAgICBpZDogJ21vY2stcmVzaWRlbmNlLWlkJyxcbiAgICAgIHVuaXROdW1iZXI6ICcxMDcnLFxuICAgICAgZmxvb3I6IDMsXG4gICAgICBzcXVhcmVGb290YWdlOiAnMTIzNC41NicsXG4gICAgICBiZWRyb29tczogMyxcbiAgICAgIGJhdGhyb29tczogJzIuNScsXG4gICAgICBiYWxjb255OiB0cnVlLFxuICAgICAgcGFya2luZ1NwYWNlTnVtYmVyczogWydQOCddLFxuICAgICAgc3RvcmFnZVNwYWNlTnVtYmVyczogWydTOCddLFxuICAgICAgb3duZXJzaGlwUGVyY2VudGFnZTogJzMuMTIzNCcsXG4gICAgICBtb250aGx5RmVlczogJzQ1Ni43OCcsXG4gICAgfTtcblxuICAgIGV4cGVjdChtb2NrVXBkYXRlZCkudG9CZURlZmluZWQoKTtcbiAgICBleHBlY3QoTnVtYmVyKG1vY2tVcGRhdGVkLnNxdWFyZUZvb3RhZ2UpKS50b0JlKDEyMzQuNTYpO1xuICAgIGV4cGVjdChOdW1iZXIobW9ja1VwZGF0ZWQuYmF0aHJvb21zKSkudG9CZSgyLjUpO1xuICAgIGV4cGVjdChOdW1iZXIobW9ja1VwZGF0ZWQub3duZXJzaGlwUGVyY2VudGFnZSkpLnRvQmUoMy4xMjM0KTtcbiAgICBleHBlY3QoTnVtYmVyKG1vY2tVcGRhdGVkLm1vbnRobHlGZWVzKSkudG9CZSg0NTYuNzgpO1xuICB9KTtcblxuICB0ZXN0KCdzaG91bGQgbWFpbnRhaW4gZGF0YSBpbnRlZ3JpdHkgYWNyb3NzIG11bHRpcGxlIHVwZGF0ZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgLy8gTW9jayBtdWx0aXBsZSB1cGRhdGUgb3BlcmF0aW9uc1xuICAgIGxldCBtb2NrRGF0YSA9IHtcbiAgICAgIGlkOiAnbW9jay1yZXNpZGVuY2UtaWQnLFxuICAgICAgdW5pdE51bWJlcjogJzEwMScsXG4gICAgICBmbG9vcjogMSxcbiAgICAgIHNxdWFyZUZvb3RhZ2U6ICcxMDAwJyxcbiAgICAgIGJlZHJvb21zOiAyLFxuICAgICAgYmF0aHJvb21zOiAnMS41JyxcbiAgICAgIGJhbGNvbnk6IHRydWUsXG4gICAgICBwYXJraW5nU3BhY2VOdW1iZXJzOiBbJ1AxJ10sXG4gICAgICBzdG9yYWdlU3BhY2VOdW1iZXJzOiBbJ1MxJ10sXG4gICAgICBvd25lcnNoaXBQZXJjZW50YWdlOiAnMi41JyxcbiAgICAgIG1vbnRobHlGZWVzOiAnMzUwLjAwJ1xuICAgIH07XG5cbiAgICAvLyBGaXJzdCB1cGRhdGVcbiAgICBtb2NrRGF0YSA9IHtcbiAgICAgIC4uLm1vY2tEYXRhLFxuICAgICAgdW5pdE51bWJlcjogJzEwOCcsXG4gICAgICBzcXVhcmVGb290YWdlOiAnMTAwMCcsXG4gICAgICBiYXRocm9vbXM6ICcxLjUnLFxuICAgIH07XG5cbiAgICAvLyBTZWNvbmQgdXBkYXRlXG4gICAgbW9ja0RhdGEgPSB7XG4gICAgICAuLi5tb2NrRGF0YSxcbiAgICAgIG1vbnRobHlGZWVzOiAnNDAwLjAwJyxcbiAgICAgIG93bmVyc2hpcFBlcmNlbnRhZ2U6ICcyLjc1JyxcbiAgICB9O1xuXG4gICAgLy8gVmVyaWZ5IGZpbmFsIHN0YXRlXG4gICAgZXhwZWN0KG1vY2tEYXRhKS50b0JlRGVmaW5lZCgpO1xuICAgIGV4cGVjdChtb2NrRGF0YS51bml0TnVtYmVyKS50b0JlKCcxMDgnKTtcbiAgICBleHBlY3QoTnVtYmVyKG1vY2tEYXRhLnNxdWFyZUZvb3RhZ2UpKS50b0JlKDEwMDApO1xuICAgIGV4cGVjdChOdW1iZXIobW9ja0RhdGEuYmF0aHJvb21zKSkudG9CZSgxLjUpO1xuICAgIGV4cGVjdChOdW1iZXIobW9ja0RhdGEubW9udGhseUZlZXMpKS50b0JlKDQwMC4wMCk7XG4gICAgZXhwZWN0KE51bWJlcihtb2NrRGF0YS5vd25lcnNoaXBQZXJjZW50YWdlKSkudG9CZSgyLjc1KTtcbiAgfSk7XG59KTsiXSwidmVyc2lvbiI6M30=