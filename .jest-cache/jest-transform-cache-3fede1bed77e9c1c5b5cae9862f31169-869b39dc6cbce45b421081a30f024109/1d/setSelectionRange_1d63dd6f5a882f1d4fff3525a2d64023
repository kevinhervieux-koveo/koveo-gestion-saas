998f5b195090dd8a708b3ab613ffa60e
'use strict';
require('../../utils/dataTransfer/Clipboard.js');
var isContentEditable = require('../../utils/edit/isContentEditable.js');
var selection = require('../../utils/focus/selection.js');
var setSelection = require('./setSelection.js');
/**
 * Backward-compatible selection.
 *
 * Handles input elements and contenteditable if it only contains a single text node.
 */ function setSelectionRange(element, anchorOffset, focusOffset) {
    var _element_firstChild;
    if (selection.hasOwnSelection(element)) {
        return setSelection.setSelection({
            focusNode: element,
            anchorOffset,
            focusOffset
        });
    }
    /* istanbul ignore else */ if (isContentEditable.isContentEditable(element) && ((_element_firstChild = element.firstChild) === null || _element_firstChild === undefined ? undefined : _element_firstChild.nodeType) === 3) {
        return setSelection.setSelection({
            focusNode: element.firstChild,
            anchorOffset,
            focusOffset
        });
    }
    /* istanbul ignore next */ throw new Error('Not implemented. The result of this interaction is unreliable.');
}
exports.setSelectionRange = setSelectionRange;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9ub2RlX21vZHVsZXMvQHRlc3RpbmctbGlicmFyeS91c2VyLWV2ZW50L2Rpc3QvY2pzL2V2ZW50L3NlbGVjdGlvbi9zZXRTZWxlY3Rpb25SYW5nZS5qcyIsIm1hcHBpbmdzIjoiQUFBQSxZQUFZLENBQUM7QUFFYixPQUFPLENBQUMsdUNBQXVDLENBQUMsQ0FBQztBQUNqRCxJQUFJLGlCQUFpQixHQUFHLE9BQU8sQ0FBQyx1Q0FBdUMsQ0FBQyxDQUFDO0FBQ3pFLElBQUksU0FBUyxHQUFHLE9BQU8sQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUFDO0FBQzFELElBQUksWUFBWSxHQUFHLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO0FBRWhEOzs7O0dBSUcsQ0FBQyxTQUFTLGlCQUFpQixDQUFDLE9BQU8sRUFBRSxZQUFZLEVBQUUsV0FBVztJQUM3RCxJQUFJLG1CQUFtQixDQUFDO0lBQ3hCLElBQUksU0FBUyxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDO1FBQ3JDLE9BQU8sWUFBWSxDQUFDLFlBQVksQ0FBQztZQUM3QixTQUFTLEVBQUUsT0FBTztZQUNsQixZQUFZO1lBQ1osV0FBVztTQUNkLENBQUMsQ0FBQztJQUNQLENBQUM7SUFDRCwwQkFBMEIsQ0FBQyxJQUFJLGlCQUFpQixDQUFDLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxtQkFBbUIsR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLEtBQUssSUFBSSxJQUFJLG1CQUFtQixLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxtQkFBbUIsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQztRQUN6TixPQUFPLFlBQVksQ0FBQyxZQUFZLENBQUM7WUFDN0IsU0FBUyxFQUFFLE9BQU8sQ0FBQyxVQUFVO1lBQzdCLFlBQVk7WUFDWixXQUFXO1NBQ2QsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUNELDBCQUEwQixDQUFDLE1BQU0sSUFBSSxLQUFLLENBQUMsZ0VBQWdFLENBQUMsQ0FBQztBQUNqSCxDQUFDO0FBRUQsT0FBTyxDQUFDLGlCQUFpQixHQUFHLGlCQUFpQixDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3Jrc3BhY2Uvbm9kZV9tb2R1bGVzL0B0ZXN0aW5nLWxpYnJhcnkvdXNlci1ldmVudC9kaXN0L2Nqcy9ldmVudC9zZWxlY3Rpb24vc2V0U2VsZWN0aW9uUmFuZ2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5yZXF1aXJlKCcuLi8uLi91dGlscy9kYXRhVHJhbnNmZXIvQ2xpcGJvYXJkLmpzJyk7XG52YXIgaXNDb250ZW50RWRpdGFibGUgPSByZXF1aXJlKCcuLi8uLi91dGlscy9lZGl0L2lzQ29udGVudEVkaXRhYmxlLmpzJyk7XG52YXIgc2VsZWN0aW9uID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvZm9jdXMvc2VsZWN0aW9uLmpzJyk7XG52YXIgc2V0U2VsZWN0aW9uID0gcmVxdWlyZSgnLi9zZXRTZWxlY3Rpb24uanMnKTtcblxuLyoqXG4gKiBCYWNrd2FyZC1jb21wYXRpYmxlIHNlbGVjdGlvbi5cbiAqXG4gKiBIYW5kbGVzIGlucHV0IGVsZW1lbnRzIGFuZCBjb250ZW50ZWRpdGFibGUgaWYgaXQgb25seSBjb250YWlucyBhIHNpbmdsZSB0ZXh0IG5vZGUuXG4gKi8gZnVuY3Rpb24gc2V0U2VsZWN0aW9uUmFuZ2UoZWxlbWVudCwgYW5jaG9yT2Zmc2V0LCBmb2N1c09mZnNldCkge1xuICAgIHZhciBfZWxlbWVudF9maXJzdENoaWxkO1xuICAgIGlmIChzZWxlY3Rpb24uaGFzT3duU2VsZWN0aW9uKGVsZW1lbnQpKSB7XG4gICAgICAgIHJldHVybiBzZXRTZWxlY3Rpb24uc2V0U2VsZWN0aW9uKHtcbiAgICAgICAgICAgIGZvY3VzTm9kZTogZWxlbWVudCxcbiAgICAgICAgICAgIGFuY2hvck9mZnNldCxcbiAgICAgICAgICAgIGZvY3VzT2Zmc2V0XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqLyBpZiAoaXNDb250ZW50RWRpdGFibGUuaXNDb250ZW50RWRpdGFibGUoZWxlbWVudCkgJiYgKChfZWxlbWVudF9maXJzdENoaWxkID0gZWxlbWVudC5maXJzdENoaWxkKSA9PT0gbnVsbCB8fCBfZWxlbWVudF9maXJzdENoaWxkID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBfZWxlbWVudF9maXJzdENoaWxkLm5vZGVUeXBlKSA9PT0gMykge1xuICAgICAgICByZXR1cm4gc2V0U2VsZWN0aW9uLnNldFNlbGVjdGlvbih7XG4gICAgICAgICAgICBmb2N1c05vZGU6IGVsZW1lbnQuZmlyc3RDaGlsZCxcbiAgICAgICAgICAgIGFuY2hvck9mZnNldCxcbiAgICAgICAgICAgIGZvY3VzT2Zmc2V0XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZC4gVGhlIHJlc3VsdCBvZiB0aGlzIGludGVyYWN0aW9uIGlzIHVucmVsaWFibGUuJyk7XG59XG5cbmV4cG9ydHMuc2V0U2VsZWN0aW9uUmFuZ2UgPSBzZXRTZWxlY3Rpb25SYW5nZTtcbiJdLCJ2ZXJzaW9uIjozfQ==