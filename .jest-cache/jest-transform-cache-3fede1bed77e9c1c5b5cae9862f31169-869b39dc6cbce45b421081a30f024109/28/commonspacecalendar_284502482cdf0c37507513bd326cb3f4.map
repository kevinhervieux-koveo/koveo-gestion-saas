{"file":"/home/runner/workspace/client/src/components/common-spaces/common-space-calendar.tsx","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA,kDAkbC;;AAvdD,+CAAwC;AAExC,mDAAgD;AAChD,mDAMgC;AAChC,+CAA0E;AAC1E,mDAA+C;AAC/C,uDAAmD;AAgBnD;;;;;;;;GAQG;AACH,SAAgB,mBAAmB,CAAC,EAClC,KAAK,EACL,QAAQ,EACR,YAAY,EACZ,SAAS,GAAG,EAAE,GACW;IACzB,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAA,0BAAW,GAAE,CAAC;IACnC,MAAM,CAAC,gBAAgB,EAAE,mBAAmB,CAAC,GAAG,IAAA,gBAAQ,EAAC,KAAK,CAAC,CAAC;IAChE,MAAM,CAAC,oBAAoB,EAAE,uBAAuB,CAAC,GAAG,IAAA,gBAAQ,EAAgB,IAAI,CAAC,CAAC;IACtF,MAAM,CAAC,gBAAgB,EAAE,mBAAmB,CAAC,GAAG,IAAA,gBAAQ,EAAC,KAAK,CAAC,CAAC;IAChE,MAAM,CAAC,gBAAgB,EAAE,mBAAmB,CAAC,GAAG,IAAA,gBAAQ,EAAgB,IAAI,CAAC,CAAC;IAE9E,OAAO,CACL,iCAAK,SAAS,EAAE,4DAA4D,SAAS,EAAE,aACrF,iCAAK,SAAS,EAAC,wCAAwC,aACrD,gCAAI,SAAS,EAAC,6DAA6D,aACzE,uBAAC,2BAAY,IAAC,SAAS,EAAC,yBAAyB,GAAG,EACnD,QAAQ,KAAK,IAAI,CAAC,CAAC,CAAC,gBAAgB,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,cAAc,KAAK,CAAC,IAAI,EAAE,IAC3E,EACL,iCAAK,SAAS,EAAC,YAAY,aACzB,wBAAC,eAAM,IAAC,IAAI,EAAE,gBAAgB,EAAE,YAAY,EAAE,mBAAmB,aAC/D,uBAAC,sBAAa,IAAC,OAAO,kBACpB,wBAAC,eAAM,IACL,OAAO,EAAC,SAAS,EACjB,IAAI,EAAC,IAAI,EACT,SAAS,EAAC,yBAAyB,iBACvB,sBAAsB,aAElC,uBAAC,oBAAK,IAAC,SAAS,EAAC,SAAS,GAAG,EAC5B,QAAQ,KAAK,IAAI,CAAC,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC,eAAe,IACjD,GACK,EAChB,wBAAC,sBAAa,IAAC,SAAS,EAAC,kBAAkB,aACzC,uBAAC,qBAAY,cACX,uBAAC,oBAAW,cACT,CAAC,gBAAgB;wDAChB,CAAC,CAAC,QAAQ,KAAK,IAAI;4DACjB,CAAC,CAAC,2BAA2B;4DAC7B,CAAC,CAAC,2BAA2B;wDAC/B,CAAC,CAAC,QAAQ,KAAK,IAAI;4DACjB,CAAC,CAAC,sCAAsC;4DACxC,CAAC,CAAC,0BAA0B,GACpB,GACD,EACf,iCAAK,SAAS,EAAC,iBAAiB,aAC7B,CAAC,gBAAgB,IAAI,CACpB,6DACE,gCAAK,SAAS,EAAC,uBAAuB,YACnC,QAAQ,KAAK,IAAI;oEAChB,CAAC,CAAC,mEAAmE;oEACrE,CAAC,CAAC,iDAAiD,GACjD,EAGN,iCACE,SAAS,EAAE,4FACT,oBAAoB,KAAK,YAAY;oEACnC,CAAC,CAAC,mCAAmC;oEACrC,CAAC,CAAC,uCACN,EAAE,EACF,OAAO,EAAE,GAAG,EAAE,CAAC,uBAAuB,CAAC,YAAY,CAAC,iBACxC,4BAA4B,aAExC,4CACE,gCAAK,SAAS,EAAC,aAAa,YACzB,QAAQ,KAAK,IAAI,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,iBAAiB,GAChD,EACN,gCAAK,SAAS,EAAC,uBAAuB,YACnC,QAAQ,KAAK,IAAI;oFAChB,CAAC,CAAC,+CAA+C;oFACjD,CAAC,CAAC,8BAA8B,GAC9B,IACF,EACL,oBAAoB,KAAK,YAAY,IAAI,CACxC,uBAAC,oBAAK,IAAC,SAAS,EAAC,yBAAyB,GAAG,CAC9C,IACG,EAGN,iCACE,SAAS,EAAE,4FACT,oBAAoB,KAAK,cAAc;oEACrC,CAAC,CAAC,mCAAmC;oEACrC,CAAC,CAAC,uCACN,EAAE,EACF,OAAO,EAAE,GAAG,EAAE,CAAC,uBAAuB,CAAC,cAAc,CAAC,iBAC1C,8BAA8B,aAE1C,4CACE,gCAAK,SAAS,EAAC,aAAa,YACzB,QAAQ,KAAK,IAAI,CAAC,CAAC,CAAC,2BAA2B,CAAC,CAAC,CAAC,oBAAoB,GACnE,EACN,gCAAK,SAAS,EAAC,uBAAuB,YACnC,QAAQ,KAAK,IAAI;oFAChB,CAAC,CAAC,mDAAmD;oFACrD,CAAC,CAAC,4BAA4B,GAC5B,IACF,EACL,oBAAoB,KAAK,cAAc,IAAI,CAC1C,uBAAC,oBAAK,IAAC,SAAS,EAAC,yBAAyB,GAAG,CAC9C,IACG,EAGN,gCACE,SAAS,EAAC,uGAAuG,iBACrG,6BAA6B,YAEzC,4CACE,gCAAK,SAAS,EAAC,aAAa,YACzB,QAAQ,KAAK,IAAI,CAAC,CAAC,CAAC,yBAAyB,CAAC,CAAC,CAAC,qBAAqB,GAClE,EACN,gCAAK,SAAS,EAAC,uBAAuB,YACnC,QAAQ,KAAK,IAAI;gFAChB,CAAC,CAAC,gDAAgD;gFAClD,CAAC,CAAC,qCAAqC,GACrC,IACF,GACF,EAGN,gCACE,SAAS,EAAC,uGAAuG,iBACrG,iCAAiC,YAE7C,4CACE,gCAAK,SAAS,EAAC,aAAa,YACzB,QAAQ,KAAK,IAAI,CAAC,CAAC,CAAC,wBAAwB,CAAC,CAAC,CAAC,iBAAiB,GAC7D,EACN,gCAAK,SAAS,EAAC,uBAAuB,YACnC,QAAQ,KAAK,IAAI;gFAChB,CAAC,CAAC,gDAAgD;gFAClD,CAAC,CAAC,qCAAqC,GACrC,IACF,GACF,EAEL,oBAAoB,KAAK,YAAY,IAAI,CACxC,iCAAK,SAAS,EAAC,yDAAyD,aACtE,gCAAK,SAAS,EAAC,yCAAyC,YACrD,QAAQ,KAAK,IAAI,CAAC,CAAC,CAAC,wBAAwB,CAAC,CAAC,CAAC,wBAAwB,GACpE,EACN,gCAAK,SAAS,EAAC,wBAAwB,YACpC,QAAQ,KAAK,IAAI;4EAChB,CAAC,CAAC,wHAAwH;4EAC1H,CAAC,CAAC,iGAAiG,GACjG,IACF,CACP,EAEA,oBAAoB,KAAK,cAAc,IAAI,CAC1C,iCAAK,SAAS,EAAC,uDAAuD,aACpE,gCAAK,SAAS,EAAC,wCAAwC,YACpD,QAAQ,KAAK,IAAI;4EAChB,CAAC,CAAC,mCAAmC;4EACrC,CAAC,CAAC,6BAA6B,GAC7B,EACN,gCAAK,SAAS,EAAC,uBAAuB,YACnC,QAAQ,KAAK,IAAI;4EAChB,CAAC,CAAC,mDAAmD,KAAK,CAAC,IAAI,kCAAkC;4EACjG,CAAC,CAAC,uCAAuC,KAAK,CAAC,IAAI,gCAAgC,GACjF,IACF,CACP,EAED,iCAAK,SAAS,EAAC,6BAA6B,aAC1C,uBAAC,eAAM,IACL,OAAO,EAAC,SAAS,EACjB,OAAO,EAAE,GAAG,EAAE;4EACZ,mBAAmB,CAAC,KAAK,CAAC,CAAC;4EAC3B,uBAAuB,CAAC,IAAI,CAAC,CAAC;4EAC9B,mBAAmB,CAAC,KAAK,CAAC,CAAC;4EAC3B,mBAAmB,CAAC,IAAI,CAAC,CAAC;wEAC5B,CAAC,iBACW,oBAAoB,YAE/B,QAAQ,KAAK,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,QAAQ,GAClC,EACT,uBAAC,eAAM,IACL,OAAO,EAAE,GAAG,EAAE;4EACZ,IAAI,oBAAoB,EAAE,CAAC;gFACzB,mBAAmB,CAAC,IAAI,CAAC,CAAC;4EAC5B,CAAC;wEACH,CAAC,EACD,QAAQ,EAAE,CAAC,oBAAoB,iBACnB,kBAAkB,YAE7B,QAAQ,KAAK,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,MAAM,GAChC,IACL,IACL,CACJ,EAEA,gBAAgB,IAAI,CACnB,6DACE,gCAAK,SAAS,EAAC,4BAA4B,YACxC,QAAQ,KAAK,IAAI;oEAChB,CAAC,CAAC,4EAA4E;oEAC9E,CAAC,CAAC,sDAAsD,GACtD,EAGN,iCACE,SAAS,EAAE,4FACT,gBAAgB,KAAK,QAAQ;oEAC3B,CAAC,CAAC,mCAAmC;oEACrC,CAAC,CAAC,uCACN,EAAE,EACF,OAAO,EAAE,GAAG,EAAE,CAAC,mBAAmB,CAAC,QAAQ,CAAC,iBAChC,wBAAwB,aAEpC,iCAAK,SAAS,EAAC,yBAAyB,aACtC,gCAAK,SAAS,EAAC,yFAAyF,kBAElG,EACN,4CACE,gCAAK,SAAS,EAAC,aAAa,gCAAsB,EAClD,gCAAK,SAAS,EAAC,uBAAuB,YACnC,QAAQ,KAAK,IAAI;4FAChB,CAAC,CAAC,mCAAmC;4FACrC,CAAC,CAAC,2BAA2B,GAC3B,IACF,IACF,EACL,gBAAgB,KAAK,QAAQ,IAAI,CAChC,uBAAC,oBAAK,IAAC,SAAS,EAAC,yBAAyB,GAAG,CAC9C,IACG,EAGN,iCACE,SAAS,EAAE,4FACT,gBAAgB,KAAK,SAAS;oEAC5B,CAAC,CAAC,mCAAmC;oEACrC,CAAC,CAAC,uCACN,EAAE,EACF,OAAO,EAAE,GAAG,EAAE,CAAC,mBAAmB,CAAC,SAAS,CAAC,iBACjC,yBAAyB,aAErC,iCAAK,SAAS,EAAC,yBAAyB,aACtC,gCAAK,SAAS,EAAC,0FAA0F,kBAEnG,EACN,4CACE,gCAAK,SAAS,EAAC,aAAa,iCAAuB,EACnD,gCAAK,SAAS,EAAC,uBAAuB,YACnC,QAAQ,KAAK,IAAI;4FAChB,CAAC,CAAC,oCAAoC;4FACtC,CAAC,CAAC,4BAA4B,GAC5B,IACF,IACF,EACL,gBAAgB,KAAK,SAAS,IAAI,CACjC,uBAAC,oBAAK,IAAC,SAAS,EAAC,yBAAyB,GAAG,CAC9C,IACG,EAGN,iCACE,SAAS,EAAE,4FACT,gBAAgB,KAAK,OAAO;oEAC1B,CAAC,CAAC,mCAAmC;oEACrC,CAAC,CAAC,uCACN,EAAE,EACF,OAAO,EAAE,GAAG,EAAE,CAAC,mBAAmB,CAAC,OAAO,CAAC,iBAC/B,uBAAuB,aAEnC,iCAAK,SAAS,EAAC,yBAAyB,aACtC,gCAAK,SAAS,EAAC,0FAA0F,GAAO,EAChH,4CACE,gCAAK,SAAS,EAAC,aAAa,+BAAqB,EACjD,gCAAK,SAAS,EAAC,uBAAuB,YACnC,QAAQ,KAAK,IAAI;4FAChB,CAAC,CAAC,kCAAkC;4FACpC,CAAC,CAAC,0BAA0B,GAC1B,IACF,IACF,EACL,gBAAgB,KAAK,OAAO,IAAI,CAC/B,uBAAC,oBAAK,IAAC,SAAS,EAAC,yBAAyB,GAAG,CAC9C,IACG,EAGN,iCACE,SAAS,EAAE,4FACT,gBAAgB,KAAK,OAAO;oEAC1B,CAAC,CAAC,mCAAmC;oEACrC,CAAC,CAAC,uCACN,EAAE,EACF,OAAO,EAAE,GAAG,EAAE,CAAC,mBAAmB,CAAC,OAAO,CAAC,iBAC/B,uBAAuB,aAEnC,iCAAK,SAAS,EAAC,yBAAyB,aACtC,gCAAK,SAAS,EAAC,0FAA0F,oBAEnG,EACN,4CACE,gCAAK,SAAS,EAAC,aAAa,YACzB,QAAQ,KAAK,IAAI,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC,gBAAgB,GACtD,EACN,gCAAK,SAAS,EAAC,uBAAuB,YACnC,QAAQ,KAAK,IAAI;4FAChB,CAAC,CAAC,kCAAkC;4FACpC,CAAC,CAAC,uBAAuB,GACvB,IACF,IACF,EACL,gBAAgB,KAAK,OAAO,IAAI,CAC/B,uBAAC,oBAAK,IAAC,SAAS,EAAC,yBAAyB,GAAG,CAC9C,IACG,EAEL,gBAAgB,IAAI,CACnB,iCAAK,SAAS,EAAC,uDAAuD,aACpE,gCAAK,SAAS,EAAC,wCAAwC,YACpD,QAAQ,KAAK,IAAI,CAAC,CAAC,CAAC,sBAAsB,CAAC,CAAC,CAAC,qBAAqB,GAC/D,EACN,gCAAK,SAAS,EAAC,uBAAuB,YACnC,QAAQ,KAAK,IAAI;4EAChB,CAAC,CAAC,eAAe,oBAAoB,KAAK,YAAY,CAAC,CAAC,CAAC,sBAAsB,CAAC,CAAC,CAAC,qBAAqB,SACnG,gBAAgB,KAAK,QAAQ;gFAC3B,CAAC,CAAC,iBAAiB;gFACnB,CAAC,CAAC,gBAAgB,KAAK,SAAS;oFAC9B,CAAC,CAAC,kBAAkB;oFACpB,CAAC,CAAC,gBAAgB,KAAK,OAAO;wFAC5B,CAAC,CAAC,gBAAgB;wFAClB,CAAC,CAAC,kBACV,GAAG;4EACL,CAAC,CAAC,iBAAiB,oBAAoB,KAAK,YAAY,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,eAAe,SACxF,gBAAgB,KAAK,QAAQ;gFAC3B,CAAC,CAAC,iBAAiB;gFACnB,CAAC,CAAC,gBAAgB,KAAK,SAAS;oFAC9B,CAAC,CAAC,kBAAkB;oFACpB,CAAC,CAAC,gBAAgB,KAAK,OAAO;wFAC5B,CAAC,CAAC,gBAAgB;wFAClB,CAAC,CAAC,eACV,GAAG,GACH,IACF,CACP,EAED,iCAAK,SAAS,EAAC,iCAAiC,aAC9C,uBAAC,eAAM,IACL,OAAO,EAAC,SAAS,EACjB,OAAO,EAAE,GAAG,EAAE;4EACZ,mBAAmB,CAAC,KAAK,CAAC,CAAC;4EAC3B,mBAAmB,CAAC,IAAI,CAAC,CAAC;wEAC5B,CAAC,iBACW,kBAAkB,YAE7B,QAAQ,KAAK,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,GAC/B,EACT,iCAAK,SAAS,EAAC,YAAY,aACzB,uBAAC,eAAM,IACL,OAAO,EAAC,SAAS,EACjB,OAAO,EAAE,GAAG,EAAE;oFACZ,mBAAmB,CAAC,KAAK,CAAC,CAAC;oFAC3B,uBAAuB,CAAC,IAAI,CAAC,CAAC;oFAC9B,mBAAmB,CAAC,KAAK,CAAC,CAAC;oFAC3B,mBAAmB,CAAC,IAAI,CAAC,CAAC;gFAC5B,CAAC,iBACW,wBAAwB,YAEnC,QAAQ,KAAK,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,QAAQ,GAClC,EACT,uBAAC,eAAM,IACL,OAAO,EAAE,GAAG,EAAE;oFACZ,qCAAqC;oFACrC,sBAAsB;oFACtB,mBAAmB,CAAC,KAAK,CAAC,CAAC;oFAC3B,uBAAuB,CAAC,IAAI,CAAC,CAAC;oFAC9B,mBAAmB,CAAC,KAAK,CAAC,CAAC;oFAC3B,mBAAmB,CAAC,IAAI,CAAC,CAAC;gFAC5B,CAAC,EACD,QAAQ,EAAE,CAAC,gBAAgB,iBACf,2BAA2B,YAEtC,QAAQ,KAAK,IAAI,CAAC,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC,eAAe,GACjD,IACL,IACF,IACL,CACJ,IACG,IACQ,IACT,EAER,QAAQ,IAAI,CACX,wBAAC,eAAM,IACL,OAAO,EAAE,CAAC,CAAC,EAAE,EAAE;oCACb,CAAC,CAAC,eAAe,EAAE,CAAC;oCACpB,QAAQ,EAAE,CAAC;gCACb,CAAC,EACD,OAAO,EAAC,SAAS,EACjB,IAAI,EAAC,IAAI,EACT,SAAS,EAAC,yBAAyB,iBACvB,8BAA8B,aAE1C,uBAAC,uBAAQ,IAAC,SAAS,EAAC,SAAS,GAAG,EAC/B,QAAQ,KAAK,IAAI,CAAC,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC,eAAe,IACjD,CACV,EACA,KAAK,CAAC,YAAY,IAAI,YAAY,IAAI,CACrC,wBAAC,eAAM,IACL,OAAO,EAAE,CAAC,CAAC,EAAE,EAAE;oCACb,CAAC,CAAC,eAAe,EAAE,CAAC;oCACpB,YAAY,EAAE,CAAC;gCACjB,CAAC,EACD,SAAS,EAAC,yBAAyB,iBACvB,2BAA2B,aAEvC,uBAAC,mBAAI,IAAC,SAAS,EAAC,SAAS,GAAG,EAC3B,QAAQ,KAAK,IAAI,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,IACjC,CACV,IACG,IACF,EAEN,uBAAC,4BAAY,IACX,IAAI,EAAC,OAAO,EACZ,OAAO,EAAE,KAAK,CAAC,EAAE,EACjB,YAAY,EAAE,KAAK,EACnB,YAAY,EAAE,CAAC,KAAK,EAAE,EAAE;oBACtB,gBAAgB;gBAClB,CAAC,EACD,WAAW,EAAE,CAAC,IAAI,EAAE,EAAE;oBACpB,eAAe;oBACf,YAAY,EAAE,CAAC,IAAI,CAAC,CAAC;gBACvB,CAAC,iBACY,mBAAmB,KAAK,CAAC,EAAE,EAAE,GAC1C,IACE,CACP,CAAC;AACJ,CAAC","names":[],"sources":["/home/runner/workspace/client/src/components/common-spaces/common-space-calendar.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from '@/components/ui/dialog';\nimport { CalendarIcon, Download, Plus, Link2, Check } from 'lucide-react';\nimport { CalendarView } from './calendar-view';\nimport { useLanguage } from '@/hooks/use-language';\n\n/**\n *\n */\ninterface CommonSpaceCalendarProps {\n  space: {\n    id: string;\n    name: string;\n    isReservable: boolean;\n  };\n  onExport?: () => void;\n  onNewBooking?: (date?: Date) => void;\n  className?: string;\n}\n\n/**\n * Reusable Common Space Calendar Component\n * Used across all pages that need to display space calendars.\n * @param root0\n * @param root0.space\n * @param root0.onExport\n * @param root0.onNewBooking\n * @param root0.className\n */\nexport function CommonSpaceCalendar({\n  space,\n  onExport,\n  onNewBooking,\n  className = '',\n}: CommonSpaceCalendarProps) {\n  const { language } = useLanguage();\n  const [isLinkDialogOpen, setIsLinkDialogOpen] = useState(false);\n  const [selectedCalendarType, setSelectedCalendarType] = useState<string | null>(null);\n  const [showProviderStep, setShowProviderStep] = useState(false);\n  const [selectedProvider, setSelectedProvider] = useState<string | null>(null);\n\n  return (\n    <div className={`bg-white rounded-lg border border-gray-200 p-6 shadow-sm ${className}`}>\n      <div className='flex items-center justify-between mb-6'>\n        <h3 className='text-lg font-semibold text-gray-900 flex items-center gap-2'>\n          <CalendarIcon className='h-5 w-5 text-koveo-navy' />\n          {language === 'fr' ? `Calendrier - ${space.name}` : `Calendar - ${space.name}`}\n        </h3>\n        <div className='flex gap-2'>\n          <Dialog open={isLinkDialogOpen} onOpenChange={setIsLinkDialogOpen}>\n            <DialogTrigger asChild>\n              <Button\n                variant='outline'\n                size='sm'\n                className='flex items-center gap-2'\n                data-testid='button-link-calendar'\n              >\n                <Link2 className='w-4 h-4' />\n                {language === 'fr' ? 'Lier calendrier' : 'Link calendar'}\n              </Button>\n            </DialogTrigger>\n            <DialogContent className='sm:max-w-[425px]'>\n              <DialogHeader>\n                <DialogTitle>\n                  {!showProviderStep\n                    ? language === 'fr'\n                      ? 'Que souhaitez-vous lier ?'\n                      : 'What do you want to link?'\n                    : language === 'fr'\n                      ? 'Choisir le fournisseur de calendrier'\n                      : 'Choose calendar provider'}\n                </DialogTitle>\n              </DialogHeader>\n              <div className='grid gap-4 py-4'>\n                {!showProviderStep && (\n                  <>\n                    <div className='text-sm text-gray-600'>\n                      {language === 'fr'\n                        ? 'Sélectionnez quel type de calendrier vous souhaitez synchroniser:'\n                        : 'Select which type of calendar you want to sync:'}\n                    </div>\n\n                    {/* Link Everything Option */}\n                    <div\n                      className={`flex items-center justify-between p-4 border rounded-lg cursor-pointer transition-colors ${\n                        selectedCalendarType === 'everything'\n                          ? 'border-koveo-navy bg-koveo-navy/5'\n                          : 'border-gray-200 hover:border-gray-300'\n                      }`}\n                      onClick={() => setSelectedCalendarType('everything')}\n                      data-testid='option-everything-calendar'\n                    >\n                      <div>\n                        <div className='font-medium'>\n                          {language === 'fr' ? 'Tout lier' : 'Link everything'}\n                        </div>\n                        <div className='text-sm text-gray-500'>\n                          {language === 'fr'\n                            ? 'Synchroniser tous les calendriers disponibles'\n                            : 'Sync all available calendars'}\n                        </div>\n                      </div>\n                      {selectedCalendarType === 'everything' && (\n                        <Check className='w-5 h-5 text-koveo-navy' />\n                      )}\n                    </div>\n\n                    {/* Common Space Calendar Option */}\n                    <div\n                      className={`flex items-center justify-between p-4 border rounded-lg cursor-pointer transition-colors ${\n                        selectedCalendarType === 'common-space'\n                          ? 'border-koveo-navy bg-koveo-navy/5'\n                          : 'border-gray-200 hover:border-gray-300'\n                      }`}\n                      onClick={() => setSelectedCalendarType('common-space')}\n                      data-testid='option-common-space-calendar'\n                    >\n                      <div>\n                        <div className='font-medium'>\n                          {language === 'fr' ? 'Espaces communs seulement' : 'Common spaces only'}\n                        </div>\n                        <div className='text-sm text-gray-500'>\n                          {language === 'fr'\n                            ? 'Synchroniser les réservations des espaces communs'\n                            : 'Sync common space bookings'}\n                        </div>\n                      </div>\n                      {selectedCalendarType === 'common-space' && (\n                        <Check className='w-5 h-5 text-koveo-navy' />\n                      )}\n                    </div>\n\n                    {/* Maintenance Calendar Option */}\n                    <div\n                      className='flex items-center justify-between p-4 border rounded-lg opacity-50 cursor-not-allowed border-gray-200'\n                      data-testid='option-maintenance-calendar'\n                    >\n                      <div>\n                        <div className='font-medium'>\n                          {language === 'fr' ? 'Réparations/Maintenance' : 'Repairs/Maintenance'}\n                        </div>\n                        <div className='text-sm text-gray-500'>\n                          {language === 'fr'\n                            ? 'Fonctionnalité à venir - pas encore disponible'\n                            : 'Feature to come - not yet available'}\n                        </div>\n                      </div>\n                    </div>\n\n                    {/* Building Events Calendar Option */}\n                    <div\n                      className='flex items-center justify-between p-4 border rounded-lg opacity-50 cursor-not-allowed border-gray-200'\n                      data-testid='option-building-events-calendar'\n                    >\n                      <div>\n                        <div className='font-medium'>\n                          {language === 'fr' ? 'Événements du bâtiment' : 'Building events'}\n                        </div>\n                        <div className='text-sm text-gray-500'>\n                          {language === 'fr'\n                            ? 'Fonctionnalité à venir - pas encore disponible'\n                            : 'Feature to come - not yet available'}\n                        </div>\n                      </div>\n                    </div>\n\n                    {selectedCalendarType === 'everything' && (\n                      <div className='mt-4 p-4 bg-green-50 rounded-lg border border-green-200'>\n                        <div className='text-sm font-medium text-green-900 mb-2'>\n                          {language === 'fr' ? 'Configuration complète' : 'Complete configuration'}\n                        </div>\n                        <div className='text-sm text-green-700'>\n                          {language === 'fr'\n                            ? 'Cette option synchronisera tous les calendriers disponibles : espaces communs, maintenance, et événements du bâtiment.'\n                            : 'This option will sync all available calendars: common spaces, maintenance, and building events.'}\n                        </div>\n                      </div>\n                    )}\n\n                    {selectedCalendarType === 'common-space' && (\n                      <div className='mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200'>\n                        <div className='text-sm font-medium text-blue-900 mb-2'>\n                          {language === 'fr'\n                            ? 'Configuration des espaces communs'\n                            : 'Common spaces configuration'}\n                        </div>\n                        <div className='text-sm text-blue-700'>\n                          {language === 'fr'\n                            ? `Cette option synchronisera les réservations de \"${space.name}\" avec votre calendrier externe.`\n                            : `This option will sync bookings for \"${space.name}\" with your external calendar.`}\n                        </div>\n                      </div>\n                    )}\n\n                    <div className='flex justify-end gap-2 mt-4'>\n                      <Button\n                        variant='outline'\n                        onClick={() => {\n                          setIsLinkDialogOpen(false);\n                          setSelectedCalendarType(null);\n                          setShowProviderStep(false);\n                          setSelectedProvider(null);\n                        }}\n                        data-testid='button-cancel-link'\n                      >\n                        {language === 'fr' ? 'Annuler' : 'Cancel'}\n                      </Button>\n                      <Button\n                        onClick={() => {\n                          if (selectedCalendarType) {\n                            setShowProviderStep(true);\n                          }\n                        }}\n                        disabled={!selectedCalendarType}\n                        data-testid='button-next-step'\n                      >\n                        {language === 'fr' ? 'Suivant' : 'Next'}\n                      </Button>\n                    </div>\n                  </>\n                )}\n\n                {showProviderStep && (\n                  <>\n                    <div className='text-sm text-gray-600 mb-4'>\n                      {language === 'fr'\n                        ? 'Sélectionnez le fournisseur de calendrier où vous souhaitez synchroniser :'\n                        : 'Select the calendar provider where you want to sync:'}\n                    </div>\n\n                    {/* Google Calendar Option */}\n                    <div\n                      className={`flex items-center justify-between p-4 border rounded-lg cursor-pointer transition-colors ${\n                        selectedProvider === 'google'\n                          ? 'border-koveo-navy bg-koveo-navy/5'\n                          : 'border-gray-200 hover:border-gray-300'\n                      }`}\n                      onClick={() => setSelectedProvider('google')}\n                      data-testid='option-google-calendar'\n                    >\n                      <div className='flex items-center gap-3'>\n                        <div className='w-10 h-10 bg-red-500 rounded-full flex items-center justify-center text-white font-bold'>\n                          G\n                        </div>\n                        <div>\n                          <div className='font-medium'>Google Calendar</div>\n                          <div className='text-sm text-gray-500'>\n                            {language === 'fr'\n                              ? 'Synchroniser avec Google Calendar'\n                              : 'Sync with Google Calendar'}\n                          </div>\n                        </div>\n                      </div>\n                      {selectedProvider === 'google' && (\n                        <Check className='w-5 h-5 text-koveo-navy' />\n                      )}\n                    </div>\n\n                    {/* Outlook Calendar Option */}\n                    <div\n                      className={`flex items-center justify-between p-4 border rounded-lg cursor-pointer transition-colors ${\n                        selectedProvider === 'outlook'\n                          ? 'border-koveo-navy bg-koveo-navy/5'\n                          : 'border-gray-200 hover:border-gray-300'\n                      }`}\n                      onClick={() => setSelectedProvider('outlook')}\n                      data-testid='option-outlook-calendar'\n                    >\n                      <div className='flex items-center gap-3'>\n                        <div className='w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold'>\n                          O\n                        </div>\n                        <div>\n                          <div className='font-medium'>Outlook Calendar</div>\n                          <div className='text-sm text-gray-500'>\n                            {language === 'fr'\n                              ? 'Synchroniser avec Outlook Calendar'\n                              : 'Sync with Outlook Calendar'}\n                          </div>\n                        </div>\n                      </div>\n                      {selectedProvider === 'outlook' && (\n                        <Check className='w-5 h-5 text-koveo-navy' />\n                      )}\n                    </div>\n\n                    {/* Apple Calendar Option */}\n                    <div\n                      className={`flex items-center justify-between p-4 border rounded-lg cursor-pointer transition-colors ${\n                        selectedProvider === 'apple'\n                          ? 'border-koveo-navy bg-koveo-navy/5'\n                          : 'border-gray-200 hover:border-gray-300'\n                      }`}\n                      onClick={() => setSelectedProvider('apple')}\n                      data-testid='option-apple-calendar'\n                    >\n                      <div className='flex items-center gap-3'>\n                        <div className='w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center text-white font-bold'></div>\n                        <div>\n                          <div className='font-medium'>Apple Calendar</div>\n                          <div className='text-sm text-gray-500'>\n                            {language === 'fr'\n                              ? 'Synchroniser avec Apple Calendar'\n                              : 'Sync with Apple Calendar'}\n                          </div>\n                        </div>\n                      </div>\n                      {selectedProvider === 'apple' && (\n                        <Check className='w-5 h-5 text-koveo-navy' />\n                      )}\n                    </div>\n\n                    {/* Other Calendar Option */}\n                    <div\n                      className={`flex items-center justify-between p-4 border rounded-lg cursor-pointer transition-colors ${\n                        selectedProvider === 'other'\n                          ? 'border-koveo-navy bg-koveo-navy/5'\n                          : 'border-gray-200 hover:border-gray-300'\n                      }`}\n                      onClick={() => setSelectedProvider('other')}\n                      data-testid='option-other-calendar'\n                    >\n                      <div className='flex items-center gap-3'>\n                        <div className='w-10 h-10 bg-gray-500 rounded-full flex items-center justify-center text-white font-bold'>\n                          ...\n                        </div>\n                        <div>\n                          <div className='font-medium'>\n                            {language === 'fr' ? 'Autre calendrier' : 'Other calendar'}\n                          </div>\n                          <div className='text-sm text-gray-500'>\n                            {language === 'fr'\n                              ? 'Utiliser un fichier ICS ou autre'\n                              : 'Use ICS file or other'}\n                          </div>\n                        </div>\n                      </div>\n                      {selectedProvider === 'other' && (\n                        <Check className='w-5 h-5 text-koveo-navy' />\n                      )}\n                    </div>\n\n                    {selectedProvider && (\n                      <div className='mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200'>\n                        <div className='text-sm font-medium text-blue-900 mb-2'>\n                          {language === 'fr' ? 'Configuration finale' : 'Final configuration'}\n                        </div>\n                        <div className='text-sm text-blue-700'>\n                          {language === 'fr'\n                            ? `Prêt à lier ${selectedCalendarType === 'everything' ? 'tous les calendriers' : 'les espaces communs'} avec ${\n                                selectedProvider === 'google'\n                                  ? 'Google Calendar'\n                                  : selectedProvider === 'outlook'\n                                    ? 'Outlook Calendar'\n                                    : selectedProvider === 'apple'\n                                      ? 'Apple Calendar'\n                                      : 'votre calendrier'\n                              }.`\n                            : `Ready to link ${selectedCalendarType === 'everything' ? 'all calendars' : 'common spaces'} with ${\n                                selectedProvider === 'google'\n                                  ? 'Google Calendar'\n                                  : selectedProvider === 'outlook'\n                                    ? 'Outlook Calendar'\n                                    : selectedProvider === 'apple'\n                                      ? 'Apple Calendar'\n                                      : 'your calendar'\n                              }.`}\n                        </div>\n                      </div>\n                    )}\n\n                    <div className='flex justify-between gap-2 mt-4'>\n                      <Button\n                        variant='outline'\n                        onClick={() => {\n                          setShowProviderStep(false);\n                          setSelectedProvider(null);\n                        }}\n                        data-testid='button-back-step'\n                      >\n                        {language === 'fr' ? 'Retour' : 'Back'}\n                      </Button>\n                      <div className='flex gap-2'>\n                        <Button\n                          variant='outline'\n                          onClick={() => {\n                            setIsLinkDialogOpen(false);\n                            setSelectedCalendarType(null);\n                            setShowProviderStep(false);\n                            setSelectedProvider(null);\n                          }}\n                          data-testid='button-cancel-provider'\n                        >\n                          {language === 'fr' ? 'Annuler' : 'Cancel'}\n                        </Button>\n                        <Button\n                          onClick={() => {\n                            // Handle final calendar linking here\n                            // Link calendar logic\n                            setIsLinkDialogOpen(false);\n                            setSelectedCalendarType(null);\n                            setShowProviderStep(false);\n                            setSelectedProvider(null);\n                          }}\n                          disabled={!selectedProvider}\n                          data-testid='button-confirm-final-link'\n                        >\n                          {language === 'fr' ? 'Lier calendrier' : 'Link calendar'}\n                        </Button>\n                      </div>\n                    </div>\n                  </>\n                )}\n              </div>\n            </DialogContent>\n          </Dialog>\n\n          {onExport && (\n            <Button\n              onClick={(e) => {\n                e.stopPropagation();\n                onExport();\n              }}\n              variant='outline'\n              size='sm'\n              className='flex items-center gap-2'\n              data-testid='button-export-space-calendar'\n            >\n              <Download className='w-4 h-4' />\n              {language === 'fr' ? 'Exporter (.ics)' : 'Export (.ics)'}\n            </Button>\n          )}\n          {space.isReservable && onNewBooking && (\n            <Button\n              onClick={(e) => {\n                e.stopPropagation();\n                onNewBooking();\n              }}\n              className='flex items-center gap-2'\n              data-testid='button-new-booking-inline'\n            >\n              <Plus className='w-4 h-4' />\n              {language === 'fr' ? 'Réserver' : 'Book'}\n            </Button>\n          )}\n        </div>\n      </div>\n\n      <CalendarView\n        mode='space'\n        spaceId={space.id}\n        showControls={false}\n        onEventClick={(event) => {\n          // Event clicked\n        }}\n        onDateClick={(date) => {\n          // Date clicked\n          onNewBooking?.(date);\n        }}\n        data-testid={`inline-calendar-${space.id}`}\n      />\n    </div>\n  );\n}\n"],"version":3}