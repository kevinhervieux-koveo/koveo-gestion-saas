25360675d3a34042fd9b0eba2d3364bf
"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
exports.STATUS_OPTIONS = exports.SCHEDULE_OPTIONS = exports.PAYMENT_TYPES = exports.BILL_CATEGORIES = void 0;
exports.BillForm = BillForm;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = __importStar(require("react"));
const react_hook_form_1 = require("react-hook-form");
const zod_1 = require("@hookform/resolvers/zod");
const react_query_1 = require("@tanstack/react-query");
const zod_2 = require("zod");
const button_1 = require("@/components/ui/button");
const input_1 = require("@/components/ui/input");
const textarea_1 = require("@/components/ui/textarea");
const badge_1 = require("@/components/ui/badge");
const tabs_1 = require("@/components/ui/tabs");
const form_1 = require("@/components/ui/form");
const select_1 = require("@/components/ui/select");
const lucide_react_1 = require("lucide-react");
const use_language_1 = require("@/hooks/use-language");
const AttachedFileSection_1 = require("./AttachedFileSection");
const DocumentTypeSelector_1 = require("./DocumentTypeSelector");
// Unified form schema
const billFormSchema = zod_2.z.object({
    title: zod_2.z.string().min(1, 'Bill title is required (example: Monthly Electricity Bill)').max(200, 'Title must be less than 200 characters'),
    description: zod_2.z.string().max(1000, 'Description must be less than 1000 characters').optional(),
    category: zod_2.z.enum([
        'insurance',
        'maintenance',
        'salary',
        'utilities',
        'cleaning',
        'security',
        'landscaping',
        'professional_services',
        'administration',
        'repairs',
        'supplies',
        'taxes',
        'technology',
        'reserves',
        'other',
    ]),
    vendor: zod_2.z.string().max(150, 'Vendor name must be less than 150 characters').optional(),
    paymentType: zod_2.z.enum(['unique', 'recurrent']),
    schedulePayment: zod_2.z.enum(['weekly', 'monthly', 'quarterly', 'yearly', 'custom']).optional(),
    customPayments: zod_2.z.array(zod_2.z.object({
        amount: zod_2.z.string().min(1, 'Amount is required').refine((val) => {
            const num = parseFloat(val);
            return !isNaN(num) && num > 0 && num <= 999999.99;
        }, 'Amount must be between $0.01 and $999,999.99'),
        date: zod_2.z.string().min(1, 'Date is required').refine((val) => {
            return !isNaN(Date.parse(val));
        }, 'Date must be a valid date'),
        description: zod_2.z.string().optional()
    })).optional(),
    totalAmount: zod_2.z.string().min(1, 'Amount is required and must be a valid number (example: 1250.50)').refine((val) => {
        const num = parseFloat(val);
        return !isNaN(num) && num > 0 && num <= 999999.99;
    }, 'Amount must be between $0.01 and $999,999.99 (example: 1250.50)'),
    startDate: zod_2.z.string().min(1, 'Start date is required (example: 2025-01-15)').refine((val) => {
        return !isNaN(Date.parse(val));
    }, 'Start date must be a valid date (example: 2025-01-15)'),
    endDate: zod_2.z.string().optional().refine((val) => {
        if (!val)
            return true;
        return !isNaN(Date.parse(val));
    }, 'End date must be a valid date (example: 2025-12-31)'),
    status: zod_2.z.enum(['draft', 'sent', 'overdue', 'paid', 'cancelled']),
    notes: zod_2.z.string().max(2000, 'Notes must be less than 2000 characters').optional(),
});
function CustomPaymentSchedule({ payments, onChange, onTotalAmountChange }) {
    const addPayment = () => {
        const newPayment = {
            amount: '',
            date: '',
            description: ''
        };
        const updatedPayments = [...payments, newPayment];
        onChange(updatedPayments);
    };
    const removePayment = (index) => {
        const updatedPayments = payments.filter((_, i) => i !== index);
        onChange(updatedPayments);
        updateTotalAmount(updatedPayments);
    };
    const updatePayment = (index, field, value) => {
        const updatedPayments = payments.map((payment, i) => i === index ? { ...payment, [field]: value } : payment);
        onChange(updatedPayments);
        if (field === 'amount') {
            updateTotalAmount(updatedPayments);
        }
    };
    const updateTotalAmount = (paymentsArray) => {
        const total = paymentsArray.reduce((sum, payment) => {
            const amount = parseFloat(payment.amount) || 0;
            return sum + amount;
        }, 0);
        onTotalAmountChange(total.toFixed(2));
    };
    return ((0, jsx_runtime_1.jsxs)("div", { className: "space-y-4", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex justify-between items-center", children: [(0, jsx_runtime_1.jsx)("span", { className: "text-sm text-gray-600", children: "Add individual payment amounts and dates" }), (0, jsx_runtime_1.jsxs)(button_1.Button, { type: "button", onClick: addPayment, size: "sm", variant: "outline", className: "gap-2", "data-testid": "button-add-payment", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Plus, { className: "h-4 w-4" }), "Add Payment"] })] }), payments.length === 0 && ((0, jsx_runtime_1.jsx)("div", { className: "text-center py-6 text-gray-500 border-2 border-dashed border-gray-200 rounded-lg", children: "Click \"Add Payment\" to create your custom payment schedule" })), (0, jsx_runtime_1.jsx)("div", { className: "space-y-3", children: payments.map((payment, index) => ((0, jsx_runtime_1.jsxs)("div", { className: "flex gap-3 items-start p-3 border border-gray-200 rounded-lg bg-gray-50", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex-1 grid grid-cols-3 gap-3", children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Amount *" }), (0, jsx_runtime_1.jsx)(input_1.Input, { type: "number", step: "0.01", placeholder: "0.00", value: payment.amount, onChange: (e) => updatePayment(index, 'amount', e.target.value), "data-testid": `input-payment-amount-${index}` })] }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Date *" }), (0, jsx_runtime_1.jsx)(input_1.Input, { type: "date", value: payment.date, onChange: (e) => updatePayment(index, 'date', e.target.value), "data-testid": `input-payment-date-${index}` })] }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Description" }), (0, jsx_runtime_1.jsx)(input_1.Input, { placeholder: "Payment note", value: payment.description || '', onChange: (e) => updatePayment(index, 'description', e.target.value), "data-testid": `input-payment-description-${index}` })] })] }), (0, jsx_runtime_1.jsx)(button_1.Button, { type: "button", onClick: () => removePayment(index), size: "sm", variant: "ghost", className: "text-red-500 hover:text-red-700 p-2", "data-testid": `button-remove-payment-${index}`, children: (0, jsx_runtime_1.jsx)(lucide_react_1.X, { className: "h-4 w-4" }) })] }, index))) }), payments.length > 0 && ((0, jsx_runtime_1.jsxs)("div", { className: "text-right text-sm text-gray-600", children: ["Total: $", payments.reduce((sum, payment) => sum + (parseFloat(payment.amount) || 0), 0).toFixed(2)] }))] }));
}
// Bill category options - centralized list
exports.BILL_CATEGORIES = [
    { value: 'insurance', label: 'Insurance' },
    { value: 'maintenance', label: 'Maintenance' },
    { value: 'salary', label: 'Salary' },
    { value: 'utilities', label: 'Utilities' },
    { value: 'cleaning', label: 'Cleaning' },
    { value: 'security', label: 'Security' },
    { value: 'landscaping', label: 'Landscaping' },
    { value: 'professional_services', label: 'Professional Services' },
    { value: 'administration', label: 'Administration' },
    { value: 'repairs', label: 'Repairs' },
    { value: 'supplies', label: 'Supplies' },
    { value: 'taxes', label: 'Taxes' },
    { value: 'technology', label: 'Technology' },
    { value: 'reserves', label: 'Reserves' },
    { value: 'other', label: 'Other' },
];
// Payment type options
exports.PAYMENT_TYPES = [
    { value: 'unique', label: 'One-time Payment' },
    { value: 'recurrent', label: 'Recurring Payment' },
];
// Schedule options
exports.SCHEDULE_OPTIONS = [
    { value: 'weekly', label: 'Weekly' },
    { value: 'monthly', label: 'Monthly' },
    { value: 'quarterly', label: 'Quarterly' },
    { value: 'yearly', label: 'Yearly' },
    { value: 'custom', label: 'Custom' },
];
// Status options
exports.STATUS_OPTIONS = [
    { value: 'draft', label: 'Draft' },
    { value: 'sent', label: 'Sent' },
    { value: 'overdue', label: 'Overdue' },
    { value: 'paid', label: 'Paid' },
    { value: 'cancelled', label: 'Cancelled' },
];
/**
 * Unified bill form component for creating and editing bills.
 * Supports both manual entry and AI document analysis for creation.
 * @param root0
 * @param root0.mode
 * @param root0.buildingId
 * @param root0.bill
 * @param root0.onSuccess
 * @param root0.onCancel
 */
function BillForm({ mode, buildingId, bill, onSuccess, onCancel }) {
    const { t } = (0, use_language_1.useLanguage)();
    const [activeTab, setActiveTab] = (0, react_1.useState)(mode === 'edit' ? 'manual' : 'manual');
    const [uploadedFile, setUploadedFile] = (0, react_1.useState)(null);
    const [aiAnalysisData, setAiAnalysisData] = (0, react_1.useState)(null);
    const [aiDocumentFile, setAiDocumentFile] = (0, react_1.useState)(null); // Store the AI analyzed document
    const [isAnalyzing, setIsAnalyzing] = (0, react_1.useState)(false);
    const [attachedFiles, setAttachedFiles] = (0, react_1.useState)([]);
    const [attachmentMode, setAttachmentMode] = (0, react_1.useState)('file');
    const [attachmentText, setAttachmentText] = (0, react_1.useState)('');
    const [selectedFile, setSelectedFile] = (0, react_1.useState)(null);
    const queryClient = (0, react_query_1.useQueryClient)();
    // Form setup with default values based on mode
    const getDefaultValues = () => {
        if (mode === 'edit' && bill) {
            return {
                title: bill.title,
                description: bill.description || '',
                category: bill.category,
                vendor: bill.vendor || '',
                paymentType: bill.paymentType,
                schedulePayment: bill.schedulePayment || 'monthly',
                customPayments: [],
                totalAmount: bill.totalAmount.toString(),
                startDate: bill.startDate,
                endDate: bill.endDate || '',
                status: bill.status,
                notes: bill.notes || '',
            };
        }
        // Default values for create mode
        return {
            title: '',
            description: '',
            category: 'other',
            vendor: '',
            paymentType: 'unique',
            schedulePayment: 'monthly',
            customPayments: [],
            totalAmount: '',
            startDate: new Date().toISOString().split('T')[0],
            endDate: '',
            status: 'draft',
            notes: '',
        };
    };
    const form = (0, react_hook_form_1.useForm)({
        resolver: (0, zod_1.zodResolver)(billFormSchema),
        defaultValues: getDefaultValues(),
    });
    // Update form when bill changes (for edit mode)
    (0, react_1.useEffect)(() => {
        if (mode === 'edit' && bill) {
            form.reset(getDefaultValues());
        }
    }, [mode, bill]);
    // Main mutation for create/update
    const submitMutation = (0, react_query_1.useMutation)({
        mutationFn: async (billData) => {
            const url = mode === 'create' ? '/api/bills' : `/api/bills/${bill?.id}`;
            const method = mode === 'create' ? 'POST' : 'PATCH';
            // Handle custom payments vs regular payment
            const costs = billData.schedulePayment === 'custom' && billData.customPayments?.length
                ? billData.customPayments.map(payment => payment.amount)
                : [billData.totalAmount];
            const payload = {
                ...billData,
                costs,
                ...(mode === 'create' && { buildingId }),
            };
            const response = await fetch(url, {
                method,
                headers: {
                    'Content-Type': 'application/json',
                },
                credentials: 'include',
                body: JSON.stringify(payload),
            });
            if (!response.ok) {
                throw new Error(`Failed to ${mode} bill`);
            }
            const billResult = await response.json();
            // If we have an AI document file and we're creating a bill, upload it
            if (mode === 'create' && aiDocumentFile && billResult.id) {
                const formData = new FormData();
                formData.append('document', aiDocumentFile);
                const uploadResponse = await fetch(`/api/bills/${billResult.id}/upload-document`, {
                    method: 'POST',
                    credentials: 'include',
                    body: formData,
                });
                if (!uploadResponse.ok) {
                    console.warn('Failed to upload AI document to created bill');
                }
            }
            return billResult;
        },
        onSuccess: () => {
            queryClient.invalidateQueries({ queryKey: ['/api/bills'] });
            onSuccess();
        },
    });
    // Delete mutation (only for edit mode)
    const deleteMutation = (0, react_query_1.useMutation)({
        mutationFn: async () => {
            if (!bill?.id)
                throw new Error('No bill ID provided');
            const response = await fetch(`/api/bills/${bill.id}`, {
                method: 'DELETE',
                credentials: 'include',
            });
            if (!response.ok) {
                throw new Error('Failed to delete bill');
            }
            return response.json();
        },
        onSuccess: () => {
            queryClient.invalidateQueries({ queryKey: ['/api/bills'] });
            onSuccess();
        },
    });
    // AI analysis mutation (only for create mode)
    const uploadAndAnalyzeMutation = (0, react_query_1.useMutation)({
        mutationFn: async (file) => {
            setIsAnalyzing(true);
            // Direct API call to analyze document without creating a bill
            const formData = new FormData();
            formData.append('document', file);
            const response = await fetch('/api/bills/analyze-document', {
                method: 'POST',
                credentials: 'include',
                body: formData,
            });
            if (!response.ok) {
                throw new Error('Failed to analyze document');
            }
            const result = await response.json();
            return { analysisResult: result, file };
        },
        onSuccess: (data) => {
            setIsAnalyzing(false);
            setAiAnalysisData(data.analysisResult);
            setAiDocumentFile(data.file); // Store the analyzed file for later upload
            // Auto-switch to manual tab and smartly fill form
            setActiveTab('manual');
            // Apply AI analysis while respecting user input
            setTimeout(() => {
                if (data.analysisResult) {
                    const currentValues = form.getValues();
                    // Only fill empty or default fields
                    if (!currentValues.title || currentValues.title === '' || currentValues.title === 'AI Analysis Draft') {
                        form.setValue('title', data.analysisResult.title);
                    }
                    if (!currentValues.vendor || currentValues.vendor === '') {
                        form.setValue('vendor', data.analysisResult.vendor || '');
                    }
                    if (!currentValues.category || currentValues.category === 'other') {
                        form.setValue('category', data.analysisResult.category);
                    }
                    if (!currentValues.totalAmount || currentValues.totalAmount === '' || currentValues.totalAmount === '0') {
                        form.setValue('totalAmount', data.analysisResult.totalAmount);
                    }
                    if (!currentValues.description || currentValues.description === '') {
                        form.setValue('description', data.analysisResult.description || '');
                    }
                    // Only set start date if it's the default (today) or empty
                    const today = new Date().toISOString().split('T')[0];
                    if ((!currentValues.startDate || currentValues.startDate === today) && data.analysisResult.issueDate) {
                        form.setValue('startDate', data.analysisResult.issueDate);
                    }
                    // Apply payment type if detected and user hasn't changed from default
                    if (currentValues.paymentType === 'unique' && data.analysisResult.paymentType) {
                        form.setValue('paymentType', data.analysisResult.paymentType);
                    }
                    // Append to notes (don't overwrite user notes)
                    let notes = currentValues.notes || '';
                    const aiNotesSection = [];
                    if (data.analysisResult.billNumber) {
                        aiNotesSection.push(`Bill Number: ${data.analysisResult.billNumber}`);
                    }
                    if (data.analysisResult.vendorContact) {
                        aiNotesSection.push(`Vendor Contact: ${data.analysisResult.vendorContact}`);
                    }
                    if (data.analysisResult.dueDate) {
                        aiNotesSection.push(`Due Date: ${data.analysisResult.dueDate}`);
                    }
                    aiNotesSection.push(`AI Analysis Confidence: ${(data.analysisResult.confidence * 100).toFixed(1)}%`);
                    if (aiNotesSection.length > 0) {
                        const aiNotes = aiNotesSection.join('\n');
                        notes = notes ? `${notes}\n\n--- AI Analysis ---\n${aiNotes}` : aiNotes;
                        form.setValue('notes', notes.trim());
                    }
                    // Form filling completed
                }
            }, 100); // Small delay to ensure tab switch happens first
        },
        onError: (error) => {
            console.error('❌ [DEBUG] AI analysis failed with error:', error);
            setIsAnalyzing(false);
        },
    });
    // Event handlers
    const handleFileUpload = (event) => {
        const file = event.target.files?.[0];
        if (file && mode === 'create') {
            setUploadedFile(file);
            // Don't auto-analyze, wait for user to click the analyze button
        }
    };
    // Smart form filling that respects user input
    const applyAiAnalysisSmartly = (0, react_1.useCallback)(() => {
        // Smart AI analysis application
        if (!aiAnalysisData) {
            console.warn('⚠️ [DEBUG] No AI analysis data available for smart application');
            return;
        }
        const currentValues = form.getValues();
        // Check current form values
        // Only fill empty or default fields
        if (!currentValues.title || currentValues.title === '') {
            form.setValue('title', aiAnalysisData.title);
        }
        if (!currentValues.vendor || currentValues.vendor === '') {
            form.setValue('vendor', aiAnalysisData.vendor || '');
        }
        if (!currentValues.category || currentValues.category === 'other') {
            form.setValue('category', aiAnalysisData.category);
        }
        if (!currentValues.totalAmount || currentValues.totalAmount === '' || currentValues.totalAmount === '0') {
            form.setValue('totalAmount', aiAnalysisData.totalAmount);
        }
        if (!currentValues.description || currentValues.description === '') {
            form.setValue('description', aiAnalysisData.description || '');
        }
        // Only set start date if it's the default (today) or empty
        const today = new Date().toISOString().split('T')[0];
        if ((!currentValues.startDate || currentValues.startDate === today) && aiAnalysisData.issueDate) {
            form.setValue('startDate', aiAnalysisData.issueDate);
        }
        // Apply payment type if detected and user hasn't changed from default
        if (currentValues.paymentType === 'unique' && aiAnalysisData.paymentType) {
            form.setValue('paymentType', aiAnalysisData.paymentType);
        }
        // Append to notes (don't overwrite user notes)
        let notes = currentValues.notes || '';
        const aiNotesSection = [];
        if (aiAnalysisData.billNumber) {
            aiNotesSection.push(`Bill Number: ${aiAnalysisData.billNumber}`);
        }
        if (aiAnalysisData.vendorContact) {
            aiNotesSection.push(`Vendor Contact: ${aiAnalysisData.vendorContact}`);
        }
        if (aiAnalysisData.dueDate) {
            aiNotesSection.push(`Due Date: ${aiAnalysisData.dueDate}`);
        }
        aiNotesSection.push(`AI Analysis Confidence: ${(aiAnalysisData.confidence * 100).toFixed(1)}%`);
        if (aiNotesSection.length > 0) {
            const aiNotes = aiNotesSection.join('\n');
            notes = notes ? `${notes}\n\n--- AI Analysis ---\n${aiNotes}` : aiNotes;
            console.log('📝 [DEBUG] Smart apply - Setting notes:', notes.trim());
            form.setValue('notes', notes.trim());
        }
        console.log('🔍 [DEBUG] Final form values after smart AI application:', form.getValues());
        console.log('🎉 [DEBUG] === SMART AI ANALYSIS APPLICATION COMPLETED ===');
    }, [aiAnalysisData, form]);
    // Manual apply function (for the button)
    const applyAiAnalysis = () => {
        console.log('🤖 [DEBUG] === APPLYING AI ANALYSIS TO FORM (MANUAL BUTTON) ===');
        console.log('📊 [DEBUG] AI Analysis Data received:', aiAnalysisData);
        console.log('🔍 [DEBUG] Current form values before applying AI:', form.getValues());
        if (aiAnalysisData) {
            console.log('✅ [DEBUG] AI data exists, setting form values...');
            // This overrides all fields (for manual application)
            console.log('📝 [DEBUG] Setting title:', aiAnalysisData.title);
            form.setValue('title', aiAnalysisData.title);
            console.log('📝 [DEBUG] Setting vendor:', aiAnalysisData.vendor);
            form.setValue('vendor', aiAnalysisData.vendor || '');
            console.log('📝 [DEBUG] Setting category:', aiAnalysisData.category);
            form.setValue('category', aiAnalysisData.category);
            console.log('📝 [DEBUG] Setting totalAmount:', aiAnalysisData.totalAmount);
            form.setValue('totalAmount', aiAnalysisData.totalAmount);
            console.log('📝 [DEBUG] Setting description:', aiAnalysisData.description);
            form.setValue('description', aiAnalysisData.description || '');
            if (aiAnalysisData.issueDate) {
                console.log('📝 [DEBUG] Setting startDate:', aiAnalysisData.issueDate);
                form.setValue('startDate', aiAnalysisData.issueDate);
            }
            if (aiAnalysisData.paymentType) {
                console.log('📝 [DEBUG] Setting paymentType:', aiAnalysisData.paymentType);
                form.setValue('paymentType', aiAnalysisData.paymentType);
            }
            // Apply notes with AI information
            let notes = form.getValues('notes') || '';
            const aiNotesSection = [];
            if (aiAnalysisData.billNumber) {
                aiNotesSection.push(`Bill Number: ${aiAnalysisData.billNumber}`);
            }
            if (aiAnalysisData.vendorContact) {
                aiNotesSection.push(`Vendor Contact: ${aiAnalysisData.vendorContact}`);
            }
            if (aiAnalysisData.dueDate) {
                aiNotesSection.push(`Due Date: ${aiAnalysisData.dueDate}`);
            }
            aiNotesSection.push(`AI Analysis Confidence: ${(aiAnalysisData.confidence * 100).toFixed(1)}%`);
            if (aiNotesSection.length > 0) {
                const aiNotes = aiNotesSection.join('\n');
                notes = notes ? `${notes}\n\n--- AI Analysis ---\n${aiNotes}` : aiNotes;
                console.log('📝 [DEBUG] Setting notes with AI analysis:', notes.trim());
                form.setValue('notes', notes.trim());
            }
            console.log('🔍 [DEBUG] Final form values after applying AI:', form.getValues());
            console.log('🎉 [DEBUG] === AI ANALYSIS APPLICATION COMPLETED ===');
        }
        else {
            console.error('❌ [DEBUG] No AI analysis data available when applying to form');
        }
    };
    const onSubmit = (values) => {
        submitMutation.mutate(values);
        // TODO: Handle attached files upload after bill creation
    };
    // Handle file attachments
    const handleFilesSelect = (0, react_1.useCallback)((files) => {
        setAttachedFiles(prev => [...prev, ...files]);
    }, []);
    const handleFileRemove = (0, react_1.useCallback)((fileIndex) => {
        setAttachedFiles(prev => prev.filter((_, index) => index !== fileIndex));
    }, []);
    const renderFormFields = () => ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsxs)("div", { className: 'grid grid-cols-2 gap-4', children: [(0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'title', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsxs)(form_1.FormLabel, { children: [t('title'), " *"] }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(input_1.Input, { ...field, placeholder: t('billTitle'), "data-testid": 'input-title' }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'vendor', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: t('vendor') }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(input_1.Input, { ...field, placeholder: t('companyOrServiceProvider'), "data-testid": 'input-vendor' }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'category', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsxs)(form_1.FormLabel, { children: [t('category'), " *"] }), (0, jsx_runtime_1.jsxs)(select_1.Select, { onValueChange: field.onChange, value: field.value, children: [(0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(select_1.SelectTrigger, { "data-testid": 'select-category', children: (0, jsx_runtime_1.jsx)(select_1.SelectValue, { placeholder: t('selectCategory') }) }) }), (0, jsx_runtime_1.jsx)(select_1.SelectContent, { children: exports.BILL_CATEGORIES.map((category) => ((0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: category.value, children: category.label }, category.value))) })] }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'totalAmount', render: ({ field }) => {
                            const isCustomPayments = form.watch('paymentType') === 'recurrent' &&
                                form.watch('schedulePayment') === 'custom';
                            return ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsxs)(form_1.FormLabel, { children: ["Total Amount *", isCustomPayments && (0, jsx_runtime_1.jsx)("span", { className: "text-xs text-blue-600 ml-1", children: "(Auto-calculated)" })] }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(input_1.Input, { ...field, type: 'number', step: '0.01', placeholder: '0.00', readOnly: isCustomPayments, className: isCustomPayments ? 'bg-gray-100 cursor-not-allowed' : '', "data-testid": 'input-amount' }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] }));
                        } }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'paymentType', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Payment Type *" }), (0, jsx_runtime_1.jsxs)(select_1.Select, { onValueChange: field.onChange, value: field.value, children: [(0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(select_1.SelectTrigger, { "data-testid": 'select-payment-type', children: (0, jsx_runtime_1.jsx)(select_1.SelectValue, { placeholder: 'Select payment type' }) }) }), (0, jsx_runtime_1.jsx)(select_1.SelectContent, { children: exports.PAYMENT_TYPES.map((type) => ((0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: type.value, children: type.label }, type.value))) })] }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), form.watch('paymentType') === 'recurrent' && ((0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'schedulePayment', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Schedule *" }), (0, jsx_runtime_1.jsxs)(select_1.Select, { onValueChange: field.onChange, value: field.value, children: [(0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(select_1.SelectTrigger, { "data-testid": 'select-schedule', children: (0, jsx_runtime_1.jsx)(select_1.SelectValue, { placeholder: 'Select schedule' }) }) }), (0, jsx_runtime_1.jsx)(select_1.SelectContent, { children: exports.SCHEDULE_OPTIONS.map((option) => ((0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: option.value, children: option.label }, option.value))) })] }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) })), form.watch('paymentType') === 'recurrent' && form.watch('schedulePayment') === 'custom' && ((0, jsx_runtime_1.jsx)("div", { className: 'col-span-2', children: (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'customPayments', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Custom Payment Schedule *" }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(CustomPaymentSchedule, { payments: field.value || [], onChange: field.onChange, onTotalAmountChange: (total) => form.setValue('totalAmount', total) }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }) })), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'startDate', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Start Date *" }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(input_1.Input, { ...field, type: 'date', "data-testid": 'input-start-date' }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), form.watch('paymentType') === 'recurrent' && ((0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'endDate', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "End Date (Optional)" }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(input_1.Input, { ...field, type: 'date', "data-testid": 'input-end-date' }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) })), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'status', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Status *" }), (0, jsx_runtime_1.jsxs)(select_1.Select, { onValueChange: field.onChange, value: field.value, children: [(0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(select_1.SelectTrigger, { "data-testid": 'select-status', children: (0, jsx_runtime_1.jsx)(select_1.SelectValue, { placeholder: 'Select status' }) }) }), (0, jsx_runtime_1.jsx)(select_1.SelectContent, { children: exports.STATUS_OPTIONS.map((status) => ((0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: status.value, children: status.label }, status.value))) })] }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) })] }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'description', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Description" }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(textarea_1.Textarea, { ...field, placeholder: 'Bill description...', rows: 3, "data-testid": 'textarea-description' }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'notes', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Notes" }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(textarea_1.Textarea, { ...field, placeholder: 'Additional notes...', rows: 3, "data-testid": 'textarea-notes' }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(DocumentTypeSelector_1.DocumentTypeSelector, { mode: attachmentMode, onModeChange: setAttachmentMode, onFileSelect: setSelectedFile, textContent: attachmentText, onTextChange: setAttachmentText, fileInputProps: {
                    accept: 'image/*,.pdf,.doc,.docx,.txt'
                }, textAreaProps: {
                    placeholder: 'Enter text notes or details about this bill...'
                } })] }));
    // For edit mode, render simple form
    if (mode === 'edit') {
        return ((0, jsx_runtime_1.jsx)(form_1.Form, { ...form, children: (0, jsx_runtime_1.jsxs)("form", { onSubmit: form.handleSubmit(onSubmit), className: 'space-y-6 pt-4 border-t', children: [renderFormFields(), bill?.documentPath && ((0, jsx_runtime_1.jsxs)("div", { className: 'space-y-3', children: [(0, jsx_runtime_1.jsx)(Label, { className: 'text-sm font-medium text-gray-900', children: "Attached Document" }), (0, jsx_runtime_1.jsx)(AttachedFileSection_1.AttachedFileSection, { entityType: 'bill', entityId: bill.id, filePath: bill.documentPath, fileName: bill.documentName, canView: true, canDownload: true, className: 'bg-gray-50 rounded-lg' })] })), (0, jsx_runtime_1.jsxs)("div", { className: 'flex justify-between gap-2 pt-4 border-t', children: [(0, jsx_runtime_1.jsxs)(button_1.Button, { type: 'button', variant: 'destructive', onClick: () => {
                                    if (confirm('Are you sure you want to delete this bill? This action cannot be undone.')) {
                                        deleteMutation.mutate();
                                    }
                                }, disabled: deleteMutation.isPending, className: 'flex items-center gap-2', "data-testid": 'button-delete-bill', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Trash2, { className: 'w-4 h-4' }), deleteMutation.isPending ? 'Deleting...' : 'Delete Bill'] }), (0, jsx_runtime_1.jsxs)("div", { className: 'flex gap-2', children: [onCancel && ((0, jsx_runtime_1.jsx)(button_1.Button, { type: 'button', variant: 'outline', onClick: onCancel, disabled: submitMutation.isPending || deleteMutation.isPending, "data-testid": 'button-cancel', children: "Cancel" })), (0, jsx_runtime_1.jsx)(button_1.Button, { type: 'submit', disabled: submitMutation.isPending || deleteMutation.isPending, className: 'min-w-[120px]', "data-testid": 'button-update', children: submitMutation.isPending ? 'Updating...' : 'Update Bill' })] })] })] }) }));
    }
    // For create mode, render with tabs (manual + AI upload)
    return ((0, jsx_runtime_1.jsx)("div", { className: 'space-y-6', children: (0, jsx_runtime_1.jsxs)(tabs_1.Tabs, { value: activeTab, onValueChange: setActiveTab, className: 'w-full', children: [(0, jsx_runtime_1.jsxs)(tabs_1.TabsList, { className: 'grid w-full grid-cols-2', children: [(0, jsx_runtime_1.jsx)(tabs_1.TabsTrigger, { value: 'manual', "data-testid": 'tab-manual', children: "Create Manually" }), (0, jsx_runtime_1.jsx)(tabs_1.TabsTrigger, { value: 'upload', "data-testid": 'tab-upload', children: "Upload & Analyze" })] }), (0, jsx_runtime_1.jsx)(tabs_1.TabsContent, { value: 'upload', className: 'space-y-4', children: (0, jsx_runtime_1.jsxs)("div", { className: 'p-6 text-center border-2 border-dashed border-gray-200 rounded-lg', children: [(0, jsx_runtime_1.jsx)("h3", { className: 'text-lg font-semibold mb-2', children: "Upload Bill Document" }), (0, jsx_runtime_1.jsx)("p", { className: 'text-gray-600 mb-4', children: "Upload an image or PDF of your bill for AI analysis" }), (0, jsx_runtime_1.jsx)(input_1.Input, { type: 'file', accept: 'image/*,.pdf', onChange: handleFileUpload, disabled: isAnalyzing, className: 'max-w-sm mx-auto mb-4', "data-testid": 'input-file-upload' }), uploadedFile && !isAnalyzing && !aiAnalysisData && ((0, jsx_runtime_1.jsx)(button_1.Button, { onClick: () => uploadAndAnalyzeMutation.mutate(uploadedFile), className: 'mt-4', "data-testid": 'button-analyze-document', children: "Analyze Document" })), isAnalyzing && ((0, jsx_runtime_1.jsxs)("div", { className: 'mt-4 flex items-center justify-center gap-2', "data-testid": 'loading-analysis', children: [(0, jsx_runtime_1.jsx)("div", { className: 'animate-spin w-5 h-5 border-2 border-blue-500 border-t-transparent rounded-full' }), (0, jsx_runtime_1.jsx)("span", { className: 'text-sm text-gray-600', children: "Analyzing document with AI..." })] })), aiAnalysisData && ((0, jsx_runtime_1.jsxs)("div", { className: 'mt-4 p-4 bg-blue-50 rounded-lg', "data-testid": 'ai-analysis-result', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center gap-2 mb-3', children: [(0, jsx_runtime_1.jsx)("span", { className: 'font-medium text-blue-800', children: "AI Analysis Complete" }), (0, jsx_runtime_1.jsxs)(badge_1.Badge, { variant: 'outline', className: 'text-xs', children: [(aiAnalysisData.confidence * 100).toFixed(1), "% overall confidence"] })] }), (0, jsx_runtime_1.jsxs)("div", { className: 'grid grid-cols-1 md:grid-cols-2 gap-3 text-sm', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'space-y-2', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'flex justify-between', children: [(0, jsx_runtime_1.jsxs)("span", { className: 'text-blue-700', children: [(0, jsx_runtime_1.jsx)("strong", { children: "Title:" }), " ", aiAnalysisData.title] }), aiAnalysisData.fieldConfidences && ((0, jsx_runtime_1.jsxs)(badge_1.Badge, { variant: 'outline', className: 'text-xs', children: [(aiAnalysisData.fieldConfidences.title * 100).toFixed(0), "%"] }))] }), aiAnalysisData.vendor && ((0, jsx_runtime_1.jsxs)("div", { className: 'flex justify-between', children: [(0, jsx_runtime_1.jsxs)("span", { className: 'text-blue-700', children: [(0, jsx_runtime_1.jsx)("strong", { children: "Vendor:" }), " ", aiAnalysisData.vendor] }), aiAnalysisData.fieldConfidences && ((0, jsx_runtime_1.jsxs)(badge_1.Badge, { variant: 'outline', className: 'text-xs', children: [(aiAnalysisData.fieldConfidences.vendor * 100).toFixed(0), "%"] }))] })), (0, jsx_runtime_1.jsxs)("div", { className: 'flex justify-between', children: [(0, jsx_runtime_1.jsxs)("span", { className: 'text-blue-700', children: [(0, jsx_runtime_1.jsx)("strong", { children: "Amount:" }), " $", aiAnalysisData.totalAmount] }), aiAnalysisData.fieldConfidences && ((0, jsx_runtime_1.jsxs)(badge_1.Badge, { variant: 'outline', className: 'text-xs', children: [(aiAnalysisData.fieldConfidences.totalAmount * 100).toFixed(0), "%"] }))] })] }), (0, jsx_runtime_1.jsxs)("div", { className: 'space-y-2', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'flex justify-between', children: [(0, jsx_runtime_1.jsxs)("span", { className: 'text-blue-700', children: [(0, jsx_runtime_1.jsx)("strong", { children: "Category:" }), " ", aiAnalysisData.category] }), aiAnalysisData.fieldConfidences && ((0, jsx_runtime_1.jsxs)(badge_1.Badge, { variant: 'outline', className: 'text-xs', children: [(aiAnalysisData.fieldConfidences.category * 100).toFixed(0), "%"] }))] }), aiAnalysisData.paymentType && ((0, jsx_runtime_1.jsxs)("div", { className: 'flex justify-between', children: [(0, jsx_runtime_1.jsxs)("span", { className: 'text-blue-700', children: [(0, jsx_runtime_1.jsx)("strong", { children: "Type:" }), " ", aiAnalysisData.paymentType === 'recurrent' ? 'Recurring' : 'One-time'] }), aiAnalysisData.fieldConfidences && ((0, jsx_runtime_1.jsxs)(badge_1.Badge, { variant: 'outline', className: 'text-xs', children: [(aiAnalysisData.fieldConfidences.paymentType * 100).toFixed(0), "%"] }))] })), (aiAnalysisData.issueDate || aiAnalysisData.dueDate) && ((0, jsx_runtime_1.jsxs)("div", { className: 'flex justify-between', children: [(0, jsx_runtime_1.jsxs)("span", { className: 'text-blue-700', children: [(0, jsx_runtime_1.jsx)("strong", { children: "Dates:" }), " ", aiAnalysisData.issueDate || aiAnalysisData.dueDate] }), aiAnalysisData.fieldConfidences && ((0, jsx_runtime_1.jsxs)(badge_1.Badge, { variant: 'outline', className: 'text-xs', children: [(aiAnalysisData.fieldConfidences.dates * 100).toFixed(0), "%"] }))] }))] })] }), (aiAnalysisData.billNumber || aiAnalysisData.vendorContact) && ((0, jsx_runtime_1.jsxs)("div", { className: 'mt-3 pt-3 border-t border-blue-200 text-xs text-blue-600', children: [aiAnalysisData.billNumber && (0, jsx_runtime_1.jsxs)("p", { children: [(0, jsx_runtime_1.jsx)("strong", { children: "Bill Number:" }), " ", aiAnalysisData.billNumber] }), aiAnalysisData.vendorContact && (0, jsx_runtime_1.jsxs)("p", { children: [(0, jsx_runtime_1.jsx)("strong", { children: "Vendor Contact:" }), " ", aiAnalysisData.vendorContact] })] })), (0, jsx_runtime_1.jsx)(button_1.Button, { onClick: applyAiAnalysis, className: 'mt-3 w-full', size: 'sm', "data-testid": 'button-apply-ai', children: "Apply All Fields to Form" })] }))] }) }), (0, jsx_runtime_1.jsx)(tabs_1.TabsContent, { value: 'manual', className: 'space-y-4', children: (0, jsx_runtime_1.jsx)(form_1.Form, { ...form, children: (0, jsx_runtime_1.jsxs)("form", { onSubmit: form.handleSubmit(onSubmit), className: 'space-y-6', children: [renderFormFields(), aiAnalysisData && ((0, jsx_runtime_1.jsxs)("div", { className: 'p-4 bg-blue-50 rounded-lg border border-blue-200', "data-testid": 'ai-info-badge', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center gap-2 mb-2', children: [(0, jsx_runtime_1.jsx)("span", { className: 'text-sm font-medium text-blue-800', children: "Form populated from AI analysis" }), (0, jsx_runtime_1.jsxs)(badge_1.Badge, { variant: 'outline', className: 'text-xs', children: [(aiAnalysisData.confidence * 100).toFixed(1), "% confidence"] })] }), (0, jsx_runtime_1.jsx)("p", { className: 'text-xs text-blue-600', children: "Review and modify the form as needed before creating the bill." })] })), (0, jsx_runtime_1.jsxs)("div", { className: 'flex justify-between gap-2 pt-4 border-t', children: [mode === 'edit' && ((0, jsx_runtime_1.jsxs)(button_1.Button, { type: 'button', variant: 'destructive', onClick: () => {
                                                if (confirm('Are you sure you want to delete this bill? This action cannot be undone.')) {
                                                    deleteMutation.mutate();
                                                }
                                            }, disabled: deleteMutation.isPending, className: 'flex items-center gap-2', "data-testid": 'button-delete-bill', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Trash2, { className: 'w-4 h-4' }), deleteMutation.isPending ? 'Deleting...' : 'Delete Bill'] })), (0, jsx_runtime_1.jsxs)("div", { className: 'flex gap-2', children: [onCancel && ((0, jsx_runtime_1.jsx)(button_1.Button, { type: 'button', variant: 'outline', onClick: onCancel, disabled: submitMutation.isPending || deleteMutation.isPending, "data-testid": 'button-cancel', children: "Cancel" })), (0, jsx_runtime_1.jsx)(button_1.Button, { type: 'submit', disabled: submitMutation.isPending || deleteMutation.isPending, className: 'min-w-[120px]', "data-testid": mode === 'create' ? 'button-create' : 'button-update', children: submitMutation.isPending
                                                        ? (mode === 'create' ? 'Creating...' : 'Updating...')
                                                        : (mode === 'create' ? 'Create Bill' : 'Update Bill') })] })] })] }) }) })] }) }));
}
exports.default = BillForm;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9jbGllbnQvc3JjL2NvbXBvbmVudHMvY29tbW9uL0JpbGxGb3JtLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF5VEEsNEJBMjhCQzs7QUFwd0NELCtDQUFnRTtBQUNoRSxxREFBMEM7QUFDMUMsaURBQXNEO0FBQ3RELHVEQUFvRTtBQUNwRSw2QkFBd0I7QUFDeEIsbURBQWdEO0FBQ2hELGlEQUE4QztBQUM5Qyx1REFBb0Q7QUFDcEQsaURBQThDO0FBQzlDLCtDQUFnRjtBQUNoRiwrQ0FPOEI7QUFDOUIsbURBTWdDO0FBQ2hDLCtDQUFzRjtBQUN0Rix1REFBbUQ7QUFHbkQsK0RBQTREO0FBQzVELGlFQUFpRjtBQUVqRixzQkFBc0I7QUFDdEIsTUFBTSxjQUFjLEdBQUcsT0FBQyxDQUFDLE1BQU0sQ0FBQztJQUM5QixLQUFLLEVBQUUsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsNERBQTRELENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLHdDQUF3QyxDQUFDO0lBQ3pJLFdBQVcsRUFBRSxPQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSwrQ0FBK0MsQ0FBQyxDQUFDLFFBQVEsRUFBRTtJQUM3RixRQUFRLEVBQUUsT0FBQyxDQUFDLElBQUksQ0FBQztRQUNmLFdBQVc7UUFDWCxhQUFhO1FBQ2IsUUFBUTtRQUNSLFdBQVc7UUFDWCxVQUFVO1FBQ1YsVUFBVTtRQUNWLGFBQWE7UUFDYix1QkFBdUI7UUFDdkIsZ0JBQWdCO1FBQ2hCLFNBQVM7UUFDVCxVQUFVO1FBQ1YsT0FBTztRQUNQLFlBQVk7UUFDWixVQUFVO1FBQ1YsT0FBTztLQUNSLENBQUM7SUFDRixNQUFNLEVBQUUsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsOENBQThDLENBQUMsQ0FBQyxRQUFRLEVBQUU7SUFDdEYsV0FBVyxF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QUFHLEVBQzdCLGNBQWMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsYUFBYSxJQUNsRCxDQUNWLEVBRUQsaUNBQUssU0FBUyxFQUFDLFlBQVksYUFDeEIsUUFBUSxJQUFJLENBQ1gsdUJBQUMsZUFBTSxJQUNMLElBQUksRUFBQyxRQUFRLEVBQ2IsT0FBTyxFQUFDLFNBQVMsRUFDakIsT0FBTyxFQUFFLFFBQVEsRUFDakIsUUFBUSxFQUFFLGNBQWMsQ0FBQyxTQUFTLElBQUksY0FBYyxDQUFDLFNBQVMsaUJBQ2xELGVBQWUsdUJBR3BCLENBQ1YsRUFDRCx1QkFBQyxlQUFNLElBQ0wsSUFBSSxFQUFDLFFBQVEsRUFDYixRQUFRLEVBQUUsY0FBYyxDQUFDLFNBQVMsSUFBSSxjQUFjLENBQUMsU0FBUyxFQUM5RCxTQUFTLEVBQUMsZUFBZSxpQkFDWixJQUFJLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLGVBQWUsWUFFakUsY0FBYyxDQUFDLFNBQVM7d0RBQ3ZCLENBQUMsQ0FBQyxDQUFDLElBQUksS0FBSyxRQUFRLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDO3dEQUNyRCxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxHQUVoRCxJQUNMLElBQ0YsSUFDRCxHQUNGLEdBQ0ssSUFDVCxHQUNILENBQ1AsQ0FBQztBQUNKLENBQUM7QUFFRCxrQkFBZSxRQUFRLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9jbGllbnQvc3JjL2NvbXBvbmVudHMvY29tbW9uL0JpbGxGb3JtLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VGb3JtIH0gZnJvbSAncmVhY3QtaG9vay1mb3JtJztcbmltcG9ydCB7IHpvZFJlc29sdmVyIH0gZnJvbSAnQGhvb2tmb3JtL3Jlc29sdmVycy96b2QnO1xuaW1wb3J0IHsgdXNlTXV0YXRpb24sIHVzZVF1ZXJ5Q2xpZW50IH0gZnJvbSAnQHRhbnN0YWNrL3JlYWN0LXF1ZXJ5JztcbmltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbic7XG5pbXBvcnQgeyBJbnB1dCB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9pbnB1dCc7XG5pbXBvcnQgeyBUZXh0YXJlYSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS90ZXh0YXJlYSc7XG5pbXBvcnQgeyBCYWRnZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9iYWRnZSc7XG5pbXBvcnQgeyBUYWJzLCBUYWJzQ29udGVudCwgVGFic0xpc3QsIFRhYnNUcmlnZ2VyIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3RhYnMnO1xuaW1wb3J0IHtcbiAgRm9ybSxcbiAgRm9ybUNvbnRyb2wsXG4gIEZvcm1GaWVsZCxcbiAgRm9ybUl0ZW0sXG4gIEZvcm1MYWJlbCxcbiAgRm9ybU1lc3NhZ2UsXG59IGZyb20gJ0AvY29tcG9uZW50cy91aS9mb3JtJztcbmltcG9ydCB7XG4gIFNlbGVjdCxcbiAgU2VsZWN0Q29udGVudCxcbiAgU2VsZWN0SXRlbSxcbiAgU2VsZWN0VHJpZ2dlcixcbiAgU2VsZWN0VmFsdWUsXG59IGZyb20gJ0AvY29tcG9uZW50cy91aS9zZWxlY3QnO1xuaW1wb3J0IHsgRmlsZVRleHQsIFVwbG9hZCwgU3BhcmtsZXMsIFBhcGVyY2xpcCwgUGx1cywgWCwgVHJhc2gyIH0gZnJvbSAnbHVjaWRlLXJlYWN0JztcbmltcG9ydCB7IHVzZUxhbmd1YWdlIH0gZnJvbSAnQC9ob29rcy91c2UtbGFuZ3VhZ2UnO1xuaW1wb3J0IHR5cGUgeyBCaWxsIH0gZnJvbSAnQHNoYXJlZC9zY2hlbWEnO1xuaW1wb3J0IHsgRmlsZVVwbG9hZCB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9maWxlLXVwbG9hZCc7XG5pbXBvcnQgeyBBdHRhY2hlZEZpbGVTZWN0aW9uIH0gZnJvbSAnLi9BdHRhY2hlZEZpbGVTZWN0aW9uJztcbmltcG9ydCB7IERvY3VtZW50VHlwZVNlbGVjdG9yLCB0eXBlIERvY3VtZW50TW9kZSB9IGZyb20gJy4vRG9jdW1lbnRUeXBlU2VsZWN0b3InO1xuXG4vLyBVbmlmaWVkIGZvcm0gc2NoZW1hXG5jb25zdCBiaWxsRm9ybVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgdGl0bGU6IHouc3RyaW5nKCkubWluKDEsICdCaWxsIHRpdGxlIGlzIHJlcXVpcmVkIChleGFtcGxlOiBNb250aGx5IEVsZWN0cmljaXR5IEJpbGwpJykubWF4KDIwMCwgJ1RpdGxlIG11c3QgYmUgbGVzcyB0aGFuIDIwMCBjaGFyYWN0ZXJzJyksXG4gIGRlc2NyaXB0aW9uOiB6LnN0cmluZygpLm1heCgxMDAwLCAnRGVzY3JpcHRpb24gbXVzdCBiZSBsZXNzIHRoYW4gMTAwMCBjaGFyYWN0ZXJzJykub3B0aW9uYWwoKSxcbiAgY2F0ZWdvcnk6IHouZW51bShbXG4gICAgJ2luc3VyYW5jZScsXG4gICAgJ21haW50ZW5hbmNlJyxcbiAgICAnc2FsYXJ5JyxcbiAgICAndXRpbGl0aWVzJyxcbiAgICAnY2xlYW5pbmcnLFxuICAgICdzZWN1cml0eScsXG4gICAgJ2xhbmRzY2FwaW5nJyxcbiAgICAncHJvZmVzc2lvbmFsX3NlcnZpY2VzJyxcbiAgICAnYWRtaW5pc3RyYXRpb24nLFxuICAgICdyZXBhaXJzJyxcbiAgICAnc3VwcGxpZXMnLFxuICAgICd0YXhlcycsXG4gICAgJ3RlY2hub2xvZ3knLFxuICAgICdyZXNlcnZlcycsXG4gICAgJ290aGVyJyxcbiAgXSksXG4gIHZlbmRvcjogei5zdHJpbmcoKS5tYXgoMTUwLCAnVmVuZG9yIG5hbWUgbXVzdCBiZSBsZXNzIHRoYW4gMTUwIGNoYXJhY3RlcnMnKS5vcHRpb25hbCgpLFxuICBwYXltZW50VHlwZTogei5lbnVtKFsndW5pcXVlJywgJ3JlY3VycmVudCddKSxcbiAgc2NoZWR1bGVQYXltZW50OiB6LmVudW0oWyd3ZWVrbHknLCAnbW9udGhseScsICdxdWFydGVybHknLCAneWVhcmx5JywgJ2N1c3RvbSddKS5vcHRpb25hbCgpLFxuICBjdXN0b21QYXltZW50czogei5hcnJheSh6Lm9iamVjdCh7XG4gICAgYW1vdW50OiB6LnN0cmluZygpLm1pbigxLCAnQW1vdW50IGlzIHJlcXVpcmVkJykucmVmaW5lKCh2YWwpID0+IHtcbiAgICAgIGNvbnN0IG51bSA9IHBhcnNlRmxvYXQodmFsKTtcbiAgICAgIHJldHVybiAhaXNOYU4obnVtKSAmJiBudW0gPiAwICYmIG51bSA8PSA5OTk5OTkuOTk7XG4gICAgfSwgJ0Ftb3VudCBtdXN0IGJlIGJldHdlZW4gJDAuMDEgYW5kICQ5OTksOTk5Ljk5JyksXG4gICAgZGF0ZTogei5zdHJpbmcoKS5taW4oMSwgJ0RhdGUgaXMgcmVxdWlyZWQnKS5yZWZpbmUoKHZhbCkgPT4ge1xuICAgICAgcmV0dXJuICFpc05hTihEYXRlLnBhcnNlKHZhbCkpO1xuICAgIH0sICdEYXRlIG11c3QgYmUgYSB2YWxpZCBkYXRlJyksXG4gICAgZGVzY3JpcHRpb246IHouc3RyaW5nKCkub3B0aW9uYWwoKVxuICB9KSkub3B0aW9uYWwoKSxcbiAgdG90YWxBbW91bnQ6IHouc3RyaW5nKCkubWluKDEsICdBbW91bnQgaXMgcmVxdWlyZWQgYW5kIG11c3QgYmUgYSB2YWxpZCBudW1iZXIgKGV4YW1wbGU6IDEyNTAuNTApJykucmVmaW5lKCh2YWwpID0+IHtcbiAgICBjb25zdCBudW0gPSBwYXJzZUZsb2F0KHZhbCk7XG4gICAgcmV0dXJuICFpc05hTihudW0pICYmIG51bSA+IDAgJiYgbnVtIDw9IDk5OTk5OS45OTtcbiAgfSwgJ0Ftb3VudCBtdXN0IGJlIGJldHdlZW4gJDAuMDEgYW5kICQ5OTksOTk5Ljk5IChleGFtcGxlOiAxMjUwLjUwKScpLFxuICBzdGFydERhdGU6IHouc3RyaW5nKCkubWluKDEsICdTdGFydCBkYXRlIGlzIHJlcXVpcmVkIChleGFtcGxlOiAyMDI1LTAxLTE1KScpLnJlZmluZSgodmFsKSA9PiB7XG4gICAgcmV0dXJuICFpc05hTihEYXRlLnBhcnNlKHZhbCkpO1xuICB9LCAnU3RhcnQgZGF0ZSBtdXN0IGJlIGEgdmFsaWQgZGF0ZSAoZXhhbXBsZTogMjAyNS0wMS0xNSknKSxcbiAgZW5kRGF0ZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLnJlZmluZSgodmFsKSA9PiB7XG4gICAgaWYgKCF2YWwpIHJldHVybiB0cnVlO1xuICAgIHJldHVybiAhaXNOYU4oRGF0ZS5wYXJzZSh2YWwpKTtcbiAgfSwgJ0VuZCBkYXRlIG11c3QgYmUgYSB2YWxpZCBkYXRlIChleGFtcGxlOiAyMDI1LTEyLTMxKScpLFxuICBzdGF0dXM6IHouZW51bShbJ2RyYWZ0JywgJ3NlbnQnLCAnb3ZlcmR1ZScsICdwYWlkJywgJ2NhbmNlbGxlZCddKSxcbiAgbm90ZXM6IHouc3RyaW5nKCkubWF4KDIwMDAsICdOb3RlcyBtdXN0IGJlIGxlc3MgdGhhbiAyMDAwIGNoYXJhY3RlcnMnKS5vcHRpb25hbCgpLFxufSk7XG5cbi8qKlxuICpcbiAqL1xudHlwZSBCaWxsRm9ybURhdGEgPSB6LmluZmVyPHR5cGVvZiBiaWxsRm9ybVNjaGVtYT47XG5cbnR5cGUgQ3VzdG9tUGF5bWVudCA9IHtcbiAgYW1vdW50OiBzdHJpbmc7XG4gIGRhdGU6IHN0cmluZztcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG59O1xuXG4vLyBBSSBhbmFseXNpcyByZXN1bHQgaW50ZXJmYWNlXG4vKipcbiAqXG4gKi9cbmludGVyZmFjZSBBaUFuYWx5c2lzUmVzdWx0IHtcbiAgdGl0bGU6IHN0cmluZztcbiAgdmVuZG9yPzogc3RyaW5nO1xuICBjYXRlZ29yeTogQmlsbEZvcm1EYXRhWydjYXRlZ29yeSddO1xuICB0b3RhbEFtb3VudDogc3RyaW5nO1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgaXNzdWVEYXRlPzogc3RyaW5nO1xuICBkdWVEYXRlPzogc3RyaW5nO1xuICBiaWxsTnVtYmVyPzogc3RyaW5nO1xuICB2ZW5kb3JDb250YWN0Pzogc3RyaW5nO1xuICBwYXltZW50VHlwZT86ICd1bmlxdWUnIHwgJ3JlY3VycmVudCc7XG4gIGlzUmVjdXJyZW50PzogYm9vbGVhbjtcbiAgY29uZmlkZW5jZTogbnVtYmVyO1xuICBmaWVsZENvbmZpZGVuY2VzOiB7XG4gICAgdGl0bGU6IG51bWJlcjtcbiAgICB2ZW5kb3I6IG51bWJlcjtcbiAgICBjYXRlZ29yeTogbnVtYmVyO1xuICAgIHRvdGFsQW1vdW50OiBudW1iZXI7XG4gICAgcGF5bWVudFR5cGU6IG51bWJlcjtcbiAgICBkYXRlczogbnVtYmVyO1xuICB9O1xufVxuXG4vLyBDdXN0b20gUGF5bWVudCBTY2hlZHVsZSBDb21wb25lbnRcbmludGVyZmFjZSBDdXN0b21QYXltZW50U2NoZWR1bGVQcm9wcyB7XG4gIHBheW1lbnRzOiBDdXN0b21QYXltZW50W107XG4gIG9uQ2hhbmdlOiAocGF5bWVudHM6IEN1c3RvbVBheW1lbnRbXSkgPT4gdm9pZDtcbiAgb25Ub3RhbEFtb3VudENoYW5nZTogKHRvdGFsOiBzdHJpbmcpID0+IHZvaWQ7XG59XG5cbmZ1bmN0aW9uIEN1c3RvbVBheW1lbnRTY2hlZHVsZSh7IHBheW1lbnRzLCBvbkNoYW5nZSwgb25Ub3RhbEFtb3VudENoYW5nZSB9OiBDdXN0b21QYXltZW50U2NoZWR1bGVQcm9wcykge1xuICBjb25zdCBhZGRQYXltZW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IG5ld1BheW1lbnQ6IEN1c3RvbVBheW1lbnQgPSB7XG4gICAgICBhbW91bnQ6ICcnLFxuICAgICAgZGF0ZTogJycsXG4gICAgICBkZXNjcmlwdGlvbjogJydcbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZWRQYXltZW50cyA9IFsuLi5wYXltZW50cywgbmV3UGF5bWVudF07XG4gICAgb25DaGFuZ2UodXBkYXRlZFBheW1lbnRzKTtcbiAgfTtcblxuICBjb25zdCByZW1vdmVQYXltZW50ID0gKGluZGV4OiBudW1iZXIpID0+IHtcbiAgICBjb25zdCB1cGRhdGVkUGF5bWVudHMgPSBwYXltZW50cy5maWx0ZXIoKF8sIGkpID0+IGkgIT09IGluZGV4KTtcbiAgICBvbkNoYW5nZSh1cGRhdGVkUGF5bWVudHMpO1xuICAgIHVwZGF0ZVRvdGFsQW1vdW50KHVwZGF0ZWRQYXltZW50cyk7XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlUGF5bWVudCA9IChpbmRleDogbnVtYmVyLCBmaWVsZDoga2V5b2YgQ3VzdG9tUGF5bWVudCwgdmFsdWU6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IHVwZGF0ZWRQYXltZW50cyA9IHBheW1lbnRzLm1hcCgocGF5bWVudCwgaSkgPT4gXG4gICAgICBpID09PSBpbmRleCA/IHsgLi4ucGF5bWVudCwgW2ZpZWxkXTogdmFsdWUgfSA6IHBheW1lbnRcbiAgICApO1xuICAgIG9uQ2hhbmdlKHVwZGF0ZWRQYXltZW50cyk7XG4gICAgXG4gICAgaWYgKGZpZWxkID09PSAnYW1vdW50Jykge1xuICAgICAgdXBkYXRlVG90YWxBbW91bnQodXBkYXRlZFBheW1lbnRzKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlVG90YWxBbW91bnQgPSAocGF5bWVudHNBcnJheTogQ3VzdG9tUGF5bWVudFtdKSA9PiB7XG4gICAgY29uc3QgdG90YWwgPSBwYXltZW50c0FycmF5LnJlZHVjZSgoc3VtLCBwYXltZW50KSA9PiB7XG4gICAgICBjb25zdCBhbW91bnQgPSBwYXJzZUZsb2F0KHBheW1lbnQuYW1vdW50KSB8fCAwO1xuICAgICAgcmV0dXJuIHN1bSArIGFtb3VudDtcbiAgICB9LCAwKTtcbiAgICBvblRvdGFsQW1vdW50Q2hhbmdlKHRvdGFsLnRvRml4ZWQoMikpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMFwiPkFkZCBpbmRpdmlkdWFsIHBheW1lbnQgYW1vdW50cyBhbmQgZGF0ZXM8L3NwYW4+XG4gICAgICAgIDxCdXR0b25cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICBvbkNsaWNrPXthZGRQYXltZW50fVxuICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgIGNsYXNzTmFtZT1cImdhcC0yXCJcbiAgICAgICAgICBkYXRhLXRlc3RpZD1cImJ1dHRvbi1hZGQtcGF5bWVudFwiXG4gICAgICAgID5cbiAgICAgICAgICA8UGx1cyBjbGFzc05hbWU9XCJoLTQgdy00XCIgLz5cbiAgICAgICAgICBBZGQgUGF5bWVudFxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7cGF5bWVudHMubGVuZ3RoID09PSAwICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBweS02IHRleHQtZ3JheS01MDAgYm9yZGVyLTIgYm9yZGVyLWRhc2hlZCBib3JkZXItZ3JheS0yMDAgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgIENsaWNrIFwiQWRkIFBheW1lbnRcIiB0byBjcmVhdGUgeW91ciBjdXN0b20gcGF5bWVudCBzY2hlZHVsZVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgIHtwYXltZW50cy5tYXAoKHBheW1lbnQsIGluZGV4KSA9PiAoXG4gICAgICAgICAgPGRpdiBrZXk9e2luZGV4fSBjbGFzc05hbWU9XCJmbGV4IGdhcC0zIGl0ZW1zLXN0YXJ0IHAtMyBib3JkZXIgYm9yZGVyLWdyYXktMjAwIHJvdW5kZWQtbGcgYmctZ3JheS01MFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgZ3JpZCBncmlkLWNvbHMtMyBnYXAtM1wiPlxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgQW1vdW50ICpcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICBzdGVwPVwiMC4wMVwiXG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIjAuMDBcIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3BheW1lbnQuYW1vdW50fVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB1cGRhdGVQYXltZW50KGluZGV4LCAnYW1vdW50JywgZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9e2BpbnB1dC1wYXltZW50LWFtb3VudC0ke2luZGV4fWB9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICBEYXRlICpcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgdHlwZT1cImRhdGVcIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3BheW1lbnQuZGF0ZX1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gdXBkYXRlUGF5bWVudChpbmRleCwgJ2RhdGUnLCBlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD17YGlucHV0LXBheW1lbnQtZGF0ZS0ke2luZGV4fWB9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICBEZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBheW1lbnQgbm90ZVwiXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17cGF5bWVudC5kZXNjcmlwdGlvbiB8fCAnJ31cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gdXBkYXRlUGF5bWVudChpbmRleCwgJ2Rlc2NyaXB0aW9uJywgZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9e2BpbnB1dC1wYXltZW50LWRlc2NyaXB0aW9uLSR7aW5kZXh9YH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gcmVtb3ZlUGF5bWVudChpbmRleCl9XG4gICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgIHZhcmlhbnQ9XCJnaG9zdFwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtcmVkLTUwMCBob3Zlcjp0ZXh0LXJlZC03MDAgcC0yXCJcbiAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9e2BidXR0b24tcmVtb3ZlLXBheW1lbnQtJHtpbmRleH1gfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8WCBjbGFzc05hbWU9XCJoLTQgdy00XCIgLz5cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7cGF5bWVudHMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1yaWdodCB0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj5cbiAgICAgICAgICBUb3RhbDogJHtwYXltZW50cy5yZWR1Y2UoKHN1bSwgcGF5bWVudCkgPT4gc3VtICsgKHBhcnNlRmxvYXQocGF5bWVudC5hbW91bnQpIHx8IDApLCAwKS50b0ZpeGVkKDIpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbi8vIENvbXBvbmVudCBwcm9wcyBpbnRlcmZhY2Vcbi8qKlxuICpcbiAqL1xuaW50ZXJmYWNlIEJpbGxGb3JtUHJvcHMge1xuICBtb2RlOiAnY3JlYXRlJyB8ICdlZGl0JztcbiAgYnVpbGRpbmdJZDogc3RyaW5nO1xuICBiaWxsPzogQmlsbDsgLy8gUmVxdWlyZWQgZm9yIGVkaXQgbW9kZVxuICBvblN1Y2Nlc3M6ICgpID0+IHZvaWQ7XG4gIG9uQ2FuY2VsPzogKCkgPT4gdm9pZDsgLy8gT3B0aW9uYWwgZm9yIGNyZWF0ZSBtb2RlXG59XG5cbi8vIEJpbGwgY2F0ZWdvcnkgb3B0aW9ucyAtIGNlbnRyYWxpemVkIGxpc3RcbmV4cG9ydCBjb25zdCBCSUxMX0NBVEVHT1JJRVMgPSBbXG4gIHsgdmFsdWU6ICdpbnN1cmFuY2UnLCBsYWJlbDogJ0luc3VyYW5jZScgfSxcbiAgeyB2YWx1ZTogJ21haW50ZW5hbmNlJywgbGFiZWw6ICdNYWludGVuYW5jZScgfSxcbiAgeyB2YWx1ZTogJ3NhbGFyeScsIGxhYmVsOiAnU2FsYXJ5JyB9LFxuICB7IHZhbHVlOiAndXRpbGl0aWVzJywgbGFiZWw6ICdVdGlsaXRpZXMnIH0sXG4gIHsgdmFsdWU6ICdjbGVhbmluZycsIGxhYmVsOiAnQ2xlYW5pbmcnIH0sXG4gIHsgdmFsdWU6ICdzZWN1cml0eScsIGxhYmVsOiAnU2VjdXJpdHknIH0sXG4gIHsgdmFsdWU6ICdsYW5kc2NhcGluZycsIGxhYmVsOiAnTGFuZHNjYXBpbmcnIH0sXG4gIHsgdmFsdWU6ICdwcm9mZXNzaW9uYWxfc2VydmljZXMnLCBsYWJlbDogJ1Byb2Zlc3Npb25hbCBTZXJ2aWNlcycgfSxcbiAgeyB2YWx1ZTogJ2FkbWluaXN0cmF0aW9uJywgbGFiZWw6ICdBZG1pbmlzdHJhdGlvbicgfSxcbiAgeyB2YWx1ZTogJ3JlcGFpcnMnLCBsYWJlbDogJ1JlcGFpcnMnIH0sXG4gIHsgdmFsdWU6ICdzdXBwbGllcycsIGxhYmVsOiAnU3VwcGxpZXMnIH0sXG4gIHsgdmFsdWU6ICd0YXhlcycsIGxhYmVsOiAnVGF4ZXMnIH0sXG4gIHsgdmFsdWU6ICd0ZWNobm9sb2d5JywgbGFiZWw6ICdUZWNobm9sb2d5JyB9LFxuICB7IHZhbHVlOiAncmVzZXJ2ZXMnLCBsYWJlbDogJ1Jlc2VydmVzJyB9LFxuICB7IHZhbHVlOiAnb3RoZXInLCBsYWJlbDogJ090aGVyJyB9LFxuXSBhcyBjb25zdDtcblxuLy8gUGF5bWVudCB0eXBlIG9wdGlvbnNcbmV4cG9ydCBjb25zdCBQQVlNRU5UX1RZUEVTID0gW1xuICB7IHZhbHVlOiAndW5pcXVlJywgbGFiZWw6ICdPbmUtdGltZSBQYXltZW50JyB9LFxuICB7IHZhbHVlOiAncmVjdXJyZW50JywgbGFiZWw6ICdSZWN1cnJpbmcgUGF5bWVudCcgfSxcbl0gYXMgY29uc3Q7XG5cbi8vIFNjaGVkdWxlIG9wdGlvbnNcbmV4cG9ydCBjb25zdCBTQ0hFRFVMRV9PUFRJT05TID0gW1xuICB7IHZhbHVlOiAnd2Vla2x5JywgbGFiZWw6ICdXZWVrbHknIH0sXG4gIHsgdmFsdWU6ICdtb250aGx5JywgbGFiZWw6ICdNb250aGx5JyB9LFxuICB7IHZhbHVlOiAncXVhcnRlcmx5JywgbGFiZWw6ICdRdWFydGVybHknIH0sXG4gIHsgdmFsdWU6ICd5ZWFybHknLCBsYWJlbDogJ1llYXJseScgfSxcbiAgeyB2YWx1ZTogJ2N1c3RvbScsIGxhYmVsOiAnQ3VzdG9tJyB9LFxuXSBhcyBjb25zdDtcblxuLy8gU3RhdHVzIG9wdGlvbnNcbmV4cG9ydCBjb25zdCBTVEFUVVNfT1BUSU9OUyA9IFtcbiAgeyB2YWx1ZTogJ2RyYWZ0JywgbGFiZWw6ICdEcmFmdCcgfSxcbiAgeyB2YWx1ZTogJ3NlbnQnLCBsYWJlbDogJ1NlbnQnIH0sXG4gIHsgdmFsdWU6ICdvdmVyZHVlJywgbGFiZWw6ICdPdmVyZHVlJyB9LFxuICB7IHZhbHVlOiAncGFpZCcsIGxhYmVsOiAnUGFpZCcgfSxcbiAgeyB2YWx1ZTogJ2NhbmNlbGxlZCcsIGxhYmVsOiAnQ2FuY2VsbGVkJyB9LFxuXSBhcyBjb25zdDtcblxuLyoqXG4gKiBVbmlmaWVkIGJpbGwgZm9ybSBjb21wb25lbnQgZm9yIGNyZWF0aW5nIGFuZCBlZGl0aW5nIGJpbGxzLlxuICogU3VwcG9ydHMgYm90aCBtYW51YWwgZW50cnkgYW5kIEFJIGRvY3VtZW50IGFuYWx5c2lzIGZvciBjcmVhdGlvbi5cbiAqIEBwYXJhbSByb290MFxuICogQHBhcmFtIHJvb3QwLm1vZGVcbiAqIEBwYXJhbSByb290MC5idWlsZGluZ0lkXG4gKiBAcGFyYW0gcm9vdDAuYmlsbFxuICogQHBhcmFtIHJvb3QwLm9uU3VjY2Vzc1xuICogQHBhcmFtIHJvb3QwLm9uQ2FuY2VsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBCaWxsRm9ybSh7IG1vZGUsIGJ1aWxkaW5nSWQsIGJpbGwsIG9uU3VjY2Vzcywgb25DYW5jZWwgfTogQmlsbEZvcm1Qcm9wcykge1xuICBjb25zdCB7IHQgfSA9IHVzZUxhbmd1YWdlKCk7XG4gIGNvbnN0IFthY3RpdmVUYWIsIHNldEFjdGl2ZVRhYl0gPSB1c2VTdGF0ZShtb2RlID09PSAnZWRpdCcgPyAnbWFudWFsJyA6ICdtYW51YWwnKTtcbiAgY29uc3QgW3VwbG9hZGVkRmlsZSwgc2V0VXBsb2FkZWRGaWxlXSA9IHVzZVN0YXRlPEZpbGUgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2FpQW5hbHlzaXNEYXRhLCBzZXRBaUFuYWx5c2lzRGF0YV0gPSB1c2VTdGF0ZTxBaUFuYWx5c2lzUmVzdWx0IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFthaURvY3VtZW50RmlsZSwgc2V0QWlEb2N1bWVudEZpbGVdID0gdXNlU3RhdGU8RmlsZSB8IG51bGw+KG51bGwpOyAvLyBTdG9yZSB0aGUgQUkgYW5hbHl6ZWQgZG9jdW1lbnRcbiAgY29uc3QgW2lzQW5hbHl6aW5nLCBzZXRJc0FuYWx5emluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthdHRhY2hlZEZpbGVzLCBzZXRBdHRhY2hlZEZpbGVzXSA9IHVzZVN0YXRlPEZpbGVbXT4oW10pO1xuICBjb25zdCBbYXR0YWNobWVudE1vZGUsIHNldEF0dGFjaG1lbnRNb2RlXSA9IHVzZVN0YXRlPERvY3VtZW50TW9kZT4oJ2ZpbGUnKTtcbiAgY29uc3QgW2F0dGFjaG1lbnRUZXh0LCBzZXRBdHRhY2htZW50VGV4dF0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtzZWxlY3RlZEZpbGUsIHNldFNlbGVjdGVkRmlsZV0gPSB1c2VTdGF0ZTxGaWxlIHwgbnVsbD4obnVsbCk7XG5cbiAgY29uc3QgcXVlcnlDbGllbnQgPSB1c2VRdWVyeUNsaWVudCgpO1xuXG4gIC8vIEZvcm0gc2V0dXAgd2l0aCBkZWZhdWx0IHZhbHVlcyBiYXNlZCBvbiBtb2RlXG4gIGNvbnN0IGdldERlZmF1bHRWYWx1ZXMgPSAoKTogQmlsbEZvcm1EYXRhID0+IHtcbiAgICBpZiAobW9kZSA9PT0gJ2VkaXQnICYmIGJpbGwpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRpdGxlOiBiaWxsLnRpdGxlLFxuICAgICAgICBkZXNjcmlwdGlvbjogYmlsbC5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgICAgY2F0ZWdvcnk6IGJpbGwuY2F0ZWdvcnksXG4gICAgICAgIHZlbmRvcjogYmlsbC52ZW5kb3IgfHwgJycsXG4gICAgICAgIHBheW1lbnRUeXBlOiBiaWxsLnBheW1lbnRUeXBlLFxuICAgICAgICBzY2hlZHVsZVBheW1lbnQ6IGJpbGwuc2NoZWR1bGVQYXltZW50IHx8ICdtb250aGx5JyxcbiAgICAgICAgY3VzdG9tUGF5bWVudHM6IFtdLFxuICAgICAgICB0b3RhbEFtb3VudDogYmlsbC50b3RhbEFtb3VudC50b1N0cmluZygpLFxuICAgICAgICBzdGFydERhdGU6IGJpbGwuc3RhcnREYXRlLFxuICAgICAgICBlbmREYXRlOiBiaWxsLmVuZERhdGUgfHwgJycsXG4gICAgICAgIHN0YXR1czogYmlsbC5zdGF0dXMsXG4gICAgICAgIG5vdGVzOiBiaWxsLm5vdGVzIHx8ICcnLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBEZWZhdWx0IHZhbHVlcyBmb3IgY3JlYXRlIG1vZGVcbiAgICByZXR1cm4ge1xuICAgICAgdGl0bGU6ICcnLFxuICAgICAgZGVzY3JpcHRpb246ICcnLFxuICAgICAgY2F0ZWdvcnk6ICdvdGhlcicsXG4gICAgICB2ZW5kb3I6ICcnLFxuICAgICAgcGF5bWVudFR5cGU6ICd1bmlxdWUnLFxuICAgICAgc2NoZWR1bGVQYXltZW50OiAnbW9udGhseScsXG4gICAgICBjdXN0b21QYXltZW50czogW10sXG4gICAgICB0b3RhbEFtb3VudDogJycsXG4gICAgICBzdGFydERhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdLFxuICAgICAgZW5kRGF0ZTogJycsXG4gICAgICBzdGF0dXM6ICdkcmFmdCcsXG4gICAgICBub3RlczogJycsXG4gICAgfTtcbiAgfTtcblxuICBjb25zdCBmb3JtID0gdXNlRm9ybTxCaWxsRm9ybURhdGE+KHtcbiAgICByZXNvbHZlcjogem9kUmVzb2x2ZXIoYmlsbEZvcm1TY2hlbWEpLFxuICAgIGRlZmF1bHRWYWx1ZXM6IGdldERlZmF1bHRWYWx1ZXMoKSxcbiAgfSk7XG5cbiAgLy8gVXBkYXRlIGZvcm0gd2hlbiBiaWxsIGNoYW5nZXMgKGZvciBlZGl0IG1vZGUpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKG1vZGUgPT09ICdlZGl0JyAmJiBiaWxsKSB7XG4gICAgICBmb3JtLnJlc2V0KGdldERlZmF1bHRWYWx1ZXMoKSk7XG4gICAgfVxuICB9LCBbbW9kZSwgYmlsbF0pO1xuXG4gIC8vIE1haW4gbXV0YXRpb24gZm9yIGNyZWF0ZS91cGRhdGVcbiAgY29uc3Qgc3VibWl0TXV0YXRpb24gPSB1c2VNdXRhdGlvbih7XG4gICAgbXV0YXRpb25GbjogYXN5bmMgKGJpbGxEYXRhOiBCaWxsRm9ybURhdGEpID0+IHtcbiAgICAgIGNvbnN0IHVybCA9IG1vZGUgPT09ICdjcmVhdGUnID8gJy9hcGkvYmlsbHMnIDogYC9hcGkvYmlsbHMvJHtiaWxsPy5pZH1gO1xuICAgICAgY29uc3QgbWV0aG9kID0gbW9kZSA9PT0gJ2NyZWF0ZScgPyAnUE9TVCcgOiAnUEFUQ0gnO1xuXG4gICAgICAvLyBIYW5kbGUgY3VzdG9tIHBheW1lbnRzIHZzIHJlZ3VsYXIgcGF5bWVudFxuICAgICAgY29uc3QgY29zdHMgPSBiaWxsRGF0YS5zY2hlZHVsZVBheW1lbnQgPT09ICdjdXN0b20nICYmIGJpbGxEYXRhLmN1c3RvbVBheW1lbnRzPy5sZW5ndGhcbiAgICAgICAgPyBiaWxsRGF0YS5jdXN0b21QYXltZW50cy5tYXAocGF5bWVudCA9PiBwYXltZW50LmFtb3VudClcbiAgICAgICAgOiBbYmlsbERhdGEudG90YWxBbW91bnRdO1xuXG4gICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAuLi5iaWxsRGF0YSxcbiAgICAgICAgY29zdHMsXG4gICAgICAgIC4uLihtb2RlID09PSAnY3JlYXRlJyAmJiB7IGJ1aWxkaW5nSWQgfSksXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgICBtZXRob2QsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvICR7bW9kZX0gYmlsbGApO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBiaWxsUmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBJZiB3ZSBoYXZlIGFuIEFJIGRvY3VtZW50IGZpbGUgYW5kIHdlJ3JlIGNyZWF0aW5nIGEgYmlsbCwgdXBsb2FkIGl0XG4gICAgICBpZiAobW9kZSA9PT0gJ2NyZWF0ZScgJiYgYWlEb2N1bWVudEZpbGUgJiYgYmlsbFJlc3VsdC5pZCkge1xuICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2RvY3VtZW50JywgYWlEb2N1bWVudEZpbGUpO1xuXG4gICAgICAgIGNvbnN0IHVwbG9hZFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvYmlsbHMvJHtiaWxsUmVzdWx0LmlkfS91cGxvYWQtZG9jdW1lbnRgLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgICBib2R5OiBmb3JtRGF0YSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCF1cGxvYWRSZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIHVwbG9hZCBBSSBkb2N1bWVudCB0byBjcmVhdGVkIGJpbGwnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gYmlsbFJlc3VsdDtcbiAgICB9LFxuICAgIG9uU3VjY2VzczogKCkgPT4ge1xuICAgICAgcXVlcnlDbGllbnQuaW52YWxpZGF0ZVF1ZXJpZXMoeyBxdWVyeUtleTogWycvYXBpL2JpbGxzJ10gfSk7XG4gICAgICBvblN1Y2Nlc3MoKTtcbiAgICB9LFxuICB9KTtcblxuICAvLyBEZWxldGUgbXV0YXRpb24gKG9ubHkgZm9yIGVkaXQgbW9kZSlcbiAgY29uc3QgZGVsZXRlTXV0YXRpb24gPSB1c2VNdXRhdGlvbih7XG4gICAgbXV0YXRpb25GbjogYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFiaWxsPy5pZCkgdGhyb3cgbmV3IEVycm9yKCdObyBiaWxsIElEIHByb3ZpZGVkJyk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvYmlsbHMvJHtiaWxsLmlkfWAsIHtcbiAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGRlbGV0ZSBiaWxsJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfSxcbiAgICBvblN1Y2Nlc3M6ICgpID0+IHtcbiAgICAgIHF1ZXJ5Q2xpZW50LmludmFsaWRhdGVRdWVyaWVzKHsgcXVlcnlLZXk6IFsnL2FwaS9iaWxscyddIH0pO1xuICAgICAgb25TdWNjZXNzKCk7XG4gICAgfSxcbiAgfSk7XG5cbiAgLy8gQUkgYW5hbHlzaXMgbXV0YXRpb24gKG9ubHkgZm9yIGNyZWF0ZSBtb2RlKVxuICBjb25zdCB1cGxvYWRBbmRBbmFseXplTXV0YXRpb24gPSB1c2VNdXRhdGlvbih7XG4gICAgbXV0YXRpb25GbjogYXN5bmMgKGZpbGU6IEZpbGUpID0+IHtcbiAgICAgIHNldElzQW5hbHl6aW5nKHRydWUpO1xuICAgICAgXG4gICAgICAvLyBEaXJlY3QgQVBJIGNhbGwgdG8gYW5hbHl6ZSBkb2N1bWVudCB3aXRob3V0IGNyZWF0aW5nIGEgYmlsbFxuICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZG9jdW1lbnQnLCBmaWxlKTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9iaWxscy9hbmFseXplLWRvY3VtZW50Jywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgYm9keTogZm9ybURhdGEsXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBhbmFseXplIGRvY3VtZW50Jyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIHJldHVybiB7IGFuYWx5c2lzUmVzdWx0OiByZXN1bHQsIGZpbGUgfTtcbiAgICB9LFxuICAgIG9uU3VjY2VzczogKGRhdGEpID0+IHtcbiAgICAgIHNldElzQW5hbHl6aW5nKGZhbHNlKTtcbiAgICAgIHNldEFpQW5hbHlzaXNEYXRhKGRhdGEuYW5hbHlzaXNSZXN1bHQpO1xuICAgICAgc2V0QWlEb2N1bWVudEZpbGUoZGF0YS5maWxlKTsgLy8gU3RvcmUgdGhlIGFuYWx5emVkIGZpbGUgZm9yIGxhdGVyIHVwbG9hZFxuICAgICAgXG4gICAgICAvLyBBdXRvLXN3aXRjaCB0byBtYW51YWwgdGFiIGFuZCBzbWFydGx5IGZpbGwgZm9ybVxuICAgICAgc2V0QWN0aXZlVGFiKCdtYW51YWwnKTtcbiAgICAgIFxuICAgICAgLy8gQXBwbHkgQUkgYW5hbHlzaXMgd2hpbGUgcmVzcGVjdGluZyB1c2VyIGlucHV0XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKGRhdGEuYW5hbHlzaXNSZXN1bHQpIHtcbiAgICAgICAgICBjb25zdCBjdXJyZW50VmFsdWVzID0gZm9ybS5nZXRWYWx1ZXMoKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBPbmx5IGZpbGwgZW1wdHkgb3IgZGVmYXVsdCBmaWVsZHNcbiAgICAgICAgICBpZiAoIWN1cnJlbnRWYWx1ZXMudGl0bGUgfHwgY3VycmVudFZhbHVlcy50aXRsZSA9PT0gJycgfHwgY3VycmVudFZhbHVlcy50aXRsZSA9PT0gJ0FJIEFuYWx5c2lzIERyYWZ0Jykge1xuICAgICAgICAgICAgZm9ybS5zZXRWYWx1ZSgndGl0bGUnLCBkYXRhLmFuYWx5c2lzUmVzdWx0LnRpdGxlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKCFjdXJyZW50VmFsdWVzLnZlbmRvciB8fCBjdXJyZW50VmFsdWVzLnZlbmRvciA9PT0gJycpIHtcbiAgICAgICAgICAgIGZvcm0uc2V0VmFsdWUoJ3ZlbmRvcicsIGRhdGEuYW5hbHlzaXNSZXN1bHQudmVuZG9yIHx8ICcnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKCFjdXJyZW50VmFsdWVzLmNhdGVnb3J5IHx8IGN1cnJlbnRWYWx1ZXMuY2F0ZWdvcnkgPT09ICdvdGhlcicpIHtcbiAgICAgICAgICAgIGZvcm0uc2V0VmFsdWUoJ2NhdGVnb3J5JywgZGF0YS5hbmFseXNpc1Jlc3VsdC5jYXRlZ29yeSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGlmICghY3VycmVudFZhbHVlcy50b3RhbEFtb3VudCB8fCBjdXJyZW50VmFsdWVzLnRvdGFsQW1vdW50ID09PSAnJyB8fCBjdXJyZW50VmFsdWVzLnRvdGFsQW1vdW50ID09PSAnMCcpIHtcbiAgICAgICAgICAgIGZvcm0uc2V0VmFsdWUoJ3RvdGFsQW1vdW50JywgZGF0YS5hbmFseXNpc1Jlc3VsdC50b3RhbEFtb3VudCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGlmICghY3VycmVudFZhbHVlcy5kZXNjcmlwdGlvbiB8fCBjdXJyZW50VmFsdWVzLmRlc2NyaXB0aW9uID09PSAnJykge1xuICAgICAgICAgICAgZm9ybS5zZXRWYWx1ZSgnZGVzY3JpcHRpb24nLCBkYXRhLmFuYWx5c2lzUmVzdWx0LmRlc2NyaXB0aW9uIHx8ICcnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBPbmx5IHNldCBzdGFydCBkYXRlIGlmIGl0J3MgdGhlIGRlZmF1bHQgKHRvZGF5KSBvciBlbXB0eVxuICAgICAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07XG4gICAgICAgICAgaWYgKCghY3VycmVudFZhbHVlcy5zdGFydERhdGUgfHwgY3VycmVudFZhbHVlcy5zdGFydERhdGUgPT09IHRvZGF5KSAmJiBkYXRhLmFuYWx5c2lzUmVzdWx0Lmlzc3VlRGF0ZSkge1xuICAgICAgICAgICAgZm9ybS5zZXRWYWx1ZSgnc3RhcnREYXRlJywgZGF0YS5hbmFseXNpc1Jlc3VsdC5pc3N1ZURhdGUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEFwcGx5IHBheW1lbnQgdHlwZSBpZiBkZXRlY3RlZCBhbmQgdXNlciBoYXNuJ3QgY2hhbmdlZCBmcm9tIGRlZmF1bHRcbiAgICAgICAgICBpZiAoY3VycmVudFZhbHVlcy5wYXltZW50VHlwZSA9PT0gJ3VuaXF1ZScgJiYgZGF0YS5hbmFseXNpc1Jlc3VsdC5wYXltZW50VHlwZSkge1xuICAgICAgICAgICAgZm9ybS5zZXRWYWx1ZSgncGF5bWVudFR5cGUnLCBkYXRhLmFuYWx5c2lzUmVzdWx0LnBheW1lbnRUeXBlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBBcHBlbmQgdG8gbm90ZXMgKGRvbid0IG92ZXJ3cml0ZSB1c2VyIG5vdGVzKVxuICAgICAgICAgIGxldCBub3RlcyA9IGN1cnJlbnRWYWx1ZXMubm90ZXMgfHwgJyc7XG4gICAgICAgICAgY29uc3QgYWlOb3Rlc1NlY3Rpb24gPSBbXTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoZGF0YS5hbmFseXNpc1Jlc3VsdC5iaWxsTnVtYmVyKSB7XG4gICAgICAgICAgICBhaU5vdGVzU2VjdGlvbi5wdXNoKGBCaWxsIE51bWJlcjogJHtkYXRhLmFuYWx5c2lzUmVzdWx0LmJpbGxOdW1iZXJ9YCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChkYXRhLmFuYWx5c2lzUmVzdWx0LnZlbmRvckNvbnRhY3QpIHtcbiAgICAgICAgICAgIGFpTm90ZXNTZWN0aW9uLnB1c2goYFZlbmRvciBDb250YWN0OiAke2RhdGEuYW5hbHlzaXNSZXN1bHQudmVuZG9yQ29udGFjdH1gKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGRhdGEuYW5hbHlzaXNSZXN1bHQuZHVlRGF0ZSkge1xuICAgICAgICAgICAgYWlOb3Rlc1NlY3Rpb24ucHVzaChgRHVlIERhdGU6ICR7ZGF0YS5hbmFseXNpc1Jlc3VsdC5kdWVEYXRlfWApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhaU5vdGVzU2VjdGlvbi5wdXNoKGBBSSBBbmFseXNpcyBDb25maWRlbmNlOiAkeyhkYXRhLmFuYWx5c2lzUmVzdWx0LmNvbmZpZGVuY2UgKiAxMDApLnRvRml4ZWQoMSl9JWApO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChhaU5vdGVzU2VjdGlvbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBhaU5vdGVzID0gYWlOb3Rlc1NlY3Rpb24uam9pbignXFxuJyk7XG4gICAgICAgICAgICBub3RlcyA9IG5vdGVzID8gYCR7bm90ZXN9XFxuXFxuLS0tIEFJIEFuYWx5c2lzIC0tLVxcbiR7YWlOb3Rlc31gIDogYWlOb3RlcztcbiAgICAgICAgICAgIGZvcm0uc2V0VmFsdWUoJ25vdGVzJywgbm90ZXMudHJpbSgpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gRm9ybSBmaWxsaW5nIGNvbXBsZXRlZFxuICAgICAgICB9XG4gICAgICB9LCAxMDApOyAvLyBTbWFsbCBkZWxheSB0byBlbnN1cmUgdGFiIHN3aXRjaCBoYXBwZW5zIGZpcnN0XG4gICAgfSxcbiAgICBvbkVycm9yOiAoZXJyb3IpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBbREVCVUddIEFJIGFuYWx5c2lzIGZhaWxlZCB3aXRoIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHNldElzQW5hbHl6aW5nKGZhbHNlKTtcbiAgICB9LFxuICB9KTtcblxuICAvLyBFdmVudCBoYW5kbGVyc1xuICBjb25zdCBoYW5kbGVGaWxlVXBsb2FkID0gKGV2ZW50OiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xuICAgIGNvbnN0IGZpbGUgPSBldmVudC50YXJnZXQuZmlsZXM/LlswXTtcbiAgICBpZiAoZmlsZSAmJiBtb2RlID09PSAnY3JlYXRlJykge1xuICAgICAgc2V0VXBsb2FkZWRGaWxlKGZpbGUpO1xuICAgICAgLy8gRG9uJ3QgYXV0by1hbmFseXplLCB3YWl0IGZvciB1c2VyIHRvIGNsaWNrIHRoZSBhbmFseXplIGJ1dHRvblxuICAgIH1cbiAgfTtcblxuICAvLyBTbWFydCBmb3JtIGZpbGxpbmcgdGhhdCByZXNwZWN0cyB1c2VyIGlucHV0XG4gIGNvbnN0IGFwcGx5QWlBbmFseXNpc1NtYXJ0bHkgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgLy8gU21hcnQgQUkgYW5hbHlzaXMgYXBwbGljYXRpb25cbiAgICBcbiAgICBpZiAoIWFpQW5hbHlzaXNEYXRhKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBbREVCVUddIE5vIEFJIGFuYWx5c2lzIGRhdGEgYXZhaWxhYmxlIGZvciBzbWFydCBhcHBsaWNhdGlvbicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGN1cnJlbnRWYWx1ZXMgPSBmb3JtLmdldFZhbHVlcygpO1xuICAgIC8vIENoZWNrIGN1cnJlbnQgZm9ybSB2YWx1ZXNcbiAgICBcbiAgICAvLyBPbmx5IGZpbGwgZW1wdHkgb3IgZGVmYXVsdCBmaWVsZHNcbiAgICBpZiAoIWN1cnJlbnRWYWx1ZXMudGl0bGUgfHwgY3VycmVudFZhbHVlcy50aXRsZSA9PT0gJycpIHtcbiAgICAgIGZvcm0uc2V0VmFsdWUoJ3RpdGxlJywgYWlBbmFseXNpc0RhdGEudGl0bGUpO1xuICAgIH1cbiAgICBcbiAgICBpZiAoIWN1cnJlbnRWYWx1ZXMudmVuZG9yIHx8IGN1cnJlbnRWYWx1ZXMudmVuZG9yID09PSAnJykge1xuICAgICAgZm9ybS5zZXRWYWx1ZSgndmVuZG9yJywgYWlBbmFseXNpc0RhdGEudmVuZG9yIHx8ICcnKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKCFjdXJyZW50VmFsdWVzLmNhdGVnb3J5IHx8IGN1cnJlbnRWYWx1ZXMuY2F0ZWdvcnkgPT09ICdvdGhlcicpIHtcbiAgICAgIGZvcm0uc2V0VmFsdWUoJ2NhdGVnb3J5JywgYWlBbmFseXNpc0RhdGEuY2F0ZWdvcnkpO1xuICAgIH1cbiAgICBcbiAgICBpZiAoIWN1cnJlbnRWYWx1ZXMudG90YWxBbW91bnQgfHwgY3VycmVudFZhbHVlcy50b3RhbEFtb3VudCA9PT0gJycgfHwgY3VycmVudFZhbHVlcy50b3RhbEFtb3VudCA9PT0gJzAnKSB7XG4gICAgICBmb3JtLnNldFZhbHVlKCd0b3RhbEFtb3VudCcsIGFpQW5hbHlzaXNEYXRhLnRvdGFsQW1vdW50KTtcbiAgICB9XG4gICAgXG4gICAgaWYgKCFjdXJyZW50VmFsdWVzLmRlc2NyaXB0aW9uIHx8IGN1cnJlbnRWYWx1ZXMuZGVzY3JpcHRpb24gPT09ICcnKSB7XG4gICAgICBmb3JtLnNldFZhbHVlKCdkZXNjcmlwdGlvbicsIGFpQW5hbHlzaXNEYXRhLmRlc2NyaXB0aW9uIHx8ICcnKTtcbiAgICB9XG5cbiAgICAvLyBPbmx5IHNldCBzdGFydCBkYXRlIGlmIGl0J3MgdGhlIGRlZmF1bHQgKHRvZGF5KSBvciBlbXB0eVxuICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07XG4gICAgaWYgKCghY3VycmVudFZhbHVlcy5zdGFydERhdGUgfHwgY3VycmVudFZhbHVlcy5zdGFydERhdGUgPT09IHRvZGF5KSAmJiBhaUFuYWx5c2lzRGF0YS5pc3N1ZURhdGUpIHtcbiAgICAgIGZvcm0uc2V0VmFsdWUoJ3N0YXJ0RGF0ZScsIGFpQW5hbHlzaXNEYXRhLmlzc3VlRGF0ZSk7XG4gICAgfVxuXG4gICAgLy8gQXBwbHkgcGF5bWVudCB0eXBlIGlmIGRldGVjdGVkIGFuZCB1c2VyIGhhc24ndCBjaGFuZ2VkIGZyb20gZGVmYXVsdFxuICAgIGlmIChjdXJyZW50VmFsdWVzLnBheW1lbnRUeXBlID09PSAndW5pcXVlJyAmJiBhaUFuYWx5c2lzRGF0YS5wYXltZW50VHlwZSkge1xuICAgICAgZm9ybS5zZXRWYWx1ZSgncGF5bWVudFR5cGUnLCBhaUFuYWx5c2lzRGF0YS5wYXltZW50VHlwZSk7XG4gICAgfVxuXG4gICAgLy8gQXBwZW5kIHRvIG5vdGVzIChkb24ndCBvdmVyd3JpdGUgdXNlciBub3RlcylcbiAgICBsZXQgbm90ZXMgPSBjdXJyZW50VmFsdWVzLm5vdGVzIHx8ICcnO1xuICAgIGNvbnN0IGFpTm90ZXNTZWN0aW9uID0gW107XG4gICAgXG4gICAgaWYgKGFpQW5hbHlzaXNEYXRhLmJpbGxOdW1iZXIpIHtcbiAgICAgIGFpTm90ZXNTZWN0aW9uLnB1c2goYEJpbGwgTnVtYmVyOiAke2FpQW5hbHlzaXNEYXRhLmJpbGxOdW1iZXJ9YCk7XG4gICAgfVxuICAgIGlmIChhaUFuYWx5c2lzRGF0YS52ZW5kb3JDb250YWN0KSB7XG4gICAgICBhaU5vdGVzU2VjdGlvbi5wdXNoKGBWZW5kb3IgQ29udGFjdDogJHthaUFuYWx5c2lzRGF0YS52ZW5kb3JDb250YWN0fWApO1xuICAgIH1cbiAgICBpZiAoYWlBbmFseXNpc0RhdGEuZHVlRGF0ZSkge1xuICAgICAgYWlOb3Rlc1NlY3Rpb24ucHVzaChgRHVlIERhdGU6ICR7YWlBbmFseXNpc0RhdGEuZHVlRGF0ZX1gKTtcbiAgICB9XG4gICAgYWlOb3Rlc1NlY3Rpb24ucHVzaChgQUkgQW5hbHlzaXMgQ29uZmlkZW5jZTogJHsoYWlBbmFseXNpc0RhdGEuY29uZmlkZW5jZSAqIDEwMCkudG9GaXhlZCgxKX0lYCk7XG4gICAgXG4gICAgaWYgKGFpTm90ZXNTZWN0aW9uLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGFpTm90ZXMgPSBhaU5vdGVzU2VjdGlvbi5qb2luKCdcXG4nKTtcbiAgICAgIG5vdGVzID0gbm90ZXMgPyBgJHtub3Rlc31cXG5cXG4tLS0gQUkgQW5hbHlzaXMgLS0tXFxuJHthaU5vdGVzfWAgOiBhaU5vdGVzO1xuICAgICAgY29uc29sZS5sb2coJ/Cfk50gW0RFQlVHXSBTbWFydCBhcHBseSAtIFNldHRpbmcgbm90ZXM6Jywgbm90ZXMudHJpbSgpKTtcbiAgICAgIGZvcm0uc2V0VmFsdWUoJ25vdGVzJywgbm90ZXMudHJpbSgpKTtcbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coJ/CflI0gW0RFQlVHXSBGaW5hbCBmb3JtIHZhbHVlcyBhZnRlciBzbWFydCBBSSBhcHBsaWNhdGlvbjonLCBmb3JtLmdldFZhbHVlcygpKTtcbiAgICBjb25zb2xlLmxvZygn8J+OiSBbREVCVUddID09PSBTTUFSVCBBSSBBTkFMWVNJUyBBUFBMSUNBVElPTiBDT01QTEVURUQgPT09Jyk7XG4gIH0sIFthaUFuYWx5c2lzRGF0YSwgZm9ybV0pO1xuXG4gIC8vIE1hbnVhbCBhcHBseSBmdW5jdGlvbiAoZm9yIHRoZSBidXR0b24pXG4gIGNvbnN0IGFwcGx5QWlBbmFseXNpcyA9ICgpID0+IHtcbiAgICBjb25zb2xlLmxvZygn8J+kliBbREVCVUddID09PSBBUFBMWUlORyBBSSBBTkFMWVNJUyBUTyBGT1JNIChNQU5VQUwgQlVUVE9OKSA9PT0nKTtcbiAgICBjb25zb2xlLmxvZygn8J+TiiBbREVCVUddIEFJIEFuYWx5c2lzIERhdGEgcmVjZWl2ZWQ6JywgYWlBbmFseXNpc0RhdGEpO1xuICAgIGNvbnNvbGUubG9nKCfwn5SNIFtERUJVR10gQ3VycmVudCBmb3JtIHZhbHVlcyBiZWZvcmUgYXBwbHlpbmcgQUk6JywgZm9ybS5nZXRWYWx1ZXMoKSk7XG4gICAgXG4gICAgaWYgKGFpQW5hbHlzaXNEYXRhKSB7XG4gICAgICBjb25zb2xlLmxvZygn4pyFIFtERUJVR10gQUkgZGF0YSBleGlzdHMsIHNldHRpbmcgZm9ybSB2YWx1ZXMuLi4nKTtcbiAgICAgIFxuICAgICAgLy8gVGhpcyBvdmVycmlkZXMgYWxsIGZpZWxkcyAoZm9yIG1hbnVhbCBhcHBsaWNhdGlvbilcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OdIFtERUJVR10gU2V0dGluZyB0aXRsZTonLCBhaUFuYWx5c2lzRGF0YS50aXRsZSk7XG4gICAgICBmb3JtLnNldFZhbHVlKCd0aXRsZScsIGFpQW5hbHlzaXNEYXRhLnRpdGxlKTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ/Cfk50gW0RFQlVHXSBTZXR0aW5nIHZlbmRvcjonLCBhaUFuYWx5c2lzRGF0YS52ZW5kb3IpO1xuICAgICAgZm9ybS5zZXRWYWx1ZSgndmVuZG9yJywgYWlBbmFseXNpc0RhdGEudmVuZG9yIHx8ICcnKTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ/Cfk50gW0RFQlVHXSBTZXR0aW5nIGNhdGVnb3J5OicsIGFpQW5hbHlzaXNEYXRhLmNhdGVnb3J5KTtcbiAgICAgIGZvcm0uc2V0VmFsdWUoJ2NhdGVnb3J5JywgYWlBbmFseXNpc0RhdGEuY2F0ZWdvcnkpO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygn8J+TnSBbREVCVUddIFNldHRpbmcgdG90YWxBbW91bnQ6JywgYWlBbmFseXNpc0RhdGEudG90YWxBbW91bnQpO1xuICAgICAgZm9ybS5zZXRWYWx1ZSgndG90YWxBbW91bnQnLCBhaUFuYWx5c2lzRGF0YS50b3RhbEFtb3VudCk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OdIFtERUJVR10gU2V0dGluZyBkZXNjcmlwdGlvbjonLCBhaUFuYWx5c2lzRGF0YS5kZXNjcmlwdGlvbik7XG4gICAgICBmb3JtLnNldFZhbHVlKCdkZXNjcmlwdGlvbicsIGFpQW5hbHlzaXNEYXRhLmRlc2NyaXB0aW9uIHx8ICcnKTtcblxuICAgICAgaWYgKGFpQW5hbHlzaXNEYXRhLmlzc3VlRGF0ZSkge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+TnSBbREVCVUddIFNldHRpbmcgc3RhcnREYXRlOicsIGFpQW5hbHlzaXNEYXRhLmlzc3VlRGF0ZSk7XG4gICAgICAgIGZvcm0uc2V0VmFsdWUoJ3N0YXJ0RGF0ZScsIGFpQW5hbHlzaXNEYXRhLmlzc3VlRGF0ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhaUFuYWx5c2lzRGF0YS5wYXltZW50VHlwZSkge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+TnSBbREVCVUddIFNldHRpbmcgcGF5bWVudFR5cGU6JywgYWlBbmFseXNpc0RhdGEucGF5bWVudFR5cGUpO1xuICAgICAgICBmb3JtLnNldFZhbHVlKCdwYXltZW50VHlwZScsIGFpQW5hbHlzaXNEYXRhLnBheW1lbnRUeXBlKTtcbiAgICAgIH1cblxuICAgICAgLy8gQXBwbHkgbm90ZXMgd2l0aCBBSSBpbmZvcm1hdGlvblxuICAgICAgbGV0IG5vdGVzID0gZm9ybS5nZXRWYWx1ZXMoJ25vdGVzJykgfHwgJyc7XG4gICAgICBjb25zdCBhaU5vdGVzU2VjdGlvbiA9IFtdO1xuICAgICAgXG4gICAgICBpZiAoYWlBbmFseXNpc0RhdGEuYmlsbE51bWJlcikge1xuICAgICAgICBhaU5vdGVzU2VjdGlvbi5wdXNoKGBCaWxsIE51bWJlcjogJHthaUFuYWx5c2lzRGF0YS5iaWxsTnVtYmVyfWApO1xuICAgICAgfVxuICAgICAgaWYgKGFpQW5hbHlzaXNEYXRhLnZlbmRvckNvbnRhY3QpIHtcbiAgICAgICAgYWlOb3Rlc1NlY3Rpb24ucHVzaChgVmVuZG9yIENvbnRhY3Q6ICR7YWlBbmFseXNpc0RhdGEudmVuZG9yQ29udGFjdH1gKTtcbiAgICAgIH1cbiAgICAgIGlmIChhaUFuYWx5c2lzRGF0YS5kdWVEYXRlKSB7XG4gICAgICAgIGFpTm90ZXNTZWN0aW9uLnB1c2goYER1ZSBEYXRlOiAke2FpQW5hbHlzaXNEYXRhLmR1ZURhdGV9YCk7XG4gICAgICB9XG4gICAgICBhaU5vdGVzU2VjdGlvbi5wdXNoKGBBSSBBbmFseXNpcyBDb25maWRlbmNlOiAkeyhhaUFuYWx5c2lzRGF0YS5jb25maWRlbmNlICogMTAwKS50b0ZpeGVkKDEpfSVgKTtcbiAgICAgIFxuICAgICAgaWYgKGFpTm90ZXNTZWN0aW9uLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgYWlOb3RlcyA9IGFpTm90ZXNTZWN0aW9uLmpvaW4oJ1xcbicpO1xuICAgICAgICBub3RlcyA9IG5vdGVzID8gYCR7bm90ZXN9XFxuXFxuLS0tIEFJIEFuYWx5c2lzIC0tLVxcbiR7YWlOb3Rlc31gIDogYWlOb3RlcztcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfk50gW0RFQlVHXSBTZXR0aW5nIG5vdGVzIHdpdGggQUkgYW5hbHlzaXM6Jywgbm90ZXMudHJpbSgpKTtcbiAgICAgICAgZm9ybS5zZXRWYWx1ZSgnbm90ZXMnLCBub3Rlcy50cmltKCkpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygn8J+UjSBbREVCVUddIEZpbmFsIGZvcm0gdmFsdWVzIGFmdGVyIGFwcGx5aW5nIEFJOicsIGZvcm0uZ2V0VmFsdWVzKCkpO1xuICAgICAgY29uc29sZS5sb2coJ/CfjokgW0RFQlVHXSA9PT0gQUkgQU5BTFlTSVMgQVBQTElDQVRJT04gQ09NUExFVEVEID09PScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgW0RFQlVHXSBObyBBSSBhbmFseXNpcyBkYXRhIGF2YWlsYWJsZSB3aGVuIGFwcGx5aW5nIHRvIGZvcm0nKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgb25TdWJtaXQgPSAodmFsdWVzOiBCaWxsRm9ybURhdGEpID0+IHtcbiAgICBzdWJtaXRNdXRhdGlvbi5tdXRhdGUodmFsdWVzKTtcbiAgICAvLyBUT0RPOiBIYW5kbGUgYXR0YWNoZWQgZmlsZXMgdXBsb2FkIGFmdGVyIGJpbGwgY3JlYXRpb25cbiAgfTtcblxuICAvLyBIYW5kbGUgZmlsZSBhdHRhY2htZW50c1xuICBjb25zdCBoYW5kbGVGaWxlc1NlbGVjdCA9IHVzZUNhbGxiYWNrKChmaWxlczogRmlsZVtdKSA9PiB7XG4gICAgc2V0QXR0YWNoZWRGaWxlcyhwcmV2ID0+IFsuLi5wcmV2LCAuLi5maWxlc10pO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgaGFuZGxlRmlsZVJlbW92ZSA9IHVzZUNhbGxiYWNrKChmaWxlSW5kZXg6IG51bWJlcikgPT4ge1xuICAgIHNldEF0dGFjaGVkRmlsZXMocHJldiA9PiBwcmV2LmZpbHRlcigoXywgaW5kZXgpID0+IGluZGV4ICE9PSBmaWxlSW5kZXgpKTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IHJlbmRlckZvcm1GaWVsZHMgPSAoKSA9PiAoXG4gICAgPD5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdncmlkIGdyaWQtY29scy0yIGdhcC00Jz5cbiAgICAgICAgey8qIFRpdGxlICovfVxuICAgICAgICA8Rm9ybUZpZWxkXG4gICAgICAgICAgY29udHJvbD17Zm9ybS5jb250cm9sfVxuICAgICAgICAgIG5hbWU9J3RpdGxlJ1xuICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKFxuICAgICAgICAgICAgPEZvcm1JdGVtPlxuICAgICAgICAgICAgICA8Rm9ybUxhYmVsPnt0KCd0aXRsZScpfSAqPC9Gb3JtTGFiZWw+XG4gICAgICAgICAgICAgIDxGb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICA8SW5wdXQgey4uLmZpZWxkfSBwbGFjZWhvbGRlcj17dCgnYmlsbFRpdGxlJyl9IGRhdGEtdGVzdGlkPSdpbnB1dC10aXRsZScgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgPEZvcm1NZXNzYWdlIC8+XG4gICAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICAgICl9XG4gICAgICAgIC8+XG5cbiAgICAgICAgey8qIFZlbmRvciAqL31cbiAgICAgICAgPEZvcm1GaWVsZFxuICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH1cbiAgICAgICAgICBuYW1lPSd2ZW5kb3InXG4gICAgICAgICAgcmVuZGVyPXsoeyBmaWVsZCB9KSA9PiAoXG4gICAgICAgICAgICA8Rm9ybUl0ZW0+XG4gICAgICAgICAgICAgIDxGb3JtTGFiZWw+e3QoJ3ZlbmRvcicpfTwvRm9ybUxhYmVsPlxuICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICB7Li4uZmllbGR9XG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17dCgnY29tcGFueU9yU2VydmljZVByb3ZpZGVyJyl9XG4gICAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD0naW5wdXQtdmVuZG9yJ1xuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPlxuICAgICAgICAgICAgPC9Gb3JtSXRlbT5cbiAgICAgICAgICApfVxuICAgICAgICAvPlxuXG4gICAgICAgIHsvKiBDYXRlZ29yeSAqL31cbiAgICAgICAgPEZvcm1GaWVsZFxuICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH1cbiAgICAgICAgICBuYW1lPSdjYXRlZ29yeSdcbiAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+IChcbiAgICAgICAgICAgIDxGb3JtSXRlbT5cbiAgICAgICAgICAgICAgPEZvcm1MYWJlbD57dCgnY2F0ZWdvcnknKX0gKjwvRm9ybUxhYmVsPlxuICAgICAgICAgICAgICA8U2VsZWN0IG9uVmFsdWVDaGFuZ2U9e2ZpZWxkLm9uQ2hhbmdlfSB2YWx1ZT17ZmllbGQudmFsdWV9PlxuICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgIDxTZWxlY3RUcmlnZ2VyIGRhdGEtdGVzdGlkPSdzZWxlY3QtY2F0ZWdvcnknPlxuICAgICAgICAgICAgICAgICAgICA8U2VsZWN0VmFsdWUgcGxhY2Vob2xkZXI9e3QoJ3NlbGVjdENhdGVnb3J5Jyl9IC8+XG4gICAgICAgICAgICAgICAgICA8L1NlbGVjdFRyaWdnZXI+XG4gICAgICAgICAgICAgICAgPC9Gb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICA8U2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgICAgIHtCSUxMX0NBVEVHT1JJRVMubWFwKChjYXRlZ29yeSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSBrZXk9e2NhdGVnb3J5LnZhbHVlfSB2YWx1ZT17Y2F0ZWdvcnkudmFsdWV9PlxuICAgICAgICAgICAgICAgICAgICAgIHtjYXRlZ29yeS5sYWJlbH1cbiAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC9TZWxlY3RDb250ZW50PlxuICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgPEZvcm1NZXNzYWdlIC8+XG4gICAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICAgICl9XG4gICAgICAgIC8+XG5cbiAgICAgICAgey8qIFRvdGFsIEFtb3VudCAqL31cbiAgICAgICAgPEZvcm1GaWVsZFxuICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH1cbiAgICAgICAgICBuYW1lPSd0b3RhbEFtb3VudCdcbiAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlzQ3VzdG9tUGF5bWVudHMgPSBmb3JtLndhdGNoKCdwYXltZW50VHlwZScpID09PSAncmVjdXJyZW50JyAmJiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybS53YXRjaCgnc2NoZWR1bGVQYXltZW50JykgPT09ICdjdXN0b20nO1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPEZvcm1JdGVtPlxuICAgICAgICAgICAgICAgIDxGb3JtTGFiZWw+XG4gICAgICAgICAgICAgICAgICBUb3RhbCBBbW91bnQgKiBcbiAgICAgICAgICAgICAgICAgIHtpc0N1c3RvbVBheW1lbnRzICYmIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ibHVlLTYwMCBtbC0xXCI+KEF1dG8tY2FsY3VsYXRlZCk8L3NwYW4+fVxuICAgICAgICAgICAgICAgIDwvRm9ybUxhYmVsPlxuICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICB7Li4uZmllbGR9XG4gICAgICAgICAgICAgICAgICAgIHR5cGU9J251bWJlcidcbiAgICAgICAgICAgICAgICAgICAgc3RlcD0nMC4wMSdcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9JzAuMDAnXG4gICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5PXtpc0N1c3RvbVBheW1lbnRzfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2lzQ3VzdG9tUGF5bWVudHMgPyAnYmctZ3JheS0xMDAgY3Vyc29yLW5vdC1hbGxvd2VkJyA6ICcnfVxuICAgICAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD0naW5wdXQtYW1vdW50J1xuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPlxuICAgICAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9fVxuICAgICAgICAvPlxuXG4gICAgICAgIHsvKiBQYXltZW50IFR5cGUgKi99XG4gICAgICAgIDxGb3JtRmllbGRcbiAgICAgICAgICBjb250cm9sPXtmb3JtLmNvbnRyb2x9XG4gICAgICAgICAgbmFtZT0ncGF5bWVudFR5cGUnXG4gICAgICAgICAgcmVuZGVyPXsoeyBmaWVsZCB9KSA9PiAoXG4gICAgICAgICAgICA8Rm9ybUl0ZW0+XG4gICAgICAgICAgICAgIDxGb3JtTGFiZWw+UGF5bWVudCBUeXBlICo8L0Zvcm1MYWJlbD5cbiAgICAgICAgICAgICAgPFNlbGVjdCBvblZhbHVlQ2hhbmdlPXtmaWVsZC5vbkNoYW5nZX0gdmFsdWU9e2ZpZWxkLnZhbHVlfT5cbiAgICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICA8U2VsZWN0VHJpZ2dlciBkYXRhLXRlc3RpZD0nc2VsZWN0LXBheW1lbnQtdHlwZSc+XG4gICAgICAgICAgICAgICAgICAgIDxTZWxlY3RWYWx1ZSBwbGFjZWhvbGRlcj0nU2VsZWN0IHBheW1lbnQgdHlwZScgLz5cbiAgICAgICAgICAgICAgICAgIDwvU2VsZWN0VHJpZ2dlcj5cbiAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgIDxTZWxlY3RDb250ZW50PlxuICAgICAgICAgICAgICAgICAge1BBWU1FTlRfVFlQRVMubWFwKCh0eXBlKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIGtleT17dHlwZS52YWx1ZX0gdmFsdWU9e3R5cGUudmFsdWV9PlxuICAgICAgICAgICAgICAgICAgICAgIHt0eXBlLmxhYmVsfVxuICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L1NlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICA8Rm9ybU1lc3NhZ2UgLz5cbiAgICAgICAgICAgIDwvRm9ybUl0ZW0+XG4gICAgICAgICAgKX1cbiAgICAgICAgLz5cblxuICAgICAgICB7LyogU2NoZWR1bGUgUGF5bWVudCAob25seSBmb3IgcmVjdXJyZW50KSAqL31cbiAgICAgICAge2Zvcm0ud2F0Y2goJ3BheW1lbnRUeXBlJykgPT09ICdyZWN1cnJlbnQnICYmIChcbiAgICAgICAgICA8Rm9ybUZpZWxkXG4gICAgICAgICAgICBjb250cm9sPXtmb3JtLmNvbnRyb2x9XG4gICAgICAgICAgICBuYW1lPSdzY2hlZHVsZVBheW1lbnQnXG4gICAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+IChcbiAgICAgICAgICAgICAgPEZvcm1JdGVtPlxuICAgICAgICAgICAgICAgIDxGb3JtTGFiZWw+U2NoZWR1bGUgKjwvRm9ybUxhYmVsPlxuICAgICAgICAgICAgICAgIDxTZWxlY3Qgb25WYWx1ZUNoYW5nZT17ZmllbGQub25DaGFuZ2V9IHZhbHVlPXtmaWVsZC52YWx1ZX0+XG4gICAgICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICAgIDxTZWxlY3RUcmlnZ2VyIGRhdGEtdGVzdGlkPSdzZWxlY3Qtc2NoZWR1bGUnPlxuICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RWYWx1ZSBwbGFjZWhvbGRlcj0nU2VsZWN0IHNjaGVkdWxlJyAvPlxuICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdFRyaWdnZXI+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgPFNlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgIHtTQ0hFRFVMRV9PUFRJT05TLm1hcCgob3B0aW9uKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0ga2V5PXtvcHRpb24udmFsdWV9IHZhbHVlPXtvcHRpb24udmFsdWV9PlxuICAgICAgICAgICAgICAgICAgICAgICAge29wdGlvbi5sYWJlbH1cbiAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgPC9TZWxlY3RDb250ZW50PlxuICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPlxuICAgICAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuXG4gICAgICAgIHsvKiBDdXN0b20gUGF5bWVudCBTY2hlZHVsZSAob25seSB3aGVuIHNjaGVkdWxlIGlzIGN1c3RvbSkgKi99XG4gICAgICAgIHtmb3JtLndhdGNoKCdwYXltZW50VHlwZScpID09PSAncmVjdXJyZW50JyAmJiBmb3JtLndhdGNoKCdzY2hlZHVsZVBheW1lbnQnKSA9PT0gJ2N1c3RvbScgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjb2wtc3Bhbi0yJz5cbiAgICAgICAgICAgIDxGb3JtRmllbGRcbiAgICAgICAgICAgICAgY29udHJvbD17Zm9ybS5jb250cm9sfVxuICAgICAgICAgICAgICBuYW1lPSdjdXN0b21QYXltZW50cydcbiAgICAgICAgICAgICAgcmVuZGVyPXsoeyBmaWVsZCB9KSA9PiAoXG4gICAgICAgICAgICAgICAgPEZvcm1JdGVtPlxuICAgICAgICAgICAgICAgICAgPEZvcm1MYWJlbD5DdXN0b20gUGF5bWVudCBTY2hlZHVsZSAqPC9Gb3JtTGFiZWw+XG4gICAgICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICAgIDxDdXN0b21QYXltZW50U2NoZWR1bGVcbiAgICAgICAgICAgICAgICAgICAgICBwYXltZW50cz17ZmllbGQudmFsdWUgfHwgW119XG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2ZpZWxkLm9uQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICAgIG9uVG90YWxBbW91bnRDaGFuZ2U9eyh0b3RhbCkgPT4gZm9ybS5zZXRWYWx1ZSgndG90YWxBbW91bnQnLCB0b3RhbCl9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgPEZvcm1NZXNzYWdlIC8+XG4gICAgICAgICAgICAgICAgPC9Gb3JtSXRlbT5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAgey8qIFN0YXJ0IERhdGUgKi99XG4gICAgICAgIDxGb3JtRmllbGRcbiAgICAgICAgICBjb250cm9sPXtmb3JtLmNvbnRyb2x9XG4gICAgICAgICAgbmFtZT0nc3RhcnREYXRlJ1xuICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKFxuICAgICAgICAgICAgPEZvcm1JdGVtPlxuICAgICAgICAgICAgICA8Rm9ybUxhYmVsPlN0YXJ0IERhdGUgKjwvRm9ybUxhYmVsPlxuICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgPElucHV0IHsuLi5maWVsZH0gdHlwZT0nZGF0ZScgZGF0YS10ZXN0aWQ9J2lucHV0LXN0YXJ0LWRhdGUnIC8+XG4gICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPlxuICAgICAgICAgICAgPC9Gb3JtSXRlbT5cbiAgICAgICAgICApfVxuICAgICAgICAvPlxuXG4gICAgICAgIHsvKiBFbmQgRGF0ZSAob25seSBmb3IgcmVjdXJyZW50KSAqL31cbiAgICAgICAge2Zvcm0ud2F0Y2goJ3BheW1lbnRUeXBlJykgPT09ICdyZWN1cnJlbnQnICYmIChcbiAgICAgICAgICA8Rm9ybUZpZWxkXG4gICAgICAgICAgICBjb250cm9sPXtmb3JtLmNvbnRyb2x9XG4gICAgICAgICAgICBuYW1lPSdlbmREYXRlJ1xuICAgICAgICAgICAgcmVuZGVyPXsoeyBmaWVsZCB9KSA9PiAoXG4gICAgICAgICAgICAgIDxGb3JtSXRlbT5cbiAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsPkVuZCBEYXRlIChPcHRpb25hbCk8L0Zvcm1MYWJlbD5cbiAgICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICA8SW5wdXQgey4uLmZpZWxkfSB0eXBlPSdkYXRlJyBkYXRhLXRlc3RpZD0naW5wdXQtZW5kLWRhdGUnIC8+XG4gICAgICAgICAgICAgICAgPC9Gb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICA8Rm9ybU1lc3NhZ2UgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtSXRlbT5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cblxuICAgICAgICB7LyogU3RhdHVzICovfVxuICAgICAgICA8Rm9ybUZpZWxkXG4gICAgICAgICAgY29udHJvbD17Zm9ybS5jb250cm9sfVxuICAgICAgICAgIG5hbWU9J3N0YXR1cydcbiAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+IChcbiAgICAgICAgICAgIDxGb3JtSXRlbT5cbiAgICAgICAgICAgICAgPEZvcm1MYWJlbD5TdGF0dXMgKjwvRm9ybUxhYmVsPlxuICAgICAgICAgICAgICA8U2VsZWN0IG9uVmFsdWVDaGFuZ2U9e2ZpZWxkLm9uQ2hhbmdlfSB2YWx1ZT17ZmllbGQudmFsdWV9PlxuICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgIDxTZWxlY3RUcmlnZ2VyIGRhdGEtdGVzdGlkPSdzZWxlY3Qtc3RhdHVzJz5cbiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFZhbHVlIHBsYWNlaG9sZGVyPSdTZWxlY3Qgc3RhdHVzJyAvPlxuICAgICAgICAgICAgICAgICAgPC9TZWxlY3RUcmlnZ2VyPlxuICAgICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgPFNlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICB7U1RBVFVTX09QVElPTlMubWFwKChzdGF0dXMpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0ga2V5PXtzdGF0dXMudmFsdWV9IHZhbHVlPXtzdGF0dXMudmFsdWV9PlxuICAgICAgICAgICAgICAgICAgICAgIHtzdGF0dXMubGFiZWx9XG4gICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvU2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPlxuICAgICAgICAgICAgPC9Gb3JtSXRlbT5cbiAgICAgICAgICApfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBEZXNjcmlwdGlvbiAqL31cbiAgICAgIDxGb3JtRmllbGRcbiAgICAgICAgY29udHJvbD17Zm9ybS5jb250cm9sfVxuICAgICAgICBuYW1lPSdkZXNjcmlwdGlvbidcbiAgICAgICAgcmVuZGVyPXsoeyBmaWVsZCB9KSA9PiAoXG4gICAgICAgICAgPEZvcm1JdGVtPlxuICAgICAgICAgICAgPEZvcm1MYWJlbD5EZXNjcmlwdGlvbjwvRm9ybUxhYmVsPlxuICAgICAgICAgICAgPEZvcm1Db250cm9sPlxuICAgICAgICAgICAgICA8VGV4dGFyZWFcbiAgICAgICAgICAgICAgICB7Li4uZmllbGR9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9J0JpbGwgZGVzY3JpcHRpb24uLi4nXG4gICAgICAgICAgICAgICAgcm93cz17M31cbiAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD0ndGV4dGFyZWEtZGVzY3JpcHRpb24nXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0Zvcm1Db250cm9sPlxuICAgICAgICAgICAgPEZvcm1NZXNzYWdlIC8+XG4gICAgICAgICAgPC9Gb3JtSXRlbT5cbiAgICAgICAgKX1cbiAgICAgIC8+XG5cbiAgICAgIHsvKiBOb3RlcyAqL31cbiAgICAgIDxGb3JtRmllbGRcbiAgICAgICAgY29udHJvbD17Zm9ybS5jb250cm9sfVxuICAgICAgICBuYW1lPSdub3RlcydcbiAgICAgICAgcmVuZGVyPXsoeyBmaWVsZCB9KSA9PiAoXG4gICAgICAgICAgPEZvcm1JdGVtPlxuICAgICAgICAgICAgPEZvcm1MYWJlbD5Ob3RlczwvRm9ybUxhYmVsPlxuICAgICAgICAgICAgPEZvcm1Db250cm9sPlxuICAgICAgICAgICAgICA8VGV4dGFyZWFcbiAgICAgICAgICAgICAgICB7Li4uZmllbGR9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9J0FkZGl0aW9uYWwgbm90ZXMuLi4nXG4gICAgICAgICAgICAgICAgcm93cz17M31cbiAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD0ndGV4dGFyZWEtbm90ZXMnXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0Zvcm1Db250cm9sPlxuICAgICAgICAgICAgPEZvcm1NZXNzYWdlIC8+XG4gICAgICAgICAgPC9Gb3JtSXRlbT5cbiAgICAgICAgKX1cbiAgICAgIC8+XG5cbiAgICAgIHsvKiBEb2N1bWVudCBUeXBlIFNlbGVjdGlvbiAtIENvbW1vbiBDb21wb25lbnQgKi99XG4gICAgICA8RG9jdW1lbnRUeXBlU2VsZWN0b3JcbiAgICAgICAgbW9kZT17YXR0YWNobWVudE1vZGV9XG4gICAgICAgIG9uTW9kZUNoYW5nZT17c2V0QXR0YWNobWVudE1vZGV9XG4gICAgICAgIG9uRmlsZVNlbGVjdD17c2V0U2VsZWN0ZWRGaWxlfVxuICAgICAgICB0ZXh0Q29udGVudD17YXR0YWNobWVudFRleHR9XG4gICAgICAgIG9uVGV4dENoYW5nZT17c2V0QXR0YWNobWVudFRleHR9XG4gICAgICAgIGZpbGVJbnB1dFByb3BzPXt7XG4gICAgICAgICAgYWNjZXB0OiAnaW1hZ2UvKiwucGRmLC5kb2MsLmRvY3gsLnR4dCdcbiAgICAgICAgfX1cbiAgICAgICAgdGV4dEFyZWFQcm9wcz17e1xuICAgICAgICAgIHBsYWNlaG9sZGVyOiAnRW50ZXIgdGV4dCBub3RlcyBvciBkZXRhaWxzIGFib3V0IHRoaXMgYmlsbC4uLidcbiAgICAgICAgfX1cbiAgICAgIC8+XG4gICAgPC8+XG4gICk7XG5cbiAgLy8gRm9yIGVkaXQgbW9kZSwgcmVuZGVyIHNpbXBsZSBmb3JtXG4gIGlmIChtb2RlID09PSAnZWRpdCcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPEZvcm0gey4uLmZvcm19PlxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17Zm9ybS5oYW5kbGVTdWJtaXQob25TdWJtaXQpfSBjbGFzc05hbWU9J3NwYWNlLXktNiBwdC00IGJvcmRlci10Jz5cbiAgICAgICAgICB7cmVuZGVyRm9ybUZpZWxkcygpfVxuXG4gICAgICAgICAgey8qIFNob3cgZXhpc3RpbmcgYXR0YWNoZWQgZmlsZSBpZiBwcmVzZW50ICovfVxuICAgICAgICAgIHtiaWxsPy5kb2N1bWVudFBhdGggJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3NwYWNlLXktMyc+XG4gICAgICAgICAgICAgIDxMYWJlbCBjbGFzc05hbWU9J3RleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTkwMCc+QXR0YWNoZWQgRG9jdW1lbnQ8L0xhYmVsPlxuICAgICAgICAgICAgICA8QXR0YWNoZWRGaWxlU2VjdGlvblxuICAgICAgICAgICAgICAgIGVudGl0eVR5cGU9J2JpbGwnXG4gICAgICAgICAgICAgICAgZW50aXR5SWQ9e2JpbGwuaWR9XG4gICAgICAgICAgICAgICAgZmlsZVBhdGg9e2JpbGwuZG9jdW1lbnRQYXRofVxuICAgICAgICAgICAgICAgIGZpbGVOYW1lPXtiaWxsLmRvY3VtZW50TmFtZX1cbiAgICAgICAgICAgICAgICBjYW5WaWV3PXt0cnVlfVxuICAgICAgICAgICAgICAgIGNhbkRvd25sb2FkPXt0cnVlfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nYmctZ3JheS01MCByb3VuZGVkLWxnJ1xuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHsvKiBGb3JtIEFjdGlvbnMgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXgganVzdGlmeS1iZXR3ZWVuIGdhcC0yIHB0LTQgYm9yZGVyLXQnPlxuICAgICAgICAgICAgey8qIERlbGV0ZSBidXR0b24gZm9yIGVkaXQgbW9kZSAqL31cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgdHlwZT0nYnV0dG9uJ1xuICAgICAgICAgICAgICB2YXJpYW50PSdkZXN0cnVjdGl2ZSdcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjb25maXJtKCdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgYmlsbD8gVGhpcyBhY3Rpb24gY2Fubm90IGJlIHVuZG9uZS4nKSkge1xuICAgICAgICAgICAgICAgICAgZGVsZXRlTXV0YXRpb24ubXV0YXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBkaXNhYmxlZD17ZGVsZXRlTXV0YXRpb24uaXNQZW5kaW5nfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9J2ZsZXggaXRlbXMtY2VudGVyIGdhcC0yJ1xuICAgICAgICAgICAgICBkYXRhLXRlc3RpZD0nYnV0dG9uLWRlbGV0ZS1iaWxsJ1xuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8VHJhc2gyIGNsYXNzTmFtZT0ndy00IGgtNCcgLz5cbiAgICAgICAgICAgICAge2RlbGV0ZU11dGF0aW9uLmlzUGVuZGluZyA/ICdEZWxldGluZy4uLicgOiAnRGVsZXRlIEJpbGwnfVxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGdhcC0yJz5cbiAgICAgICAgICAgICAge29uQ2FuY2VsICYmIChcbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICB0eXBlPSdidXR0b24nXG4gICAgICAgICAgICAgICAgICB2YXJpYW50PSdvdXRsaW5lJ1xuICAgICAgICAgICAgICAgICAgb25DbGljaz17b25DYW5jZWx9XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17c3VibWl0TXV0YXRpb24uaXNQZW5kaW5nIHx8IGRlbGV0ZU11dGF0aW9uLmlzUGVuZGluZ31cbiAgICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPSdidXR0b24tY2FuY2VsJ1xuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIENhbmNlbFxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT0nc3VibWl0J1xuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzdWJtaXRNdXRhdGlvbi5pc1BlbmRpbmcgfHwgZGVsZXRlTXV0YXRpb24uaXNQZW5kaW5nfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nbWluLXctWzEyMHB4XSdcbiAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD0nYnV0dG9uLXVwZGF0ZSdcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtzdWJtaXRNdXRhdGlvbi5pc1BlbmRpbmcgPyAnVXBkYXRpbmcuLi4nIDogJ1VwZGF0ZSBCaWxsJ31cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9Gb3JtPlxuICAgICk7XG4gIH1cblxuICAvLyBGb3IgY3JlYXRlIG1vZGUsIHJlbmRlciB3aXRoIHRhYnMgKG1hbnVhbCArIEFJIHVwbG9hZClcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT0nc3BhY2UteS02Jz5cbiAgICAgIDxUYWJzIHZhbHVlPXthY3RpdmVUYWJ9IG9uVmFsdWVDaGFuZ2U9e3NldEFjdGl2ZVRhYn0gY2xhc3NOYW1lPSd3LWZ1bGwnPlxuICAgICAgICA8VGFic0xpc3QgY2xhc3NOYW1lPSdncmlkIHctZnVsbCBncmlkLWNvbHMtMic+XG4gICAgICAgICAgPFRhYnNUcmlnZ2VyIHZhbHVlPSdtYW51YWwnIGRhdGEtdGVzdGlkPSd0YWItbWFudWFsJz5cbiAgICAgICAgICAgIENyZWF0ZSBNYW51YWxseVxuICAgICAgICAgIDwvVGFic1RyaWdnZXI+XG4gICAgICAgICAgPFRhYnNUcmlnZ2VyIHZhbHVlPSd1cGxvYWQnIGRhdGEtdGVzdGlkPSd0YWItdXBsb2FkJz5cbiAgICAgICAgICAgIFVwbG9hZCAmIEFuYWx5emVcbiAgICAgICAgICA8L1RhYnNUcmlnZ2VyPlxuICAgICAgICA8L1RhYnNMaXN0PlxuXG4gICAgICAgIDxUYWJzQ29udGVudCB2YWx1ZT0ndXBsb2FkJyBjbGFzc05hbWU9J3NwYWNlLXktNCc+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3AtNiB0ZXh0LWNlbnRlciBib3JkZXItMiBib3JkZXItZGFzaGVkIGJvcmRlci1ncmF5LTIwMCByb3VuZGVkLWxnJz5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9J3RleHQtbGcgZm9udC1zZW1pYm9sZCBtYi0yJz5VcGxvYWQgQmlsbCBEb2N1bWVudDwvaDM+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9J3RleHQtZ3JheS02MDAgbWItNCc+XG4gICAgICAgICAgICAgIFVwbG9hZCBhbiBpbWFnZSBvciBQREYgb2YgeW91ciBiaWxsIGZvciBBSSBhbmFseXNpc1xuICAgICAgICAgICAgPC9wPlxuXG4gICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgdHlwZT0nZmlsZSdcbiAgICAgICAgICAgICAgYWNjZXB0PSdpbWFnZS8qLC5wZGYnXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVGaWxlVXBsb2FkfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17aXNBbmFseXppbmd9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT0nbWF4LXctc20gbXgtYXV0byBtYi00J1xuICAgICAgICAgICAgICBkYXRhLXRlc3RpZD0naW5wdXQtZmlsZS11cGxvYWQnXG4gICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICB7dXBsb2FkZWRGaWxlICYmICFpc0FuYWx5emluZyAmJiAhYWlBbmFseXNpc0RhdGEgJiYgKFxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdXBsb2FkQW5kQW5hbHl6ZU11dGF0aW9uLm11dGF0ZSh1cGxvYWRlZEZpbGUpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nbXQtNCdcbiAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD0nYnV0dG9uLWFuYWx5emUtZG9jdW1lbnQnXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBBbmFseXplIERvY3VtZW50XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAge2lzQW5hbHl6aW5nICYmIChcbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nbXQtNCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMidcbiAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD0nbG9hZGluZy1hbmFseXNpcydcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdhbmltYXRlLXNwaW4gdy01IGgtNSBib3JkZXItMiBib3JkZXItYmx1ZS01MDAgYm9yZGVyLXQtdHJhbnNwYXJlbnQgcm91bmRlZC1mdWxsJz48L2Rpdj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3RleHQtc20gdGV4dC1ncmF5LTYwMCc+QW5hbHl6aW5nIGRvY3VtZW50IHdpdGggQUkuLi48L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAge2FpQW5hbHlzaXNEYXRhICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J210LTQgcC00IGJnLWJsdWUtNTAgcm91bmRlZC1sZycgZGF0YS10ZXN0aWQ9J2FpLWFuYWx5c2lzLXJlc3VsdCc+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG1iLTMnPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdmb250LW1lZGl1bSB0ZXh0LWJsdWUtODAwJz5BSSBBbmFseXNpcyBDb21wbGV0ZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxCYWRnZSB2YXJpYW50PSdvdXRsaW5lJyBjbGFzc05hbWU9J3RleHQteHMnPlxuICAgICAgICAgICAgICAgICAgICB7KGFpQW5hbHlzaXNEYXRhLmNvbmZpZGVuY2UgKiAxMDApLnRvRml4ZWQoMSl9JSBvdmVyYWxsIGNvbmZpZGVuY2VcbiAgICAgICAgICAgICAgICAgIDwvQmFkZ2U+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2dyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgZ2FwLTMgdGV4dC1zbSc+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc3BhY2UteS0yJz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXgganVzdGlmeS1iZXR3ZWVuJz5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3RleHQtYmx1ZS03MDAnPjxzdHJvbmc+VGl0bGU6PC9zdHJvbmc+IHthaUFuYWx5c2lzRGF0YS50aXRsZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAge2FpQW5hbHlzaXNEYXRhLmZpZWxkQ29uZmlkZW5jZXMgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPEJhZGdlIHZhcmlhbnQ9J291dGxpbmUnIGNsYXNzTmFtZT0ndGV4dC14cyc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsoYWlBbmFseXNpc0RhdGEuZmllbGRDb25maWRlbmNlcy50aXRsZSAqIDEwMCkudG9GaXhlZCgwKX0lXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0JhZGdlPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAge2FpQW5hbHlzaXNEYXRhLnZlbmRvciAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXgganVzdGlmeS1iZXR3ZWVuJz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0ndGV4dC1ibHVlLTcwMCc+PHN0cm9uZz5WZW5kb3I6PC9zdHJvbmc+IHthaUFuYWx5c2lzRGF0YS52ZW5kb3J9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAge2FpQW5hbHlzaXNEYXRhLmZpZWxkQ29uZmlkZW5jZXMgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8QmFkZ2UgdmFyaWFudD0nb3V0bGluZScgY2xhc3NOYW1lPSd0ZXh0LXhzJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KGFpQW5hbHlzaXNEYXRhLmZpZWxkQ29uZmlkZW5jZXMudmVuZG9yICogMTAwKS50b0ZpeGVkKDApfSVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CYWRnZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBqdXN0aWZ5LWJldHdlZW4nPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0ndGV4dC1ibHVlLTcwMCc+PHN0cm9uZz5BbW91bnQ6PC9zdHJvbmc+ICR7YWlBbmFseXNpc0RhdGEudG90YWxBbW91bnR9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIHthaUFuYWx5c2lzRGF0YS5maWVsZENvbmZpZGVuY2VzICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCYWRnZSB2YXJpYW50PSdvdXRsaW5lJyBjbGFzc05hbWU9J3RleHQteHMnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7KGFpQW5hbHlzaXNEYXRhLmZpZWxkQ29uZmlkZW5jZXMudG90YWxBbW91bnQgKiAxMDApLnRvRml4ZWQoMCl9JVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CYWRnZT5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc3BhY2UteS0yJz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXgganVzdGlmeS1iZXR3ZWVuJz5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3RleHQtYmx1ZS03MDAnPjxzdHJvbmc+Q2F0ZWdvcnk6PC9zdHJvbmc+IHthaUFuYWx5c2lzRGF0YS5jYXRlZ29yeX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAge2FpQW5hbHlzaXNEYXRhLmZpZWxkQ29uZmlkZW5jZXMgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPEJhZGdlIHZhcmlhbnQ9J291dGxpbmUnIGNsYXNzTmFtZT0ndGV4dC14cyc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsoYWlBbmFseXNpc0RhdGEuZmllbGRDb25maWRlbmNlcy5jYXRlZ29yeSAqIDEwMCkudG9GaXhlZCgwKX0lXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0JhZGdlPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAge2FpQW5hbHlzaXNEYXRhLnBheW1lbnRUeXBlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBqdXN0aWZ5LWJldHdlZW4nPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSd0ZXh0LWJsdWUtNzAwJz48c3Ryb25nPlR5cGU6PC9zdHJvbmc+IHthaUFuYWx5c2lzRGF0YS5wYXltZW50VHlwZSA9PT0gJ3JlY3VycmVudCcgPyAnUmVjdXJyaW5nJyA6ICdPbmUtdGltZSd9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAge2FpQW5hbHlzaXNEYXRhLmZpZWxkQ29uZmlkZW5jZXMgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8QmFkZ2UgdmFyaWFudD0nb3V0bGluZScgY2xhc3NOYW1lPSd0ZXh0LXhzJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KGFpQW5hbHlzaXNEYXRhLmZpZWxkQ29uZmlkZW5jZXMucGF5bWVudFR5cGUgKiAxMDApLnRvRml4ZWQoMCl9JVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0JhZGdlPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHsoYWlBbmFseXNpc0RhdGEuaXNzdWVEYXRlIHx8IGFpQW5hbHlzaXNEYXRhLmR1ZURhdGUpICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBqdXN0aWZ5LWJldHdlZW4nPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSd0ZXh0LWJsdWUtNzAwJz48c3Ryb25nPkRhdGVzOjwvc3Ryb25nPiB7YWlBbmFseXNpc0RhdGEuaXNzdWVEYXRlIHx8IGFpQW5hbHlzaXNEYXRhLmR1ZURhdGV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAge2FpQW5hbHlzaXNEYXRhLmZpZWxkQ29uZmlkZW5jZXMgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8QmFkZ2UgdmFyaWFudD0nb3V0bGluZScgY2xhc3NOYW1lPSd0ZXh0LXhzJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KGFpQW5hbHlzaXNEYXRhLmZpZWxkQ29uZmlkZW5jZXMuZGF0ZXMgKiAxMDApLnRvRml4ZWQoMCl9JVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0JhZGdlPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHsoYWlBbmFseXNpc0RhdGEuYmlsbE51bWJlciB8fCBhaUFuYWx5c2lzRGF0YS52ZW5kb3JDb250YWN0KSAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbXQtMyBwdC0zIGJvcmRlci10IGJvcmRlci1ibHVlLTIwMCB0ZXh0LXhzIHRleHQtYmx1ZS02MDAnPlxuICAgICAgICAgICAgICAgICAgICB7YWlBbmFseXNpc0RhdGEuYmlsbE51bWJlciAmJiA8cD48c3Ryb25nPkJpbGwgTnVtYmVyOjwvc3Ryb25nPiB7YWlBbmFseXNpc0RhdGEuYmlsbE51bWJlcn08L3A+fVxuICAgICAgICAgICAgICAgICAgICB7YWlBbmFseXNpc0RhdGEudmVuZG9yQ29udGFjdCAmJiA8cD48c3Ryb25nPlZlbmRvciBDb250YWN0Ojwvc3Ryb25nPiB7YWlBbmFseXNpc0RhdGEudmVuZG9yQ29udGFjdH08L3A+fVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXthcHBseUFpQW5hbHlzaXN9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J210LTMgdy1mdWxsJ1xuICAgICAgICAgICAgICAgICAgc2l6ZT0nc20nXG4gICAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD0nYnV0dG9uLWFwcGx5LWFpJ1xuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIEFwcGx5IEFsbCBGaWVsZHMgdG8gRm9ybVxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvVGFic0NvbnRlbnQ+XG5cbiAgICAgICAgPFRhYnNDb250ZW50IHZhbHVlPSdtYW51YWwnIGNsYXNzTmFtZT0nc3BhY2UteS00Jz5cbiAgICAgICAgICA8Rm9ybSB7Li4uZm9ybX0+XG4gICAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17Zm9ybS5oYW5kbGVTdWJtaXQob25TdWJtaXQpfSBjbGFzc05hbWU9J3NwYWNlLXktNic+XG4gICAgICAgICAgICAgIHtyZW5kZXJGb3JtRmllbGRzKCl9XG5cbiAgICAgICAgICAgICAgey8qIEFJIEFuYWx5c2lzIEluZm8gKi99XG4gICAgICAgICAgICAgIHthaUFuYWx5c2lzRGF0YSAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdwLTQgYmctYmx1ZS01MCByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItYmx1ZS0yMDAnXG4gICAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD0nYWktaW5mby1iYWRnZSdcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgbWItMic+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0ndGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWJsdWUtODAwJz5cbiAgICAgICAgICAgICAgICAgICAgICBGb3JtIHBvcHVsYXRlZCBmcm9tIEFJIGFuYWx5c2lzXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPEJhZGdlIHZhcmlhbnQ9J291dGxpbmUnIGNsYXNzTmFtZT0ndGV4dC14cyc+XG4gICAgICAgICAgICAgICAgICAgICAgeyhhaUFuYWx5c2lzRGF0YS5jb25maWRlbmNlICogMTAwKS50b0ZpeGVkKDEpfSUgY29uZmlkZW5jZVxuICAgICAgICAgICAgICAgICAgICA8L0JhZGdlPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3RleHQteHMgdGV4dC1ibHVlLTYwMCc+XG4gICAgICAgICAgICAgICAgICAgIFJldmlldyBhbmQgbW9kaWZ5IHRoZSBmb3JtIGFzIG5lZWRlZCBiZWZvcmUgY3JlYXRpbmcgdGhlIGJpbGwuXG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgey8qIEZvcm0gQWN0aW9ucyAqL31cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXgganVzdGlmeS1iZXR3ZWVuIGdhcC0yIHB0LTQgYm9yZGVyLXQnPlxuICAgICAgICAgICAgICAgIHsvKiBEZWxldGUgYnV0dG9uIGZvciBlZGl0IG1vZGUgKi99XG4gICAgICAgICAgICAgICAge21vZGUgPT09ICdlZGl0JyAmJiAoXG4gICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9J2J1dHRvbidcbiAgICAgICAgICAgICAgICAgICAgdmFyaWFudD0nZGVzdHJ1Y3RpdmUnXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoY29uZmlybSgnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIGJpbGw/IFRoaXMgYWN0aW9uIGNhbm5vdCBiZSB1bmRvbmUuJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZU11dGF0aW9uLm11dGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2RlbGV0ZU11dGF0aW9uLmlzUGVuZGluZ31cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMidcbiAgICAgICAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9J2J1dHRvbi1kZWxldGUtYmlsbCdcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPFRyYXNoMiBjbGFzc05hbWU9J3ctNCBoLTQnIC8+XG4gICAgICAgICAgICAgICAgICAgIHtkZWxldGVNdXRhdGlvbi5pc1BlbmRpbmcgPyAnRGVsZXRpbmcuLi4nIDogJ0RlbGV0ZSBCaWxsJ31cbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXggZ2FwLTInPlxuICAgICAgICAgICAgICAgICAge29uQ2FuY2VsICYmIChcbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9J2J1dHRvbidcbiAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PSdvdXRsaW5lJ1xuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2FuY2VsfVxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzdWJtaXRNdXRhdGlvbi5pc1BlbmRpbmcgfHwgZGVsZXRlTXV0YXRpb24uaXNQZW5kaW5nfVxuICAgICAgICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPSdidXR0b24tY2FuY2VsJ1xuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgQ2FuY2VsXG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgdHlwZT0nc3VibWl0J1xuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17c3VibWl0TXV0YXRpb24uaXNQZW5kaW5nIHx8IGRlbGV0ZU11dGF0aW9uLmlzUGVuZGluZ31cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdtaW4tdy1bMTIwcHhdJ1xuICAgICAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD17bW9kZSA9PT0gJ2NyZWF0ZScgPyAnYnV0dG9uLWNyZWF0ZScgOiAnYnV0dG9uLXVwZGF0ZSd9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHtzdWJtaXRNdXRhdGlvbi5pc1BlbmRpbmcgXG4gICAgICAgICAgICAgICAgICAgICAgPyAobW9kZSA9PT0gJ2NyZWF0ZScgPyAnQ3JlYXRpbmcuLi4nIDogJ1VwZGF0aW5nLi4uJykgXG4gICAgICAgICAgICAgICAgICAgICAgOiAobW9kZSA9PT0gJ2NyZWF0ZScgPyAnQ3JlYXRlIEJpbGwnIDogJ1VwZGF0ZSBCaWxsJylcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9mb3JtPlxuICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgPC9UYWJzQ29udGVudD5cbiAgICAgIDwvVGFicz5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQmlsbEZvcm07XG4iXSwidmVyc2lvbiI6M30=