1dccae50f93baa6e5535887bb8b854e3
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.TrialRequestForm = TrialRequestForm;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("react");
const button_1 = require("@/components/ui/button");
const input_1 = require("@/components/ui/input");
const label_1 = require("@/components/ui/label");
const textarea_1 = require("@/components/ui/textarea");
const card_1 = require("@/components/ui/card");
const dialog_1 = require("@/components/ui/dialog");
const lucide_react_1 = require("lucide-react");
const use_toast_1 = require("@/hooks/use-toast");
const queryClient_1 = require("@/lib/queryClient");
/**
 * TrialRequestForm component for requesting trial access.
 */
function TrialRequestForm({ children }) {
    const [isOpen, setIsOpen] = (0, react_1.useState)(false);
    const [isSubmitting, setIsSubmitting] = (0, react_1.useState)(false);
    const { toast } = (0, use_toast_1.useToast)();
    const [formData, setFormData] = (0, react_1.useState)({
        firstName: '',
        lastName: '',
        email: '',
        phone: '',
        company: '',
        address: '',
        city: '',
        province: 'QC',
        postalCode: '',
        numberOfBuildings: '',
        numberOfResidences: '',
        message: '',
    });
    const [errors, setErrors] = (0, react_1.useState)({});
    const validateForm = () => {
        const newErrors = {};
        if (!formData.firstName.trim()) {
            newErrors.firstName = 'Le prénom est requis';
        }
        if (!formData.lastName.trim()) {
            newErrors.lastName = 'Le nom est requis';
        }
        if (!formData.email.trim()) {
            newErrors.email = "L'adresse courriel est requise";
        }
        else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(formData.email)) {
            newErrors.email = 'Veuillez entrer une adresse courriel valide';
        }
        if (!formData.phone.trim()) {
            newErrors.phone = 'Le numéro de téléphone est requis';
        }
        if (!formData.company.trim()) {
            newErrors.company = "Le nom de l'entreprise est requis";
        }
        if (!formData.numberOfBuildings.trim()) {
            newErrors.numberOfBuildings = 'Le nombre de bâtiments est requis';
        }
        else if (parseInt(formData.numberOfBuildings) <= 0) {
            newErrors.numberOfBuildings = 'Veuillez entrer un nombre valide';
        }
        if (!formData.numberOfResidences.trim()) {
            newErrors.numberOfResidences = 'Le nombre de résidences est requis';
        }
        else if (parseInt(formData.numberOfResidences) <= 0) {
            newErrors.numberOfResidences = 'Veuillez entrer un nombre valide';
        }
        setErrors(newErrors);
        return Object.keys(newErrors).length === 0;
    };
    const handleInputChange = (field, value) => {
        setFormData((prev) => ({ ...prev, [field]: value }));
        if (errors[field]) {
            setErrors((prev) => ({ ...prev, [field]: undefined }));
        }
    };
    const handleSubmit = async (e) => {
        e.preventDefault();
        if (!validateForm()) {
            return;
        }
        setIsSubmitting(true);
        try {
            const response = await (0, queryClient_1.apiRequest)('POST', '/api/trial-requests', {
                data: formData,
            });
            if (response.ok) {
                toast({
                    title: 'Demande envoyée avec succès',
                    description: 'Nous vous contacterons dans les plus brefs délais.',
                });
                setIsOpen(false);
                setFormData({
                    firstName: '',
                    lastName: '',
                    email: '',
                    phone: '',
                    company: '',
                    address: '',
                    city: '',
                    province: 'QC',
                    postalCode: '',
                    numberOfBuildings: '',
                    numberOfResidences: '',
                    message: '',
                });
                setErrors({});
            }
            else {
                throw new Error('Failed to submit trial request');
            }
        }
        catch (error) {
            console.error('Error submitting trial request:', error);
            toast({
                variant: 'destructive',
                title: 'Erreur lors de l\'envoi',
                description: 'Une erreur est survenue. Veuillez réessayer.',
            });
        }
        finally {
            setIsSubmitting(false);
        }
    };
    const provinces = [
        { value: 'AB', label: 'Alberta' },
        { value: 'BC', label: 'Colombie-Britannique' },
        { value: 'MB', label: 'Manitoba' },
        { value: 'NB', label: 'Nouveau-Brunswick' },
        { value: 'NL', label: 'Terre-Neuve-et-Labrador' },
        { value: 'NS', label: 'Nouvelle-Écosse' },
        { value: 'NT', label: 'Territoires du Nord-Ouest' },
        { value: 'NU', label: 'Nunavut' },
        { value: 'ON', label: 'Ontario' },
        { value: 'PE', label: 'Île-du-Prince-Édouard' },
        { value: 'QC', label: 'Québec' },
        { value: 'SK', label: 'Saskatchewan' },
        { value: 'YT', label: 'Yukon' },
    ];
    return ((0, jsx_runtime_1.jsxs)(dialog_1.Dialog, { open: isOpen, onOpenChange: setIsOpen, children: [(0, jsx_runtime_1.jsx)(dialog_1.DialogTrigger, { asChild: true, children: children }), (0, jsx_runtime_1.jsxs)(dialog_1.DialogContent, { className: "max-w-4xl max-h-[90vh] overflow-y-auto", children: [(0, jsx_runtime_1.jsxs)(dialog_1.DialogHeader, { children: [(0, jsx_runtime_1.jsxs)(dialog_1.DialogTitle, { className: "flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Building, { className: "h-5 w-5 text-koveo-navy" }), "Demande d'essai gratuit"] }), (0, jsx_runtime_1.jsx)(dialog_1.DialogDescription, { children: "D\u00E9couvrez Koveo Gestion avec un essai gratuit de 30 jours. Remplissez le formulaire ci-dessous et notre \u00E9quipe vous contactera rapidement." })] }), (0, jsx_runtime_1.jsxs)("form", { onSubmit: handleSubmit, className: "space-y-6", children: [(0, jsx_runtime_1.jsxs)(card_1.Card, { children: [(0, jsx_runtime_1.jsx)(card_1.CardHeader, { children: (0, jsx_runtime_1.jsxs)(card_1.CardTitle, { className: "text-lg flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Mail, { className: "h-4 w-4" }), "Informations personnelles"] }) }), (0, jsx_runtime_1.jsxs)(card_1.CardContent, { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [(0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: "firstName", children: "Pr\u00E9nom *" }), (0, jsx_runtime_1.jsx)(input_1.Input, { id: "firstName", "data-testid": "input-first-name", value: formData.firstName, onChange: (e) => handleInputChange('firstName', e.target.value), placeholder: "Votre pr\u00E9nom" }), errors.firstName && ((0, jsx_runtime_1.jsx)("p", { className: "text-sm text-red-600", "data-testid": "error-first-name", children: errors.firstName }))] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: "lastName", children: "Nom *" }), (0, jsx_runtime_1.jsx)(input_1.Input, { id: "lastName", "data-testid": "input-last-name", value: formData.lastName, onChange: (e) => handleInputChange('lastName', e.target.value), placeholder: "Votre nom" }), errors.lastName && ((0, jsx_runtime_1.jsx)("p", { className: "text-sm text-red-600", "data-testid": "error-last-name", children: errors.lastName }))] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: "email", children: "Adresse courriel *" }), (0, jsx_runtime_1.jsx)(input_1.Input, { id: "email", type: "email", "data-testid": "input-email", value: formData.email, onChange: (e) => handleInputChange('email', e.target.value), placeholder: "votre@courriel.com" }), errors.email && ((0, jsx_runtime_1.jsx)("p", { className: "text-sm text-red-600", "data-testid": "error-email", children: errors.email }))] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: "phone", children: "T\u00E9l\u00E9phone *" }), (0, jsx_runtime_1.jsx)(input_1.Input, { id: "phone", type: "tel", "data-testid": "input-phone", value: formData.phone, onChange: (e) => handleInputChange('phone', e.target.value), placeholder: "(514) 123-4567" }), errors.phone && ((0, jsx_runtime_1.jsx)("p", { className: "text-sm text-red-600", "data-testid": "error-phone", children: errors.phone }))] })] })] }), (0, jsx_runtime_1.jsxs)(card_1.Card, { children: [(0, jsx_runtime_1.jsx)(card_1.CardHeader, { children: (0, jsx_runtime_1.jsxs)(card_1.CardTitle, { className: "text-lg flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Building, { className: "h-4 w-4" }), "Informations sur l'entreprise"] }) }), (0, jsx_runtime_1.jsxs)(card_1.CardContent, { className: "space-y-4", children: [(0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: "company", children: "Nom de l'entreprise *" }), (0, jsx_runtime_1.jsx)(input_1.Input, { id: "company", "data-testid": "input-company", value: formData.company, onChange: (e) => handleInputChange('company', e.target.value), placeholder: "Nom de votre entreprise" }), errors.company && ((0, jsx_runtime_1.jsx)("p", { className: "text-sm text-red-600", "data-testid": "error-company", children: errors.company }))] }), (0, jsx_runtime_1.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4", children: [(0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: "address", children: "Adresse" }), (0, jsx_runtime_1.jsx)(input_1.Input, { id: "address", "data-testid": "input-address", value: formData.address, onChange: (e) => handleInputChange('address', e.target.value), placeholder: "123 Rue Principale" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: "city", children: "Ville" }), (0, jsx_runtime_1.jsx)(input_1.Input, { id: "city", "data-testid": "input-city", value: formData.city, onChange: (e) => handleInputChange('city', e.target.value), placeholder: "Montr\u00E9al" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: "province", children: "Province" }), (0, jsx_runtime_1.jsx)("select", { id: "province", "data-testid": "select-province", value: formData.province, onChange: (e) => handleInputChange('province', e.target.value), className: "flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50", children: provinces.map((prov) => ((0, jsx_runtime_1.jsx)("option", { value: prov.value, children: prov.label }, prov.value))) })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: "postalCode", children: "Code postal" }), (0, jsx_runtime_1.jsx)(input_1.Input, { id: "postalCode", "data-testid": "input-postal-code", value: formData.postalCode, onChange: (e) => handleInputChange('postalCode', e.target.value), placeholder: "H1A 1A1" })] })] })] })] }), (0, jsx_runtime_1.jsxs)(card_1.Card, { children: [(0, jsx_runtime_1.jsx)(card_1.CardHeader, { children: (0, jsx_runtime_1.jsxs)(card_1.CardTitle, { className: "text-lg flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Users, { className: "h-4 w-4" }), "Informations sur les propri\u00E9t\u00E9s"] }) }), (0, jsx_runtime_1.jsxs)(card_1.CardContent, { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [(0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: "numberOfBuildings", children: "Nombre de b\u00E2timents *" }), (0, jsx_runtime_1.jsx)(input_1.Input, { id: "numberOfBuildings", type: "number", min: "1", "data-testid": "input-buildings-count", value: formData.numberOfBuildings, onChange: (e) => handleInputChange('numberOfBuildings', e.target.value), placeholder: "1" }), errors.numberOfBuildings && ((0, jsx_runtime_1.jsx)("p", { className: "text-sm text-red-600", "data-testid": "error-buildings-count", children: errors.numberOfBuildings }))] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: "numberOfResidences", children: "Nombre total de r\u00E9sidences *" }), (0, jsx_runtime_1.jsx)(input_1.Input, { id: "numberOfResidences", type: "number", min: "1", "data-testid": "input-residences-count", value: formData.numberOfResidences, onChange: (e) => handleInputChange('numberOfResidences', e.target.value), placeholder: "50" }), errors.numberOfResidences && ((0, jsx_runtime_1.jsx)("p", { className: "text-sm text-red-600", "data-testid": "error-residences-count", children: errors.numberOfResidences }))] })] })] }), (0, jsx_runtime_1.jsxs)(card_1.Card, { children: [(0, jsx_runtime_1.jsx)(card_1.CardHeader, { children: (0, jsx_runtime_1.jsxs)(card_1.CardTitle, { className: "text-lg flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.MessageSquare, { className: "h-4 w-4" }), "Informations suppl\u00E9mentaires"] }) }), (0, jsx_runtime_1.jsx)(card_1.CardContent, { children: (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: "message", children: "Message (optionnel)" }), (0, jsx_runtime_1.jsx)(textarea_1.Textarea, { id: "message", "data-testid": "textarea-message", value: formData.message, onChange: (e) => handleInputChange('message', e.target.value), placeholder: "D\u00E9crivez vos besoins sp\u00E9cifiques ou posez-nous vos questions...", rows: 4 })] }) })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex justify-end gap-4", children: [(0, jsx_runtime_1.jsx)(button_1.Button, { type: "button", variant: "outline", onClick: () => setIsOpen(false), "data-testid": "button-cancel", children: "Annuler" }), (0, jsx_runtime_1.jsx)(button_1.Button, { type: "submit", disabled: isSubmitting, "data-testid": "button-submit-trial", className: "bg-koveo-navy hover:bg-koveo-navy/90", children: isSubmitting ? ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Loader2, { className: "mr-2 h-4 w-4 animate-spin" }), "Envoi en cours..."] })) : ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Send, { className: "mr-2 h-4 w-4" }), "Envoyer la demande"] })) })] })] })] })] }));
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9jbGllbnQvc3JjL2NvbXBvbmVudHMvdWkvdHJpYWwtcmVxdWVzdC1mb3JtLnRzeCIsIm1hcHBpbmdzIjoiOztBQXdDQSw0Q0FzWkM7O0FBOWJELGlDQUFpQztBQUNqQyxtREFBZ0Q7QUFDaEQsaURBQThDO0FBQzlDLGlEQUE4QztBQUM5Qyx1REFBb0Q7QUFDcEQsK0NBQWlHO0FBQ2pHLG1EQU9nQztBQUNoQywrQ0FBa0c7QUFDbEcsaURBQTZDO0FBQzdDLG1EQUErQztBQXFCL0M7O0dBRUc7QUFDSCxTQUFnQixnQkFBZ0IsQ0FBQyxFQUFFLFFBQVEsRUFBeUI7SUFDbEUsTUFBTSxDQUFDLE1BQU0sRUFBRSxTQUFTLENBQUMsR0FBRyxJQUFBLGdCQUFRLEVBQUMsS0FBSyxDQUFDLENBQUM7SUFDNUMsTUFBTSxDQUFDLFlBQVksRUFBRSxlQUFlLENBQUMsR0FBRyxJQUFBLGdCQUFRLEVBQUMsS0FBSyxDQUFDLENBQUM7SUFDeEQsTUFBTSxFQUFFLEtBQUssRUFBRSxHQUFHLElBQUEsb0JBQVEsR0FBRSxDQUFDO0lBRTdCLE1BQU0sQ0FBQyxRQUFRLEVBQUUsV0FBVyxDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUF1QjtRQUM3RCxTQUFTLEVBQUUsRUFBRTtRQUNiLFFBQVEsRUFBRSxFQUFFO1FBQ1osS0FBSyxFQUFFLEVBQUU7UUFDVCxLQUFLLEVBQUUsRUFBRTtRQUNULE9BQU8sRUFBRSxFQUFFO1FBQ1gsT0FBTyxFQUFFLEVBQUU7UUFDWCxJQUFJLEVBQUUsRUFBRTtRQUNSLFFBQVEsRUFBRSxJQUFJO1FBQ2QsVUFBVSxFQUFFLEVBQUU7UUFDZCxpQkFBaUIsRUFBRSxFQUFFO1FBQ3JCLGtCQUFrQixFQUFFLEVBQUU7UUFDdEIsT0FBTyxFQUFFLEVBQUU7S0FDWixDQUFDLENBQUM7SUFFSCxNQUFNLENBQUMsTUFBTSxFQUFFLFNBQVMsQ0FBQyxHQUFHLElBQUEsZ0JBQVEsRUFBZ0MsRUFBRSxDQUFDLENBQUM7SUFFeEUsTUFBTSxZQUFZLEdBQUcsR0FBRyxFQUFFO1FBQ3hCLE1BQU0sU0FBUyxHQUFrQyxFQUFFLENBQUM7UUFFcEQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQztZQUMvQixTQUFTLENBQUMsU0FBUyxHQUFHLHNCQUFzQixDQUFDO1FBQy9DLENBQUM7UUFDRCxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDO1lBQzlCLFNBQVMsQ0FBQyxRQUFRLEdBQUcsbUJBQW1CLENBQUM7UUFDM0MsQ0FBQztRQUNELElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxFQUFFLENBQUM7WUFDM0IsU0FBUyxDQUFDLEtBQUssR0FBRyxnQ0FBZ0MsQ0FBQztRQUNyRCxDQUFDO2FBQU0sSUFBSSxDQUFDLDRCQUE0QixDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQztZQUM5RCxTQUFTLENBQUMsS0FBSyxHQUFHLDZDQUE2QyxDQUFDO1FBQ2xFLENBQUM7UUFDRCxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDO1lBQzNCLFNBQVMsQ0FBQyxLQUFLLEdBQUcsbUNBQW1DLENBQUM7UUFDeEQsQ0FBQztRQUNELElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxFQUFFLENBQUM7WUFDN0IsU0FBUyxDQUFDLE9BQU8sR0FBRyxtQ0FBbUMsQ0FBQztRQUMxRCxDQUFDO1FBQ0QsSUFBSSxDQUFDLFFBQVEsQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDO1lBQ3ZDLFNBQVMsQ0FBQyxpQkFBaUIsR0FBRyxtQ0FBbUMsQ0FBQztRQUNwRSxDQUFDO2FBQU0sSUFBSSxRQUFRLENBQUMsUUFBUSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7WUFDckQsU0FBUyxDQUFDLGlCQUFpQixHQUFHLGtDQUFrQyxDQUFDO1FBQ25FLENBQUM7UUFDRCxJQUFJLENBQUMsUUFBUSxDQUFDLGtCQUFrQixDQUFDLElBQUksRUFBRSxFQUFFLENBQUM7WUFDeEMsU0FBUyxDQUFDLGtCQUFrQixHQUFHLG9DQUFvQyxDQUFDO1FBQ3RFLENBQUM7YUFBTSxJQUFJLFFBQVEsQ0FBQyxRQUFRLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztZQUN0RCxTQUFTLENBQUMsa0JBQWtCLEdBQUcsa0NBQWtDLENBQUM7UUFDcEUsQ0FBQztRQUVELFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNyQixPQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQztJQUM3QyxDQUFDLENBQUM7SUFFRixNQUFNLGlCQUFpQixHQUFHLENBQUMsS0FBaUMsRUFBRSxLQUFhLEVBQUUsRUFBRTtRQUM3RSxXQUFXLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLElBQUksRUFBRSxDQUFDLEtBQUssQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztRQUVyRCxJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDO1lBQ2xCLFNBQVMsQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLEdBQUcsSUFBSSxFQUFFLENBQUMsS0FBSyxDQUFDLEVBQUUsU0FBUyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ3pELENBQUM7SUFDSCxDQUFDLENBQUM7SUFFRixNQUFNLFlBQVksR0FBRyxLQUFLLEVBQUUsQ0FBa0IsRUFBRSxFQUFFO1FBQ2hELENBQUMsQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUVuQixJQUFJLENBQUMsWUFBWSxFQUFFLEVBQUUsQ0FBQztZQUNwQixPQUFPO1FBQ1QsQ0FBQztRQUVELGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUV0QixJQUFJLENBQUM7WUFDSCxNQUFNLFFBQVEsR0FBRyxNQUFNLElBQUEsd0JBQVUsRUFBQyxNQUFNLEVBQUUscUJBQXFCLEVBQUU7Z0JBQy9ELElBQUksRUFBRSxRQUFRO2FBQ2YsQ0FBQyxDQUFDO1lBRUgsSUFBSSxRQUFRLENBQUMsRUFBRSxFQUFFLENBQUM7Z0JBQ2hCLEtBQUssQ0FBQztvQkFDSixLQUFLLEVBQUUsNkJBQTZCO29CQUNwQyxXQUFXLEVBQUUsb0RBQW9EO2lCQUNsRSxDQUFDLENBQUM7Z0JBQ0gsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUNqQixXQUFXLENBQUM7b0JBQ1YsU0FBUyxFQUFFLEVBQUU7b0JBQ2IsUUFBUSxFQUFFLEVBQUU7b0JBQ1osS0FBSyxFQUFFLEVBQUU7b0JBQ1QsS0FBSyxFQUFFLEVBQUU7b0JBQ1QsT0FBTyxFQUFFLEVBQUU7b0JBQ1gsT0FBTyxFQUFFLEVBQUU7b0JBQ1gsSUFBSSxFQUFFLEVBQUU7b0JBQ1IsUUFBUSxFQUFFLElBQUk7b0JBQ2QsVUFBVSxFQUFFLEVBQUU7b0JBQ2QsaUJBQWlCLEVBQUUsRUFBRTtvQkFDckIsa0JBQWtCLEVBQUUsRUFBRTtvQkFDdEIsT0FBTyxFQUFFLEVBQUU7aUJBQ1osQ0FBQyxDQUFDO2dCQUNILFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUNoQixDQUFDO2lCQUFNLENBQUM7Z0JBQ04sTUFBTSxJQUFJLEtBQUssQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUFDO1lBQ3BELENBQUM7UUFDSCxDQUFDO1FBQUMsT0FBTyxLQUFLLEVBQUUsQ0FBQztZQUNmLE9BQU8sQ0FBQyxLQUFLLENBQUMsaUNBQWlDLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDeEQsS0FBSyxDQUFDO2dCQUNKLE9BQU8sRUFBRSxhQUFhO2dCQUN0QixLQUFLLEVBQUUseUJBQXlCO2dCQUNoQyxXQUFXLEVBQUUsOENBQThDO2FBQzVELENBQUMsQ0FBQztRQUNMLENBQUM7Z0JBQVMsQ0FBQztZQUNULGVBQWUsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN6QixDQUFDO0lBQ0gsQ0FBQyxDQUFDO0lBRUYsTUFBTSxTQUFTLEdBQUc7UUFDaEIsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUU7UUFDakMsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxzQkFBc0IsRUFBRTtRQUM5QyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLFVBQVUsRUFBRTtRQUNsQyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLG1CQUFtQixFQUFFO1FBQzNDLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUseUJBQXlCLEVBQUU7UUFDakQsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxpQkFBaUIsRUFBRTtRQUN6QyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLDJCQUEyQixFQUFFO1FBQ25ELEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFO1FBQ2pDLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFO1FBQ2pDLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsdUJBQXVCLEVBQUU7UUFDL0MsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUU7UUFDaEMsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxjQUFjLEVBQUU7UUFDdEMsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUU7S0FDaEMsQ0FBQztJQUVGLE9BQU8sQ0FDTCx3QkFBQyxlQUFNLElBQUMsSUFBSSxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQUUsU0FBUyxhQUMzQyx1QkFBQyxzQkFBYSxJQUFDLE9BQU8sa0JBQUUsUUFBUSxHQUFpQixFQUNqRCx3QkFBQyxzQkFBYSxJQUFDLFNBQVMsRUFBQyx3Q0FBd0MsYUFDL0Qsd0JBQUMscUJBQVksZUFDWCx3QkFBQyxvQkFBVyxJQUFDLFNBQVMsRUFBQyx5QkFBeUIsYUFDOUMsdUJBQUMsdUJBQVEsSUFBQyxTQUFTLEVBQUMseUJBQXlCLEdBQUcsK0JBRXBDLEVBQ2QsdUJBQUMsMEJBQWlCLHVLQUdFLElBQ1AsRUFFZixrQ0FBTSxRQUFRLEVBQUUsWUFBWSxFQUFFLFNBQVMsRUFBQyxXQUFXLGFBRWpELHdCQUFDLFdBQUksZUFDSCx1QkFBQyxpQkFBVSxjQUNULHdCQUFDLGdCQUFTLElBQUMsU0FBUyxFQUFDLGlDQUFpQyxhQUNwRCx1QkFBQyxtQkFBSSxJQUFDLFNBQVMsRUFBQyxTQUFTLEdBQUcsaUNBRWxCLEdBQ0QsRUFDYix3QkFBQyxrQkFBVyxJQUFDLFNBQVMsRUFBQyx1Q0FBdUMsYUFDNUQsaUNBQUssU0FBUyxFQUFDLFdBQVcsYUFDeEIsdUJBQUMsYUFBSyxJQUFDLE9BQU8sRUFBQyxXQUFXLDhCQUFpQixFQUMzQyx1QkFBQyxhQUFLLElBQ0osRUFBRSxFQUFDLFdBQVcsaUJBQ0Ysa0JBQWtCLEVBQzlCLEtBQUssRUFBRSxRQUFRLENBQUMsU0FBUyxFQUN6QixRQUFRLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLGlCQUFpQixDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUMvRCxXQUFXLEVBQUMsbUJBQWMsR0FDMUIsRUFDRCxNQUFNLENBQUMsU0FBUyxJQUFJLENBQ25CLDhCQUFHLFNBQVMsRUFBQyxzQkFBc0IsaUJBQWEsa0JBQWtCLFlBQy9ELE1BQU0sQ0FBQyxTQUFTLEdBQ2YsQ0FDTCxJQUNHLEVBRU4saUNBQUssU0FBUyxFQUFDLFdBQVcsYUFDeEIsdUJBQUMsYUFBSyxJQUFDLE9BQU8sRUFBQyxVQUFVLHNCQUFjLEVBQ3ZDLHVCQUFDLGFBQUssSUFDSixFQUFFLEVBQUMsVUFBVSxpQkFDRCxpQkFBaUIsRUFDN0IsS0FBSyxFQUFFLFFBQVEsQ0FBQyxRQUFRLEVBQ3hCLFFBQVEsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsaUJBQWlCLENBQUMsVUFBVSxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQzlELFdBQVcsRUFBQyxXQUFXLEdBQ3ZCLEVBQ0QsTUFBTSxDQUFDLFFBQVEsSUFBSSxDQUNsQiw4QkFBRyxTQUFTLEVBQUMsc0JBQXNCLGlCQUFhLGlCQUFpQixZQUM5RCxNQUFNLENBQUMsUUFBUSxHQUNkLENBQ0wsSUFDRyxFQUVOLGlDQUFLLFNBQVMsRUFBQyxXQUFXLGFBQ3hCLHVCQUFDLGFBQUssSUFBQyxPQUFPLEVBQUMsT0FBTyxtQ0FBMkIsRUFDakQsdUJBQUMsYUFBSyxJQUNKLEVBQUUsRUFBQyxPQUFPLEVBQ1YsSUFBSSxFQUFDLE9BQU8saUJBQ0EsYUFBYSxFQUN6QixLQUFLLEVBQUUsUUFBUSxDQUFDLEtBQUssRUFDckIsUUFBUSxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFDM0QsV0FBVyxFQUFDLG9CQUFvQixHQUNoQyxFQUNELE1BQU0sQ0FBQyxLQUFLLElBQUksQ0FDZiw4QkFBRyxTQUFTLEVBQUMsc0JBQXNCLGlCQUFhLGFBQWEsWUFDMUQsTUFBTSxDQUFDLEtBQUssR0FDWCxDQUNMLElBQ0csRUFFTixpQ0FBSyxTQUFTLEVBQUMsV0FBVyxhQUN4Qix1QkFBQyxhQUFLLElBQUMsT0FBTyxFQUFDLE9BQU8sc0NBQW9CLEVBQzFDLHVCQUFDLGFBQUssSUFDSixFQUFFLEVBQUMsT0FBTyxFQUNWLElBQUksRUFBQyxLQUFLLGlCQUNFLGFBQWEsRUFDekIsS0FBSyxFQUFFLFFBQVEsQ0FBQyxLQUFLLEVBQ3JCLFFBQVEsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsaUJBQWlCLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQzNELFdBQVcsRUFBQyxnQkFBZ0IsR0FDNUIsRUFDRCxNQUFNLENBQUMsS0FBSyxJQUFJLENBQ2YsOEJBQUcsU0FBUyxFQUFDLHNCQUFzQixpQkFBYSxhQUFhLFlBQzFELE1BQU0sQ0FBQyxLQUFLLEdBQ1gsQ0FDTCxJQUNHLElBQ00sSUFDVCxFQUdQLHdCQUFDLFdBQUksZUFDSCx1QkFBQyxpQkFBVSxjQUNULHdCQUFDLGdCQUFTLElBQUMsU0FBUyxFQUFDLGlDQUFpQyxhQUNwRCx1QkFBQyx1QkFBUSxJQUFDLFNBQVMsRUFBQyxTQUFTLEdBQUcscUNBRXRCLEdBQ0QsRUFDYix3QkFBQyxrQkFBVyxJQUFDLFNBQVMsRUFBQyxXQUFXLGFBQ2hDLGlDQUFLLFNBQVMsRUFBQyxXQUFXLGFBQ3hCLHVCQUFDLGFBQUssSUFBQyxPQUFPLEVBQUMsU0FBUyxzQ0FBOEIsRUFDdEQsdUJBQUMsYUFBSyxJQUNKLEVBQUUsRUFBQyxTQUFTLGlCQUNBLGVBQWUsRUFDM0IsS0FBSyxFQUFFLFFBQVEsQ0FBQyxPQUFPLEVBQ3ZCLFFBQVEsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsaUJBQWlCLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQzdELFdBQVcsRUFBQyx5QkFBeUIsR0FDckMsRUFDRCxNQUFNLENBQUMsT0FBTyxJQUFJLENBQ2pCLDhCQUFHLFNBQVMsRUFBQyxzQkFBc0IsaUJBQWEsZUFBZSxZQUM1RCxNQUFNLENBQUMsT0FBTyxHQUNiLENBQ0wsSUFDRyxFQUVOLGlDQUFLLFNBQVMsRUFBQyxzREFBc0QsYUFDbkUsaUNBQUssU0FBUyxFQUFDLFdBQVcsYUFDeEIsdUJBQUMsYUFBSyxJQUFDLE9BQU8sRUFBQyxTQUFTLHdCQUFnQixFQUN4Qyx1QkFBQyxhQUFLLElBQ0osRUFBRSxFQUFDLFNBQVMsaUJBQ0EsZUFBZSxFQUMzQixLQUFLLEVBQUUsUUFBUSxDQUFDLE9BQU8sRUFDdkIsUUFBUSxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxpQkFBaUIsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFDN0QsV0FBVyxFQUFDLG9CQUFvQixHQUNoQyxJQUNFLEVBRU4saUNBQUssU0FBUyxFQUFDLFdBQVcsYUFDeEIsdUJBQUMsYUFBSyxJQUFDLE9BQU8sRUFBQyxNQUFNLHNCQUFjLEVBQ25DLHVCQUFDLGFBQUssSUFDSixFQUFFLEVBQUMsTUFBTSxpQkFDRyxZQUFZLEVBQ3hCLEtBQUssRUFBRSxRQUFRLENBQUMsSUFBSSxFQUNwQixRQUFRLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUMxRCxXQUFXLEVBQUMsZUFBVSxHQUN0QixJQUNFLEVBRU4saUNBQUssU0FBUyxFQUFDLFdBQVcsYUFDeEIsdUJBQUMsYUFBSyxJQUFDLE9BQU8sRUFBQyxVQUFVLHlCQUFpQixFQUMxQyxtQ0FDRSxFQUFFLEVBQUMsVUFBVSxpQkFDRCxpQkFBaUIsRUFDN0IsS0FBSyxFQUFFLFFBQVEsQ0FBQyxRQUFRLEVBQ3hCLFFBQVEsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsaUJBQWlCLENBQUMsVUFBVSxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQzlELFNBQVMsRUFBQyw4VkFBOFYsWUFFdlcsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsQ0FDdkIsbUNBQXlCLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxZQUN2QyxJQUFJLENBQUMsS0FBSyxJQURBLElBQUksQ0FBQyxLQUFLLENBRWQsQ0FDVixDQUFDLEdBQ0ssSUFDTCxFQUVOLGlDQUFLLFNBQVMsRUFBQyxXQUFXLGFBQ3hCLHVCQUFDLGFBQUssSUFBQyxPQUFPLEVBQUMsWUFBWSw0QkFBb0IsRUFDL0MsdUJBQUMsYUFBSyxJQUNKLEVBQUUsRUFBQyxZQUFZLGlCQUNILG1CQUFtQixFQUMvQixLQUFLLEVBQUUsUUFBUSxDQUFDLFVBQVUsRUFDMUIsUUFBUSxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxpQkFBaUIsQ0FBQyxZQUFZLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFDaEUsV0FBVyxFQUFDLFNBQVMsR0FDckIsSUFDRSxJQUNGLElBQ00sSUFDVCxFQUdQLHdCQUFDLFdBQUksZUFDSCx1QkFBQyxpQkFBVSxjQUNULHdCQUFDLGdCQUFTLElBQUMsU0FBUyxFQUFDLGlDQUFpQyxhQUNwRCx1QkFBQyxvQkFBSyxJQUFDLFNBQVMsRUFBQyxTQUFTLEdBQUcsaURBRW5CLEdBQ0QsRUFDYix3QkFBQyxrQkFBVyxJQUFDLFNBQVMsRUFBQyx1Q0FBdUMsYUFDNUQsaUNBQUssU0FBUyxFQUFDLFdBQVcsYUFDeEIsdUJBQUMsYUFBSyxJQUFDLE9BQU8sRUFBQyxtQkFBbUIsMkNBQThCLEVBQ2hFLHVCQUFDLGFBQUssSUFDSixFQUFFLEVBQUMsbUJBQW1CLEVBQ3RCLElBQUksRUFBQyxRQUFRLEVBQ2IsR0FBRyxFQUFDLEdBQUcsaUJBQ0ssdUJBQXVCLEVBQ25DLEtBQUssRUFBRSxRQUFRLENBQUMsaUJBQWlCLEVBQ2pDLFFBQVEsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsaUJBQWlCLENBQUMsbUJBQW1CLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFDdkUsV0FBVyxFQUFDLEdBQUcsR0FDZixFQUNELE1BQU0sQ0FBQyxpQkFBaUIsSUFBSSxDQUMzQiw4QkFBRyxTQUFTLEVBQUMsc0JBQXNCLGlCQUFhLHVCQUF1QixZQUNwRSxNQUFNLENBQUMsaUJBQWlCLEdBQ3ZCLENBQ0wsSUFDRyxFQUVOLGlDQUFLLFNBQVMsRUFBQyxXQUFXLGFBQ3hCLHVCQUFDLGFBQUssSUFBQyxPQUFPLEVBQUMsb0JBQW9CLGtEQUFxQyxFQUN4RSx1QkFBQyxhQUFLLElBQ0osRUFBRSxFQUFDLG9CQUFvQixFQUN2QixJQUFJLEVBQUMsUUFBUSxFQUNiLEdBQUcsRUFBQyxHQUFHLGlCQUNLLHdCQUF3QixFQUNwQyxLQUFLLEVBQUUsUUFBUSxDQUFDLGtCQUFrQixFQUNsQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLGlCQUFpQixDQUFDLG9CQUFvQixFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQ3hFLFdBQVcsRUFBQyxJQUFJLEdBQ2hCLEVBQ0QsTUFBTSxDQUFDLGtCQUFrQixJQUFJLENBQzVCLDhCQUFHLFNBQVMsRUFBQyxzQkFBc0IsaUJBQWEsd0JBQXdCLFlBQ3JFLE1BQU0sQ0FBQyxrQkFBa0IsR0FDeEIsQ0FDTCxJQUNHLElBQ00sSUFDVCxFQUdQLHdCQUFDLFdBQUksZUFDSCx1QkFBQyxpQkFBVSxjQUNULHdCQUFDLGdCQUFTLElBQUMsU0FBUyxFQUFDLGlDQUFpQyxhQUNwRCx1QkFBQyw0QkFBYSxJQUFDLFNBQVMsRUFBQyxTQUFTLEdBQUcseUNBRTNCLEdBQ0QsRUFDYix1QkFBQyxrQkFBVyxjQUNWLGlDQUFLLFNBQVMsRUFBQyxXQUFXLGFBQ3hCLHVCQUFDLGFBQUssSUFBQyxPQUFPLEVBQUMsU0FBUyxvQ0FBNEIsRUFDcEQsdUJBQUMsbUJBQVEsSUFDUCxFQUFFLEVBQUMsU0FBUyxpQkFDQSxrQkFBa0IsRUFDOUIsS0FBSyxFQUFFLFFBQVEsQ0FBQyxPQUFPLEVBQ3ZCLFFBQVEsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsaUJBQWlCLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQzdELFdBQVcsRUFBQywyRUFBaUUsRUFDN0UsSUFBSSxFQUFFLENBQUMsR0FDUCxJQUNFLEdBQ00sSUFDVCxFQUdQLGlDQUFLLFNBQVMsRUFBQyx3QkFBd0IsYUFDckMsdUJBQUMsZUFBTSxJQUNMLElBQUksRUFBQyxRQUFRLEVBQ2IsT0FBTyxFQUFDLFNBQVMsRUFDakIsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsaUJBQ25CLGVBQWUsd0JBR3BCLEVBQ1QsdUJBQUMsZUFBTSxJQUNMLElBQUksRUFBQyxRQUFRLEVBQ2IsUUFBUSxFQUFFLFlBQVksaUJBQ1YscUJBQXFCLEVBQ2pDLFNBQVMsRUFBQyxzQ0FBc0MsWUFFL0MsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUNkLDZEQUNFLHVCQUFDLHNCQUFPLElBQUMsU0FBUyxFQUFDLDJCQUEyQixHQUFHLHlCQUVoRCxDQUNKLENBQUMsQ0FBQyxDQUFDLENBQ0YsNkRBQ0UsdUJBQUMsbUJBQUksSUFBQyxTQUFTLEVBQUMsY0FBYyxHQUFHLDBCQUVoQyxDQUNKLEdBQ00sSUFDTCxJQUNELElBQ08sSUFDVCxDQUNWLENBQUM7QUFDSixDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3Jrc3BhY2UvY2xpZW50L3NyYy9jb21wb25lbnRzL3VpL3RyaWFsLXJlcXVlc3QtZm9ybS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJztcbmltcG9ydCB7IElucHV0IH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2lucHV0JztcbmltcG9ydCB7IExhYmVsIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2xhYmVsJztcbmltcG9ydCB7IFRleHRhcmVhIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3RleHRhcmVhJztcbmltcG9ydCB7IENhcmQsIENhcmRDb250ZW50LCBDYXJkRGVzY3JpcHRpb24sIENhcmRIZWFkZXIsIENhcmRUaXRsZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9jYXJkJztcbmltcG9ydCB7XG4gIERpYWxvZyxcbiAgRGlhbG9nQ29udGVudCxcbiAgRGlhbG9nRGVzY3JpcHRpb24sXG4gIERpYWxvZ0hlYWRlcixcbiAgRGlhbG9nVGl0bGUsXG4gIERpYWxvZ1RyaWdnZXIsXG59IGZyb20gJ0AvY29tcG9uZW50cy91aS9kaWFsb2cnO1xuaW1wb3J0IHsgQnVpbGRpbmcsIFVzZXJzLCBNYWlsLCBQaG9uZSwgTWFwUGluLCBNZXNzYWdlU3F1YXJlLCBTZW5kLCBMb2FkZXIyIH0gZnJvbSAnbHVjaWRlLXJlYWN0JztcbmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSAnQC9ob29rcy91c2UtdG9hc3QnO1xuaW1wb3J0IHsgYXBpUmVxdWVzdCB9IGZyb20gJ0AvbGliL3F1ZXJ5Q2xpZW50JztcblxuaW50ZXJmYWNlIFRyaWFsUmVxdWVzdEZvcm1EYXRhIHtcbiAgZmlyc3ROYW1lOiBzdHJpbmc7XG4gIGxhc3ROYW1lOiBzdHJpbmc7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIHBob25lOiBzdHJpbmc7XG4gIGNvbXBhbnk6IHN0cmluZztcbiAgYWRkcmVzczogc3RyaW5nO1xuICBjaXR5OiBzdHJpbmc7XG4gIHByb3ZpbmNlOiBzdHJpbmc7XG4gIHBvc3RhbENvZGU6IHN0cmluZztcbiAgbnVtYmVyT2ZCdWlsZGluZ3M6IHN0cmluZztcbiAgbnVtYmVyT2ZSZXNpZGVuY2VzOiBzdHJpbmc7XG4gIG1lc3NhZ2U6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFRyaWFsUmVxdWVzdEZvcm1Qcm9wcyB7XG4gIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7XG59XG5cbi8qKlxuICogVHJpYWxSZXF1ZXN0Rm9ybSBjb21wb25lbnQgZm9yIHJlcXVlc3RpbmcgdHJpYWwgYWNjZXNzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gVHJpYWxSZXF1ZXN0Rm9ybSh7IGNoaWxkcmVuIH06IFRyaWFsUmVxdWVzdEZvcm1Qcm9wcykge1xuICBjb25zdCBbaXNPcGVuLCBzZXRJc09wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNTdWJtaXR0aW5nLCBzZXRJc1N1Ym1pdHRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCB7IHRvYXN0IH0gPSB1c2VUb2FzdCgpO1xuXG4gIGNvbnN0IFtmb3JtRGF0YSwgc2V0Rm9ybURhdGFdID0gdXNlU3RhdGU8VHJpYWxSZXF1ZXN0Rm9ybURhdGE+KHtcbiAgICBmaXJzdE5hbWU6ICcnLFxuICAgIGxhc3ROYW1lOiAnJyxcbiAgICBlbWFpbDogJycsXG4gICAgcGhvbmU6ICcnLFxuICAgIGNvbXBhbnk6ICcnLFxuICAgIGFkZHJlc3M6ICcnLFxuICAgIGNpdHk6ICcnLFxuICAgIHByb3ZpbmNlOiAnUUMnLFxuICAgIHBvc3RhbENvZGU6ICcnLFxuICAgIG51bWJlck9mQnVpbGRpbmdzOiAnJyxcbiAgICBudW1iZXJPZlJlc2lkZW5jZXM6ICcnLFxuICAgIG1lc3NhZ2U6ICcnLFxuICB9KTtcblxuICBjb25zdCBbZXJyb3JzLCBzZXRFcnJvcnNdID0gdXNlU3RhdGU8UGFydGlhbDxUcmlhbFJlcXVlc3RGb3JtRGF0YT4+KHt9KTtcblxuICBjb25zdCB2YWxpZGF0ZUZvcm0gPSAoKSA9PiB7XG4gICAgY29uc3QgbmV3RXJyb3JzOiBQYXJ0aWFsPFRyaWFsUmVxdWVzdEZvcm1EYXRhPiA9IHt9O1xuXG4gICAgaWYgKCFmb3JtRGF0YS5maXJzdE5hbWUudHJpbSgpKSB7XG4gICAgICBuZXdFcnJvcnMuZmlyc3ROYW1lID0gJ0xlIHByw6lub20gZXN0IHJlcXVpcyc7XG4gICAgfVxuICAgIGlmICghZm9ybURhdGEubGFzdE5hbWUudHJpbSgpKSB7XG4gICAgICBuZXdFcnJvcnMubGFzdE5hbWUgPSAnTGUgbm9tIGVzdCByZXF1aXMnO1xuICAgIH1cbiAgICBpZiAoIWZvcm1EYXRhLmVtYWlsLnRyaW0oKSkge1xuICAgICAgbmV3RXJyb3JzLmVtYWlsID0gXCJMJ2FkcmVzc2UgY291cnJpZWwgZXN0IHJlcXVpc2VcIjtcbiAgICB9IGVsc2UgaWYgKCEvXlteXFxzQF0rQFteXFxzQF0rXFwuW15cXHNAXSskLy50ZXN0KGZvcm1EYXRhLmVtYWlsKSkge1xuICAgICAgbmV3RXJyb3JzLmVtYWlsID0gJ1ZldWlsbGV6IGVudHJlciB1bmUgYWRyZXNzZSBjb3VycmllbCB2YWxpZGUnO1xuICAgIH1cbiAgICBpZiAoIWZvcm1EYXRhLnBob25lLnRyaW0oKSkge1xuICAgICAgbmV3RXJyb3JzLnBob25lID0gJ0xlIG51bcOpcm8gZGUgdMOpbMOpcGhvbmUgZXN0IHJlcXVpcyc7XG4gICAgfVxuICAgIGlmICghZm9ybURhdGEuY29tcGFueS50cmltKCkpIHtcbiAgICAgIG5ld0Vycm9ycy5jb21wYW55ID0gXCJMZSBub20gZGUgbCdlbnRyZXByaXNlIGVzdCByZXF1aXNcIjtcbiAgICB9XG4gICAgaWYgKCFmb3JtRGF0YS5udW1iZXJPZkJ1aWxkaW5ncy50cmltKCkpIHtcbiAgICAgIG5ld0Vycm9ycy5udW1iZXJPZkJ1aWxkaW5ncyA9ICdMZSBub21icmUgZGUgYsOidGltZW50cyBlc3QgcmVxdWlzJztcbiAgICB9IGVsc2UgaWYgKHBhcnNlSW50KGZvcm1EYXRhLm51bWJlck9mQnVpbGRpbmdzKSA8PSAwKSB7XG4gICAgICBuZXdFcnJvcnMubnVtYmVyT2ZCdWlsZGluZ3MgPSAnVmV1aWxsZXogZW50cmVyIHVuIG5vbWJyZSB2YWxpZGUnO1xuICAgIH1cbiAgICBpZiAoIWZvcm1EYXRhLm51bWJlck9mUmVzaWRlbmNlcy50cmltKCkpIHtcbiAgICAgIG5ld0Vycm9ycy5udW1iZXJPZlJlc2lkZW5jZXMgPSAnTGUgbm9tYnJlIGRlIHLDqXNpZGVuY2VzIGVzdCByZXF1aXMnO1xuICAgIH0gZWxzZSBpZiAocGFyc2VJbnQoZm9ybURhdGEubnVtYmVyT2ZSZXNpZGVuY2VzKSA8PSAwKSB7XG4gICAgICBuZXdFcnJvcnMubnVtYmVyT2ZSZXNpZGVuY2VzID0gJ1ZldWlsbGV6IGVudHJlciB1biBub21icmUgdmFsaWRlJztcbiAgICB9XG5cbiAgICBzZXRFcnJvcnMobmV3RXJyb3JzKTtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMobmV3RXJyb3JzKS5sZW5ndGggPT09IDA7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlSW5wdXRDaGFuZ2UgPSAoZmllbGQ6IGtleW9mIFRyaWFsUmVxdWVzdEZvcm1EYXRhLCB2YWx1ZTogc3RyaW5nKSA9PiB7XG4gICAgc2V0Rm9ybURhdGEoKHByZXYpID0+ICh7IC4uLnByZXYsIFtmaWVsZF06IHZhbHVlIH0pKTtcblxuICAgIGlmIChlcnJvcnNbZmllbGRdKSB7XG4gICAgICBzZXRFcnJvcnMoKHByZXYpID0+ICh7IC4uLnByZXYsIFtmaWVsZF06IHVuZGVmaW5lZCB9KSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IGFzeW5jIChlOiBSZWFjdC5Gb3JtRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBpZiAoIXZhbGlkYXRlRm9ybSgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0SXNTdWJtaXR0aW5nKHRydWUpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpUmVxdWVzdCgnUE9TVCcsICcvYXBpL3RyaWFsLXJlcXVlc3RzJywge1xuICAgICAgICBkYXRhOiBmb3JtRGF0YSxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgdG9hc3Qoe1xuICAgICAgICAgIHRpdGxlOiAnRGVtYW5kZSBlbnZvecOpZSBhdmVjIHN1Y2PDqHMnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnTm91cyB2b3VzIGNvbnRhY3Rlcm9ucyBkYW5zIGxlcyBwbHVzIGJyZWZzIGTDqWxhaXMuJyxcbiAgICAgICAgfSk7XG4gICAgICAgIHNldElzT3BlbihmYWxzZSk7XG4gICAgICAgIHNldEZvcm1EYXRhKHtcbiAgICAgICAgICBmaXJzdE5hbWU6ICcnLFxuICAgICAgICAgIGxhc3ROYW1lOiAnJyxcbiAgICAgICAgICBlbWFpbDogJycsXG4gICAgICAgICAgcGhvbmU6ICcnLFxuICAgICAgICAgIGNvbXBhbnk6ICcnLFxuICAgICAgICAgIGFkZHJlc3M6ICcnLFxuICAgICAgICAgIGNpdHk6ICcnLFxuICAgICAgICAgIHByb3ZpbmNlOiAnUUMnLFxuICAgICAgICAgIHBvc3RhbENvZGU6ICcnLFxuICAgICAgICAgIG51bWJlck9mQnVpbGRpbmdzOiAnJyxcbiAgICAgICAgICBudW1iZXJPZlJlc2lkZW5jZXM6ICcnLFxuICAgICAgICAgIG1lc3NhZ2U6ICcnLFxuICAgICAgICB9KTtcbiAgICAgICAgc2V0RXJyb3JzKHt9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHN1Ym1pdCB0cmlhbCByZXF1ZXN0Jyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN1Ym1pdHRpbmcgdHJpYWwgcmVxdWVzdDonLCBlcnJvcik7XG4gICAgICB0b2FzdCh7XG4gICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsXG4gICAgICAgIHRpdGxlOiAnRXJyZXVyIGxvcnMgZGUgbFxcJ2Vudm9pJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdVbmUgZXJyZXVyIGVzdCBzdXJ2ZW51ZS4gVmV1aWxsZXogcsOpZXNzYXllci4nLFxuICAgICAgfSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzU3VibWl0dGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHByb3ZpbmNlcyA9IFtcbiAgICB7IHZhbHVlOiAnQUInLCBsYWJlbDogJ0FsYmVydGEnIH0sXG4gICAgeyB2YWx1ZTogJ0JDJywgbGFiZWw6ICdDb2xvbWJpZS1Ccml0YW5uaXF1ZScgfSxcbiAgICB7IHZhbHVlOiAnTUInLCBsYWJlbDogJ01hbml0b2JhJyB9LFxuICAgIHsgdmFsdWU6ICdOQicsIGxhYmVsOiAnTm91dmVhdS1CcnVuc3dpY2snIH0sXG4gICAgeyB2YWx1ZTogJ05MJywgbGFiZWw6ICdUZXJyZS1OZXV2ZS1ldC1MYWJyYWRvcicgfSxcbiAgICB7IHZhbHVlOiAnTlMnLCBsYWJlbDogJ05vdXZlbGxlLcOJY29zc2UnIH0sXG4gICAgeyB2YWx1ZTogJ05UJywgbGFiZWw6ICdUZXJyaXRvaXJlcyBkdSBOb3JkLU91ZXN0JyB9LFxuICAgIHsgdmFsdWU6ICdOVScsIGxhYmVsOiAnTnVuYXZ1dCcgfSxcbiAgICB7IHZhbHVlOiAnT04nLCBsYWJlbDogJ09udGFyaW8nIH0sXG4gICAgeyB2YWx1ZTogJ1BFJywgbGFiZWw6ICfDjmxlLWR1LVByaW5jZS3DiWRvdWFyZCcgfSxcbiAgICB7IHZhbHVlOiAnUUMnLCBsYWJlbDogJ1F1w6liZWMnIH0sXG4gICAgeyB2YWx1ZTogJ1NLJywgbGFiZWw6ICdTYXNrYXRjaGV3YW4nIH0sXG4gICAgeyB2YWx1ZTogJ1lUJywgbGFiZWw6ICdZdWtvbicgfSxcbiAgXTtcblxuICByZXR1cm4gKFxuICAgIDxEaWFsb2cgb3Blbj17aXNPcGVufSBvbk9wZW5DaGFuZ2U9e3NldElzT3Blbn0+XG4gICAgICA8RGlhbG9nVHJpZ2dlciBhc0NoaWxkPntjaGlsZHJlbn08L0RpYWxvZ1RyaWdnZXI+XG4gICAgICA8RGlhbG9nQ29udGVudCBjbGFzc05hbWU9XCJtYXgtdy00eGwgbWF4LWgtWzkwdmhdIG92ZXJmbG93LXktYXV0b1wiPlxuICAgICAgICA8RGlhbG9nSGVhZGVyPlxuICAgICAgICAgIDxEaWFsb2dUaXRsZSBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgPEJ1aWxkaW5nIGNsYXNzTmFtZT1cImgtNSB3LTUgdGV4dC1rb3Zlby1uYXZ5XCIgLz5cbiAgICAgICAgICAgIERlbWFuZGUgZCdlc3NhaSBncmF0dWl0XG4gICAgICAgICAgPC9EaWFsb2dUaXRsZT5cbiAgICAgICAgICA8RGlhbG9nRGVzY3JpcHRpb24+XG4gICAgICAgICAgICBEw6ljb3V2cmV6IEtvdmVvIEdlc3Rpb24gYXZlYyB1biBlc3NhaSBncmF0dWl0IGRlIDMwIGpvdXJzLiBSZW1wbGlzc2V6IGxlIGZvcm11bGFpcmUgY2ktZGVzc291cyBldFxuICAgICAgICAgICAgbm90cmUgw6lxdWlwZSB2b3VzIGNvbnRhY3RlcmEgcmFwaWRlbWVudC5cbiAgICAgICAgICA8L0RpYWxvZ0Rlc2NyaXB0aW9uPlxuICAgICAgICA8L0RpYWxvZ0hlYWRlcj5cblxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17aGFuZGxlU3VibWl0fSBjbGFzc05hbWU9XCJzcGFjZS15LTZcIj5cbiAgICAgICAgICB7LyogUGVyc29uYWwgSW5mb3JtYXRpb24gKi99XG4gICAgICAgICAgPENhcmQ+XG4gICAgICAgICAgICA8Q2FyZEhlYWRlcj5cbiAgICAgICAgICAgICAgPENhcmRUaXRsZSBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgPE1haWwgY2xhc3NOYW1lPVwiaC00IHctNFwiIC8+XG4gICAgICAgICAgICAgICAgSW5mb3JtYXRpb25zIHBlcnNvbm5lbGxlc1xuICAgICAgICAgICAgICA8L0NhcmRUaXRsZT5cbiAgICAgICAgICAgIDwvQ2FyZEhlYWRlcj5cbiAgICAgICAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIGdhcC00XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgPExhYmVsIGh0bWxGb3I9XCJmaXJzdE5hbWVcIj5QcsOpbm9tICo8L0xhYmVsPlxuICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgaWQ9XCJmaXJzdE5hbWVcIlxuICAgICAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9XCJpbnB1dC1maXJzdC1uYW1lXCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtmb3JtRGF0YS5maXJzdE5hbWV9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUlucHV0Q2hhbmdlKCdmaXJzdE5hbWUnLCBlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlZvdHJlIHByw6lub21cIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAge2Vycm9ycy5maXJzdE5hbWUgJiYgKFxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXJlZC02MDBcIiBkYXRhLXRlc3RpZD1cImVycm9yLWZpcnN0LW5hbWVcIj5cbiAgICAgICAgICAgICAgICAgICAge2Vycm9ycy5maXJzdE5hbWV9XG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgICA8TGFiZWwgaHRtbEZvcj1cImxhc3ROYW1lXCI+Tm9tICo8L0xhYmVsPlxuICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgaWQ9XCJsYXN0TmFtZVwiXG4gICAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD1cImlucHV0LWxhc3QtbmFtZVwiXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17Zm9ybURhdGEubGFzdE5hbWV9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUlucHV0Q2hhbmdlKCdsYXN0TmFtZScsIGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVm90cmUgbm9tXCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIHtlcnJvcnMubGFzdE5hbWUgJiYgKFxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXJlZC02MDBcIiBkYXRhLXRlc3RpZD1cImVycm9yLWxhc3QtbmFtZVwiPlxuICAgICAgICAgICAgICAgICAgICB7ZXJyb3JzLmxhc3ROYW1lfVxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgPExhYmVsIGh0bWxGb3I9XCJlbWFpbFwiPkFkcmVzc2UgY291cnJpZWwgKjwvTGFiZWw+XG4gICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICBpZD1cImVtYWlsXCJcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJlbWFpbFwiXG4gICAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD1cImlucHV0LWVtYWlsXCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtmb3JtRGF0YS5lbWFpbH1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlSW5wdXRDaGFuZ2UoJ2VtYWlsJywgZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJ2b3RyZUBjb3VycmllbC5jb21cIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAge2Vycm9ycy5lbWFpbCAmJiAoXG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtcmVkLTYwMFwiIGRhdGEtdGVzdGlkPVwiZXJyb3ItZW1haWxcIj5cbiAgICAgICAgICAgICAgICAgICAge2Vycm9ycy5lbWFpbH1cbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICAgIDxMYWJlbCBodG1sRm9yPVwicGhvbmVcIj5Uw6lsw6lwaG9uZSAqPC9MYWJlbD5cbiAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgIGlkPVwicGhvbmVcIlxuICAgICAgICAgICAgICAgICAgdHlwZT1cInRlbFwiXG4gICAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD1cImlucHV0LXBob25lXCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtmb3JtRGF0YS5waG9uZX1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlSW5wdXRDaGFuZ2UoJ3Bob25lJywgZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCIoNTE0KSAxMjMtNDU2N1wiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICB7ZXJyb3JzLnBob25lICYmIChcbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1yZWQtNjAwXCIgZGF0YS10ZXN0aWQ9XCJlcnJvci1waG9uZVwiPlxuICAgICAgICAgICAgICAgICAgICB7ZXJyb3JzLnBob25lfVxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9DYXJkQ29udGVudD5cbiAgICAgICAgICA8L0NhcmQ+XG5cbiAgICAgICAgICB7LyogQ29tcGFueSBJbmZvcm1hdGlvbiAqL31cbiAgICAgICAgICA8Q2FyZD5cbiAgICAgICAgICAgIDxDYXJkSGVhZGVyPlxuICAgICAgICAgICAgICA8Q2FyZFRpdGxlIGNsYXNzTmFtZT1cInRleHQtbGcgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICA8QnVpbGRpbmcgY2xhc3NOYW1lPVwiaC00IHctNFwiIC8+XG4gICAgICAgICAgICAgICAgSW5mb3JtYXRpb25zIHN1ciBsJ2VudHJlcHJpc2VcbiAgICAgICAgICAgICAgPC9DYXJkVGl0bGU+XG4gICAgICAgICAgICA8L0NhcmRIZWFkZXI+XG4gICAgICAgICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgPExhYmVsIGh0bWxGb3I9XCJjb21wYW55XCI+Tm9tIGRlIGwnZW50cmVwcmlzZSAqPC9MYWJlbD5cbiAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgIGlkPVwiY29tcGFueVwiXG4gICAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD1cImlucHV0LWNvbXBhbnlcIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9e2Zvcm1EYXRhLmNvbXBhbnl9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUlucHV0Q2hhbmdlKCdjb21wYW55JywgZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJOb20gZGUgdm90cmUgZW50cmVwcmlzZVwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICB7ZXJyb3JzLmNvbXBhbnkgJiYgKFxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXJlZC02MDBcIiBkYXRhLXRlc3RpZD1cImVycm9yLWNvbXBhbnlcIj5cbiAgICAgICAgICAgICAgICAgICAge2Vycm9ycy5jb21wYW55fVxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBsZzpncmlkLWNvbHMtNCBnYXAtNFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgICA8TGFiZWwgaHRtbEZvcj1cImFkZHJlc3NcIj5BZHJlc3NlPC9MYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICBpZD1cImFkZHJlc3NcIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD1cImlucHV0LWFkZHJlc3NcIlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Zm9ybURhdGEuYWRkcmVzc31cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVJbnB1dENoYW5nZSgnYWRkcmVzcycsIGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCIxMjMgUnVlIFByaW5jaXBhbGVcIlxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgICA8TGFiZWwgaHRtbEZvcj1cImNpdHlcIj5WaWxsZTwvTGFiZWw+XG4gICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJjaXR5XCJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9XCJpbnB1dC1jaXR5XCJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2Zvcm1EYXRhLmNpdHl9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlSW5wdXRDaGFuZ2UoJ2NpdHknLCBlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiTW9udHLDqWFsXCJcbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICAgICAgPExhYmVsIGh0bWxGb3I9XCJwcm92aW5jZVwiPlByb3ZpbmNlPC9MYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJwcm92aW5jZVwiXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPVwic2VsZWN0LXByb3ZpbmNlXCJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2Zvcm1EYXRhLnByb3ZpbmNlfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUlucHV0Q2hhbmdlKCdwcm92aW5jZScsIGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBoLTEwIHctZnVsbCByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItaW5wdXQgYmctYmFja2dyb3VuZCBweC0zIHB5LTIgdGV4dC1zbSByaW5nLW9mZnNldC1iYWNrZ3JvdW5kIGZpbGU6Ym9yZGVyLTAgZmlsZTpiZy10cmFuc3BhcmVudCBmaWxlOnRleHQtc20gZmlsZTpmb250LW1lZGl1bSBwbGFjZWhvbGRlcjp0ZXh0LW11dGVkLWZvcmVncm91bmQgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUgZm9jdXMtdmlzaWJsZTpyaW5nLTIgZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0yIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCBkaXNhYmxlZDpvcGFjaXR5LTUwXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge3Byb3ZpbmNlcy5tYXAoKHByb3YpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIGtleT17cHJvdi52YWx1ZX0gdmFsdWU9e3Byb3YudmFsdWV9PlxuICAgICAgICAgICAgICAgICAgICAgICAge3Byb3YubGFiZWx9XG4gICAgICAgICAgICAgICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICAgICAgPExhYmVsIGh0bWxGb3I9XCJwb3N0YWxDb2RlXCI+Q29kZSBwb3N0YWw8L0xhYmVsPlxuICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgIGlkPVwicG9zdGFsQ29kZVwiXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPVwiaW5wdXQtcG9zdGFsLWNvZGVcIlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Zm9ybURhdGEucG9zdGFsQ29kZX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVJbnB1dENoYW5nZSgncG9zdGFsQ29kZScsIGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJIMUEgMUExXCJcbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9DYXJkQ29udGVudD5cbiAgICAgICAgICA8L0NhcmQ+XG5cbiAgICAgICAgICB7LyogUHJvcGVydHkgSW5mb3JtYXRpb24gKi99XG4gICAgICAgICAgPENhcmQ+XG4gICAgICAgICAgICA8Q2FyZEhlYWRlcj5cbiAgICAgICAgICAgICAgPENhcmRUaXRsZSBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgPFVzZXJzIGNsYXNzTmFtZT1cImgtNCB3LTRcIiAvPlxuICAgICAgICAgICAgICAgIEluZm9ybWF0aW9ucyBzdXIgbGVzIHByb3ByacOpdMOpc1xuICAgICAgICAgICAgICA8L0NhcmRUaXRsZT5cbiAgICAgICAgICAgIDwvQ2FyZEhlYWRlcj5cbiAgICAgICAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIGdhcC00XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgPExhYmVsIGh0bWxGb3I9XCJudW1iZXJPZkJ1aWxkaW5nc1wiPk5vbWJyZSBkZSBiw6J0aW1lbnRzICo8L0xhYmVsPlxuICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgaWQ9XCJudW1iZXJPZkJ1aWxkaW5nc1wiXG4gICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgIG1pbj1cIjFcIlxuICAgICAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9XCJpbnB1dC1idWlsZGluZ3MtY291bnRcIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9e2Zvcm1EYXRhLm51bWJlck9mQnVpbGRpbmdzfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVJbnB1dENoYW5nZSgnbnVtYmVyT2ZCdWlsZGluZ3MnLCBlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIjFcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAge2Vycm9ycy5udW1iZXJPZkJ1aWxkaW5ncyAmJiAoXG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtcmVkLTYwMFwiIGRhdGEtdGVzdGlkPVwiZXJyb3ItYnVpbGRpbmdzLWNvdW50XCI+XG4gICAgICAgICAgICAgICAgICAgIHtlcnJvcnMubnVtYmVyT2ZCdWlsZGluZ3N9XG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgICA8TGFiZWwgaHRtbEZvcj1cIm51bWJlck9mUmVzaWRlbmNlc1wiPk5vbWJyZSB0b3RhbCBkZSByw6lzaWRlbmNlcyAqPC9MYWJlbD5cbiAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgIGlkPVwibnVtYmVyT2ZSZXNpZGVuY2VzXCJcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgICAgICAgICAgbWluPVwiMVwiXG4gICAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD1cImlucHV0LXJlc2lkZW5jZXMtY291bnRcIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9e2Zvcm1EYXRhLm51bWJlck9mUmVzaWRlbmNlc31cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlSW5wdXRDaGFuZ2UoJ251bWJlck9mUmVzaWRlbmNlcycsIGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiNTBcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAge2Vycm9ycy5udW1iZXJPZlJlc2lkZW5jZXMgJiYgKFxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXJlZC02MDBcIiBkYXRhLXRlc3RpZD1cImVycm9yLXJlc2lkZW5jZXMtY291bnRcIj5cbiAgICAgICAgICAgICAgICAgICAge2Vycm9ycy5udW1iZXJPZlJlc2lkZW5jZXN9XG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgICAgIDwvQ2FyZD5cblxuICAgICAgICAgIHsvKiBBZGRpdGlvbmFsIEluZm9ybWF0aW9uICovfVxuICAgICAgICAgIDxDYXJkPlxuICAgICAgICAgICAgPENhcmRIZWFkZXI+XG4gICAgICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPVwidGV4dC1sZyBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgIDxNZXNzYWdlU3F1YXJlIGNsYXNzTmFtZT1cImgtNCB3LTRcIiAvPlxuICAgICAgICAgICAgICAgIEluZm9ybWF0aW9ucyBzdXBwbMOpbWVudGFpcmVzXG4gICAgICAgICAgICAgIDwvQ2FyZFRpdGxlPlxuICAgICAgICAgICAgPC9DYXJkSGVhZGVyPlxuICAgICAgICAgICAgPENhcmRDb250ZW50PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICAgIDxMYWJlbCBodG1sRm9yPVwibWVzc2FnZVwiPk1lc3NhZ2UgKG9wdGlvbm5lbCk8L0xhYmVsPlxuICAgICAgICAgICAgICAgIDxUZXh0YXJlYVxuICAgICAgICAgICAgICAgICAgaWQ9XCJtZXNzYWdlXCJcbiAgICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPVwidGV4dGFyZWEtbWVzc2FnZVwiXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17Zm9ybURhdGEubWVzc2FnZX1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlSW5wdXRDaGFuZ2UoJ21lc3NhZ2UnLCBlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkTDqWNyaXZleiB2b3MgYmVzb2lucyBzcMOpY2lmaXF1ZXMgb3UgcG9zZXotbm91cyB2b3MgcXVlc3Rpb25zLi4uXCJcbiAgICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgICAgIDwvQ2FyZD5cblxuICAgICAgICAgIHsvKiBTdWJtaXQgQnV0dG9uICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWVuZCBnYXAtNFwiPlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRJc09wZW4oZmFsc2UpfVxuICAgICAgICAgICAgICBkYXRhLXRlc3RpZD1cImJ1dHRvbi1jYW5jZWxcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBBbm51bGVyXG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXtpc1N1Ym1pdHRpbmd9XG4gICAgICAgICAgICAgIGRhdGEtdGVzdGlkPVwiYnV0dG9uLXN1Ym1pdC10cmlhbFwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWtvdmVvLW5hdnkgaG92ZXI6Ymcta292ZW8tbmF2eS85MFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtpc1N1Ym1pdHRpbmcgPyAoXG4gICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT1cIm1yLTIgaC00IHctNCBhbmltYXRlLXNwaW5cIiAvPlxuICAgICAgICAgICAgICAgICAgRW52b2kgZW4gY291cnMuLi5cbiAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgPFNlbmQgY2xhc3NOYW1lPVwibXItMiBoLTQgdy00XCIgLz5cbiAgICAgICAgICAgICAgICAgIEVudm95ZXIgbGEgZGVtYW5kZVxuICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvRGlhbG9nQ29udGVudD5cbiAgICA8L0RpYWxvZz5cbiAgKTtcbn0iXSwidmVyc2lvbiI6M30=