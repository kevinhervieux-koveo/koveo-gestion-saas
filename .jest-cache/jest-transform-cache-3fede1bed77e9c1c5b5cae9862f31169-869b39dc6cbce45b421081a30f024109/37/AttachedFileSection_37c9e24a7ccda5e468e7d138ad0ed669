8d173c443058a0728afb19e8bb912056
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.AttachedFileSection = AttachedFileSection;
const jsx_runtime_1 = require("react/jsx-runtime");
const button_1 = require("@/components/ui/button");
const label_1 = require("@/components/ui/label");
const lucide_react_1 = require("lucide-react");
function AttachedFileSection({ entityType, entityId, filePath, fileName, fileSize, canView = true, canDownload = true, className = '', fallbackName = 'Attachment' }) {
    // Don't render if no file is attached
    if (!filePath) {
        return null;
    }
    // Generate API endpoint based on entity type
    const getApiEndpoint = (download = false) => {
        const downloadParam = download ? '?download=true' : '';
        switch (entityType) {
            case 'document':
                return `/api/documents/${entityId}/file${downloadParam}`;
            case 'bug':
                return `/api/bugs/${entityId}/file${downloadParam}`;
            case 'feature-request':
                return `/api/feature-requests/${entityId}/file${downloadParam}`;
            case 'bill':
                return `/api/bills/${entityId}/file${downloadParam}`;
            default:
                return '';
        }
    };
    const handleViewFile = () => {
        if (!canView || !filePath)
            return;
        const fileUrl = getApiEndpoint(false);
        window.open(fileUrl, '_blank');
    };
    const handleDownloadFile = () => {
        if (!canDownload || !filePath)
            return;
        const link = window.document.createElement('a');
        link.href = getApiEndpoint(true);
        link.download = fileName || fallbackName;
        window.document.body.appendChild(link);
        link.click();
        window.document.body.removeChild(link);
    };
    const formatFileSize = (bytes) => {
        if (!bytes)
            return '';
        const kb = bytes / 1024;
        if (kb < 1024)
            return `${kb.toFixed(1)} KB`;
        const mb = kb / 1024;
        return `${mb.toFixed(1)} MB`;
    };
    // Fix encoding issues in filename display
    const decodeFileName = (name) => {
        if (!name)
            return name;
        try {
            // Fix common encoding issues like "procÃ¨s" -> "procès"
            return name
                .replace(/Ã¨/g, 'è')
                .replace(/Ã©/g, 'é')
                .replace(/Ã /g, 'à')
                .replace(/Ã´/g, 'ô')
                .replace(/Ã®/g, 'î')
                .replace(/Ã§/g, 'ç')
                .replace(/Ã¹/g, 'ù')
                .replace(/Ã»/g, 'û')
                .replace(/Ã¢/g, 'â')
                .replace(/Ãª/g, 'ê');
        }
        catch {
            return name;
        }
    };
    const displayName = decodeFileName(fileName) || fallbackName;
    const sizeText = formatFileSize(fileSize);
    return ((0, jsx_runtime_1.jsxs)("div", { className: `border-t pt-4 ${className}`, children: [(0, jsx_runtime_1.jsx)(label_1.Label, { className: "text-sm font-medium", children: "Attached File" }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between p-3 bg-gray-50 rounded-lg mt-2", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.FileText, { className: "w-4 h-4 text-gray-500" }), (0, jsx_runtime_1.jsxs)("div", { className: "flex flex-col", children: [(0, jsx_runtime_1.jsx)("span", { className: "text-sm font-medium", children: displayName }), sizeText && (0, jsx_runtime_1.jsx)("span", { className: "text-xs text-gray-500", children: sizeText })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex gap-2", children: [canView && ((0, jsx_runtime_1.jsxs)(button_1.Button, { type: "button", onClick: handleViewFile, disabled: !filePath, "data-testid": "button-view-file", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.FileText, { className: "w-4 h-4 mr-2" }), "View"] })), canDownload && ((0, jsx_runtime_1.jsxs)(button_1.Button, { type: "button", variant: "outline", onClick: handleDownloadFile, disabled: !filePath, "data-testid": "button-download-file", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Download, { className: "w-4 h-4 mr-2" }), "Download"] }))] })] })] }));
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9jbGllbnQvc3JjL2NvbXBvbmVudHMvY29tbW9uL0F0dGFjaGVkRmlsZVNlY3Rpb24udHN4IiwibWFwcGluZ3MiOiI7O0FBeUJBLGtEQXdIQzs7QUFqSkQsbURBQWdEO0FBQ2hELGlEQUE4QztBQUM5QywrQ0FBa0Q7QUF1QmxELFNBQWdCLG1CQUFtQixDQUFDLEVBQ2xDLFVBQVUsRUFDVixRQUFRLEVBQ1IsUUFBUSxFQUNSLFFBQVEsRUFDUixRQUFRLEVBQ1IsT0FBTyxHQUFHLElBQUksRUFDZCxXQUFXLEdBQUcsSUFBSSxFQUNsQixTQUFTLEdBQUcsRUFBRSxFQUNkLFlBQVksR0FBRyxZQUFZLEVBQ0Y7SUFDekIsc0NBQXNDO0lBQ3RDLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNkLE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUVELDZDQUE2QztJQUM3QyxNQUFNLGNBQWMsR0FBRyxDQUFDLFFBQVEsR0FBRyxLQUFLLEVBQUUsRUFBRTtRQUMxQyxNQUFNLGFBQWEsR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7UUFDdkQsUUFBUSxVQUFVLEVBQUUsQ0FBQztZQUNuQixLQUFLLFVBQVU7Z0JBQ2IsT0FBTyxrQkFBa0IsUUFBUSxRQUFRLGFBQWEsRUFBRSxDQUFDO1lBQzNELEtBQUssS0FBSztnQkFDUixPQUFPLGFBQWEsUUFBUSxRQUFRLGFBQWEsRUFBRSxDQUFDO1lBQ3RELEtBQUssaUJBQWlCO2dCQUNwQixPQUFPLHlCQUF5QixRQUFRLFFBQVEsYUFBYSxFQUFFLENBQUM7WUFDbEUsS0FBSyxNQUFNO2dCQUNULE9BQU8sY0FBYyxRQUFRLFFBQVEsYUFBYSxFQUFFLENBQUM7WUFDdkQ7Z0JBQ0UsT0FBTyxFQUFFLENBQUM7UUFDZCxDQUFDO0lBQ0gsQ0FBQyxDQUFDO0lBRUYsTUFBTSxjQUFjLEdBQUcsR0FBRyxFQUFFO1FBQzFCLElBQUksQ0FBQyxPQUFPLElBQUksQ0FBQyxR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LEdBQVEsRUFDekQsUUFBUSxJQUFJLGlDQUFNLFNBQVMsRUFBQyx1QkFBdUIsWUFBRSxRQUFRLEdBQVEsSUFDbEUsSUFDRixFQUNOLGlDQUFLLFNBQVMsRUFBQyxZQUFZLGFBQ3hCLE9BQU8sSUFBSSxDQUNWLHdCQUFDLGVBQU0sSUFDTCxJQUFJLEVBQUMsUUFBUSxFQUNiLE9BQU8sRUFBRSxjQUFjLEVBQ3ZCLFFBQVEsRUFBRSxDQUFDLFFBQVEsaUJBQ1Asa0JBQWtCLGFBRTlCLHVCQUFDLHVCQUFRLElBQUMsU0FBUyxFQUFDLGNBQWMsR0FBRyxZQUU5QixDQUNWLEVBQ0EsV0FBVyxJQUFJLENBQ2Qsd0JBQUMsZUFBTSxJQUNMLElBQUksRUFBQyxRQUFRLEVBQ2IsT0FBTyxFQUFDLFNBQVMsRUFDakIsT0FBTyxFQUFFLGtCQUFrQixFQUMzQixRQUFRLEVBQUUsQ0FBQyxRQUFRLGlCQUNQLHNCQUFzQixhQUVsQyx1QkFBQyx1QkFBUSxJQUFDLFNBQVMsRUFBQyxjQUFjLEdBQUcsZ0JBRTlCLENBQ1YsSUFDRyxJQUNGLElBQ0YsQ0FDUCxDQUFDO0FBQ0osQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvaG9tZS9ydW5uZXIvd29ya3NwYWNlL2NsaWVudC9zcmMvY29tcG9uZW50cy9jb21tb24vQXR0YWNoZWRGaWxlU2VjdGlvbi50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbic7XG5pbXBvcnQgeyBMYWJlbCB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9sYWJlbCc7XG5pbXBvcnQgeyBGaWxlVGV4dCwgRG93bmxvYWQgfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuXG5pbnRlcmZhY2UgQXR0YWNoZWRGaWxlU2VjdGlvblByb3BzIHtcbiAgLy8gRW50aXR5IGluZm9ybWF0aW9uXG4gIGVudGl0eVR5cGU6ICdkb2N1bWVudCcgfCAnYnVnJyB8ICdmZWF0dXJlLXJlcXVlc3QnIHwgJ2JpbGwnO1xuICBlbnRpdHlJZDogc3RyaW5nO1xuICBcbiAgLy8gRmlsZSBpbmZvcm1hdGlvblxuICBmaWxlUGF0aD86IHN0cmluZyB8IG51bGw7XG4gIGZpbGVOYW1lPzogc3RyaW5nIHwgbnVsbDtcbiAgZmlsZVNpemU/OiBudW1iZXIgfCBudWxsO1xuICBcbiAgLy8gUGVybWlzc2lvbnNcbiAgY2FuVmlldz86IGJvb2xlYW47XG4gIGNhbkRvd25sb2FkPzogYm9vbGVhbjtcbiAgXG4gIC8vIE9wdGlvbmFsIHN0eWxpbmdcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xuICBcbiAgLy8gT3B0aW9uYWwgZmFsbGJhY2sgbmFtZVxuICBmYWxsYmFja05hbWU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBBdHRhY2hlZEZpbGVTZWN0aW9uKHtcbiAgZW50aXR5VHlwZSxcbiAgZW50aXR5SWQsXG4gIGZpbGVQYXRoLFxuICBmaWxlTmFtZSxcbiAgZmlsZVNpemUsXG4gIGNhblZpZXcgPSB0cnVlLFxuICBjYW5Eb3dubG9hZCA9IHRydWUsXG4gIGNsYXNzTmFtZSA9ICcnLFxuICBmYWxsYmFja05hbWUgPSAnQXR0YWNobWVudCdcbn06IEF0dGFjaGVkRmlsZVNlY3Rpb25Qcm9wcykge1xuICAvLyBEb24ndCByZW5kZXIgaWYgbm8gZmlsZSBpcyBhdHRhY2hlZFxuICBpZiAoIWZpbGVQYXRoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBHZW5lcmF0ZSBBUEkgZW5kcG9pbnQgYmFzZWQgb24gZW50aXR5IHR5cGVcbiAgY29uc3QgZ2V0QXBpRW5kcG9pbnQgPSAoZG93bmxvYWQgPSBmYWxzZSkgPT4ge1xuICAgIGNvbnN0IGRvd25sb2FkUGFyYW0gPSBkb3dubG9hZCA/ICc/ZG93bmxvYWQ9dHJ1ZScgOiAnJztcbiAgICBzd2l0Y2ggKGVudGl0eVR5cGUpIHtcbiAgICAgIGNhc2UgJ2RvY3VtZW50JzpcbiAgICAgICAgcmV0dXJuIGAvYXBpL2RvY3VtZW50cy8ke2VudGl0eUlkfS9maWxlJHtkb3dubG9hZFBhcmFtfWA7XG4gICAgICBjYXNlICdidWcnOlxuICAgICAgICByZXR1cm4gYC9hcGkvYnVncy8ke2VudGl0eUlkfS9maWxlJHtkb3dubG9hZFBhcmFtfWA7XG4gICAgICBjYXNlICdmZWF0dXJlLXJlcXVlc3QnOlxuICAgICAgICByZXR1cm4gYC9hcGkvZmVhdHVyZS1yZXF1ZXN0cy8ke2VudGl0eUlkfS9maWxlJHtkb3dubG9hZFBhcmFtfWA7XG4gICAgICBjYXNlICdiaWxsJzpcbiAgICAgICAgcmV0dXJuIGAvYXBpL2JpbGxzLyR7ZW50aXR5SWR9L2ZpbGUke2Rvd25sb2FkUGFyYW19YDtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlVmlld0ZpbGUgPSAoKSA9PiB7XG4gICAgaWYgKCFjYW5WaWV3IHx8ICFmaWxlUGF0aCkgcmV0dXJuO1xuICAgIGNvbnN0IGZpbGVVcmwgPSBnZXRBcGlFbmRwb2ludChmYWxzZSk7XG4gICAgd2luZG93Lm9wZW4oZmlsZVVybCwgJ19ibGFuaycpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZURvd25sb2FkRmlsZSA9ICgpID0+IHtcbiAgICBpZiAoIWNhbkRvd25sb2FkIHx8ICFmaWxlUGF0aCkgcmV0dXJuO1xuICAgIGNvbnN0IGxpbmsgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIGxpbmsuaHJlZiA9IGdldEFwaUVuZHBvaW50KHRydWUpO1xuICAgIGxpbmsuZG93bmxvYWQgPSBmaWxlTmFtZSB8fCBmYWxsYmFja05hbWU7XG4gICAgd2luZG93LmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7XG4gICAgbGluay5jbGljaygpO1xuICAgIHdpbmRvdy5kb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspO1xuICB9O1xuXG4gIGNvbnN0IGZvcm1hdEZpbGVTaXplID0gKGJ5dGVzPzogbnVtYmVyIHwgbnVsbCkgPT4ge1xuICAgIGlmICghYnl0ZXMpIHJldHVybiAnJztcbiAgICBjb25zdCBrYiA9IGJ5dGVzIC8gMTAyNDtcbiAgICBpZiAoa2IgPCAxMDI0KSByZXR1cm4gYCR7a2IudG9GaXhlZCgxKX0gS0JgO1xuICAgIGNvbnN0IG1iID0ga2IgLyAxMDI0O1xuICAgIHJldHVybiBgJHttYi50b0ZpeGVkKDEpfSBNQmA7XG4gIH07XG5cbiAgLy8gRml4IGVuY29kaW5nIGlzc3VlcyBpbiBmaWxlbmFtZSBkaXNwbGF5XG4gIGNvbnN0IGRlY29kZUZpbGVOYW1lID0gKG5hbWU6IHN0cmluZykgPT4ge1xuICAgIGlmICghbmFtZSkgcmV0dXJuIG5hbWU7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEZpeCBjb21tb24gZW5jb2RpbmcgaXNzdWVzIGxpa2UgXCJwcm9jw4PCqHNcIiAtPiBcInByb2PDqHNcIlxuICAgICAgcmV0dXJuIG5hbWVcbiAgICAgICAgLnJlcGxhY2UoL8ODwqgvZywgJ8OoJylcbiAgICAgICAgLnJlcGxhY2UoL8ODwqkvZywgJ8OpJylcbiAgICAgICAgLnJlcGxhY2UoL8ODIC9nLCAnw6AnKVxuICAgICAgICAucmVwbGFjZSgvw4PCtC9nLCAnw7QnKVxuICAgICAgICAucmVwbGFjZSgvw4PCri9nLCAnw64nKVxuICAgICAgICAucmVwbGFjZSgvw4PCpy9nLCAnw6cnKVxuICAgICAgICAucmVwbGFjZSgvw4PCuS9nLCAnw7knKVxuICAgICAgICAucmVwbGFjZSgvw4PCuy9nLCAnw7snKVxuICAgICAgICAucmVwbGFjZSgvw4PCoi9nLCAnw6InKVxuICAgICAgICAucmVwbGFjZSgvw4PCqi9nLCAnw6onKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiBuYW1lO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBkaXNwbGF5TmFtZSA9IGRlY29kZUZpbGVOYW1lKGZpbGVOYW1lKSB8fCBmYWxsYmFja05hbWU7XG4gIGNvbnN0IHNpemVUZXh0ID0gZm9ybWF0RmlsZVNpemUoZmlsZVNpemUpO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2Bib3JkZXItdCBwdC00ICR7Y2xhc3NOYW1lfWB9PlxuICAgICAgPExhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW1cIj5BdHRhY2hlZCBGaWxlPC9MYWJlbD5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHAtMyBiZy1ncmF5LTUwIHJvdW5kZWQtbGcgbXQtMlwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgPEZpbGVUZXh0IGNsYXNzTmFtZT1cInctNCBoLTQgdGV4dC1ncmF5LTUwMFwiIC8+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtXCI+e2Rpc3BsYXlOYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgIHtzaXplVGV4dCAmJiA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDBcIj57c2l6ZVRleHR9PC9zcGFuPn1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMlwiPlxuICAgICAgICAgIHtjYW5WaWV3ICYmIChcbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVZpZXdGaWxlfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17IWZpbGVQYXRofVxuICAgICAgICAgICAgICBkYXRhLXRlc3RpZD1cImJ1dHRvbi12aWV3LWZpbGVcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8RmlsZVRleHQgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgLz5cbiAgICAgICAgICAgICAgVmlld1xuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7Y2FuRG93bmxvYWQgJiYgKFxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVEb3dubG9hZEZpbGV9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXshZmlsZVBhdGh9XG4gICAgICAgICAgICAgIGRhdGEtdGVzdGlkPVwiYnV0dG9uLWRvd25sb2FkLWZpbGVcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8RG93bmxvYWQgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgLz5cbiAgICAgICAgICAgICAgRG93bmxvYWRcbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59Il0sInZlcnNpb24iOjN9