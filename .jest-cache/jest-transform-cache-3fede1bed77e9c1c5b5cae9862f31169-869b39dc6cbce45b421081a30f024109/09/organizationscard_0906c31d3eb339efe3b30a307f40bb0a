520ac71baef236e23bf67b0f0ca5b90c
"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
exports.OrganizationsCard = OrganizationsCard;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = __importStar(require("react"));
const react_query_1 = require("@tanstack/react-query");
const card_1 = require("@/components/ui/card");
const button_1 = require("@/components/ui/button");
const badge_1 = require("@/components/ui/badge");
const dropdown_menu_1 = require("@/components/ui/dropdown-menu");
const alert_dialog_1 = require("@/components/ui/alert-dialog");
const lucide_react_1 = require("lucide-react");
const use_toast_1 = require("@/hooks/use-toast");
const queryClient_1 = require("@/lib/queryClient");
const organization_form_dialog_1 = require("./organization-form-dialog");
const delete_confirmation_dialog_1 = require("@/components/dialogs/delete-confirmation-dialog");
/**
 * Organizations Card component displays and manages organization data.
 * @param props - Component props.
 * @param props.className - Optional CSS class name for styling.
 * @returns JSX element for the organizations card component.
 */
function OrganizationsCard({ className }) {
    const { toast } = (0, use_toast_1.useToast)();
    const queryClient = (0, react_query_1.useQueryClient)();
    const [isFormDialogOpen, setIsFormDialogOpen] = (0, react_1.useState)(false);
    const [editingOrganization, setEditingOrganization] = (0, react_1.useState)(null);
    const [deletingOrganization, setDeletingOrganization] = (0, react_1.useState)(null);
    const [viewingOrganization, setViewingOrganization] = (0, react_1.useState)(null);
    // Fetch organizations
    const { data: organizations, isLoading } = (0, react_query_1.useQuery)({
        queryKey: ['/api/organizations'],
        queryFn: async () => {
            const response = await (0, queryClient_1.apiRequest)('GET', '/api/organizations');
            return response.json();
        },
    });
    // Delete organization mutation
    const deleteMutation = (0, react_query_1.useMutation)({
        mutationFn: async (organizationId) => {
            return (0, queryClient_1.apiRequest)('DELETE', `/api/organizations/${organizationId}`);
        },
        onSuccess: () => {
            queryClient.invalidateQueries({ queryKey: ['/api/organizations'] });
            toast({
                title: 'Organization Deleted',
                description: 'Organization deleted successfully',
            });
            setDeletingOrganization(null);
        },
        onError: (_error) => {
            toast({
                title: 'Error',
                description: _error.message || 'Failed to delete organization',
                variant: 'destructive',
            });
        },
    });
    const handleEdit = (organization) => {
        setEditingOrganization(organization);
        setIsFormDialogOpen(true);
    };
    const handleView = (organization) => {
        setViewingOrganization(organization);
    };
    const handleDelete = (organization) => {
        setDeletingOrganization(organization);
    };
    const confirmDelete = () => {
        if (deletingOrganization) {
            deleteMutation.mutate(deletingOrganization.id);
        }
    };
    const handleCreateNew = () => {
        setEditingOrganization(null);
        setIsFormDialogOpen(true);
    };
    const handleFormClose = () => {
        setIsFormDialogOpen(false);
        setEditingOrganization(null);
    };
    const getOrganizationTypeColor = (type) => {
        switch (type) {
            case 'management_company':
                return 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300';
            case 'syndicate':
                return 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300';
            case 'cooperative':
                return 'bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300';
            default:
                return 'bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300';
        }
    };
    const formatTypeName = (type) => {
        switch (type) {
            case 'management_company':
                return 'Management Company';
            case 'syndicate':
                return 'Syndicate';
            case 'cooperative':
                return 'Cooperative';
            default:
                return type;
        }
    };
    if (isLoading) {
        return ((0, jsx_runtime_1.jsxs)(card_1.Card, { className: className, children: [(0, jsx_runtime_1.jsxs)(card_1.CardHeader, { className: 'flex flex-row items-center justify-between space-y-0 pb-2', children: [(0, jsx_runtime_1.jsxs)(card_1.CardTitle, { className: 'text-sm font-medium flex items-center gap-2', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Building, { className: 'h-4 w-4' }), "Organizations"] }), (0, jsx_runtime_1.jsxs)(button_1.Button, { size: 'sm', onClick: handleCreateNew, children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Plus, { className: 'h-4 w-4 mr-2' }), "Create"] })] }), (0, jsx_runtime_1.jsx)(card_1.CardContent, { children: (0, jsx_runtime_1.jsx)("div", { className: 'flex items-center justify-center py-8', children: (0, jsx_runtime_1.jsx)("div", { className: 'animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900' }) }) })] }));
    }
    return ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsxs)(card_1.Card, { className: className, children: [(0, jsx_runtime_1.jsxs)(card_1.CardHeader, { className: 'flex flex-row items-center justify-between space-y-0 pb-4', children: [(0, jsx_runtime_1.jsxs)(card_1.CardTitle, { className: 'text-lg font-semibold flex items-center gap-2', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Building, { className: 'h-5 w-5' }), "Organizations"] }), (0, jsx_runtime_1.jsxs)(button_1.Button, { size: 'sm', onClick: handleCreateNew, children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Plus, { className: 'h-4 w-4 mr-2' }), "Create"] })] }), (0, jsx_runtime_1.jsx)(card_1.CardContent, { className: 'space-y-4', children: !organizations || organizations.length === 0 ? ((0, jsx_runtime_1.jsxs)("div", { className: 'text-center py-8', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Building, { className: 'h-12 w-12 text-gray-400 mx-auto mb-4' }), (0, jsx_runtime_1.jsx)("p", { className: 'text-gray-500 mb-4', children: "No organizations found" }), (0, jsx_runtime_1.jsxs)(button_1.Button, { onClick: handleCreateNew, variant: 'outline', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Plus, { className: 'h-4 w-4 mr-2' }), "Create First Organization"] })] })) : ((0, jsx_runtime_1.jsx)("div", { className: 'grid gap-4', children: organizations.map((organization) => ((0, jsx_runtime_1.jsx)("div", { className: 'border rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors', children: (0, jsx_runtime_1.jsxs)("div", { className: 'flex items-start justify-between', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'flex-1 space-y-2', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center gap-2', children: [(0, jsx_runtime_1.jsx)("h4", { className: 'font-medium text-lg', children: organization.name }), (0, jsx_runtime_1.jsx)(badge_1.Badge, { className: getOrganizationTypeColor(organization.type), children: formatTypeName(organization.type) })] }), (0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center gap-1', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.MapPin, { className: 'h-3 w-3' }), (0, jsx_runtime_1.jsxs)("span", { children: [organization.city, ", ", organization.province] })] }), organization.phone && ((0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center gap-1', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Phone, { className: 'h-3 w-3' }), (0, jsx_runtime_1.jsx)("span", { children: organization.phone })] })), organization.email && ((0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center gap-1', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Mail, { className: 'h-3 w-3' }), (0, jsx_runtime_1.jsx)("span", { children: organization.email })] })), organization.website && ((0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center gap-1', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Globe, { className: 'h-3 w-3' }), (0, jsx_runtime_1.jsx)("span", { children: organization.website })] }))] }), (0, jsx_runtime_1.jsx)("p", { className: 'text-sm text-gray-600 dark:text-gray-400', children: organization.address })] }), (0, jsx_runtime_1.jsxs)(dropdown_menu_1.DropdownMenu, { children: [(0, jsx_runtime_1.jsx)(dropdown_menu_1.DropdownMenuTrigger, { asChild: true, children: (0, jsx_runtime_1.jsx)(button_1.Button, { variant: 'ghost', size: 'sm', children: (0, jsx_runtime_1.jsx)(lucide_react_1.MoreVertical, { className: 'h-4 w-4' }) }) }), (0, jsx_runtime_1.jsxs)(dropdown_menu_1.DropdownMenuContent, { align: 'end', children: [(0, jsx_runtime_1.jsxs)(dropdown_menu_1.DropdownMenuItem, { onClick: () => handleView(organization), children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Eye, { className: 'h-4 w-4 mr-2' }), "View"] }), (0, jsx_runtime_1.jsxs)(dropdown_menu_1.DropdownMenuItem, { onClick: () => handleEdit(organization), children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Edit, { className: 'h-4 w-4 mr-2' }), "Edit"] }), (0, jsx_runtime_1.jsxs)(dropdown_menu_1.DropdownMenuItem, { onClick: () => handleDelete(organization), className: 'text-red-600 dark:text-red-400', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Trash2, { className: 'h-4 w-4 mr-2' }), "Delete"] })] })] })] }) }, organization.id))) })) })] }), (0, jsx_runtime_1.jsx)(organization_form_dialog_1.OrganizationFormDialog, { open: isFormDialogOpen, onOpenChange: handleFormClose, organization: editingOrganization, onSuccess: () => {
                    setIsFormDialogOpen(false);
                    setEditingOrganization(null);
                } }), deletingOrganization && ((0, jsx_runtime_1.jsx)(delete_confirmation_dialog_1.DeleteConfirmationDialog, { open: !!deletingOrganization, onOpenChange: (open) => !open && setDeletingOrganization(null), entityType: 'organization', entityId: deletingOrganization.id, entityName: deletingOrganization.name, onConfirm: confirmDelete, isDeleting: deleteMutation.isPending })), viewingOrganization && ((0, jsx_runtime_1.jsx)(alert_dialog_1.AlertDialog, { open: !!viewingOrganization, onOpenChange: () => setViewingOrganization(null), children: (0, jsx_runtime_1.jsxs)(alert_dialog_1.AlertDialogContent, { className: 'max-w-2xl', children: [(0, jsx_runtime_1.jsx)(alert_dialog_1.AlertDialogHeader, { children: (0, jsx_runtime_1.jsxs)(alert_dialog_1.AlertDialogTitle, { className: 'flex items-center gap-2', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Building, { className: 'h-5 w-5' }), viewingOrganization.name] }) }), (0, jsx_runtime_1.jsxs)("div", { className: 'space-y-4', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'grid grid-cols-2 gap-4', children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("label", { className: 'text-sm font-medium text-gray-500 dark:text-gray-400', children: "Type" }), (0, jsx_runtime_1.jsx)(badge_1.Badge, { className: getOrganizationTypeColor(viewingOrganization.type), children: formatTypeName(viewingOrganization.type) })] }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("label", { className: 'text-sm font-medium text-gray-500 dark:text-gray-400', children: "Status" }), (0, jsx_runtime_1.jsx)(badge_1.Badge, { variant: viewingOrganization.isActive ? 'default' : 'secondary', children: viewingOrganization.isActive ? 'Active' : 'Inactive' })] })] }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("label", { className: 'text-sm font-medium text-gray-500 dark:text-gray-400', children: "Address" }), (0, jsx_runtime_1.jsxs)("p", { className: 'mt-1', children: [viewingOrganization.address, (0, jsx_runtime_1.jsx)("br", {}), viewingOrganization.city, ", ", viewingOrganization.province, ' ', viewingOrganization.postalCode] })] }), (0, jsx_runtime_1.jsxs)("div", { className: 'grid grid-cols-2 gap-4', children: [viewingOrganization.phone && ((0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("label", { className: 'text-sm font-medium text-gray-500 dark:text-gray-400', children: "Phone" }), (0, jsx_runtime_1.jsx)("p", { className: 'mt-1', children: viewingOrganization.phone })] })), viewingOrganization.email && ((0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("label", { className: 'text-sm font-medium text-gray-500 dark:text-gray-400', children: "Email" }), (0, jsx_runtime_1.jsx)("p", { className: 'mt-1', children: viewingOrganization.email })] }))] }), viewingOrganization.website && ((0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("label", { className: 'text-sm font-medium text-gray-500 dark:text-gray-400', children: "Website" }), (0, jsx_runtime_1.jsx)("p", { className: 'mt-1', children: (0, jsx_runtime_1.jsx)("a", { href: viewingOrganization.website, target: '_blank', rel: 'noopener noreferrer', className: 'text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-200', children: viewingOrganization.website }) })] })), viewingOrganization.registrationNumber && ((0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("label", { className: 'text-sm font-medium text-gray-500 dark:text-gray-400', children: "Registration Number" }), (0, jsx_runtime_1.jsx)("p", { className: 'mt-1', children: viewingOrganization.registrationNumber })] }))] }), (0, jsx_runtime_1.jsxs)(alert_dialog_1.AlertDialogFooter, { children: [(0, jsx_runtime_1.jsx)(alert_dialog_1.AlertDialogCancel, { children: "Close" }), (0, jsx_runtime_1.jsxs)(alert_dialog_1.AlertDialogAction, { onClick: () => {
                                        setViewingOrganization(null);
                                        handleEdit(viewingOrganization);
                                    }, children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Edit, { className: 'h-4 w-4 mr-2' }), "Edit"] })] })] }) }))] }));
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9jbGllbnQvc3JjL2NvbXBvbmVudHMvYWRtaW4vb3JnYW5pemF0aW9ucy1jYXJkLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQW9EQSw4Q0E2VkM7O0FBalpELCtDQUF3QztBQUN4Qyx1REFBOEU7QUFDOUUsK0NBQWdGO0FBQ2hGLG1EQUFnRDtBQUNoRCxpREFBOEM7QUFDOUMsaUVBS3VDO0FBQ3ZDLCtEQVNzQztBQUN0QywrQ0FXc0I7QUFDdEIsaURBQTZDO0FBQzdDLG1EQUErQztBQUMvQyx5RUFBb0U7QUFDcEUsZ0dBQTJGO0FBVTNGOzs7OztHQUtHO0FBQ0gsU0FBZ0IsaUJBQWlCLENBQUMsRUFBRSxTQUFTLEVBQTBCO0lBQ3JFLE1BQU0sRUFBRSxLQUFLLEVBQUUsR0FBRyxJQUFBLG9CQUFRLEdBQUUsQ0FBQztJQUM3QixNQUFNLFdBQVcsR0FBRyxJQUFBLDRCQUFjLEdBQUUsQ0FBQztJQUVyQyxNQUFNLENBQUMsZ0JBQWdCLEVBQUUsbUJBQW1CLENBQUMsR0FBRyxJQUFBLGdCQUFRLEVBQUMsS0FBSyxDQUFDLENBQUM7SUFDaEUsTUFBTSxDQUFDLG1CQUFtQixFQUFFLHNCQUFzQixDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUFzQixJQUFJLENBQUMsQ0FBQztJQUMxRixNQUFNLENBQUMsb0JBQW9CLEVBQUUsdUJBQXVCLENBQUMsR0FBRyxJQUFBLGdCQUFRLEVBQXNCLElBQUksQ0FBQyxDQUFDO0lBQzVGLE1BQU0sQ0FBQyxtQkFBbUIsRUFBRSxzQkFBc0IsQ0FBQyxHQUFHLElBQUEsZ0JBQVEsRUFBc0IsSUFBSSxDQUFDLENBQUM7SUFFMUYsc0JBQXNCO0lBQ3RCLE1BQU0sRUFBRSxJQUFJLEVBQUUsYUFBYSxFQUFFLFNBQVMsRUFBRSxHQUFHLElBQUEsc0JBQVEsRUFBaUI7UUFDbEUsUUFBUSxFQUFFLENBQUMsb0JBQW9CLENBQUM7UUFDaEMsT0FBTyxFQUFFLEtBQUssSUFBSSxFQUFF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LHdCQUUvRCxFQUNSLDhCQUFHLFNBQVMsRUFBQyxNQUFNLFlBQ2pCLDhCQUNFLElBQUksRUFBRSxtQkFBbUIsQ0FBQyxPQUFPLEVBQ2pDLE1BQU0sRUFBQyxRQUFRLEVBQ2YsR0FBRyxFQUFDLHFCQUFxQixFQUN6QixTQUFTLEVBQUMsK0VBQStFLFlBRXhGLG1CQUFtQixDQUFDLE9BQU8sR0FDMUIsR0FDRixJQUNBLENBQ1AsRUFFQSxtQkFBbUIsQ0FBQyxrQkFBa0IsSUFBSSxDQUN6Qyw0Q0FDRSxrQ0FBTyxTQUFTLEVBQUMsc0RBQXNELG9DQUUvRCxFQUNSLDhCQUFHLFNBQVMsRUFBQyxNQUFNLFlBQUUsbUJBQW1CLENBQUMsa0JBQWtCLEdBQUssSUFDNUQsQ0FDUCxJQUNHLEVBQ04sd0JBQUMsZ0NBQWlCLGVBQ2hCLHVCQUFDLGdDQUFpQix3QkFBMEIsRUFDNUMsd0JBQUMsZ0NBQWlCLElBQ2hCLE9BQU8sRUFBRSxHQUFHLEVBQUU7d0NBQ1osc0JBQXNCLENBQUMsSUFBSSxDQUFDLENBQUM7d0NBQzdCLFVBQVUsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO29DQUNsQyxDQUFDLGFBRUQsdUJBQUMsbUJBQUksSUFBQyxTQUFTLEVBQUMsY0FBYyxHQUFHLFlBRWYsSUFDRixJQUNELEdBQ1QsQ0FDZixJQUNBLENBQ0osQ0FBQztBQUNKLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9jbGllbnQvc3JjL2NvbXBvbmVudHMvYWRtaW4vb3JnYW5pemF0aW9ucy1jYXJkLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VRdWVyeSwgdXNlTXV0YXRpb24sIHVzZVF1ZXJ5Q2xpZW50IH0gZnJvbSAnQHRhbnN0YWNrL3JlYWN0LXF1ZXJ5JztcbmltcG9ydCB7IENhcmQsIENhcmRDb250ZW50LCBDYXJkSGVhZGVyLCBDYXJkVGl0bGUgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvY2FyZCc7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJztcbmltcG9ydCB7IEJhZGdlIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2JhZGdlJztcbmltcG9ydCB7XG4gIERyb3Bkb3duTWVudSxcbiAgRHJvcGRvd25NZW51Q29udGVudCxcbiAgRHJvcGRvd25NZW51SXRlbSxcbiAgRHJvcGRvd25NZW51VHJpZ2dlcixcbn0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2Ryb3Bkb3duLW1lbnUnO1xuaW1wb3J0IHtcbiAgQWxlcnREaWFsb2csXG4gIEFsZXJ0RGlhbG9nQWN0aW9uLFxuICBBbGVydERpYWxvZ0NhbmNlbCxcbiAgQWxlcnREaWFsb2dDb250ZW50LFxuICAvLyBBbGVydERpYWxvZ0Rlc2NyaXB0aW9uLFxuICBBbGVydERpYWxvZ0Zvb3RlcixcbiAgQWxlcnREaWFsb2dIZWFkZXIsXG4gIEFsZXJ0RGlhbG9nVGl0bGUsXG59IGZyb20gJ0AvY29tcG9uZW50cy91aS9hbGVydC1kaWFsb2cnO1xuaW1wb3J0IHtcbiAgQnVpbGRpbmcsXG4gIFBsdXMsXG4gIE1vcmVWZXJ0aWNhbCxcbiAgRWRpdCxcbiAgVHJhc2gyLFxuICBFeWUsXG4gIE1hcFBpbixcbiAgUGhvbmUsXG4gIE1haWwsXG4gIEdsb2JlLFxufSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tICdAL2hvb2tzL3VzZS10b2FzdCc7XG5pbXBvcnQgeyBhcGlSZXF1ZXN0IH0gZnJvbSAnQC9saWIvcXVlcnlDbGllbnQnO1xuaW1wb3J0IHsgT3JnYW5pemF0aW9uRm9ybURpYWxvZyB9IGZyb20gJy4vb3JnYW5pemF0aW9uLWZvcm0tZGlhbG9nJztcbmltcG9ydCB7IERlbGV0ZUNvbmZpcm1hdGlvbkRpYWxvZyB9IGZyb20gJ0AvY29tcG9uZW50cy9kaWFsb2dzL2RlbGV0ZS1jb25maXJtYXRpb24tZGlhbG9nJztcbmltcG9ydCB0eXBlIHsgT3JnYW5pemF0aW9uIH0gZnJvbSAnQHNoYXJlZC9zY2hlbWEnO1xuXG4vKipcbiAqIFByb3BzIGludGVyZmFjZSBmb3IgT3JnYW5pemF0aW9uc0NhcmQgY29tcG9uZW50LlxuICovXG5pbnRlcmZhY2UgT3JnYW5pemF0aW9uc0NhcmRQcm9wcyB7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbn1cblxuLyoqXG4gKiBPcmdhbml6YXRpb25zIENhcmQgY29tcG9uZW50IGRpc3BsYXlzIGFuZCBtYW5hZ2VzIG9yZ2FuaXphdGlvbiBkYXRhLlxuICogQHBhcmFtIHByb3BzIC0gQ29tcG9uZW50IHByb3BzLlxuICogQHBhcmFtIHByb3BzLmNsYXNzTmFtZSAtIE9wdGlvbmFsIENTUyBjbGFzcyBuYW1lIGZvciBzdHlsaW5nLlxuICogQHJldHVybnMgSlNYIGVsZW1lbnQgZm9yIHRoZSBvcmdhbml6YXRpb25zIGNhcmQgY29tcG9uZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gT3JnYW5pemF0aW9uc0NhcmQoeyBjbGFzc05hbWUgfTogT3JnYW5pemF0aW9uc0NhcmRQcm9wcykge1xuICBjb25zdCB7IHRvYXN0IH0gPSB1c2VUb2FzdCgpO1xuICBjb25zdCBxdWVyeUNsaWVudCA9IHVzZVF1ZXJ5Q2xpZW50KCk7XG5cbiAgY29uc3QgW2lzRm9ybURpYWxvZ09wZW4sIHNldElzRm9ybURpYWxvZ09wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZWRpdGluZ09yZ2FuaXphdGlvbiwgc2V0RWRpdGluZ09yZ2FuaXphdGlvbl0gPSB1c2VTdGF0ZTxPcmdhbml6YXRpb24gfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2RlbGV0aW5nT3JnYW5pemF0aW9uLCBzZXREZWxldGluZ09yZ2FuaXphdGlvbl0gPSB1c2VTdGF0ZTxPcmdhbml6YXRpb24gfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3ZpZXdpbmdPcmdhbml6YXRpb24sIHNldFZpZXdpbmdPcmdhbml6YXRpb25dID0gdXNlU3RhdGU8T3JnYW5pemF0aW9uIHwgbnVsbD4obnVsbCk7XG5cbiAgLy8gRmV0Y2ggb3JnYW5pemF0aW9uc1xuICBjb25zdCB7IGRhdGE6IG9yZ2FuaXphdGlvbnMsIGlzTG9hZGluZyB9ID0gdXNlUXVlcnk8T3JnYW5pemF0aW9uW10+KHtcbiAgICBxdWVyeUtleTogWycvYXBpL29yZ2FuaXphdGlvbnMnXSxcbiAgICBxdWVyeUZuOiBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaVJlcXVlc3QoJ0dFVCcsICcvYXBpL29yZ2FuaXphdGlvbnMnKTtcbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfSxcbiAgfSk7XG5cbiAgLy8gRGVsZXRlIG9yZ2FuaXphdGlvbiBtdXRhdGlvblxuICBjb25zdCBkZWxldGVNdXRhdGlvbiA9IHVzZU11dGF0aW9uKHtcbiAgICBtdXRhdGlvbkZuOiBhc3luYyAob3JnYW5pemF0aW9uSWQ6IHN0cmluZykgPT4ge1xuICAgICAgcmV0dXJuIGFwaVJlcXVlc3QoJ0RFTEVURScsIGAvYXBpL29yZ2FuaXphdGlvbnMvJHtvcmdhbml6YXRpb25JZH1gKTtcbiAgICB9LFxuICAgIG9uU3VjY2VzczogKCkgPT4ge1xuICAgICAgcXVlcnlDbGllbnQuaW52YWxpZGF0ZVF1ZXJpZXMoeyBxdWVyeUtleTogWycvYXBpL29yZ2FuaXphdGlvbnMnXSB9KTtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6ICdPcmdhbml6YXRpb24gRGVsZXRlZCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnT3JnYW5pemF0aW9uIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5JyxcbiAgICAgIH0pO1xuICAgICAgc2V0RGVsZXRpbmdPcmdhbml6YXRpb24obnVsbCk7XG4gICAgfSxcbiAgICBvbkVycm9yOiAoX2Vycm9yOiBFcnJvcikgPT4ge1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ0Vycm9yJyxcbiAgICAgICAgZGVzY3JpcHRpb246IF9lcnJvci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gZGVsZXRlIG9yZ2FuaXphdGlvbicsXG4gICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsXG4gICAgICB9KTtcbiAgICB9LFxuICB9KTtcblxuICBjb25zdCBoYW5kbGVFZGl0ID0gKG9yZ2FuaXphdGlvbjogT3JnYW5pemF0aW9uKSA9PiB7XG4gICAgc2V0RWRpdGluZ09yZ2FuaXphdGlvbihvcmdhbml6YXRpb24pO1xuICAgIHNldElzRm9ybURpYWxvZ09wZW4odHJ1ZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlVmlldyA9IChvcmdhbml6YXRpb246IE9yZ2FuaXphdGlvbikgPT4ge1xuICAgIHNldFZpZXdpbmdPcmdhbml6YXRpb24ob3JnYW5pemF0aW9uKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVEZWxldGUgPSAob3JnYW5pemF0aW9uOiBPcmdhbml6YXRpb24pID0+IHtcbiAgICBzZXREZWxldGluZ09yZ2FuaXphdGlvbihvcmdhbml6YXRpb24pO1xuICB9O1xuXG4gIGNvbnN0IGNvbmZpcm1EZWxldGUgPSAoKSA9PiB7XG4gICAgaWYgKGRlbGV0aW5nT3JnYW5pemF0aW9uKSB7XG4gICAgICBkZWxldGVNdXRhdGlvbi5tdXRhdGUoZGVsZXRpbmdPcmdhbml6YXRpb24uaWQpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVDcmVhdGVOZXcgPSAoKSA9PiB7XG4gICAgc2V0RWRpdGluZ09yZ2FuaXphdGlvbihudWxsKTtcbiAgICBzZXRJc0Zvcm1EaWFsb2dPcGVuKHRydWUpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUZvcm1DbG9zZSA9ICgpID0+IHtcbiAgICBzZXRJc0Zvcm1EaWFsb2dPcGVuKGZhbHNlKTtcbiAgICBzZXRFZGl0aW5nT3JnYW5pemF0aW9uKG51bGwpO1xuICB9O1xuXG4gIGNvbnN0IGdldE9yZ2FuaXphdGlvblR5cGVDb2xvciA9ICh0eXBlOiBzdHJpbmcpID0+IHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ21hbmFnZW1lbnRfY29tcGFueSc6XG4gICAgICAgIHJldHVybiAnYmctYmx1ZS0xMDAgdGV4dC1ibHVlLTgwMCBkYXJrOmJnLWJsdWUtOTAwIGRhcms6dGV4dC1ibHVlLTMwMCc7XG4gICAgICBjYXNlICdzeW5kaWNhdGUnOlxuICAgICAgICByZXR1cm4gJ2JnLWdyZWVuLTEwMCB0ZXh0LWdyZWVuLTgwMCBkYXJrOmJnLWdyZWVuLTkwMCBkYXJrOnRleHQtZ3JlZW4tMzAwJztcbiAgICAgIGNhc2UgJ2Nvb3BlcmF0aXZlJzpcbiAgICAgICAgcmV0dXJuICdiZy1wdXJwbGUtMTAwIHRleHQtcHVycGxlLTgwMCBkYXJrOmJnLXB1cnBsZS05MDAgZGFyazp0ZXh0LXB1cnBsZS0zMDAnO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuICdiZy1ncmF5LTEwMCB0ZXh0LWdyYXktODAwIGRhcms6YmctZ3JheS05MDAgZGFyazp0ZXh0LWdyYXktMzAwJztcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZm9ybWF0VHlwZU5hbWUgPSAodHlwZTogc3RyaW5nKSA9PiB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlICdtYW5hZ2VtZW50X2NvbXBhbnknOlxuICAgICAgICByZXR1cm4gJ01hbmFnZW1lbnQgQ29tcGFueSc7XG4gICAgICBjYXNlICdzeW5kaWNhdGUnOlxuICAgICAgICByZXR1cm4gJ1N5bmRpY2F0ZSc7XG4gICAgICBjYXNlICdjb29wZXJhdGl2ZSc6XG4gICAgICAgIHJldHVybiAnQ29vcGVyYXRpdmUnO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgfVxuICB9O1xuXG4gIGlmIChpc0xvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPENhcmQgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgICA8Q2FyZEhlYWRlciBjbGFzc05hbWU9J2ZsZXggZmxleC1yb3cgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBzcGFjZS15LTAgcGItMic+XG4gICAgICAgICAgPENhcmRUaXRsZSBjbGFzc05hbWU9J3RleHQtc20gZm9udC1tZWRpdW0gZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTInPlxuICAgICAgICAgICAgPEJ1aWxkaW5nIGNsYXNzTmFtZT0naC00IHctNCcgLz5cbiAgICAgICAgICAgIE9yZ2FuaXphdGlvbnNcbiAgICAgICAgICA8L0NhcmRUaXRsZT5cbiAgICAgICAgICA8QnV0dG9uIHNpemU9J3NtJyBvbkNsaWNrPXtoYW5kbGVDcmVhdGVOZXd9PlxuICAgICAgICAgICAgPFBsdXMgY2xhc3NOYW1lPSdoLTQgdy00IG1yLTInIC8+XG4gICAgICAgICAgICBDcmVhdGVcbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPC9DYXJkSGVhZGVyPlxuICAgICAgICA8Q2FyZENvbnRlbnQ+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHB5LTgnPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2FuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgaC04IHctOCBib3JkZXItYi0yIGJvcmRlci1ncmF5LTkwMCc+PC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICA8L0NhcmQ+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxDYXJkIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgICAgPENhcmRIZWFkZXIgY2xhc3NOYW1lPSdmbGV4IGZsZXgtcm93IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gc3BhY2UteS0wIHBiLTQnPlxuICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPSd0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTInPlxuICAgICAgICAgICAgPEJ1aWxkaW5nIGNsYXNzTmFtZT0naC01IHctNScgLz5cbiAgICAgICAgICAgIE9yZ2FuaXphdGlvbnNcbiAgICAgICAgICA8L0NhcmRUaXRsZT5cbiAgICAgICAgICA8QnV0dG9uIHNpemU9J3NtJyBvbkNsaWNrPXtoYW5kbGVDcmVhdGVOZXd9PlxuICAgICAgICAgICAgPFBsdXMgY2xhc3NOYW1lPSdoLTQgdy00IG1yLTInIC8+XG4gICAgICAgICAgICBDcmVhdGVcbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPC9DYXJkSGVhZGVyPlxuICAgICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPSdzcGFjZS15LTQnPlxuICAgICAgICAgIHshb3JnYW5pemF0aW9ucyB8fCBvcmdhbml6YXRpb25zLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd0ZXh0LWNlbnRlciBweS04Jz5cbiAgICAgICAgICAgICAgPEJ1aWxkaW5nIGNsYXNzTmFtZT0naC0xMiB3LTEyIHRleHQtZ3JheS00MDAgbXgtYXV0byBtYi00JyAvPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3RleHQtZ3JheS01MDAgbWItNCc+Tm8gb3JnYW5pemF0aW9ucyBmb3VuZDwvcD5cbiAgICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVDcmVhdGVOZXd9IHZhcmlhbnQ9J291dGxpbmUnPlxuICAgICAgICAgICAgICAgIDxQbHVzIGNsYXNzTmFtZT0naC00IHctNCBtci0yJyAvPlxuICAgICAgICAgICAgICAgIENyZWF0ZSBGaXJzdCBPcmdhbml6YXRpb25cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2dyaWQgZ2FwLTQnPlxuICAgICAgICAgICAgICB7b3JnYW5pemF0aW9ucy5tYXAoKG9yZ2FuaXphdGlvbikgPT4gKFxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIGtleT17b3JnYW5pemF0aW9uLmlkfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdib3JkZXIgcm91bmRlZC1sZyBwLTQgaG92ZXI6YmctZ3JheS01MCBkYXJrOmhvdmVyOmJnLWdyYXktODAwIHRyYW5zaXRpb24tY29sb3JzJ1xuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLXN0YXJ0IGp1c3RpZnktYmV0d2Vlbic+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4LTEgc3BhY2UteS0yJz5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTInPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT0nZm9udC1tZWRpdW0gdGV4dC1sZyc+e29yZ2FuaXphdGlvbi5uYW1lfTwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QmFkZ2UgY2xhc3NOYW1lPXtnZXRPcmdhbml6YXRpb25UeXBlQ29sb3Iob3JnYW5pemF0aW9uLnR5cGUpfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdFR5cGVOYW1lKG9yZ2FuaXphdGlvbi50eXBlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQmFkZ2U+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTQgdGV4dC1zbSB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMCc+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8TWFwUGluIGNsYXNzTmFtZT0naC0zIHctMycgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge29yZ2FuaXphdGlvbi5jaXR5fSwge29yZ2FuaXphdGlvbi5wcm92aW5jZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICB7b3JnYW5pemF0aW9uLnBob25lICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXggaXRlbXMtY2VudGVyIGdhcC0xJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UGhvbmUgY2xhc3NOYW1lPSdoLTMgdy0zJyAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPntvcmdhbml6YXRpb24ucGhvbmV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7b3JnYW5pemF0aW9uLmVtYWlsICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXggaXRlbXMtY2VudGVyIGdhcC0xJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TWFpbCBjbGFzc05hbWU9J2gtMyB3LTMnIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+e29yZ2FuaXphdGlvbi5lbWFpbH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtvcmdhbml6YXRpb24ud2Vic2l0ZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdsb2JlIGNsYXNzTmFtZT0naC0zIHctMycgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj57b3JnYW5pemF0aW9uLndlYnNpdGV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3RleHQtc20gdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDAnPlxuICAgICAgICAgICAgICAgICAgICAgICAge29yZ2FuaXphdGlvbi5hZGRyZXNzfVxuICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgPERyb3Bkb3duTWVudT5cbiAgICAgICAgICAgICAgICAgICAgICA8RHJvcGRvd25NZW51VHJpZ2dlciBhc0NoaWxkPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PSdnaG9zdCcgc2l6ZT0nc20nPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8TW9yZVZlcnRpY2FsIGNsYXNzTmFtZT0naC00IHctNCcgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvRHJvcGRvd25NZW51VHJpZ2dlcj5cbiAgICAgICAgICAgICAgICAgICAgICA8RHJvcGRvd25NZW51Q29udGVudCBhbGlnbj0nZW5kJz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxEcm9wZG93bk1lbnVJdGVtIG9uQ2xpY2s9eygpID0+IGhhbmRsZVZpZXcob3JnYW5pemF0aW9uKX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxFeWUgY2xhc3NOYW1lPSdoLTQgdy00IG1yLTInIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFZpZXdcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRHJvcGRvd25NZW51SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxEcm9wZG93bk1lbnVJdGVtIG9uQ2xpY2s9eygpID0+IGhhbmRsZUVkaXQob3JnYW5pemF0aW9uKX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxFZGl0IGNsYXNzTmFtZT0naC00IHctNCBtci0yJyAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBFZGl0XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Ryb3Bkb3duTWVudUl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8RHJvcGRvd25NZW51SXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVEZWxldGUob3JnYW5pemF0aW9uKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSd0ZXh0LXJlZC02MDAgZGFyazp0ZXh0LXJlZC00MDAnXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxUcmFzaDIgY2xhc3NOYW1lPSdoLTQgdy00IG1yLTInIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIERlbGV0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Ecm9wZG93bk1lbnVJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvRHJvcGRvd25NZW51Q29udGVudD5cbiAgICAgICAgICAgICAgICAgICAgPC9Ecm9wZG93bk1lbnU+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgPC9DYXJkPlxuXG4gICAgICB7LyogT3JnYW5pemF0aW9uIEZvcm0gRGlhbG9nICovfVxuICAgICAgPE9yZ2FuaXphdGlvbkZvcm1EaWFsb2dcbiAgICAgICAgb3Blbj17aXNGb3JtRGlhbG9nT3Blbn1cbiAgICAgICAgb25PcGVuQ2hhbmdlPXtoYW5kbGVGb3JtQ2xvc2V9XG4gICAgICAgIG9yZ2FuaXphdGlvbj17ZWRpdGluZ09yZ2FuaXphdGlvbn1cbiAgICAgICAgb25TdWNjZXNzPXsoKSA9PiB7XG4gICAgICAgICAgc2V0SXNGb3JtRGlhbG9nT3BlbihmYWxzZSk7XG4gICAgICAgICAgc2V0RWRpdGluZ09yZ2FuaXphdGlvbihudWxsKTtcbiAgICAgICAgfX1cbiAgICAgIC8+XG5cbiAgICAgIHsvKiBEZWxldGUgQ29uZmlybWF0aW9uIERpYWxvZyAqL31cbiAgICAgIHtkZWxldGluZ09yZ2FuaXphdGlvbiAmJiAoXG4gICAgICAgIDxEZWxldGVDb25maXJtYXRpb25EaWFsb2dcbiAgICAgICAgICBvcGVuPXshIWRlbGV0aW5nT3JnYW5pemF0aW9ufVxuICAgICAgICAgIG9uT3BlbkNoYW5nZT17KG9wZW4pID0+ICFvcGVuICYmIHNldERlbGV0aW5nT3JnYW5pemF0aW9uKG51bGwpfVxuICAgICAgICAgIGVudGl0eVR5cGU9J29yZ2FuaXphdGlvbidcbiAgICAgICAgICBlbnRpdHlJZD17ZGVsZXRpbmdPcmdhbml6YXRpb24uaWR9XG4gICAgICAgICAgZW50aXR5TmFtZT17ZGVsZXRpbmdPcmdhbml6YXRpb24ubmFtZX1cbiAgICAgICAgICBvbkNvbmZpcm09e2NvbmZpcm1EZWxldGV9XG4gICAgICAgICAgaXNEZWxldGluZz17ZGVsZXRlTXV0YXRpb24uaXNQZW5kaW5nfVxuICAgICAgICAvPlxuICAgICAgKX1cblxuICAgICAgey8qIFZpZXcgT3JnYW5pemF0aW9uIERpYWxvZyAqL31cbiAgICAgIHt2aWV3aW5nT3JnYW5pemF0aW9uICYmIChcbiAgICAgICAgPEFsZXJ0RGlhbG9nIG9wZW49eyEhdmlld2luZ09yZ2FuaXphdGlvbn0gb25PcGVuQ2hhbmdlPXsoKSA9PiBzZXRWaWV3aW5nT3JnYW5pemF0aW9uKG51bGwpfT5cbiAgICAgICAgICA8QWxlcnREaWFsb2dDb250ZW50IGNsYXNzTmFtZT0nbWF4LXctMnhsJz5cbiAgICAgICAgICAgIDxBbGVydERpYWxvZ0hlYWRlcj5cbiAgICAgICAgICAgICAgPEFsZXJ0RGlhbG9nVGl0bGUgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMic+XG4gICAgICAgICAgICAgICAgPEJ1aWxkaW5nIGNsYXNzTmFtZT0naC01IHctNScgLz5cbiAgICAgICAgICAgICAgICB7dmlld2luZ09yZ2FuaXphdGlvbi5uYW1lfVxuICAgICAgICAgICAgICA8L0FsZXJ0RGlhbG9nVGl0bGU+XG4gICAgICAgICAgICA8L0FsZXJ0RGlhbG9nSGVhZGVyPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3NwYWNlLXktNCc+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdncmlkIGdyaWQtY29scy0yIGdhcC00Jz5cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT0ndGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMCc+XG4gICAgICAgICAgICAgICAgICAgIFR5cGVcbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8QmFkZ2UgY2xhc3NOYW1lPXtnZXRPcmdhbml6YXRpb25UeXBlQ29sb3Iodmlld2luZ09yZ2FuaXphdGlvbi50eXBlKX0+XG4gICAgICAgICAgICAgICAgICAgIHtmb3JtYXRUeXBlTmFtZSh2aWV3aW5nT3JnYW5pemF0aW9uLnR5cGUpfVxuICAgICAgICAgICAgICAgICAgPC9CYWRnZT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT0ndGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMCc+XG4gICAgICAgICAgICAgICAgICAgIFN0YXR1c1xuICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxCYWRnZSB2YXJpYW50PXt2aWV3aW5nT3JnYW5pemF0aW9uLmlzQWN0aXZlID8gJ2RlZmF1bHQnIDogJ3NlY29uZGFyeSd9PlxuICAgICAgICAgICAgICAgICAgICB7dmlld2luZ09yZ2FuaXphdGlvbi5pc0FjdGl2ZSA/ICdBY3RpdmUnIDogJ0luYWN0aXZlJ31cbiAgICAgICAgICAgICAgICAgIDwvQmFkZ2U+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT0ndGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMCc+XG4gICAgICAgICAgICAgICAgICBBZGRyZXNzXG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J210LTEnPlxuICAgICAgICAgICAgICAgICAge3ZpZXdpbmdPcmdhbml6YXRpb24uYWRkcmVzc31cbiAgICAgICAgICAgICAgICAgIDxiciAvPlxuICAgICAgICAgICAgICAgICAge3ZpZXdpbmdPcmdhbml6YXRpb24uY2l0eX0sIHt2aWV3aW5nT3JnYW5pemF0aW9uLnByb3ZpbmNlfXsnICd9XG4gICAgICAgICAgICAgICAgICB7dmlld2luZ09yZ2FuaXphdGlvbi5wb3N0YWxDb2RlfVxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2dyaWQgZ3JpZC1jb2xzLTIgZ2FwLTQnPlxuICAgICAgICAgICAgICAgIHt2aWV3aW5nT3JnYW5pemF0aW9uLnBob25lICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9J3RleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDAnPlxuICAgICAgICAgICAgICAgICAgICAgIFBob25lXG4gICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0nbXQtMSc+e3ZpZXdpbmdPcmdhbml6YXRpb24ucGhvbmV9PC9wPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB7dmlld2luZ09yZ2FuaXphdGlvbi5lbWFpbCAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPSd0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwJz5cbiAgICAgICAgICAgICAgICAgICAgICBFbWFpbFxuICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J210LTEnPnt2aWV3aW5nT3JnYW5pemF0aW9uLmVtYWlsfTwvcD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIHt2aWV3aW5nT3JnYW5pemF0aW9uLndlYnNpdGUgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPSd0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwJz5cbiAgICAgICAgICAgICAgICAgICAgV2Vic2l0ZVxuICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0nbXQtMSc+XG4gICAgICAgICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgICAgICAgaHJlZj17dmlld2luZ09yZ2FuaXphdGlvbi53ZWJzaXRlfVxuICAgICAgICAgICAgICAgICAgICAgIHRhcmdldD0nX2JsYW5rJ1xuICAgICAgICAgICAgICAgICAgICAgIHJlbD0nbm9vcGVuZXIgbm9yZWZlcnJlcidcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3RleHQtYmx1ZS02MDAgaG92ZXI6dGV4dC1ibHVlLTgwMCBkYXJrOnRleHQtYmx1ZS00MDAgZGFyazpob3Zlcjp0ZXh0LWJsdWUtMjAwJ1xuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAge3ZpZXdpbmdPcmdhbml6YXRpb24ud2Vic2l0ZX1cbiAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgIHt2aWV3aW5nT3JnYW5pemF0aW9uLnJlZ2lzdHJhdGlvbk51bWJlciAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9J3RleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDAnPlxuICAgICAgICAgICAgICAgICAgICBSZWdpc3RyYXRpb24gTnVtYmVyXG4gICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSdtdC0xJz57dmlld2luZ09yZ2FuaXphdGlvbi5yZWdpc3RyYXRpb25OdW1iZXJ9PC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8QWxlcnREaWFsb2dGb290ZXI+XG4gICAgICAgICAgICAgIDxBbGVydERpYWxvZ0NhbmNlbD5DbG9zZTwvQWxlcnREaWFsb2dDYW5jZWw+XG4gICAgICAgICAgICAgIDxBbGVydERpYWxvZ0FjdGlvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldFZpZXdpbmdPcmdhbml6YXRpb24obnVsbCk7XG4gICAgICAgICAgICAgICAgICBoYW5kbGVFZGl0KHZpZXdpbmdPcmdhbml6YXRpb24pO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8RWRpdCBjbGFzc05hbWU9J2gtNCB3LTQgbXItMicgLz5cbiAgICAgICAgICAgICAgICBFZGl0XG4gICAgICAgICAgICAgIDwvQWxlcnREaWFsb2dBY3Rpb24+XG4gICAgICAgICAgICA8L0FsZXJ0RGlhbG9nRm9vdGVyPlxuICAgICAgICAgIDwvQWxlcnREaWFsb2dDb250ZW50PlxuICAgICAgICA8L0FsZXJ0RGlhbG9nPlxuICAgICAgKX1cbiAgICA8Lz5cbiAgKTtcbn1cbiJdLCJ2ZXJzaW9uIjozfQ==