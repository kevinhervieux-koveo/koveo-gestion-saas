{"file":"/home/runner/workspace/client/src/pages/dashboard.tsx","mappings":"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","names":[],"sources":["/home/runner/workspace/client/src/pages/dashboard.tsx"],"sourcesContent":["import { useAuth } from '@/hooks/use-auth';\nimport { Header } from '@/components/layout/header';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { useLanguage } from '@/hooks/use-language';\nimport {\n  Home,\n  Building,\n  Users,\n  Settings,\n  TrendingUp,\n  Bell,\n  Calendar,\n  FileText,\n  BarChart3,\n  Shield,\n  ArrowRight,\n  Maximize2,\n  Minimize2,\n} from 'lucide-react';\nimport { Link } from 'wouter';\nimport { useFullscreen } from '@/hooks/use-fullscreen';\n\n/**\n * Main Dashboard - Central hub for all user roles\n * Provides role-based navigation and quick access to key features.\n */\nexport default function Dashboard() {\n  const { user } = useAuth();\n  const { t } = useLanguage();\n  const { isFullscreen, toggleFullscreen } = useFullscreen();\n\n  // Determine role-based navigation items\n  const getRoleBasedActions = () => {\n    if (!user) {\n      return [];\n    }\n\n    const actions = [];\n\n    // Admin actions\n    if (user.role === 'admin') {\n      actions.push(\n        {\n          title: t('systemManagement'),\n          description: t('manageOrganizationsUsers'),\n          icon: Settings,\n          path: '/admin/organizations',\n          color: 'bg-red-500',\n          testId: 'card-admin',\n        },\n        {\n          title: t('organizationOverview'),\n          description: t('viewManageOrganizations'),\n          icon: Building,\n          path: '/admin/organizations',\n          color: 'bg-blue-500',\n          testId: 'card-organizations',\n        },\n        {\n          title: t('userManagement'),\n          description: 'Manage users across all organizations',\n          icon: Users,\n          path: '/admin/organizations',\n          color: 'bg-green-500',\n          testId: 'card-users',\n        }\n      );\n    }\n\n    // Manager actions\n    if (user.role === 'manager' || user.role === 'demo_manager' || user.role === 'admin') {\n      actions.push(\n        {\n          title: t('buildings'),\n          description: 'Manage your property portfolio',\n          icon: Building,\n          path: '/manager/buildings',\n          color: 'bg-blue-600',\n          testId: 'card-buildings',\n        },\n        {\n          title: t('financialReports'),\n          description: 'View revenue, expenses, and financial analytics',\n          icon: BarChart3,\n          path: '/manager/budget',\n          color: 'bg-purple-500',\n          testId: 'card-reports',\n        },\n        {\n          title: t('maintenance'),\n          description: 'Track and manage maintenance requests',\n          icon: Settings,\n          path: '/manager/demands',\n          color: 'bg-orange-500',\n          testId: 'card-maintenance',\n        }\n      );\n    }\n\n    // Tenant actions\n    if (user.role === 'tenant' || user.role === 'demo_tenant') {\n      actions.push(\n        {\n          title: t('myResidence'),\n          description: 'View your residence information and details',\n          icon: Home,\n          path: '/residents/residence',\n          color: 'bg-green-600',\n          testId: 'card-tenant-residence',\n        },\n        {\n          title: t('demands'),\n          description: 'Submit and track maintenance requests',\n          icon: Settings,\n          path: '/residents/maintenance',\n          color: 'bg-orange-500',\n          testId: 'card-tenant-maintenance',\n        },\n        {\n          title: t('documents'),\n          description: 'View important documents and notices',\n          icon: FileText,\n          path: '/residents/documents',\n          color: 'bg-blue-500',\n          testId: 'card-tenant-documents',\n        }\n      );\n    }\n\n    // Resident actions\n    if (user.role === 'resident' || user.role === 'demo_resident') {\n      actions.push(\n        {\n          title: t('myResidence'),\n          description: 'Access your residence dashboard',\n          icon: Home,\n          path: '/residents/dashboard',\n          color: 'bg-green-600',\n          testId: 'card-resident-home',\n        },\n        {\n          title: t('demands'),\n          description: 'Submit and track maintenance requests',\n          icon: Settings,\n          path: '/residents/maintenance',\n          color: 'bg-orange-500',\n          testId: 'card-resident-maintenance',\n        },\n        {\n          title: t('documents'),\n          description: 'View important documents and notices',\n          icon: FileText,\n          path: '/residents/documents',\n          color: 'bg-blue-500',\n          testId: 'card-resident-documents',\n        }\n      );\n    }\n\n    return actions;\n  };\n\n  const roleActions = getRoleBasedActions();\n\n  return (\n    <div className='flex-1 flex flex-col overflow-hidden'>\n      <Header\n        title={`${t('welcomeBack')}, ${user?.firstName || 'User'}`}\n        subtitle={t('personalizedDashboard')}\n      />\n\n      <div className='flex-1 overflow-auto p-6'>\n        <div className='max-w-7xl mx-auto'>\n          {/* Fullscreen Controls */}\n          <div className='flex justify-end mb-6'>\n            <Button\n              variant='outline'\n              size='sm'\n              onClick={toggleFullscreen}\n              className='flex items-center gap-2'\n              data-testid='button-fullscreen-toggle'\n            >\n              {isFullscreen ? (\n                <>\n                  <Minimize2 className='w-4 h-4' />\n                  <span className='hidden sm:inline'>{t('exitFullscreen')}</span>\n                </>\n              ) : (\n                <>\n                  <Maximize2 className='w-4 h-4' />\n                  <span className='hidden sm:inline'>{t('fullscreen')}</span>\n                </>\n              )}\n            </Button>\n          </div>\n\n\n          {/* Quick Actions Grid */}\n          {roleActions.length > 0 ? (\n            <div className='grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8'>\n              {roleActions.map((action, index) => {\n                const IconComponent = action.icon;\n                return (\n                  <Link key={index} href={action.path}>\n                    <Card\n                      className='cursor-pointer hover:shadow-lg transition-all duration-200 hover:-translate-y-1'\n                      data-testid={action.testId}\n                    >\n                      <CardHeader className='pb-3'>\n                        <div className='flex items-center justify-between'>\n                          <div className={`p-3 rounded-lg ${action.color} text-white`}>\n                            <IconComponent className='h-6 w-6' />\n                          </div>\n                          <ArrowRight className='h-4 w-4 text-muted-foreground' />\n                        </div>\n                      </CardHeader>\n                      <CardContent>\n                        <CardTitle className='text-lg mb-2'>{action.title}</CardTitle>\n                        <p className='text-sm text-muted-foreground'>{action.description}</p>\n                      </CardContent>\n                    </Card>\n                  </Link>\n                );\n              })}\n            </div>\n          ) : (\n            <Card className='text-center py-12'>\n              <CardContent>\n                <Home className='h-12 w-12 mx-auto text-muted-foreground mb-4' />\n                <CardTitle className='text-xl mb-2'>Welcome to Koveo Gestion</CardTitle>\n                <p className='text-muted-foreground'>\n                  Your dashboard will be customized based on your role and permissions.\n                </p>\n              </CardContent>\n            </Card>\n          )}\n\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"version":3}