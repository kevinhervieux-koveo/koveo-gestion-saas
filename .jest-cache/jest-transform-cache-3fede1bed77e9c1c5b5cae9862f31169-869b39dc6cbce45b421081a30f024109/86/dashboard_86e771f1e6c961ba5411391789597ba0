881e73e65f7d53ef893e317d45265417
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = ResidentsDashboard;
const jsx_runtime_1 = require("react/jsx-runtime");
const card_1 = require("@/components/ui/card");
const button_1 = require("@/components/ui/button");
const header_1 = require("@/components/layout/header");
const use_language_1 = require("@/hooks/use-language");
const use_fullscreen_1 = require("@/hooks/use-fullscreen");
const react_query_1 = require("@tanstack/react-query");
const queryClient_1 = require("@/lib/queryClient");
const document_management_1 = require("@/components/document-management");
const lucide_react_1 = require("lucide-react");
/**
 * Residents Dashboard - Main dashboard for residents.
 */
function ResidentsDashboard() {
    const { isFullscreen, toggleFullscreen } = (0, use_fullscreen_1.useFullscreen)();
    const { language } = (0, use_language_1.useLanguage)();
    // Modal state removed - using simple document opening instead
    // Fetch recent documents (limit to 3 for dashboard)
    const { data: documents = [] } = (0, react_query_1.useQuery)({
        queryKey: ['/api/documents', 'recent'],
        queryFn: () => (0, queryClient_1.apiRequest)('GET', '/api/documents?limit=3'),
    });
    const handleDocumentView = async (documentId) => {
        try {
            // Use fetch with credentials to ensure authentication
            const response = await fetch(`/api/documents/${documentId}/file`, {
                method: 'GET',
                credentials: 'include', // Include authentication cookies
            });
            if (!response.ok) {
                throw new Error(`View failed: ${response.status} ${response.statusText}`);
            }
            // Convert response to blob and open in new tab
            const blob = await response.blob();
            const url = window.URL.createObjectURL(blob);
            // Open in new tab
            window.open(url, '_blank');
            // Clean up the URL after a delay to allow the tab to load
            setTimeout(() => {
                window.URL.revokeObjectURL(url);
            }, 1000);
        }
        catch (error) {
            console.error('View failed:', error);
            // Could add toast notification here if needed
        }
    };
    return ((0, jsx_runtime_1.jsxs)("div", { className: 'flex-1 flex flex-col overflow-hidden', children: [(0, jsx_runtime_1.jsx)(header_1.Header, { title: 'Welcome Back', subtitle: 'Your personal residence dashboard - manage your home and stay connected with your building community' }), (0, jsx_runtime_1.jsx)("div", { className: 'flex-1 overflow-auto p-6', children: (0, jsx_runtime_1.jsxs)("div", { className: 'max-w-7xl mx-auto space-y-6', children: [(0, jsx_runtime_1.jsx)("div", { className: 'flex justify-end mb-4', children: (0, jsx_runtime_1.jsx)(button_1.Button, { variant: 'outline', size: 'sm', onClick: toggleFullscreen, className: 'flex items-center gap-2', "data-testid": 'button-fullscreen-toggle', children: isFullscreen ? ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Minimize2, { className: 'w-4 h-4' }), (0, jsx_runtime_1.jsx)("span", { className: 'hidden sm:inline', children: "Exit Fullscreen" })] })) : ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Maximize2, { className: 'w-4 h-4' }), (0, jsx_runtime_1.jsx)("span", { className: 'hidden sm:inline', children: "Fullscreen" })] })) }) }), (0, jsx_runtime_1.jsxs)("div", { className: 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4', children: [(0, jsx_runtime_1.jsxs)(card_1.Card, { className: 'cursor-pointer hover:shadow-md transition-shadow', children: [(0, jsx_runtime_1.jsxs)(card_1.CardHeader, { className: 'flex flex-row items-center justify-between space-y-0 pb-2', children: [(0, jsx_runtime_1.jsx)(card_1.CardTitle, { className: 'text-sm font-medium', children: "My Home" }), (0, jsx_runtime_1.jsx)(lucide_react_1.Home, { className: 'h-4 w-4 text-muted-foreground' })] }), (0, jsx_runtime_1.jsxs)(card_1.CardContent, { children: [(0, jsx_runtime_1.jsx)("div", { className: 'text-2xl font-bold', children: "Unit 4B" }), (0, jsx_runtime_1.jsx)("p", { className: 'text-xs text-muted-foreground', children: "Building status: Good" })] })] }), (0, jsx_runtime_1.jsxs)(card_1.Card, { className: 'cursor-pointer hover:shadow-md transition-shadow', children: [(0, jsx_runtime_1.jsxs)(card_1.CardHeader, { className: 'flex flex-row items-center justify-between space-y-0 pb-2', children: [(0, jsx_runtime_1.jsx)(card_1.CardTitle, { className: 'text-sm font-medium', children: "Documents" }), (0, jsx_runtime_1.jsx)(lucide_react_1.FileText, { className: 'h-4 w-4 text-muted-foreground' })] }), (0, jsx_runtime_1.jsxs)(card_1.CardContent, { children: [(0, jsx_runtime_1.jsx)("div", { className: 'text-2xl font-bold', children: documents.length }), (0, jsx_runtime_1.jsx)("p", { className: 'text-xs text-muted-foreground', children: "Recent documents" })] })] }), (0, jsx_runtime_1.jsxs)(card_1.Card, { className: 'cursor-pointer hover:shadow-md transition-shadow', children: [(0, jsx_runtime_1.jsxs)(card_1.CardHeader, { className: 'flex flex-row items-center justify-between space-y-0 pb-2', children: [(0, jsx_runtime_1.jsx)(card_1.CardTitle, { className: 'text-sm font-medium', children: "Maintenance" }), (0, jsx_runtime_1.jsx)(lucide_react_1.Wrench, { className: 'h-4 w-4 text-muted-foreground' })] }), (0, jsx_runtime_1.jsxs)(card_1.CardContent, { children: [(0, jsx_runtime_1.jsx)("div", { className: 'text-2xl font-bold', children: "1" }), (0, jsx_runtime_1.jsx)("p", { className: 'text-xs text-muted-foreground', children: "Active request" })] })] }), (0, jsx_runtime_1.jsxs)(card_1.Card, { className: 'cursor-pointer hover:shadow-md transition-shadow', children: [(0, jsx_runtime_1.jsxs)(card_1.CardHeader, { className: 'flex flex-row items-center justify-between space-y-0 pb-2', children: [(0, jsx_runtime_1.jsx)(card_1.CardTitle, { className: 'text-sm font-medium', children: "Bills" }), (0, jsx_runtime_1.jsx)(lucide_react_1.DollarSign, { className: 'h-4 w-4 text-muted-foreground' })] }), (0, jsx_runtime_1.jsxs)(card_1.CardContent, { children: [(0, jsx_runtime_1.jsx)("div", { className: 'text-2xl font-bold', children: "$1,250" }), (0, jsx_runtime_1.jsx)("p", { className: 'text-xs text-muted-foreground', children: "Next payment due" })] })] }), (0, jsx_runtime_1.jsxs)(card_1.Card, { className: 'cursor-pointer hover:shadow-md transition-shadow', children: [(0, jsx_runtime_1.jsxs)(card_1.CardHeader, { className: 'flex flex-row items-center justify-between space-y-0 pb-2', children: [(0, jsx_runtime_1.jsx)(card_1.CardTitle, { className: 'text-sm font-medium', children: "Messages" }), (0, jsx_runtime_1.jsx)(lucide_react_1.MessageSquare, { className: 'h-4 w-4 text-muted-foreground' })] }), (0, jsx_runtime_1.jsxs)(card_1.CardContent, { children: [(0, jsx_runtime_1.jsx)("div", { className: 'text-2xl font-bold', children: "2" }), (0, jsx_runtime_1.jsx)("p", { className: 'text-xs text-muted-foreground', children: "Unread messages" })] })] })] }), documents.length > 0 && ((0, jsx_runtime_1.jsxs)("div", { className: 'mb-6', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center justify-between mb-4', children: [(0, jsx_runtime_1.jsx)("h2", { className: 'text-lg font-semibold', children: "Recent Documents" }), (0, jsx_runtime_1.jsxs)(button_1.Button, { variant: 'outline', size: 'sm', className: 'flex items-center gap-2', children: ["View All ", (0, jsx_runtime_1.jsx)(lucide_react_1.ArrowRight, { className: 'w-4 h-4' })] })] }), (0, jsx_runtime_1.jsx)("div", { className: 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4', children: documents.slice(0, 3).map((doc) => ((0, jsx_runtime_1.jsx)(document_management_1.DocumentCard, { title: doc.name, documentId: doc.id, onViewClick: handleDocumentView, documentType: doc.documentType, description: doc.description, createdAt: doc.createdAt, fileSize: doc.fileSize, mimeType: doc.mimeType, uploadedBy: doc.uploadedBy, isVisibleToTenants: doc.isVisibleToTenants, compact: true }, doc.id))) })] })), (0, jsx_runtime_1.jsxs)("div", { className: 'grid grid-cols-1 lg:grid-cols-2 gap-6', children: [(0, jsx_runtime_1.jsxs)(card_1.Card, { children: [(0, jsx_runtime_1.jsxs)(card_1.CardHeader, { children: [(0, jsx_runtime_1.jsx)(card_1.CardTitle, { children: "Recent Activity" }), (0, jsx_runtime_1.jsx)(card_1.CardDescription, { children: "Latest updates from your building" })] }), (0, jsx_runtime_1.jsxs)(card_1.CardContent, { className: 'space-y-4', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center space-x-4', children: [(0, jsx_runtime_1.jsx)("div", { className: 'w-2 h-2 bg-blue-500 rounded-full' }), (0, jsx_runtime_1.jsxs)("div", { className: 'flex-1', children: [(0, jsx_runtime_1.jsx)("p", { className: 'text-sm font-medium', children: "Maintenance completed" }), (0, jsx_runtime_1.jsx)("p", { className: 'text-xs text-muted-foreground', children: "Elevator maintenance finished - Unit 4B" })] }), (0, jsx_runtime_1.jsx)("p", { className: 'text-xs text-muted-foreground', children: "2 hours ago" })] }), (0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center space-x-4', children: [(0, jsx_runtime_1.jsx)("div", { className: 'w-2 h-2 bg-green-500 rounded-full' }), (0, jsx_runtime_1.jsxs)("div", { className: 'flex-1', children: [(0, jsx_runtime_1.jsx)("p", { className: 'text-sm font-medium', children: "Payment confirmed" }), (0, jsx_runtime_1.jsx)("p", { className: 'text-xs text-muted-foreground', children: "Monthly condo fees - $1,250" })] }), (0, jsx_runtime_1.jsx)("p", { className: 'text-xs text-muted-foreground', children: "1 day ago" })] }), (0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center space-x-4', children: [(0, jsx_runtime_1.jsx)("div", { className: 'w-2 h-2 bg-orange-500 rounded-full' }), (0, jsx_runtime_1.jsxs)("div", { className: 'flex-1', children: [(0, jsx_runtime_1.jsx)("p", { className: 'text-sm font-medium', children: "New building notice" }), (0, jsx_runtime_1.jsx)("p", { className: 'text-xs text-muted-foreground', children: "Pool maintenance scheduled for next week" })] }), (0, jsx_runtime_1.jsx)("p", { className: 'text-xs text-muted-foreground', children: "3 days ago" })] })] })] }), (0, jsx_runtime_1.jsxs)(card_1.Card, { children: [(0, jsx_runtime_1.jsxs)(card_1.CardHeader, { children: [(0, jsx_runtime_1.jsx)(card_1.CardTitle, { children: "Upcoming Events" }), (0, jsx_runtime_1.jsx)(card_1.CardDescription, { children: "Building events and important dates" })] }), (0, jsx_runtime_1.jsxs)(card_1.CardContent, { className: 'space-y-4', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center justify-between p-3 bg-blue-50 rounded-lg', children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("p", { className: 'text-sm font-medium', children: "Board Meeting" }), (0, jsx_runtime_1.jsx)("p", { className: 'text-xs text-muted-foreground', children: "Monthly community meeting" })] }), (0, jsx_runtime_1.jsx)("p", { className: 'text-sm text-blue-600', children: "Jan 15" })] }), (0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center justify-between p-3 bg-green-50 rounded-lg', children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("p", { className: 'text-sm font-medium', children: "Pool Reopening" }), (0, jsx_runtime_1.jsx)("p", { className: 'text-xs text-muted-foreground', children: "After maintenance completion" })] }), (0, jsx_runtime_1.jsx)("p", { className: 'text-sm text-green-600', children: "Jan 20" })] }), (0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center justify-between p-3 bg-orange-50 rounded-lg', children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("p", { className: 'text-sm font-medium', children: "Fire Drill" }), (0, jsx_runtime_1.jsx)("p", { className: 'text-xs text-muted-foreground', children: "Mandatory building safety drill" })] }), (0, jsx_runtime_1.jsx)("p", { className: 'text-sm text-orange-600', children: "Jan 25" })] })] })] })] })] }) })] }));
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9jbGllbnQvc3JjL3BhZ2VzL3Jlc2lkZW50cy9kYXNoYm9hcmQudHN4IiwibWFwcGluZ3MiOiI7O0FBdUJBLHFDQTRPQzs7QUFuUUQsK0NBQWlHO0FBQ2pHLG1EQUFnRDtBQUNoRCx1REFBb0Q7QUFDcEQsdURBQW1EO0FBQ25ELDJEQUF1RDtBQUN2RCx1REFBaUQ7QUFDakQsbURBQStDO0FBQy9DLDBFQUFnRTtBQUVoRSwrQ0FTc0I7QUFFdEI7O0dBRUc7QUFDSCxTQUF3QixrQkFBa0I7SUFDeEMsTUFBTSxFQUFFLFlBQVksRUFBRSxnQkFBZ0IsRUFBRSxHQUFHLElBQUEsOEJBQWEsR0FBRSxDQUFDO0lBQzNELE1BQU0sRUFBRSxRQUFRLEVBQUUsR0FBRyxJQUFBLDBCQUFXLEdBQUUsQ0FBQztJQUNuQyw4REFBOEQ7SUFFOUQsb0RBQW9EO0lBQ3BELE1BQU0sRUFBRSxJQUFJLEVBQUUsU0FBUyxHQUFHLEVBQUUsRUFBRSxHQUFHLElBQUEsc0JBQVEsRUFBQztRQUN4QyxRQUFRLEVBQUUsQ0FBQyxnQkFBZ0IsRUFBRSxRQUFRLENBQUM7UUFDdEMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLElBQUEsd0JBQVUsRUFBQyxLQUFLLEVBQUUsd0JBQXdCLENBQUM7S0FDM0QsQ0FBQyxDQUFDO0lBRUgsTUFBTSxrQkFBa0IsR0FBRyxLQUFLLEVBQUUsVUFBa0IsRUFBRSxFQUFFO1FBQ3RELElBQUksQ0FBQztZQUNILHNEQUFzRDtZQUN0RCxNQUFNLFFBQVEsR0FBRyxNQUFNLEtBQUssQ0FBQyxrQkFBa0IsVUFBVSxPQUFPLEVBQUU7Z0JBQ2hFLE1BQU0sRUFBRSxLQUFLO2dCQUNiLFdBQVcsRUFBRSxTQUFTLEVBQUUsaUNBQWlDO2FBQzFELENBQUMsQ0FBQztZQUVILElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRSxFQUFFLENBQUM7Z0JBQ2pCLE1BQU0sSUFBSSxLQUFLLENBQUMsZ0JBQWdCLFFBQVEsQ0FBQyxNQUFNLElBQUksUUFBUSxDQUFDLFVBQVUs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QUFTLEVBQUMsK0JBQStCLGdEQUFvQyxJQUM1RSxFQUNOLDhCQUFHLFNBQVMsRUFBQyx5QkFBeUIsdUJBQVcsSUFDN0MsSUFDTSxJQUNULElBQ0gsSUFDRixHQUNGLElBR0YsQ0FDUCxDQUFDO0FBQ0osQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvaG9tZS9ydW5uZXIvd29ya3NwYWNlL2NsaWVudC9zcmMvcGFnZXMvcmVzaWRlbnRzL2Rhc2hib2FyZC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2FyZCwgQ2FyZENvbnRlbnQsIENhcmREZXNjcmlwdGlvbiwgQ2FyZEhlYWRlciwgQ2FyZFRpdGxlIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2NhcmQnO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbic7XG5pbXBvcnQgeyBIZWFkZXIgfSBmcm9tICdAL2NvbXBvbmVudHMvbGF5b3V0L2hlYWRlcic7XG5pbXBvcnQgeyB1c2VMYW5ndWFnZSB9IGZyb20gJ0AvaG9va3MvdXNlLWxhbmd1YWdlJztcbmltcG9ydCB7IHVzZUZ1bGxzY3JlZW4gfSBmcm9tICdAL2hvb2tzL3VzZS1mdWxsc2NyZWVuJztcbmltcG9ydCB7IHVzZVF1ZXJ5IH0gZnJvbSAnQHRhbnN0YWNrL3JlYWN0LXF1ZXJ5JztcbmltcG9ydCB7IGFwaVJlcXVlc3QgfSBmcm9tICdAL2xpYi9xdWVyeUNsaWVudCc7XG5pbXBvcnQgeyBEb2N1bWVudENhcmQgfSBmcm9tICdAL2NvbXBvbmVudHMvZG9jdW1lbnQtbWFuYWdlbWVudCc7XG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7XG4gIE1heGltaXplMixcbiAgTWluaW1pemUyLFxuICBIb21lLFxuICBGaWxlVGV4dCxcbiAgV3JlbmNoLFxuICBEb2xsYXJTaWduLFxuICBNZXNzYWdlU3F1YXJlLFxuICBBcnJvd1JpZ2h0LFxufSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuXG4vKipcbiAqIFJlc2lkZW50cyBEYXNoYm9hcmQgLSBNYWluIGRhc2hib2FyZCBmb3IgcmVzaWRlbnRzLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBSZXNpZGVudHNEYXNoYm9hcmQoKSB7XG4gIGNvbnN0IHsgaXNGdWxsc2NyZWVuLCB0b2dnbGVGdWxsc2NyZWVuIH0gPSB1c2VGdWxsc2NyZWVuKCk7XG4gIGNvbnN0IHsgbGFuZ3VhZ2UgfSA9IHVzZUxhbmd1YWdlKCk7XG4gIC8vIE1vZGFsIHN0YXRlIHJlbW92ZWQgLSB1c2luZyBzaW1wbGUgZG9jdW1lbnQgb3BlbmluZyBpbnN0ZWFkXG5cbiAgLy8gRmV0Y2ggcmVjZW50IGRvY3VtZW50cyAobGltaXQgdG8gMyBmb3IgZGFzaGJvYXJkKVxuICBjb25zdCB7IGRhdGE6IGRvY3VtZW50cyA9IFtdIH0gPSB1c2VRdWVyeSh7XG4gICAgcXVlcnlLZXk6IFsnL2FwaS9kb2N1bWVudHMnLCAncmVjZW50J10sXG4gICAgcXVlcnlGbjogKCkgPT4gYXBpUmVxdWVzdCgnR0VUJywgJy9hcGkvZG9jdW1lbnRzP2xpbWl0PTMnKSxcbiAgfSk7XG5cbiAgY29uc3QgaGFuZGxlRG9jdW1lbnRWaWV3ID0gYXN5bmMgKGRvY3VtZW50SWQ6IHN0cmluZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBVc2UgZmV0Y2ggd2l0aCBjcmVkZW50aWFscyB0byBlbnN1cmUgYXV0aGVudGljYXRpb25cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvZG9jdW1lbnRzLyR7ZG9jdW1lbnRJZH0vZmlsZWAsIHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJywgLy8gSW5jbHVkZSBhdXRoZW50aWNhdGlvbiBjb29raWVzXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFZpZXcgZmFpbGVkOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgICAgfVxuXG4gICAgICAvLyBDb252ZXJ0IHJlc3BvbnNlIHRvIGJsb2IgYW5kIG9wZW4gaW4gbmV3IHRhYlxuICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IHJlc3BvbnNlLmJsb2IoKTtcbiAgICAgIGNvbnN0IHVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgXG4gICAgICAvLyBPcGVuIGluIG5ldyB0YWJcbiAgICAgIHdpbmRvdy5vcGVuKHVybCwgJ19ibGFuaycpO1xuICAgICAgXG4gICAgICAvLyBDbGVhbiB1cCB0aGUgVVJMIGFmdGVyIGEgZGVsYXkgdG8gYWxsb3cgdGhlIHRhYiB0byBsb2FkXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgICAgIH0sIDEwMDApO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1ZpZXcgZmFpbGVkOicsIGVycm9yKTtcbiAgICAgIC8vIENvdWxkIGFkZCB0b2FzdCBub3RpZmljYXRpb24gaGVyZSBpZiBuZWVkZWRcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleC0xIGZsZXggZmxleC1jb2wgb3ZlcmZsb3ctaGlkZGVuJz5cbiAgICAgIDxIZWFkZXJcbiAgICAgICAgdGl0bGU9J1dlbGNvbWUgQmFjaydcbiAgICAgICAgc3VidGl0bGU9J1lvdXIgcGVyc29uYWwgcmVzaWRlbmNlIGRhc2hib2FyZCAtIG1hbmFnZSB5b3VyIGhvbWUgYW5kIHN0YXkgY29ubmVjdGVkIHdpdGggeW91ciBidWlsZGluZyBjb21tdW5pdHknXG4gICAgICAvPlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleC0xIG92ZXJmbG93LWF1dG8gcC02Jz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J21heC13LTd4bCBteC1hdXRvIHNwYWNlLXktNic+XG4gICAgICAgICAgey8qIEZ1bGxzY3JlZW4gQ29udHJvbHMgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXgganVzdGlmeS1lbmQgbWItNCc+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIHZhcmlhbnQ9J291dGxpbmUnXG4gICAgICAgICAgICAgIHNpemU9J3NtJ1xuICAgICAgICAgICAgICBvbkNsaWNrPXt0b2dnbGVGdWxsc2NyZWVufVxuICAgICAgICAgICAgICBjbGFzc05hbWU9J2ZsZXggaXRlbXMtY2VudGVyIGdhcC0yJ1xuICAgICAgICAgICAgICBkYXRhLXRlc3RpZD0nYnV0dG9uLWZ1bGxzY3JlZW4tdG9nZ2xlJ1xuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7aXNGdWxsc2NyZWVuID8gKFxuICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICA8TWluaW1pemUyIGNsYXNzTmFtZT0ndy00IGgtNCcgLz5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0naGlkZGVuIHNtOmlubGluZSc+RXhpdCBGdWxsc2NyZWVuPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICA8TWF4aW1pemUyIGNsYXNzTmFtZT0ndy00IGgtNCcgLz5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0naGlkZGVuIHNtOmlubGluZSc+RnVsbHNjcmVlbjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIFF1aWNrIEFjdGlvbnMgR3JpZCAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBsZzpncmlkLWNvbHMtMyB4bDpncmlkLWNvbHMtNSBnYXAtNCc+XG4gICAgICAgICAgICA8Q2FyZCBjbGFzc05hbWU9J2N1cnNvci1wb2ludGVyIGhvdmVyOnNoYWRvdy1tZCB0cmFuc2l0aW9uLXNoYWRvdyc+XG4gICAgICAgICAgICAgIDxDYXJkSGVhZGVyIGNsYXNzTmFtZT0nZmxleCBmbGV4LXJvdyBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHNwYWNlLXktMCBwYi0yJz5cbiAgICAgICAgICAgICAgICA8Q2FyZFRpdGxlIGNsYXNzTmFtZT0ndGV4dC1zbSBmb250LW1lZGl1bSc+TXkgSG9tZTwvQ2FyZFRpdGxlPlxuICAgICAgICAgICAgICAgIDxIb21lIGNsYXNzTmFtZT0naC00IHctNCB0ZXh0LW11dGVkLWZvcmVncm91bmQnIC8+XG4gICAgICAgICAgICAgIDwvQ2FyZEhlYWRlcj5cbiAgICAgICAgICAgICAgPENhcmRDb250ZW50PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd0ZXh0LTJ4bCBmb250LWJvbGQnPlVuaXQgNEI8L2Rpdj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3RleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kJz5CdWlsZGluZyBzdGF0dXM6IEdvb2Q8L3A+XG4gICAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICAgICAgICA8L0NhcmQ+XG5cbiAgICAgICAgICAgIDxDYXJkIGNsYXNzTmFtZT0nY3Vyc29yLXBvaW50ZXIgaG92ZXI6c2hhZG93LW1kIHRyYW5zaXRpb24tc2hhZG93Jz5cbiAgICAgICAgICAgICAgPENhcmRIZWFkZXIgY2xhc3NOYW1lPSdmbGV4IGZsZXgtcm93IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gc3BhY2UteS0wIHBiLTInPlxuICAgICAgICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPSd0ZXh0LXNtIGZvbnQtbWVkaXVtJz5Eb2N1bWVudHM8L0NhcmRUaXRsZT5cbiAgICAgICAgICAgICAgICA8RmlsZVRleHQgY2xhc3NOYW1lPSdoLTQgdy00IHRleHQtbXV0ZWQtZm9yZWdyb3VuZCcgLz5cbiAgICAgICAgICAgICAgPC9DYXJkSGVhZGVyPlxuICAgICAgICAgICAgICA8Q2FyZENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3RleHQtMnhsIGZvbnQtYm9sZCc+e2RvY3VtZW50cy5sZW5ndGh9PC9kaXY+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSd0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCc+UmVjZW50IGRvY3VtZW50czwvcD5cbiAgICAgICAgICAgICAgPC9DYXJkQ29udGVudD5cbiAgICAgICAgICAgIDwvQ2FyZD5cblxuICAgICAgICAgICAgPENhcmQgY2xhc3NOYW1lPSdjdXJzb3ItcG9pbnRlciBob3ZlcjpzaGFkb3ctbWQgdHJhbnNpdGlvbi1zaGFkb3cnPlxuICAgICAgICAgICAgICA8Q2FyZEhlYWRlciBjbGFzc05hbWU9J2ZsZXggZmxleC1yb3cgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBzcGFjZS15LTAgcGItMic+XG4gICAgICAgICAgICAgICAgPENhcmRUaXRsZSBjbGFzc05hbWU9J3RleHQtc20gZm9udC1tZWRpdW0nPk1haW50ZW5hbmNlPC9DYXJkVGl0bGU+XG4gICAgICAgICAgICAgICAgPFdyZW5jaCBjbGFzc05hbWU9J2gtNCB3LTQgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kJyAvPlxuICAgICAgICAgICAgICA8L0NhcmRIZWFkZXI+XG4gICAgICAgICAgICAgIDxDYXJkQ29udGVudD5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndGV4dC0yeGwgZm9udC1ib2xkJz4xPC9kaXY+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSd0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCc+QWN0aXZlIHJlcXVlc3Q8L3A+XG4gICAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICAgICAgICA8L0NhcmQ+XG5cbiAgICAgICAgICAgIDxDYXJkIGNsYXNzTmFtZT0nY3Vyc29yLXBvaW50ZXIgaG92ZXI6c2hhZG93LW1kIHRyYW5zaXRpb24tc2hhZG93Jz5cbiAgICAgICAgICAgICAgPENhcmRIZWFkZXIgY2xhc3NOYW1lPSdmbGV4IGZsZXgtcm93IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gc3BhY2UteS0wIHBiLTInPlxuICAgICAgICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPSd0ZXh0LXNtIGZvbnQtbWVkaXVtJz5CaWxsczwvQ2FyZFRpdGxlPlxuICAgICAgICAgICAgICAgIDxEb2xsYXJTaWduIGNsYXNzTmFtZT0naC00IHctNCB0ZXh0LW11dGVkLWZvcmVncm91bmQnIC8+XG4gICAgICAgICAgICAgIDwvQ2FyZEhlYWRlcj5cbiAgICAgICAgICAgICAgPENhcmRDb250ZW50PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd0ZXh0LTJ4bCBmb250LWJvbGQnPiQxLDI1MDwvZGl2PlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0ndGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmQnPk5leHQgcGF5bWVudCBkdWU8L3A+XG4gICAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICAgICAgICA8L0NhcmQ+XG5cbiAgICAgICAgICAgIDxDYXJkIGNsYXNzTmFtZT0nY3Vyc29yLXBvaW50ZXIgaG92ZXI6c2hhZG93LW1kIHRyYW5zaXRpb24tc2hhZG93Jz5cbiAgICAgICAgICAgICAgPENhcmRIZWFkZXIgY2xhc3NOYW1lPSdmbGV4IGZsZXgtcm93IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gc3BhY2UteS0wIHBiLTInPlxuICAgICAgICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPSd0ZXh0LXNtIGZvbnQtbWVkaXVtJz5NZXNzYWdlczwvQ2FyZFRpdGxlPlxuICAgICAgICAgICAgICAgIDxNZXNzYWdlU3F1YXJlIGNsYXNzTmFtZT0naC00IHctNCB0ZXh0LW11dGVkLWZvcmVncm91bmQnIC8+XG4gICAgICAgICAgICAgIDwvQ2FyZEhlYWRlcj5cbiAgICAgICAgICAgICAgPENhcmRDb250ZW50PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd0ZXh0LTJ4bCBmb250LWJvbGQnPjI8L2Rpdj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3RleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kJz5VbnJlYWQgbWVzc2FnZXM8L3A+XG4gICAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICAgICAgICA8L0NhcmQ+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogUmVjZW50IERvY3VtZW50cyBTZWN0aW9uICovfVxuICAgICAgICAgIHtkb2N1bWVudHMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbWItNic+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbWItNCc+XG4gICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT0ndGV4dC1sZyBmb250LXNlbWlib2xkJz5SZWNlbnQgRG9jdW1lbnRzPC9oMj5cbiAgICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9J291dGxpbmUnIHNpemU9J3NtJyBjbGFzc05hbWU9J2ZsZXggaXRlbXMtY2VudGVyIGdhcC0yJz5cbiAgICAgICAgICAgICAgICAgIFZpZXcgQWxsIDxBcnJvd1JpZ2h0IGNsYXNzTmFtZT0ndy00IGgtNCcgLz5cbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIGxnOmdyaWQtY29scy0zIGdhcC00Jz5cbiAgICAgICAgICAgICAgICB7ZG9jdW1lbnRzLnNsaWNlKDAsIDMpLm1hcCgoZG9jOiBhbnkpID0+IChcbiAgICAgICAgICAgICAgICAgIDxEb2N1bWVudENhcmRcbiAgICAgICAgICAgICAgICAgICAga2V5PXtkb2MuaWR9XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlPXtkb2MubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRJZD17ZG9jLmlkfVxuICAgICAgICAgICAgICAgICAgICBvblZpZXdDbGljaz17aGFuZGxlRG9jdW1lbnRWaWV3fVxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudFR5cGU9e2RvYy5kb2N1bWVudFR5cGV9XG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uPXtkb2MuZGVzY3JpcHRpb259XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdD17ZG9jLmNyZWF0ZWRBdH1cbiAgICAgICAgICAgICAgICAgICAgZmlsZVNpemU9e2RvYy5maWxlU2l6ZX1cbiAgICAgICAgICAgICAgICAgICAgbWltZVR5cGU9e2RvYy5taW1lVHlwZX1cbiAgICAgICAgICAgICAgICAgICAgdXBsb2FkZWRCeT17ZG9jLnVwbG9hZGVkQnl9XG4gICAgICAgICAgICAgICAgICAgIGlzVmlzaWJsZVRvVGVuYW50cz17ZG9jLmlzVmlzaWJsZVRvVGVuYW50c31cbiAgICAgICAgICAgICAgICAgICAgY29tcGFjdD17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHsvKiBSZWNlbnQgQWN0aXZpdHkgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2dyaWQgZ3JpZC1jb2xzLTEgbGc6Z3JpZC1jb2xzLTIgZ2FwLTYnPlxuICAgICAgICAgICAgPENhcmQ+XG4gICAgICAgICAgICAgIDxDYXJkSGVhZGVyPlxuICAgICAgICAgICAgICAgIDxDYXJkVGl0bGU+UmVjZW50IEFjdGl2aXR5PC9DYXJkVGl0bGU+XG4gICAgICAgICAgICAgICAgPENhcmREZXNjcmlwdGlvbj5MYXRlc3QgdXBkYXRlcyBmcm9tIHlvdXIgYnVpbGRpbmc8L0NhcmREZXNjcmlwdGlvbj5cbiAgICAgICAgICAgICAgPC9DYXJkSGVhZGVyPlxuICAgICAgICAgICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPSdzcGFjZS15LTQnPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTQnPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMiBoLTIgYmctYmx1ZS01MDAgcm91bmRlZC1mdWxsJz48L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4LTEnPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3RleHQtc20gZm9udC1tZWRpdW0nPk1haW50ZW5hbmNlIGNvbXBsZXRlZDwvcD5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSd0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCc+XG4gICAgICAgICAgICAgICAgICAgICAgRWxldmF0b3IgbWFpbnRlbmFuY2UgZmluaXNoZWQgLSBVbml0IDRCXG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSd0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCc+MiBob3VycyBhZ288L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtNCc+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndy0yIGgtMiBiZy1ncmVlbi01MDAgcm91bmRlZC1mdWxsJz48L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4LTEnPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3RleHQtc20gZm9udC1tZWRpdW0nPlBheW1lbnQgY29uZmlybWVkPC9wPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3RleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kJz5Nb250aGx5IGNvbmRvIGZlZXMgLSAkMSwyNTA8L3A+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0ndGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmQnPjEgZGF5IGFnbzwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC00Jz5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LTIgaC0yIGJnLW9yYW5nZS01MDAgcm91bmRlZC1mdWxsJz48L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4LTEnPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3RleHQtc20gZm9udC1tZWRpdW0nPk5ldyBidWlsZGluZyBub3RpY2U8L3A+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0ndGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmQnPlxuICAgICAgICAgICAgICAgICAgICAgIFBvb2wgbWFpbnRlbmFuY2Ugc2NoZWR1bGVkIGZvciBuZXh0IHdlZWtcbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3RleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kJz4zIGRheXMgYWdvPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgICAgICAgPC9DYXJkPlxuXG4gICAgICAgICAgICA8Q2FyZD5cbiAgICAgICAgICAgICAgPENhcmRIZWFkZXI+XG4gICAgICAgICAgICAgICAgPENhcmRUaXRsZT5VcGNvbWluZyBFdmVudHM8L0NhcmRUaXRsZT5cbiAgICAgICAgICAgICAgICA8Q2FyZERlc2NyaXB0aW9uPkJ1aWxkaW5nIGV2ZW50cyBhbmQgaW1wb3J0YW50IGRhdGVzPC9DYXJkRGVzY3JpcHRpb24+XG4gICAgICAgICAgICAgIDwvQ2FyZEhlYWRlcj5cbiAgICAgICAgICAgICAgPENhcmRDb250ZW50IGNsYXNzTmFtZT0nc3BhY2UteS00Jz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHAtMyBiZy1ibHVlLTUwIHJvdW5kZWQtbGcnPlxuICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSd0ZXh0LXNtIGZvbnQtbWVkaXVtJz5Cb2FyZCBNZWV0aW5nPC9wPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3RleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kJz5Nb250aGx5IGNvbW11bml0eSBtZWV0aW5nPC9wPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3RleHQtc20gdGV4dC1ibHVlLTYwMCc+SmFuIDE1PC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcC0zIGJnLWdyZWVuLTUwIHJvdW5kZWQtbGcnPlxuICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSd0ZXh0LXNtIGZvbnQtbWVkaXVtJz5Qb29sIFJlb3BlbmluZzwvcD5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSd0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCc+QWZ0ZXIgbWFpbnRlbmFuY2UgY29tcGxldGlvbjwvcD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSd0ZXh0LXNtIHRleHQtZ3JlZW4tNjAwJz5KYW4gMjA8L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBwLTMgYmctb3JhbmdlLTUwIHJvdW5kZWQtbGcnPlxuICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSd0ZXh0LXNtIGZvbnQtbWVkaXVtJz5GaXJlIERyaWxsPC9wPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3RleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kJz5NYW5kYXRvcnkgYnVpbGRpbmcgc2FmZXR5IGRyaWxsPC9wPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3RleHQtc20gdGV4dC1vcmFuZ2UtNjAwJz5KYW4gMjU8L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICAgICAgICA8L0NhcmQ+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBEb2N1bWVudCB2aWV3aW5nIGhhbmRsZWQgYnkgb3BlbmluZyBpbiBuZXcgdGFiICovfVxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sInZlcnNpb24iOjN9