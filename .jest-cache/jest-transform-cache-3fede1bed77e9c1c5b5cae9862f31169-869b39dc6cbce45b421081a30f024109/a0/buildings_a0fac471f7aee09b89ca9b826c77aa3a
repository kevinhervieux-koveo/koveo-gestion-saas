f8f94a49238c99b9d09b88d1a6685d66
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = Buildings;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("react");
const react_query_1 = require("@tanstack/react-query");
const card_1 = require("@/components/ui/card");
const button_1 = require("@/components/ui/button");
const badge_1 = require("@/components/ui/badge");
const input_1 = require("@/components/ui/input");
const select_1 = require("@/components/ui/select");
const dialog_1 = require("@/components/ui/dialog");
const form_1 = require("@/components/ui/form");
const use_toast_1 = require("@/hooks/use-toast");
const use_language_1 = require("@/hooks/use-language");
const react_hook_form_1 = require("react-hook-form");
const zod_1 = require("@hookform/resolvers/zod");
const zod_2 = require("zod");
const queryClient_1 = require("@/lib/queryClient");
const lucide_react_1 = require("lucide-react");
const header_1 = require("@/components/layout/header");
const wouter_1 = require("wouter");
// Form schema for creating/editing buildings
const buildingFormSchema = zod_2.z.object({
    name: zod_2.z.string().min(1, 'Building name is required').max(255, 'Name too long'),
    address: zod_2.z.string().min(1, 'Address is required').max(500, 'Address too long'),
    city: zod_2.z.string().min(1, 'City is required').max(100, 'City too long'),
    province: zod_2.z.string().min(1, 'Province is required').max(100, 'Province too long'),
    postalCode: zod_2.z.string().min(1, 'Postal code is required').max(20, 'Postal code too long'),
    buildingType: zod_2.z.enum(['condo', 'apartment', 'townhouse', 'commercial', 'mixed_use', 'other']),
    totalUnits: zod_2.z
        .number()
        .int()
        .min(1, 'Must have at least 1 unit')
        .max(300, 'Maximum 300 units allowed'),
    organizationId: zod_2.z.string().min(1, 'Organization is required'),
});
/**
 *
 * @param root0
 * @param root0.building
 * @param root0.userRole
 * @param root0.onEdit
 * @param root0.onDelete
 */
function BuildingCard({ building, userRole, onEdit, onDelete }) {
    const isAdmin = userRole === 'admin';
    const canEdit = ['admin', 'manager'].includes(userRole || '');
    return ((0, jsx_runtime_1.jsxs)(card_1.Card, { className: 'h-full', children: [(0, jsx_runtime_1.jsx)(card_1.CardHeader, { children: (0, jsx_runtime_1.jsxs)("div", { className: 'flex items-start justify-between', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center space-x-2', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Building, { className: 'h-5 w-5 text-blue-600' }), (0, jsx_runtime_1.jsx)(card_1.CardTitle, { className: 'text-lg truncate', children: building.name })] }), canEdit && ((0, jsx_runtime_1.jsxs)("div", { className: 'flex gap-1', children: [(0, jsx_runtime_1.jsx)(button_1.Button, { size: 'sm', variant: 'ghost', onClick: () => onEdit(building), children: (0, jsx_runtime_1.jsx)(lucide_react_1.Edit, { className: 'h-3 w-3' }) }), isAdmin && ((0, jsx_runtime_1.jsx)(button_1.Button, { size: 'sm', variant: 'ghost', onClick: () => onDelete(building), className: 'text-red-600 hover:text-red-700', children: (0, jsx_runtime_1.jsx)(lucide_react_1.Trash2, { className: 'h-3 w-3' }) }))] }))] }) }), (0, jsx_runtime_1.jsx)(card_1.CardContent, { children: (0, jsx_runtime_1.jsxs)("div", { className: 'space-y-2', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center text-sm text-gray-600', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.MapPin, { className: 'h-4 w-4 mr-2' }), (0, jsx_runtime_1.jsx)("span", { className: 'truncate', children: building.address })] }), (0, jsx_runtime_1.jsx)("div", { className: 'flex items-center text-sm text-gray-600', children: (0, jsx_runtime_1.jsxs)("span", { children: [building.city, ", ", building.province, " ", building.postalCode] }) }), (0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center justify-between pt-2', children: [(0, jsx_runtime_1.jsxs)(badge_1.Badge, { variant: 'outline', children: [building.totalUnits, " units"] }), (0, jsx_runtime_1.jsx)(badge_1.Badge, { variant: 'secondary', children: building.buildingType })] }), (0, jsx_runtime_1.jsxs)("div", { className: 'pt-2 flex gap-2', children: [(0, jsx_runtime_1.jsx)(wouter_1.Link, { href: `/manager/buildings/${building.id}/documents`, children: (0, jsx_runtime_1.jsx)(button_1.Button, { size: 'sm', variant: 'outline', className: 'flex-1', children: t('buildingDocumentsButton') }) }), (0, jsx_runtime_1.jsx)(wouter_1.Link, { href: `/manager/residences?buildingId=${building.id}`, children: (0, jsx_runtime_1.jsx)(button_1.Button, { size: 'sm', variant: 'outline', className: 'flex-1', children: "Residences" }) })] })] }) })] }));
}
/**
 *
 * @param root0
 * @param root0.isOpen
 * @param root0.onOpenChange
 * @param root0.form
 * @param root0.onSubmit
 * @param root0.organizations
 * @param root0.isSubmitting
 * @param root0.title
 * @param root0.submitLabel
 */
function BuildingForm({ isOpen, onOpenChange, form, onSubmit, organizations, isSubmitting, title, submitLabel, }) {
    return ((0, jsx_runtime_1.jsx)(dialog_1.Dialog, { open: isOpen, onOpenChange: onOpenChange, children: (0, jsx_runtime_1.jsxs)(dialog_1.DialogContent, { className: 'max-w-2xl', children: [(0, jsx_runtime_1.jsxs)(dialog_1.DialogHeader, { children: [(0, jsx_runtime_1.jsx)(dialog_1.DialogTitle, { children: title }), (0, jsx_runtime_1.jsx)(dialog_1.DialogDescription, { children: "Fill in the building information below. All fields are required." })] }), (0, jsx_runtime_1.jsx)(form_1.Form, { ...form, children: (0, jsx_runtime_1.jsxs)("form", { onSubmit: form.handleSubmit(onSubmit), className: 'space-y-4', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'grid grid-cols-1 md:grid-cols-2 gap-4', children: [(0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'name', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { className: 'md:col-span-2', children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Building Name" }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(input_1.Input, { placeholder: 'Enter building name', ...field }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'address', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { className: 'md:col-span-2', children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Address" }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(input_1.Input, { placeholder: 'Enter street address', ...field }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'city', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "City" }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(input_1.Input, { placeholder: 'Enter city', ...field }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'province', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Province" }), (0, jsx_runtime_1.jsxs)(select_1.Select, { onValueChange: field.onChange, value: field.value, children: [(0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(select_1.SelectTrigger, { children: (0, jsx_runtime_1.jsx)(select_1.SelectValue, { placeholder: 'Select province' }) }) }), (0, jsx_runtime_1.jsxs)(select_1.SelectContent, { children: [(0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'QC', children: "Quebec" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'ON', children: "Ontario" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'BC', children: "British Columbia" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'AB', children: "Alberta" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'MB', children: "Manitoba" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'SK', children: "Saskatchewan" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'NS', children: "Nova Scotia" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'NB', children: "New Brunswick" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'PE', children: "Prince Edward Island" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'NL', children: "Newfoundland and Labrador" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'NT', children: "Northwest Territories" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'NU', children: "Nunavut" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'YT', children: "Yukon" })] })] }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'postalCode', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Postal Code" }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(input_1.Input, { placeholder: 'H1H 1H1', ...field }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'buildingType', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Building Type" }), (0, jsx_runtime_1.jsxs)(select_1.Select, { onValueChange: field.onChange, value: field.value, children: [(0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(select_1.SelectTrigger, { children: (0, jsx_runtime_1.jsx)(select_1.SelectValue, { placeholder: 'Select building type' }) }) }), (0, jsx_runtime_1.jsxs)(select_1.SelectContent, { children: [(0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'condo', children: "Condominium" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'apartment', children: "Apartment" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'townhouse', children: "Townhouse" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'commercial', children: "Commercial" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'mixed_use', children: "Mixed Use" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'other', children: "Other" })] })] }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'totalUnits', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Total Units" }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(input_1.Input, { type: 'number', placeholder: 'Enter total units', ...field, onChange: (e) => field.onChange(parseInt(e.target.value) || 0) }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'organizationId', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Organization" }), (0, jsx_runtime_1.jsxs)(select_1.Select, { onValueChange: field.onChange, value: field.value, children: [(0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(select_1.SelectTrigger, { children: (0, jsx_runtime_1.jsx)(select_1.SelectValue, { placeholder: 'Select organization' }) }) }), (0, jsx_runtime_1.jsx)(select_1.SelectContent, { children: organizations.map((org) => ((0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: org.id, children: org.name }, org.id))) })] }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) })] }), (0, jsx_runtime_1.jsxs)(dialog_1.DialogFooter, { children: [(0, jsx_runtime_1.jsx)(button_1.Button, { type: 'button', variant: 'outline', onClick: () => onOpenChange(false), children: "Cancel" }), (0, jsx_runtime_1.jsx)(button_1.Button, { type: 'submit', disabled: isSubmitting, children: isSubmitting ? 'Saving...' : submitLabel })] })] }) })] }) }));
}
/**
 *
 */
function Buildings() {
    const { toast } = (0, use_toast_1.useToast)();
    const queryClient = (0, react_query_1.useQueryClient)();
    const { t } = (0, use_language_1.useLanguage)();
    // State variables
    const [searchTerm, setSearchTerm] = (0, react_1.useState)('');
    const [isAddDialogOpen, setIsAddDialogOpen] = (0, react_1.useState)(false);
    const [isEditDialogOpen, setIsEditDialogOpen] = (0, react_1.useState)(false);
    const [editingBuilding, setEditingBuilding] = (0, react_1.useState)(null);
    const [deletingBuilding, setDeletingBuilding] = (0, react_1.useState)(null);
    // Get current user
    const { data: user } = (0, react_query_1.useQuery)({
        queryKey: ['/api/auth/user'],
        queryFn: () => (0, queryClient_1.apiRequest)('GET', '/api/auth/user'),
    });
    // Fetch organizations for form
    const { data: organizations = [] } = (0, react_query_1.useQuery)({
        queryKey: ['/api/organizations'],
        queryFn: async () => {
            const response = await (0, queryClient_1.apiRequest)('GET', '/api/organizations');
            return await response.json();
        },
    });
    // Fetch buildings using the working manager endpoint
    const { data: buildingsData, isLoading, error: _error, } = (0, react_query_1.useQuery)({
        queryKey: ['/api/manager/buildings'],
        queryFn: async () => {
            const response = await (0, queryClient_1.apiRequest)('GET', '/api/manager/buildings');
            return await response.json();
        },
    });
    // Extract buildings array from the wrapped response
    const buildings = buildingsData?.buildings || [];
    // Filter buildings based on search
    const filteredBuildings = (0, react_1.useMemo)(() => {
        if (!Array.isArray(buildings)) {
            return [];
        }
        return buildings.filter((building) => building.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
            building.address.toLowerCase().includes(searchTerm.toLowerCase()));
    }, [buildings, searchTerm]);
    // Form for creating buildings
    const form = (0, react_hook_form_1.useForm)({
        resolver: (0, zod_1.zodResolver)(buildingFormSchema),
        defaultValues: {
            name: '',
            address: '',
            city: '',
            province: 'QC',
            postalCode: '',
            buildingType: 'condo',
            totalUnits: 1,
            organizationId: '',
        },
    });
    // Form for editing buildings
    const editForm = (0, react_hook_form_1.useForm)({
        resolver: (0, zod_1.zodResolver)(buildingFormSchema),
    });
    // Mutations
    const createBuildingMutation = (0, react_query_1.useMutation)({
        mutationFn: (data) => (0, queryClient_1.apiRequest)('POST', '/api/admin/buildings', data),
        onSuccess: () => {
            queryClient.invalidateQueries({ queryKey: ['/api/manager/buildings'] });
            setIsAddDialogOpen(false);
            form.reset();
            toast({
                title: 'Success',
                description: 'Building created successfully',
            });
        },
        onError: (error) => {
            toast({
                title: 'Error',
                description: error.message || 'Failed to create building',
                variant: 'destructive',
            });
        },
    });
    const updateBuildingMutation = (0, react_query_1.useMutation)({
        mutationFn: ({ id, data }) => (0, queryClient_1.apiRequest)('PUT', `/api/admin/buildings/${id}`, data),
        onSuccess: () => {
            queryClient.invalidateQueries({ queryKey: ['/api/manager/buildings'] });
            setIsEditDialogOpen(false);
            setEditingBuilding(null);
            editForm.reset();
            toast({
                title: 'Success',
                description: 'Building updated successfully',
            });
        },
        onError: (error) => {
            toast({
                title: 'Error',
                description: error.message || 'Failed to update building',
                variant: 'destructive',
            });
        },
    });
    const deleteBuildingMutation = (0, react_query_1.useMutation)({
        mutationFn: (buildingId) => (0, queryClient_1.apiRequest)('DELETE', `/api/admin/buildings/${buildingId}`),
        onSuccess: () => {
            queryClient.invalidateQueries({ queryKey: ['/api/manager/buildings'] });
            queryClient.invalidateQueries({ queryKey: ['/api/buildings'] });
            setDeletingBuilding(null);
            toast({
                title: 'Success',
                description: 'Building deleted successfully',
            });
        },
        onError: (error) => {
            toast({
                title: 'Error',
                description: error.message || 'Failed to delete building',
                variant: 'destructive',
            });
        },
    });
    // Event handlers
    const handleCreateBuilding = async (data) => {
        createBuildingMutation.mutate(data);
    };
    const handleEditBuilding = (building) => {
        setEditingBuilding(building);
        editForm.reset({
            name: building.name,
            address: building.address,
            city: building.city,
            province: building.province,
            postalCode: building.postalCode,
            buildingType: building.buildingType,
            totalUnits: building.totalUnits,
            organizationId: building.organizationId,
        });
        setIsEditDialogOpen(true);
    };
    const handleUpdateBuilding = async (data) => {
        if (editingBuilding) {
            updateBuildingMutation.mutate({ id: editingBuilding.id, data });
        }
    };
    const handleDeleteBuilding = (building) => {
        setDeletingBuilding(building);
    };
    const confirmDeleteBuilding = () => {
        if (deletingBuilding) {
            deleteBuildingMutation.mutate(deletingBuilding.id);
        }
    };
    if (isLoading) {
        return ((0, jsx_runtime_1.jsxs)("div", { className: 'flex-1 flex flex-col overflow-hidden', children: [(0, jsx_runtime_1.jsx)(header_1.Header, { title: 'Buildings', subtitle: 'Loading buildings...' }), (0, jsx_runtime_1.jsx)("div", { className: 'flex-1 overflow-auto p-6', children: (0, jsx_runtime_1.jsx)("div", { className: 'text-center py-8', children: "Loading buildings..." }) })] }));
    }
    if (_error) {
        return ((0, jsx_runtime_1.jsxs)("div", { className: 'flex-1 flex flex-col overflow-hidden', children: [(0, jsx_runtime_1.jsx)(header_1.Header, { title: 'Buildings', subtitle: 'Error loading buildings' }), (0, jsx_runtime_1.jsx)("div", { className: 'flex-1 overflow-auto p-6', children: (0, jsx_runtime_1.jsx)("div", { className: 'max-w-4xl mx-auto', children: (0, jsx_runtime_1.jsx)(card_1.Card, { children: (0, jsx_runtime_1.jsxs)(card_1.CardContent, { className: 'p-8 text-center', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Building, { className: 'w-16 h-16 mx-auto text-red-400 mb-4' }), (0, jsx_runtime_1.jsx)("h3", { className: 'text-lg font-semibold text-red-600 mb-2', children: "Error Loading Buildings" }), (0, jsx_runtime_1.jsx)("p", { className: 'text-red-500 mb-4', children: "Failed to load buildings data. Please try again later." }), (0, jsx_runtime_1.jsx)(badge_1.Badge, { variant: 'destructive', children: "Error" })] }) }) }) })] }));
    }
    return ((0, jsx_runtime_1.jsxs)("div", { className: 'flex-1 flex flex-col overflow-hidden', children: [(0, jsx_runtime_1.jsx)(header_1.Header, { title: t('buildings'), subtitle: `Manage ${filteredBuildings.length} building${filteredBuildings.length !== 1 ? 's' : ''} in your organization` }), (0, jsx_runtime_1.jsx)("div", { className: 'flex-1 overflow-auto p-6', children: (0, jsx_runtime_1.jsxs)("div", { className: 'max-w-6xl mx-auto space-y-6', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'flex flex-col sm:flex-row gap-4 items-center justify-between', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'relative w-full sm:w-96', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Search, { className: 'absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4' }), (0, jsx_runtime_1.jsx)(input_1.Input, { placeholder: t('searchBuildingsAddress'), value: searchTerm, onChange: (e) => setSearchTerm(e.target.value), className: 'pl-10' })] }), user?.role === 'admin' && ((0, jsx_runtime_1.jsxs)(button_1.Button, { onClick: () => setIsAddDialogOpen(true), children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Plus, { className: 'w-4 h-4 mr-2' }), t('addBuilding')] }))] }), filteredBuildings.length > 0 ? ((0, jsx_runtime_1.jsx)("div", { className: 'grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6', children: filteredBuildings.map((building) => ((0, jsx_runtime_1.jsx)(BuildingCard, { building: building, userRole: user?.role, onEdit: handleEditBuilding, onDelete: handleDeleteBuilding }, building.id))) })) : ((0, jsx_runtime_1.jsx)(card_1.Card, { children: (0, jsx_runtime_1.jsxs)(card_1.CardContent, { className: 'p-8 text-center', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Building, { className: 'w-16 h-16 mx-auto text-gray-400 mb-4' }), (0, jsx_runtime_1.jsx)("h3", { className: 'text-lg font-semibold text-gray-600 mb-2', children: "No Buildings Found" }), (0, jsx_runtime_1.jsx)("p", { className: 'text-gray-500 mb-4', children: user?.role === 'admin'
                                            ? 'No buildings are currently registered in your organizations.'
                                            : "You don't have access to any buildings yet." }), (0, jsx_runtime_1.jsx)(badge_1.Badge, { variant: 'secondary', children: "No Data" })] }) })), (0, jsx_runtime_1.jsx)(BuildingForm, { isOpen: isAddDialogOpen, onOpenChange: setIsAddDialogOpen, form: form, onSubmit: handleCreateBuilding, organizations: organizations, isSubmitting: createBuildingMutation.isPending, title: 'Add New Building', submitLabel: 'Create Building' }), (0, jsx_runtime_1.jsx)(BuildingForm, { isOpen: isEditDialogOpen, onOpenChange: setIsEditDialogOpen, form: editForm, onSubmit: handleUpdateBuilding, organizations: organizations, isSubmitting: updateBuildingMutation.isPending, title: 'Edit Building', submitLabel: 'Update Building' }), (0, jsx_runtime_1.jsx)(dialog_1.Dialog, { open: !!deletingBuilding, onOpenChange: () => setDeletingBuilding(null), children: (0, jsx_runtime_1.jsxs)(dialog_1.DialogContent, { children: [(0, jsx_runtime_1.jsxs)(dialog_1.DialogHeader, { children: [(0, jsx_runtime_1.jsx)(dialog_1.DialogTitle, { children: "Delete Building" }), (0, jsx_runtime_1.jsxs)(dialog_1.DialogDescription, { children: ["Are you sure you want to delete \"", deletingBuilding?.name, "\"? This action cannot be undone."] })] }), (0, jsx_runtime_1.jsxs)(dialog_1.DialogFooter, { children: [(0, jsx_runtime_1.jsx)(button_1.Button, { variant: 'outline', onClick: () => setDeletingBuilding(null), children: "Cancel" }), (0, jsx_runtime_1.jsx)(button_1.Button, { variant: 'destructive', onClick: confirmDeleteBuilding, disabled: deleteBuildingMutation.isPending, children: deleteBuildingMutation.isPending ? 'Deleting...' : 'Delete' })] })] }) })] }) })] }));
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9jbGllbnQvc3JjL3BhZ2VzL21hbmFnZXIvYnVpbGRpbmdzLnRzeCIsIm1hcHBpbmdzIjoiOztBQWtaQSw0QkE2VEM7O0FBL3NCRCxpQ0FBMEM7QUFDMUMsdURBQThFO0FBQzlFLCtDQUFpRztBQUNqRyxtREFBZ0Q7QUFDaEQsaURBQThDO0FBQzlDLGlEQUE4QztBQUc5QyxtREFNZ0M7QUFDaEMsbURBUWdDO0FBQ2hDLCtDQVE4QjtBQUM5QixpREFBNkM7QUFDN0MsdURBQW1EO0FBQ25ELHFEQUEwQztBQUMxQyxpREFBc0Q7QUFDdEQsNkJBQXdCO0FBQ3hCLG1EQUErQztBQUMvQywrQ0FXc0I7QUFDdEIsdURBQW9EO0FBQ3BELG1DQUE4QjtBQUU5Qiw2Q0FBNkM7QUFDN0MsTUFBTSxrQkFBa0IsR0FBRyxPQUFDLENBQUMsTUFBTSxDQUFDO0lBQ2xDLElBQUksRUFBRSxPQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSwyQkFBMkIsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsZUFBZSxDQUFDO0lBQzlFLE9BQU8sRUFBRSxPQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxxQkFBcUIsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsa0JBQWtCLENBQUM7SUFDOUUsSUFBSSxFQUFFLE9BQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLGtCQUFrQixDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxlQUFlLENBQUM7SUFDckUsUUFBUSxFQUFFLE9BQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLHNCQUFzQixDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxtQkFBbUIsQ0FBQztJQUNqRixVQUFVLEVBQUUsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUseUJBQXlCLENBQUMs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TCxHQUNGLElBQ0YsQ0FDUCxDQUFDO0FBQ0osQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvaG9tZS9ydW5uZXIvd29ya3NwYWNlL2NsaWVudC9zcmMvcGFnZXMvbWFuYWdlci9idWlsZGluZ3MudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlUXVlcnksIHVzZU11dGF0aW9uLCB1c2VRdWVyeUNsaWVudCB9IGZyb20gJ0B0YW5zdGFjay9yZWFjdC1xdWVyeSc7XG5pbXBvcnQgeyBDYXJkLCBDYXJkQ29udGVudCwgQ2FyZERlc2NyaXB0aW9uLCBDYXJkSGVhZGVyLCBDYXJkVGl0bGUgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvY2FyZCc7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJztcbmltcG9ydCB7IEJhZGdlIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2JhZGdlJztcbmltcG9ydCB7IElucHV0IH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2lucHV0JztcbmltcG9ydCB7IExhYmVsIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2xhYmVsJztcbmltcG9ydCB7IFRleHRhcmVhIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3RleHRhcmVhJztcbmltcG9ydCB7XG4gIFNlbGVjdCxcbiAgU2VsZWN0Q29udGVudCxcbiAgU2VsZWN0SXRlbSxcbiAgU2VsZWN0VHJpZ2dlcixcbiAgU2VsZWN0VmFsdWUsXG59IGZyb20gJ0AvY29tcG9uZW50cy91aS9zZWxlY3QnO1xuaW1wb3J0IHtcbiAgRGlhbG9nLFxuICBEaWFsb2dDb250ZW50LFxuICBEaWFsb2dEZXNjcmlwdGlvbixcbiAgRGlhbG9nRm9vdGVyLFxuICBEaWFsb2dIZWFkZXIsXG4gIERpYWxvZ1RpdGxlLFxuICBEaWFsb2dUcmlnZ2VyLFxufSBmcm9tICdAL2NvbXBvbmVudHMvdWkvZGlhbG9nJztcbmltcG9ydCB7XG4gIEZvcm0sXG4gIEZvcm1Db250cm9sLFxuICBGb3JtRGVzY3JpcHRpb24sXG4gIEZvcm1GaWVsZCxcbiAgRm9ybUl0ZW0sXG4gIEZvcm1MYWJlbCxcbiAgRm9ybU1lc3NhZ2UsXG59IGZyb20gJ0AvY29tcG9uZW50cy91aS9mb3JtJztcbmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSAnQC9ob29rcy91c2UtdG9hc3QnO1xuaW1wb3J0IHsgdXNlTGFuZ3VhZ2UgfSBmcm9tICdAL2hvb2tzL3VzZS1sYW5ndWFnZSc7XG5pbXBvcnQgeyB1c2VGb3JtIH0gZnJvbSAncmVhY3QtaG9vay1mb3JtJztcbmltcG9ydCB7IHpvZFJlc29sdmVyIH0gZnJvbSAnQGhvb2tmb3JtL3Jlc29sdmVycy96b2QnO1xuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5pbXBvcnQgeyBhcGlSZXF1ZXN0IH0gZnJvbSAnQC9saWIvcXVlcnlDbGllbnQnO1xuaW1wb3J0IHtcbiAgQnVpbGRpbmcsXG4gIFNlYXJjaCxcbiAgUGx1cyxcbiAgRWRpdCxcbiAgVHJhc2gyLFxuICBNYXBQaW4sXG4gIFBob25lLFxuICBNYWlsLFxuICBDYWxlbmRhcixcbiAgVXNlcnMsXG59IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5pbXBvcnQgeyBIZWFkZXIgfSBmcm9tICdAL2NvbXBvbmVudHMvbGF5b3V0L2hlYWRlcic7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAnd291dGVyJztcblxuLy8gRm9ybSBzY2hlbWEgZm9yIGNyZWF0aW5nL2VkaXRpbmcgYnVpbGRpbmdzXG5jb25zdCBidWlsZGluZ0Zvcm1TY2hlbWEgPSB6Lm9iamVjdCh7XG4gIG5hbWU6IHouc3RyaW5nKCkubWluKDEsICdCdWlsZGluZyBuYW1lIGlzIHJlcXVpcmVkJykubWF4KDI1NSwgJ05hbWUgdG9vIGxvbmcnKSxcbiAgYWRkcmVzczogei5zdHJpbmcoKS5taW4oMSwgJ0FkZHJlc3MgaXMgcmVxdWlyZWQnKS5tYXgoNTAwLCAnQWRkcmVzcyB0b28gbG9uZycpLFxuICBjaXR5OiB6LnN0cmluZygpLm1pbigxLCAnQ2l0eSBpcyByZXF1aXJlZCcpLm1heCgxMDAsICdDaXR5IHRvbyBsb25nJyksXG4gIHByb3ZpbmNlOiB6LnN0cmluZygpLm1pbigxLCAnUHJvdmluY2UgaXMgcmVxdWlyZWQnKS5tYXgoMTAwLCAnUHJvdmluY2UgdG9vIGxvbmcnKSxcbiAgcG9zdGFsQ29kZTogei5zdHJpbmcoKS5taW4oMSwgJ1Bvc3RhbCBjb2RlIGlzIHJlcXVpcmVkJykubWF4KDIwLCAnUG9zdGFsIGNvZGUgdG9vIGxvbmcnKSxcbiAgYnVpbGRpbmdUeXBlOiB6LmVudW0oWydjb25kbycsICdhcGFydG1lbnQnLCAndG93bmhvdXNlJywgJ2NvbW1lcmNpYWwnLCAnbWl4ZWRfdXNlJywgJ290aGVyJ10pLFxuICB0b3RhbFVuaXRzOiB6XG4gICAgLm51bWJlcigpXG4gICAgLmludCgpXG4gICAgLm1pbigxLCAnTXVzdCBoYXZlIGF0IGxlYXN0IDEgdW5pdCcpXG4gICAgLm1heCgzMDAsICdNYXhpbXVtIDMwMCB1bml0cyBhbGxvd2VkJyksXG4gIG9yZ2FuaXphdGlvbklkOiB6LnN0cmluZygpLm1pbigxLCAnT3JnYW5pemF0aW9uIGlzIHJlcXVpcmVkJyksXG59KTtcblxuLyoqXG4gKlxuICovXG50eXBlIEJ1aWxkaW5nRm9ybURhdGEgPSB6LmluZmVyPHR5cGVvZiBidWlsZGluZ0Zvcm1TY2hlbWE+O1xuXG4vKipcbiAqXG4gKi9cbmludGVyZmFjZSBCdWlsZGluZ0RhdGEge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIGFkZHJlc3M6IHN0cmluZztcbiAgY2l0eTogc3RyaW5nO1xuICBwcm92aW5jZTogc3RyaW5nO1xuICBwb3N0YWxDb2RlOiBzdHJpbmc7XG4gIGJ1aWxkaW5nVHlwZTogc3RyaW5nO1xuICB0b3RhbFVuaXRzOiBudW1iZXI7XG4gIG9yZ2FuaXphdGlvbklkOiBzdHJpbmc7XG4gIGlzQWN0aXZlOiBib29sZWFuO1xuICBjcmVhdGVkQXQ6IERhdGU7XG4gIHVwZGF0ZWRBdDogRGF0ZTtcbn1cblxuLyoqXG4gKlxuICovXG5pbnRlcmZhY2UgQnVpbGRpbmdDYXJkUHJvcHMge1xuICBidWlsZGluZzogQnVpbGRpbmdEYXRhO1xuICB1c2VyUm9sZT86IHN0cmluZztcbiAgb25FZGl0OiAoYnVpbGRpbmc6IEJ1aWxkaW5nRGF0YSkgPT4gdm9pZDtcbiAgb25EZWxldGU6IChidWlsZGluZzogQnVpbGRpbmdEYXRhKSA9PiB2b2lkO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0gcm9vdDBcbiAqIEBwYXJhbSByb290MC5idWlsZGluZ1xuICogQHBhcmFtIHJvb3QwLnVzZXJSb2xlXG4gKiBAcGFyYW0gcm9vdDAub25FZGl0XG4gKiBAcGFyYW0gcm9vdDAub25EZWxldGVcbiAqL1xuZnVuY3Rpb24gQnVpbGRpbmdDYXJkKHsgYnVpbGRpbmcsIHVzZXJSb2xlLCBvbkVkaXQsIG9uRGVsZXRlIH06IEJ1aWxkaW5nQ2FyZFByb3BzKSB7XG4gIGNvbnN0IGlzQWRtaW4gPSB1c2VyUm9sZSA9PT0gJ2FkbWluJztcbiAgY29uc3QgY2FuRWRpdCA9IFsnYWRtaW4nLCAnbWFuYWdlciddLmluY2x1ZGVzKHVzZXJSb2xlIHx8ICcnKTtcblxuICByZXR1cm4gKFxuICAgIDxDYXJkIGNsYXNzTmFtZT0naC1mdWxsJz5cbiAgICAgIDxDYXJkSGVhZGVyPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBpdGVtcy1zdGFydCBqdXN0aWZ5LWJldHdlZW4nPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTInPlxuICAgICAgICAgICAgPEJ1aWxkaW5nIGNsYXNzTmFtZT0naC01IHctNSB0ZXh0LWJsdWUtNjAwJyAvPlxuICAgICAgICAgICAgPENhcmRUaXRsZSBjbGFzc05hbWU9J3RleHQtbGcgdHJ1bmNhdGUnPntidWlsZGluZy5uYW1lfTwvQ2FyZFRpdGxlPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHtjYW5FZGl0ICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGdhcC0xJz5cbiAgICAgICAgICAgICAgPEJ1dHRvbiBzaXplPSdzbScgdmFyaWFudD0nZ2hvc3QnIG9uQ2xpY2s9eygpID0+IG9uRWRpdChidWlsZGluZyl9PlxuICAgICAgICAgICAgICAgIDxFZGl0IGNsYXNzTmFtZT0naC0zIHctMycgLz5cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIHtpc0FkbWluICYmIChcbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICBzaXplPSdzbSdcbiAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9J2dob3N0J1xuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gb25EZWxldGUoYnVpbGRpbmcpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSd0ZXh0LXJlZC02MDAgaG92ZXI6dGV4dC1yZWQtNzAwJ1xuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxUcmFzaDIgY2xhc3NOYW1lPSdoLTMgdy0zJyAvPlxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L0NhcmRIZWFkZXI+XG4gICAgICA8Q2FyZENvbnRlbnQ+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzcGFjZS15LTInPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLWNlbnRlciB0ZXh0LXNtIHRleHQtZ3JheS02MDAnPlxuICAgICAgICAgICAgPE1hcFBpbiBjbGFzc05hbWU9J2gtNCB3LTQgbXItMicgLz5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0ndHJ1bmNhdGUnPntidWlsZGluZy5hZGRyZXNzfTwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBpdGVtcy1jZW50ZXIgdGV4dC1zbSB0ZXh0LWdyYXktNjAwJz5cbiAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICB7YnVpbGRpbmcuY2l0eX0sIHtidWlsZGluZy5wcm92aW5jZX0ge2J1aWxkaW5nLnBvc3RhbENvZGV9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBwdC0yJz5cbiAgICAgICAgICAgIDxCYWRnZSB2YXJpYW50PSdvdXRsaW5lJz57YnVpbGRpbmcudG90YWxVbml0c30gdW5pdHM8L0JhZGdlPlxuICAgICAgICAgICAgPEJhZGdlIHZhcmlhbnQ9J3NlY29uZGFyeSc+e2J1aWxkaW5nLmJ1aWxkaW5nVHlwZX08L0JhZGdlPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwdC0yIGZsZXggZ2FwLTInPlxuICAgICAgICAgICAgPExpbmsgaHJlZj17YC9tYW5hZ2VyL2J1aWxkaW5ncy8ke2J1aWxkaW5nLmlkfS9kb2N1bWVudHNgfT5cbiAgICAgICAgICAgICAgPEJ1dHRvbiBzaXplPSdzbScgdmFyaWFudD0nb3V0bGluZScgY2xhc3NOYW1lPSdmbGV4LTEnPlxuICAgICAgICAgICAgICAgIHt0KCdidWlsZGluZ0RvY3VtZW50c0J1dHRvbicpfVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgIDxMaW5rIGhyZWY9e2AvbWFuYWdlci9yZXNpZGVuY2VzP2J1aWxkaW5nSWQ9JHtidWlsZGluZy5pZH1gfT5cbiAgICAgICAgICAgICAgPEJ1dHRvbiBzaXplPSdzbScgdmFyaWFudD0nb3V0bGluZScgY2xhc3NOYW1lPSdmbGV4LTEnPlxuICAgICAgICAgICAgICAgIFJlc2lkZW5jZXNcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9DYXJkQ29udGVudD5cbiAgICA8L0NhcmQ+XG4gICk7XG59XG5cbi8qKlxuICpcbiAqL1xuaW50ZXJmYWNlIEJ1aWxkaW5nRm9ybVByb3BzIHtcbiAgaXNPcGVuOiBib29sZWFuO1xuICBvbk9wZW5DaGFuZ2U6IChvcGVuOiBib29sZWFuKSA9PiB2b2lkO1xuICBmb3JtOiBhbnk7XG4gIG9uU3VibWl0OiAoZGF0YTogQnVpbGRpbmdGb3JtRGF0YSkgPT4gdm9pZDtcbiAgb3JnYW5pemF0aW9uczogYW55W107XG4gIGlzU3VibWl0dGluZzogYm9vbGVhbjtcbiAgdGl0bGU6IHN0cmluZztcbiAgc3VibWl0TGFiZWw6IHN0cmluZztcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHJvb3QwXG4gKiBAcGFyYW0gcm9vdDAuaXNPcGVuXG4gKiBAcGFyYW0gcm9vdDAub25PcGVuQ2hhbmdlXG4gKiBAcGFyYW0gcm9vdDAuZm9ybVxuICogQHBhcmFtIHJvb3QwLm9uU3VibWl0XG4gKiBAcGFyYW0gcm9vdDAub3JnYW5pemF0aW9uc1xuICogQHBhcmFtIHJvb3QwLmlzU3VibWl0dGluZ1xuICogQHBhcmFtIHJvb3QwLnRpdGxlXG4gKiBAcGFyYW0gcm9vdDAuc3VibWl0TGFiZWxcbiAqL1xuZnVuY3Rpb24gQnVpbGRpbmdGb3JtKHtcbiAgaXNPcGVuLFxuICBvbk9wZW5DaGFuZ2UsXG4gIGZvcm0sXG4gIG9uU3VibWl0LFxuICBvcmdhbml6YXRpb25zLFxuICBpc1N1Ym1pdHRpbmcsXG4gIHRpdGxlLFxuICBzdWJtaXRMYWJlbCxcbn06IEJ1aWxkaW5nRm9ybVByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPERpYWxvZyBvcGVuPXtpc09wZW59IG9uT3BlbkNoYW5nZT17b25PcGVuQ2hhbmdlfT5cbiAgICAgIDxEaWFsb2dDb250ZW50IGNsYXNzTmFtZT0nbWF4LXctMnhsJz5cbiAgICAgICAgPERpYWxvZ0hlYWRlcj5cbiAgICAgICAgICA8RGlhbG9nVGl0bGU+e3RpdGxlfTwvRGlhbG9nVGl0bGU+XG4gICAgICAgICAgPERpYWxvZ0Rlc2NyaXB0aW9uPlxuICAgICAgICAgICAgRmlsbCBpbiB0aGUgYnVpbGRpbmcgaW5mb3JtYXRpb24gYmVsb3cuIEFsbCBmaWVsZHMgYXJlIHJlcXVpcmVkLlxuICAgICAgICAgIDwvRGlhbG9nRGVzY3JpcHRpb24+XG4gICAgICAgIDwvRGlhbG9nSGVhZGVyPlxuXG4gICAgICAgIDxGb3JtIHsuLi5mb3JtfT5cbiAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17Zm9ybS5oYW5kbGVTdWJtaXQob25TdWJtaXQpfSBjbGFzc05hbWU9J3NwYWNlLXktNCc+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBnYXAtNCc+XG4gICAgICAgICAgICAgIDxGb3JtRmllbGRcbiAgICAgICAgICAgICAgICBjb250cm9sPXtmb3JtLmNvbnRyb2x9XG4gICAgICAgICAgICAgICAgbmFtZT0nbmFtZSdcbiAgICAgICAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+IChcbiAgICAgICAgICAgICAgICAgIDxGb3JtSXRlbSBjbGFzc05hbWU9J21kOmNvbC1zcGFuLTInPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsPkJ1aWxkaW5nIE5hbWU8L0Zvcm1MYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBwbGFjZWhvbGRlcj0nRW50ZXIgYnVpbGRpbmcgbmFtZScgey4uLmZpZWxkfSAvPlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybU1lc3NhZ2UgLz5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybUl0ZW0+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgICA8Rm9ybUZpZWxkXG4gICAgICAgICAgICAgICAgY29udHJvbD17Zm9ybS5jb250cm9sfVxuICAgICAgICAgICAgICAgIG5hbWU9J2FkZHJlc3MnXG4gICAgICAgICAgICAgICAgcmVuZGVyPXsoeyBmaWVsZCB9KSA9PiAoXG4gICAgICAgICAgICAgICAgICA8Rm9ybUl0ZW0gY2xhc3NOYW1lPSdtZDpjb2wtc3Bhbi0yJz5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1MYWJlbD5BZGRyZXNzPC9Gb3JtTGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQgcGxhY2Vob2xkZXI9J0VudGVyIHN0cmVldCBhZGRyZXNzJyB7Li4uZmllbGR9IC8+XG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPlxuICAgICAgICAgICAgICAgICAgPC9Gb3JtSXRlbT5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgIDxGb3JtRmllbGRcbiAgICAgICAgICAgICAgICBjb250cm9sPXtmb3JtLmNvbnRyb2x9XG4gICAgICAgICAgICAgICAgbmFtZT0nY2l0eSdcbiAgICAgICAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+IChcbiAgICAgICAgICAgICAgICAgIDxGb3JtSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1MYWJlbD5DaXR5PC9Gb3JtTGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQgcGxhY2Vob2xkZXI9J0VudGVyIGNpdHknIHsuLi5maWVsZH0gLz5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1NZXNzYWdlIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgICAgPEZvcm1GaWVsZFxuICAgICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH1cbiAgICAgICAgICAgICAgICBuYW1lPSdwcm92aW5jZSdcbiAgICAgICAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+IChcbiAgICAgICAgICAgICAgICAgIDxGb3JtSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1MYWJlbD5Qcm92aW5jZTwvRm9ybUxhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8U2VsZWN0IG9uVmFsdWVDaGFuZ2U9e2ZpZWxkLm9uQ2hhbmdlfSB2YWx1ZT17ZmllbGQudmFsdWV9PlxuICAgICAgICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RUcmlnZ2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0VmFsdWUgcGxhY2Vob2xkZXI9J1NlbGVjdCBwcm92aW5jZScgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0VHJpZ2dlcj5cbiAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RDb250ZW50PlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9J1FDJz5RdWViZWM8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT0nT04nPk9udGFyaW88L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT0nQkMnPkJyaXRpc2ggQ29sdW1iaWE8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT0nQUInPkFsYmVydGE8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT0nTUInPk1hbml0b2JhPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9J1NLJz5TYXNrYXRjaGV3YW48L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT0nTlMnPk5vdmEgU2NvdGlhPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9J05CJz5OZXcgQnJ1bnN3aWNrPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9J1BFJz5QcmluY2UgRWR3YXJkIElzbGFuZDwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPSdOTCc+TmV3Zm91bmRsYW5kIGFuZCBMYWJyYWRvcjwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPSdOVCc+Tm9ydGh3ZXN0IFRlcnJpdG9yaWVzPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9J05VJz5OdW5hdnV0PC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9J1lUJz5ZdWtvbjwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybU1lc3NhZ2UgLz5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybUl0ZW0+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgICA8Rm9ybUZpZWxkXG4gICAgICAgICAgICAgICAgY29udHJvbD17Zm9ybS5jb250cm9sfVxuICAgICAgICAgICAgICAgIG5hbWU9J3Bvc3RhbENvZGUnXG4gICAgICAgICAgICAgICAgcmVuZGVyPXsoeyBmaWVsZCB9KSA9PiAoXG4gICAgICAgICAgICAgICAgICA8Rm9ybUl0ZW0+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtTGFiZWw+UG9zdGFsIENvZGU8L0Zvcm1MYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBwbGFjZWhvbGRlcj0nSDFIIDFIMScgey4uLmZpZWxkfSAvPlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybU1lc3NhZ2UgLz5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybUl0ZW0+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgICA8Rm9ybUZpZWxkXG4gICAgICAgICAgICAgICAgY29udHJvbD17Zm9ybS5jb250cm9sfVxuICAgICAgICAgICAgICAgIG5hbWU9J2J1aWxkaW5nVHlwZSdcbiAgICAgICAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+IChcbiAgICAgICAgICAgICAgICAgIDxGb3JtSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1MYWJlbD5CdWlsZGluZyBUeXBlPC9Gb3JtTGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxTZWxlY3Qgb25WYWx1ZUNoYW5nZT17ZmllbGQub25DaGFuZ2V9IHZhbHVlPXtmaWVsZC52YWx1ZX0+XG4gICAgICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFRyaWdnZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RWYWx1ZSBwbGFjZWhvbGRlcj0nU2VsZWN0IGJ1aWxkaW5nIHR5cGUnIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdFRyaWdnZXI+XG4gICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPSdjb25kbyc+Q29uZG9taW5pdW08L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT0nYXBhcnRtZW50Jz5BcGFydG1lbnQ8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT0ndG93bmhvdXNlJz5Ub3duaG91c2U8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT0nY29tbWVyY2lhbCc+Q29tbWVyY2lhbDwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPSdtaXhlZF91c2UnPk1peGVkIFVzZTwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPSdvdGhlcic+T3RoZXI8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RDb250ZW50PlxuICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1NZXNzYWdlIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgICAgPEZvcm1GaWVsZFxuICAgICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH1cbiAgICAgICAgICAgICAgICBuYW1lPSd0b3RhbFVuaXRzJ1xuICAgICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKFxuICAgICAgICAgICAgICAgICAgPEZvcm1JdGVtPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsPlRvdGFsIFVuaXRzPC9Gb3JtTGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9J251bWJlcidcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPSdFbnRlciB0b3RhbCB1bml0cydcbiAgICAgICAgICAgICAgICAgICAgICAgIHsuLi5maWVsZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gZmllbGQub25DaGFuZ2UocGFyc2VJbnQoZS50YXJnZXQudmFsdWUpIHx8IDApfVxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPlxuICAgICAgICAgICAgICAgICAgPC9Gb3JtSXRlbT5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgIDxGb3JtRmllbGRcbiAgICAgICAgICAgICAgICBjb250cm9sPXtmb3JtLmNvbnRyb2x9XG4gICAgICAgICAgICAgICAgbmFtZT0nb3JnYW5pemF0aW9uSWQnXG4gICAgICAgICAgICAgICAgcmVuZGVyPXsoeyBmaWVsZCB9KSA9PiAoXG4gICAgICAgICAgICAgICAgICA8Rm9ybUl0ZW0+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtTGFiZWw+T3JnYW5pemF0aW9uPC9Gb3JtTGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxTZWxlY3Qgb25WYWx1ZUNoYW5nZT17ZmllbGQub25DaGFuZ2V9IHZhbHVlPXtmaWVsZC52YWx1ZX0+XG4gICAgICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFRyaWdnZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RWYWx1ZSBwbGFjZWhvbGRlcj0nU2VsZWN0IG9yZ2FuaXphdGlvbicgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0VHJpZ2dlcj5cbiAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RDb250ZW50PlxuICAgICAgICAgICAgICAgICAgICAgICAge29yZ2FuaXphdGlvbnMubWFwKChvcmcpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0ga2V5PXtvcmcuaWR9IHZhbHVlPXtvcmcuaWR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtvcmcubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RDb250ZW50PlxuICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1NZXNzYWdlIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPERpYWxvZ0Zvb3Rlcj5cbiAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPSdidXR0b24nIHZhcmlhbnQ9J291dGxpbmUnIG9uQ2xpY2s9eygpID0+IG9uT3BlbkNoYW5nZShmYWxzZSl9PlxuICAgICAgICAgICAgICAgIENhbmNlbFxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPSdzdWJtaXQnIGRpc2FibGVkPXtpc1N1Ym1pdHRpbmd9PlxuICAgICAgICAgICAgICAgIHtpc1N1Ym1pdHRpbmcgPyAnU2F2aW5nLi4uJyA6IHN1Ym1pdExhYmVsfVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvRGlhbG9nRm9vdGVyPlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9Gb3JtPlxuICAgICAgPC9EaWFsb2dDb250ZW50PlxuICAgIDwvRGlhbG9nPlxuICApO1xufVxuXG4vKipcbiAqXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEJ1aWxkaW5ncygpIHtcbiAgY29uc3QgeyB0b2FzdCB9ID0gdXNlVG9hc3QoKTtcbiAgY29uc3QgcXVlcnlDbGllbnQgPSB1c2VRdWVyeUNsaWVudCgpO1xuICBjb25zdCB7IHQgfSA9IHVzZUxhbmd1YWdlKCk7XG5cbiAgLy8gU3RhdGUgdmFyaWFibGVzXG4gIGNvbnN0IFtzZWFyY2hUZXJtLCBzZXRTZWFyY2hUZXJtXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2lzQWRkRGlhbG9nT3Blbiwgc2V0SXNBZGREaWFsb2dPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lzRWRpdERpYWxvZ09wZW4sIHNldElzRWRpdERpYWxvZ09wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZWRpdGluZ0J1aWxkaW5nLCBzZXRFZGl0aW5nQnVpbGRpbmddID0gdXNlU3RhdGU8QnVpbGRpbmdEYXRhIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtkZWxldGluZ0J1aWxkaW5nLCBzZXREZWxldGluZ0J1aWxkaW5nXSA9IHVzZVN0YXRlPEJ1aWxkaW5nRGF0YSB8IG51bGw+KG51bGwpO1xuXG4gIC8vIEdldCBjdXJyZW50IHVzZXJcbiAgY29uc3QgeyBkYXRhOiB1c2VyIH0gPSB1c2VRdWVyeSh7XG4gICAgcXVlcnlLZXk6IFsnL2FwaS9hdXRoL3VzZXInXSxcbiAgICBxdWVyeUZuOiAoKSA9PiBhcGlSZXF1ZXN0KCdHRVQnLCAnL2FwaS9hdXRoL3VzZXInKSBhcyBQcm9taXNlPGFueT4sXG4gIH0pO1xuXG4gIC8vIEZldGNoIG9yZ2FuaXphdGlvbnMgZm9yIGZvcm1cbiAgY29uc3QgeyBkYXRhOiBvcmdhbml6YXRpb25zID0gW10gfSA9IHVzZVF1ZXJ5KHtcbiAgICBxdWVyeUtleTogWycvYXBpL29yZ2FuaXphdGlvbnMnXSxcbiAgICBxdWVyeUZuOiBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaVJlcXVlc3QoJ0dFVCcsICcvYXBpL29yZ2FuaXphdGlvbnMnKTtcbiAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgfSxcbiAgfSk7XG5cbiAgLy8gRmV0Y2ggYnVpbGRpbmdzIHVzaW5nIHRoZSB3b3JraW5nIG1hbmFnZXIgZW5kcG9pbnRcbiAgY29uc3Qge1xuICAgIGRhdGE6IGJ1aWxkaW5nc0RhdGEsXG4gICAgaXNMb2FkaW5nLFxuICAgIGVycm9yOiBfZXJyb3IsXG4gIH0gPSB1c2VRdWVyeSh7XG4gICAgcXVlcnlLZXk6IFsnL2FwaS9tYW5hZ2VyL2J1aWxkaW5ncyddLFxuICAgIHF1ZXJ5Rm46IGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpUmVxdWVzdCgnR0VUJywgJy9hcGkvbWFuYWdlci9idWlsZGluZ3MnKTtcbiAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgfSxcbiAgfSk7XG5cbiAgLy8gRXh0cmFjdCBidWlsZGluZ3MgYXJyYXkgZnJvbSB0aGUgd3JhcHBlZCByZXNwb25zZVxuICBjb25zdCBidWlsZGluZ3MgPSAoYnVpbGRpbmdzRGF0YSBhcyBhbnkpPy5idWlsZGluZ3MgfHwgW107XG5cbiAgLy8gRmlsdGVyIGJ1aWxkaW5ncyBiYXNlZCBvbiBzZWFyY2hcbiAgY29uc3QgZmlsdGVyZWRCdWlsZGluZ3MgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYnVpbGRpbmdzKSkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICByZXR1cm4gYnVpbGRpbmdzLmZpbHRlcihcbiAgICAgIChidWlsZGluZykgPT5cbiAgICAgICAgYnVpbGRpbmcubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaFRlcm0udG9Mb3dlckNhc2UoKSkgfHxcbiAgICAgICAgYnVpbGRpbmcuYWRkcmVzcy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaFRlcm0udG9Mb3dlckNhc2UoKSlcbiAgICApO1xuICB9LCBbYnVpbGRpbmdzLCBzZWFyY2hUZXJtXSk7XG5cbiAgLy8gRm9ybSBmb3IgY3JlYXRpbmcgYnVpbGRpbmdzXG4gIGNvbnN0IGZvcm0gPSB1c2VGb3JtPEJ1aWxkaW5nRm9ybURhdGE+KHtcbiAgICByZXNvbHZlcjogem9kUmVzb2x2ZXIoYnVpbGRpbmdGb3JtU2NoZW1hKSxcbiAgICBkZWZhdWx0VmFsdWVzOiB7XG4gICAgICBuYW1lOiAnJyxcbiAgICAgIGFkZHJlc3M6ICcnLFxuICAgICAgY2l0eTogJycsXG4gICAgICBwcm92aW5jZTogJ1FDJyxcbiAgICAgIHBvc3RhbENvZGU6ICcnLFxuICAgICAgYnVpbGRpbmdUeXBlOiAnY29uZG8nLFxuICAgICAgdG90YWxVbml0czogMSxcbiAgICAgIG9yZ2FuaXphdGlvbklkOiAnJyxcbiAgICB9LFxuICB9KTtcblxuICAvLyBGb3JtIGZvciBlZGl0aW5nIGJ1aWxkaW5nc1xuICBjb25zdCBlZGl0Rm9ybSA9IHVzZUZvcm08QnVpbGRpbmdGb3JtRGF0YT4oe1xuICAgIHJlc29sdmVyOiB6b2RSZXNvbHZlcihidWlsZGluZ0Zvcm1TY2hlbWEpLFxuICB9KTtcblxuICAvLyBNdXRhdGlvbnNcbiAgY29uc3QgY3JlYXRlQnVpbGRpbmdNdXRhdGlvbiA9IHVzZU11dGF0aW9uKHtcbiAgICBtdXRhdGlvbkZuOiAoZGF0YTogQnVpbGRpbmdGb3JtRGF0YSkgPT4gYXBpUmVxdWVzdCgnUE9TVCcsICcvYXBpL2FkbWluL2J1aWxkaW5ncycsIGRhdGEpLFxuICAgIG9uU3VjY2VzczogKCkgPT4ge1xuICAgICAgcXVlcnlDbGllbnQuaW52YWxpZGF0ZVF1ZXJpZXMoeyBxdWVyeUtleTogWycvYXBpL21hbmFnZXIvYnVpbGRpbmdzJ10gfSk7XG4gICAgICBzZXRJc0FkZERpYWxvZ09wZW4oZmFsc2UpO1xuICAgICAgZm9ybS5yZXNldCgpO1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ1N1Y2Nlc3MnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0J1aWxkaW5nIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5JyxcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgb25FcnJvcjogKGVycm9yOiBhbnkpID0+IHtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6ICdFcnJvcicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gY3JlYXRlIGJ1aWxkaW5nJyxcbiAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJyxcbiAgICAgIH0pO1xuICAgIH0sXG4gIH0pO1xuXG4gIGNvbnN0IHVwZGF0ZUJ1aWxkaW5nTXV0YXRpb24gPSB1c2VNdXRhdGlvbih7XG4gICAgbXV0YXRpb25GbjogKHsgaWQsIGRhdGEgfTogeyBpZDogc3RyaW5nOyBkYXRhOiBCdWlsZGluZ0Zvcm1EYXRhIH0pID0+XG4gICAgICBhcGlSZXF1ZXN0KCdQVVQnLCBgL2FwaS9hZG1pbi9idWlsZGluZ3MvJHtpZH1gLCBkYXRhKSxcbiAgICBvblN1Y2Nlc3M6ICgpID0+IHtcbiAgICAgIHF1ZXJ5Q2xpZW50LmludmFsaWRhdGVRdWVyaWVzKHsgcXVlcnlLZXk6IFsnL2FwaS9tYW5hZ2VyL2J1aWxkaW5ncyddIH0pO1xuICAgICAgc2V0SXNFZGl0RGlhbG9nT3BlbihmYWxzZSk7XG4gICAgICBzZXRFZGl0aW5nQnVpbGRpbmcobnVsbCk7XG4gICAgICBlZGl0Rm9ybS5yZXNldCgpO1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ1N1Y2Nlc3MnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0J1aWxkaW5nIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5JyxcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgb25FcnJvcjogKGVycm9yOiBhbnkpID0+IHtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6ICdFcnJvcicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gdXBkYXRlIGJ1aWxkaW5nJyxcbiAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJyxcbiAgICAgIH0pO1xuICAgIH0sXG4gIH0pO1xuXG4gIGNvbnN0IGRlbGV0ZUJ1aWxkaW5nTXV0YXRpb24gPSB1c2VNdXRhdGlvbih7XG4gICAgbXV0YXRpb25GbjogKGJ1aWxkaW5nSWQ6IHN0cmluZykgPT4gYXBpUmVxdWVzdCgnREVMRVRFJywgYC9hcGkvYWRtaW4vYnVpbGRpbmdzLyR7YnVpbGRpbmdJZH1gKSxcbiAgICBvblN1Y2Nlc3M6ICgpID0+IHtcbiAgICAgIHF1ZXJ5Q2xpZW50LmludmFsaWRhdGVRdWVyaWVzKHsgcXVlcnlLZXk6IFsnL2FwaS9tYW5hZ2VyL2J1aWxkaW5ncyddIH0pO1xuICAgICAgcXVlcnlDbGllbnQuaW52YWxpZGF0ZVF1ZXJpZXMoeyBxdWVyeUtleTogWycvYXBpL2J1aWxkaW5ncyddIH0pO1xuICAgICAgc2V0RGVsZXRpbmdCdWlsZGluZyhudWxsKTtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6ICdTdWNjZXNzJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdCdWlsZGluZyBkZWxldGVkIHN1Y2Nlc3NmdWxseScsXG4gICAgICB9KTtcbiAgICB9LFxuICAgIG9uRXJyb3I6IChlcnJvcjogYW55KSA9PiB7XG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiAnRXJyb3InLFxuICAgICAgICBkZXNjcmlwdGlvbjogZXJyb3IubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGRlbGV0ZSBidWlsZGluZycsXG4gICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsXG4gICAgICB9KTtcbiAgICB9LFxuICB9KTtcblxuICAvLyBFdmVudCBoYW5kbGVyc1xuICBjb25zdCBoYW5kbGVDcmVhdGVCdWlsZGluZyA9IGFzeW5jIChkYXRhOiBCdWlsZGluZ0Zvcm1EYXRhKSA9PiB7XG4gICAgY3JlYXRlQnVpbGRpbmdNdXRhdGlvbi5tdXRhdGUoZGF0YSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRWRpdEJ1aWxkaW5nID0gKGJ1aWxkaW5nOiBCdWlsZGluZ0RhdGEpID0+IHtcbiAgICBzZXRFZGl0aW5nQnVpbGRpbmcoYnVpbGRpbmcpO1xuICAgIGVkaXRGb3JtLnJlc2V0KHtcbiAgICAgIG5hbWU6IGJ1aWxkaW5nLm5hbWUsXG4gICAgICBhZGRyZXNzOiBidWlsZGluZy5hZGRyZXNzLFxuICAgICAgY2l0eTogYnVpbGRpbmcuY2l0eSxcbiAgICAgIHByb3ZpbmNlOiBidWlsZGluZy5wcm92aW5jZSxcbiAgICAgIHBvc3RhbENvZGU6IGJ1aWxkaW5nLnBvc3RhbENvZGUsXG4gICAgICBidWlsZGluZ1R5cGU6IGJ1aWxkaW5nLmJ1aWxkaW5nVHlwZSBhcyBhbnksXG4gICAgICB0b3RhbFVuaXRzOiBidWlsZGluZy50b3RhbFVuaXRzLFxuICAgICAgb3JnYW5pemF0aW9uSWQ6IGJ1aWxkaW5nLm9yZ2FuaXphdGlvbklkLFxuICAgIH0pO1xuICAgIHNldElzRWRpdERpYWxvZ09wZW4odHJ1ZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlVXBkYXRlQnVpbGRpbmcgPSBhc3luYyAoZGF0YTogQnVpbGRpbmdGb3JtRGF0YSkgPT4ge1xuICAgIGlmIChlZGl0aW5nQnVpbGRpbmcpIHtcbiAgICAgIHVwZGF0ZUJ1aWxkaW5nTXV0YXRpb24ubXV0YXRlKHsgaWQ6IGVkaXRpbmdCdWlsZGluZy5pZCwgZGF0YSB9KTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRGVsZXRlQnVpbGRpbmcgPSAoYnVpbGRpbmc6IEJ1aWxkaW5nRGF0YSkgPT4ge1xuICAgIHNldERlbGV0aW5nQnVpbGRpbmcoYnVpbGRpbmcpO1xuICB9O1xuXG4gIGNvbnN0IGNvbmZpcm1EZWxldGVCdWlsZGluZyA9ICgpID0+IHtcbiAgICBpZiAoZGVsZXRpbmdCdWlsZGluZykge1xuICAgICAgZGVsZXRlQnVpbGRpbmdNdXRhdGlvbi5tdXRhdGUoZGVsZXRpbmdCdWlsZGluZy5pZCk7XG4gICAgfVxuICB9O1xuXG4gIGlmIChpc0xvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXgtMSBmbGV4IGZsZXgtY29sIG92ZXJmbG93LWhpZGRlbic+XG4gICAgICAgIDxIZWFkZXIgdGl0bGU9J0J1aWxkaW5ncycgc3VidGl0bGU9J0xvYWRpbmcgYnVpbGRpbmdzLi4uJyAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleC0xIG92ZXJmbG93LWF1dG8gcC02Jz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndGV4dC1jZW50ZXIgcHktOCc+TG9hZGluZyBidWlsZGluZ3MuLi48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgaWYgKF9lcnJvcikge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleC0xIGZsZXggZmxleC1jb2wgb3ZlcmZsb3ctaGlkZGVuJz5cbiAgICAgICAgPEhlYWRlciB0aXRsZT0nQnVpbGRpbmdzJyBzdWJ0aXRsZT0nRXJyb3IgbG9hZGluZyBidWlsZGluZ3MnIC8+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXgtMSBvdmVyZmxvdy1hdXRvIHAtNic+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J21heC13LTR4bCBteC1hdXRvJz5cbiAgICAgICAgICAgIDxDYXJkPlxuICAgICAgICAgICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPSdwLTggdGV4dC1jZW50ZXInPlxuICAgICAgICAgICAgICAgIDxCdWlsZGluZyBjbGFzc05hbWU9J3ctMTYgaC0xNiBteC1hdXRvIHRleHQtcmVkLTQwMCBtYi00JyAvPlxuICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9J3RleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LXJlZC02MDAgbWItMic+RXJyb3IgTG9hZGluZyBCdWlsZGluZ3M8L2gzPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0ndGV4dC1yZWQtNTAwIG1iLTQnPlxuICAgICAgICAgICAgICAgICAgRmFpbGVkIHRvIGxvYWQgYnVpbGRpbmdzIGRhdGEuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuXG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDxCYWRnZSB2YXJpYW50PSdkZXN0cnVjdGl2ZSc+RXJyb3I8L0JhZGdlPlxuICAgICAgICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgICAgICAgPC9DYXJkPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4LTEgZmxleCBmbGV4LWNvbCBvdmVyZmxvdy1oaWRkZW4nPlxuICAgICAgPEhlYWRlclxuICAgICAgICB0aXRsZT17dCgnYnVpbGRpbmdzJyl9XG4gICAgICAgIHN1YnRpdGxlPXtgTWFuYWdlICR7ZmlsdGVyZWRCdWlsZGluZ3MubGVuZ3RofSBidWlsZGluZyR7ZmlsdGVyZWRCdWlsZGluZ3MubGVuZ3RoICE9PSAxID8gJ3MnIDogJyd9IGluIHlvdXIgb3JnYW5pemF0aW9uYH1cbiAgICAgIC8+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4LTEgb3ZlcmZsb3ctYXV0byBwLTYnPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbWF4LXctNnhsIG14LWF1dG8gc3BhY2UteS02Jz5cbiAgICAgICAgICB7LyogU2VhcmNoIGFuZCBBZGQgQnVpbGRpbmcgQ29udHJvbHMgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXggZmxleC1jb2wgc206ZmxleC1yb3cgZ2FwLTQgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2Vlbic+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncmVsYXRpdmUgdy1mdWxsIHNtOnctOTYnPlxuICAgICAgICAgICAgICA8U2VhcmNoIGNsYXNzTmFtZT0nYWJzb2x1dGUgbGVmdC0zIHRvcC0xLzIgdHJhbnNmb3JtIC10cmFuc2xhdGUteS0xLzIgdGV4dC1ncmF5LTQwMCB3LTQgaC00JyAvPlxuICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17dCgnc2VhcmNoQnVpbGRpbmdzQWRkcmVzcycpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXtzZWFyY2hUZXJtfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0U2VhcmNoVGVybShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdwbC0xMCdcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7dXNlcj8ucm9sZSA9PT0gJ2FkbWluJyAmJiAoXG4gICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17KCkgPT4gc2V0SXNBZGREaWFsb2dPcGVuKHRydWUpfT5cbiAgICAgICAgICAgICAgICA8UGx1cyBjbGFzc05hbWU9J3ctNCBoLTQgbXItMicgLz5cbiAgICAgICAgICAgICAgICB7dCgnYWRkQnVpbGRpbmcnKX1cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIEJ1aWxkaW5ncyBHcmlkICovfVxuICAgICAgICAgIHtmaWx0ZXJlZEJ1aWxkaW5ncy5sZW5ndGggPiAwID8gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2dyaWQgZ3JpZC1jb2xzLTEgbGc6Z3JpZC1jb2xzLTIgeGw6Z3JpZC1jb2xzLTMgZ2FwLTYnPlxuICAgICAgICAgICAgICB7ZmlsdGVyZWRCdWlsZGluZ3MubWFwKChidWlsZGluZykgPT4gKFxuICAgICAgICAgICAgICAgIDxCdWlsZGluZ0NhcmRcbiAgICAgICAgICAgICAgICAgIGtleT17YnVpbGRpbmcuaWR9XG4gICAgICAgICAgICAgICAgICBidWlsZGluZz17YnVpbGRpbmd9XG4gICAgICAgICAgICAgICAgICB1c2VyUm9sZT17dXNlcj8ucm9sZX1cbiAgICAgICAgICAgICAgICAgIG9uRWRpdD17aGFuZGxlRWRpdEJ1aWxkaW5nfVxuICAgICAgICAgICAgICAgICAgb25EZWxldGU9e2hhbmRsZURlbGV0ZUJ1aWxkaW5nfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxDYXJkPlxuICAgICAgICAgICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPSdwLTggdGV4dC1jZW50ZXInPlxuICAgICAgICAgICAgICAgIDxCdWlsZGluZyBjbGFzc05hbWU9J3ctMTYgaC0xNiBteC1hdXRvIHRleHQtZ3JheS00MDAgbWItNCcgLz5cbiAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPSd0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTYwMCBtYi0yJz5ObyBCdWlsZGluZ3MgRm91bmQ8L2gzPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0ndGV4dC1ncmF5LTUwMCBtYi00Jz5cbiAgICAgICAgICAgICAgICAgIHt1c2VyPy5yb2xlID09PSAnYWRtaW4nXG4gICAgICAgICAgICAgICAgICAgID8gJ05vIGJ1aWxkaW5ncyBhcmUgY3VycmVudGx5IHJlZ2lzdGVyZWQgaW4geW91ciBvcmdhbml6YXRpb25zLidcbiAgICAgICAgICAgICAgICAgICAgOiBcIllvdSBkb24ndCBoYXZlIGFjY2VzcyB0byBhbnkgYnVpbGRpbmdzIHlldC5cIn1cbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgPEJhZGdlIHZhcmlhbnQ9J3NlY29uZGFyeSc+Tm8gRGF0YTwvQmFkZ2U+XG4gICAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICAgICAgICA8L0NhcmQ+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHsvKiBBZGQgQnVpbGRpbmcgRGlhbG9nICovfVxuICAgICAgICAgIDxCdWlsZGluZ0Zvcm1cbiAgICAgICAgICAgIGlzT3Blbj17aXNBZGREaWFsb2dPcGVufVxuICAgICAgICAgICAgb25PcGVuQ2hhbmdlPXtzZXRJc0FkZERpYWxvZ09wZW59XG4gICAgICAgICAgICBmb3JtPXtmb3JtfVxuICAgICAgICAgICAgb25TdWJtaXQ9e2hhbmRsZUNyZWF0ZUJ1aWxkaW5nfVxuICAgICAgICAgICAgb3JnYW5pemF0aW9ucz17b3JnYW5pemF0aW9uc31cbiAgICAgICAgICAgIGlzU3VibWl0dGluZz17Y3JlYXRlQnVpbGRpbmdNdXRhdGlvbi5pc1BlbmRpbmd9XG4gICAgICAgICAgICB0aXRsZT0nQWRkIE5ldyBCdWlsZGluZydcbiAgICAgICAgICAgIHN1Ym1pdExhYmVsPSdDcmVhdGUgQnVpbGRpbmcnXG4gICAgICAgICAgLz5cblxuICAgICAgICAgIHsvKiBFZGl0IEJ1aWxkaW5nIERpYWxvZyAqL31cbiAgICAgICAgICA8QnVpbGRpbmdGb3JtXG4gICAgICAgICAgICBpc09wZW49e2lzRWRpdERpYWxvZ09wZW59XG4gICAgICAgICAgICBvbk9wZW5DaGFuZ2U9e3NldElzRWRpdERpYWxvZ09wZW59XG4gICAgICAgICAgICBmb3JtPXtlZGl0Rm9ybX1cbiAgICAgICAgICAgIG9uU3VibWl0PXtoYW5kbGVVcGRhdGVCdWlsZGluZ31cbiAgICAgICAgICAgIG9yZ2FuaXphdGlvbnM9e29yZ2FuaXphdGlvbnN9XG4gICAgICAgICAgICBpc1N1Ym1pdHRpbmc9e3VwZGF0ZUJ1aWxkaW5nTXV0YXRpb24uaXNQZW5kaW5nfVxuICAgICAgICAgICAgdGl0bGU9J0VkaXQgQnVpbGRpbmcnXG4gICAgICAgICAgICBzdWJtaXRMYWJlbD0nVXBkYXRlIEJ1aWxkaW5nJ1xuICAgICAgICAgIC8+XG5cbiAgICAgICAgICB7LyogRGVsZXRlIENvbmZpcm1hdGlvbiBEaWFsb2cgKi99XG4gICAgICAgICAgPERpYWxvZyBvcGVuPXshIWRlbGV0aW5nQnVpbGRpbmd9IG9uT3BlbkNoYW5nZT17KCkgPT4gc2V0RGVsZXRpbmdCdWlsZGluZyhudWxsKX0+XG4gICAgICAgICAgICA8RGlhbG9nQ29udGVudD5cbiAgICAgICAgICAgICAgPERpYWxvZ0hlYWRlcj5cbiAgICAgICAgICAgICAgICA8RGlhbG9nVGl0bGU+RGVsZXRlIEJ1aWxkaW5nPC9EaWFsb2dUaXRsZT5cbiAgICAgICAgICAgICAgICA8RGlhbG9nRGVzY3JpcHRpb24+XG4gICAgICAgICAgICAgICAgICBBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIFwie2RlbGV0aW5nQnVpbGRpbmc/Lm5hbWV9XCI/IFRoaXMgYWN0aW9uIGNhbm5vdCBiZVxuICAgICAgICAgICAgICAgICAgdW5kb25lLlxuICAgICAgICAgICAgICAgIDwvRGlhbG9nRGVzY3JpcHRpb24+XG4gICAgICAgICAgICAgIDwvRGlhbG9nSGVhZGVyPlxuICAgICAgICAgICAgICA8RGlhbG9nRm9vdGVyPlxuICAgICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD0nb3V0bGluZScgb25DbGljaz17KCkgPT4gc2V0RGVsZXRpbmdCdWlsZGluZyhudWxsKX0+XG4gICAgICAgICAgICAgICAgICBDYW5jZWxcbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICB2YXJpYW50PSdkZXN0cnVjdGl2ZSdcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2NvbmZpcm1EZWxldGVCdWlsZGluZ31cbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkZWxldGVCdWlsZGluZ011dGF0aW9uLmlzUGVuZGluZ31cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7ZGVsZXRlQnVpbGRpbmdNdXRhdGlvbi5pc1BlbmRpbmcgPyAnRGVsZXRpbmcuLi4nIDogJ0RlbGV0ZSd9XG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDwvRGlhbG9nRm9vdGVyPlxuICAgICAgICAgICAgPC9EaWFsb2dDb250ZW50PlxuICAgICAgICAgIDwvRGlhbG9nPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sInZlcnNpb24iOjN9