8a4e14a6ab09f54adbb621cd2a6938ae
'use strict';
// FileList can not be created per constructor.
function createFileList(window, files) {
    const list = {
        ...files,
        length: files.length,
        item: (index) => list[index],
        [Symbol.iterator]: function* nextFile() {
            for (let i = 0; i < list.length; i++) {
                yield list[i];
            }
        }
    };
    list.constructor = window.FileList;
    // guard for environments without FileList
    /* istanbul ignore else */ if (window.FileList) {
        Object.setPrototypeOf(list, window.FileList.prototype);
    }
    Object.freeze(list);
    return list;
}
exports.createFileList = createFileList;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9ub2RlX21vZHVsZXMvQHRlc3RpbmctbGlicmFyeS91c2VyLWV2ZW50L2Rpc3QvY2pzL3V0aWxzL2RhdGFUcmFuc2Zlci9GaWxlTGlzdC5qcyIsIm1hcHBpbmdzIjoiQUFBQSxZQUFZLENBQUM7QUFFYiwrQ0FBK0M7QUFDL0MsU0FBUyxjQUFjLENBQUMsTUFBTSxFQUFFLEtBQUs7SUFDakMsTUFBTSxJQUFJLEdBQUc7UUFDVCxHQUFHLEtBQUs7UUFDUixNQUFNLEVBQUUsS0FBSyxDQUFDLE1BQU07UUFDcEIsSUFBSSxFQUFFLENBQUMsS0FBSyxFQUFDLEVBQUUsQ0FBQSxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQzFCLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxDQUFDLFFBQVE7WUFDakMsS0FBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUMsQ0FBQztnQkFDakMsTUFBTSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbEIsQ0FBQztRQUNMLENBQUM7S0FDSixDQUFDO0lBQ0YsSUFBSSxDQUFDLFdBQVcsR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDO0lBQ25DLDBDQUEwQztJQUMxQywwQkFBMEIsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUM3QyxNQUFNLENBQUMsY0FBYyxDQUFDLElBQUksRUFBRSxNQUFNLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQzNELENBQUM7SUFDRCxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3BCLE9BQU8sSUFBSSxDQUFDO0FBQ2hCLENBQUM7QUFFRCxPQUFPLENBQUMsY0FBYyxHQUFHLGNBQWMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvaG9tZS9ydW5uZXIvd29ya3NwYWNlL25vZGVfbW9kdWxlcy9AdGVzdGluZy1saWJyYXJ5L3VzZXItZXZlbnQvZGlzdC9janMvdXRpbHMvZGF0YVRyYW5zZmVyL0ZpbGVMaXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLy8gRmlsZUxpc3QgY2FuIG5vdCBiZSBjcmVhdGVkIHBlciBjb25zdHJ1Y3Rvci5cbmZ1bmN0aW9uIGNyZWF0ZUZpbGVMaXN0KHdpbmRvdywgZmlsZXMpIHtcbiAgICBjb25zdCBsaXN0ID0ge1xuICAgICAgICAuLi5maWxlcyxcbiAgICAgICAgbGVuZ3RoOiBmaWxlcy5sZW5ndGgsXG4gICAgICAgIGl0ZW06IChpbmRleCk9Pmxpc3RbaW5kZXhdLFxuICAgICAgICBbU3ltYm9sLml0ZXJhdG9yXTogZnVuY3Rpb24qIG5leHRGaWxlKCkge1xuICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgIHlpZWxkIGxpc3RbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGxpc3QuY29uc3RydWN0b3IgPSB3aW5kb3cuRmlsZUxpc3Q7XG4gICAgLy8gZ3VhcmQgZm9yIGVudmlyb25tZW50cyB3aXRob3V0IEZpbGVMaXN0XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi8gaWYgKHdpbmRvdy5GaWxlTGlzdCkge1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YobGlzdCwgd2luZG93LkZpbGVMaXN0LnByb3RvdHlwZSk7XG4gICAgfVxuICAgIE9iamVjdC5mcmVlemUobGlzdCk7XG4gICAgcmV0dXJuIGxpc3Q7XG59XG5cbmV4cG9ydHMuY3JlYXRlRmlsZUxpc3QgPSBjcmVhdGVGaWxlTGlzdDtcbiJdLCJ2ZXJzaW9uIjozfQ==