b2c4f15221b5334d73628645d7a7b45a
'use strict';
var isDisabled = require('../misc/isDisabled.js');
function getActiveElement(document) {
    const activeElement = document.activeElement;
    if (activeElement === null || activeElement === undefined ? undefined : activeElement.shadowRoot) {
        return getActiveElement(activeElement.shadowRoot);
    }
    else {
        // Browser does not yield disabled elements as document.activeElement - jsdom does
        if (isDisabled.isDisabled(activeElement)) {
            return document.ownerDocument ? /* istanbul ignore next */ document.ownerDocument.body : document.body;
        }
        return activeElement;
    }
}
function getActiveElementOrBody(document) {
    var _getActiveElement;
    return (_getActiveElement = getActiveElement(document)) !== null && _getActiveElement !== undefined ? _getActiveElement : /* istanbul ignore next */ document.body;
}
exports.getActiveElement = getActiveElement;
exports.getActiveElementOrBody = getActiveElementOrBody;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9ub2RlX21vZHVsZXMvQHRlc3RpbmctbGlicmFyeS91c2VyLWV2ZW50L2Rpc3QvY2pzL3V0aWxzL2ZvY3VzL2dldEFjdGl2ZUVsZW1lbnQuanMiLCJtYXBwaW5ncyI6IkFBQUEsWUFBWSxDQUFDO0FBRWIsSUFBSSxVQUFVLEdBQUcsT0FBTyxDQUFDLHVCQUF1QixDQUFDLENBQUM7QUFFbEQsU0FBUyxnQkFBZ0IsQ0FBQyxRQUFRO0lBQzlCLE1BQU0sYUFBYSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUM7SUFDN0MsSUFBSSxhQUFhLEtBQUssSUFBSSxJQUFJLGFBQWEsS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQy9GLE9BQU8sZ0JBQWdCLENBQUMsYUFBYSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQ3RELENBQUM7U0FBTSxDQUFDO1FBQ0osa0ZBQWtGO1FBQ2xGLElBQUksVUFBVSxDQUFDLFVBQVUsQ0FBQyxhQUFhLENBQUMsRUFBRSxDQUFDO1lBQ3ZDLE9BQU8sUUFBUSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsMEJBQTBCLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUM7UUFDM0csQ0FBQztRQUNELE9BQU8sYUFBYSxDQUFDO0lBQ3pCLENBQUM7QUFDTCxDQUFDO0FBQ0QsU0FBUyxzQkFBc0IsQ0FBQyxRQUFRO0lBQ3BDLElBQUksaUJBQWlCLENBQUM7SUFDdEIsT0FBTyxDQUFDLGlCQUFpQixHQUFHLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxDQUFDLEtBQUssSUFBSSxJQUFJLGlCQUFpQixLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLDBCQUEwQixDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUM7QUFDdkssQ0FBQztBQUVELE9BQU8sQ0FBQyxnQkFBZ0IsR0FBRyxnQkFBZ0IsQ0FBQztBQUM1QyxPQUFPLENBQUMsc0JBQXNCLEdBQUcsc0JBQXNCLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9ub2RlX21vZHVsZXMvQHRlc3RpbmctbGlicmFyeS91c2VyLWV2ZW50L2Rpc3QvY2pzL3V0aWxzL2ZvY3VzL2dldEFjdGl2ZUVsZW1lbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaXNEaXNhYmxlZCA9IHJlcXVpcmUoJy4uL21pc2MvaXNEaXNhYmxlZC5qcycpO1xuXG5mdW5jdGlvbiBnZXRBY3RpdmVFbGVtZW50KGRvY3VtZW50KSB7XG4gICAgY29uc3QgYWN0aXZlRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgaWYgKGFjdGl2ZUVsZW1lbnQgPT09IG51bGwgfHwgYWN0aXZlRWxlbWVudCA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogYWN0aXZlRWxlbWVudC5zaGFkb3dSb290KSB7XG4gICAgICAgIHJldHVybiBnZXRBY3RpdmVFbGVtZW50KGFjdGl2ZUVsZW1lbnQuc2hhZG93Um9vdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQnJvd3NlciBkb2VzIG5vdCB5aWVsZCBkaXNhYmxlZCBlbGVtZW50cyBhcyBkb2N1bWVudC5hY3RpdmVFbGVtZW50IC0ganNkb20gZG9lc1xuICAgICAgICBpZiAoaXNEaXNhYmxlZC5pc0Rpc2FibGVkKGFjdGl2ZUVsZW1lbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQub3duZXJEb2N1bWVudCA/IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIGRvY3VtZW50Lm93bmVyRG9jdW1lbnQuYm9keSA6IGRvY3VtZW50LmJvZHk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjdGl2ZUVsZW1lbnQ7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0QWN0aXZlRWxlbWVudE9yQm9keShkb2N1bWVudCkge1xuICAgIHZhciBfZ2V0QWN0aXZlRWxlbWVudDtcbiAgICByZXR1cm4gKF9nZXRBY3RpdmVFbGVtZW50ID0gZ2V0QWN0aXZlRWxlbWVudChkb2N1bWVudCkpICE9PSBudWxsICYmIF9nZXRBY3RpdmVFbGVtZW50ICE9PSB1bmRlZmluZWQgPyBfZ2V0QWN0aXZlRWxlbWVudCA6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIGRvY3VtZW50LmJvZHk7XG59XG5cbmV4cG9ydHMuZ2V0QWN0aXZlRWxlbWVudCA9IGdldEFjdGl2ZUVsZW1lbnQ7XG5leHBvcnRzLmdldEFjdGl2ZUVsZW1lbnRPckJvZHkgPSBnZXRBY3RpdmVFbGVtZW50T3JCb2R5O1xuIl0sInZlcnNpb24iOjN9