{"file":"/home/runner/workspace/client/src/components/dashboard/law25-compliance.tsx","mappings":"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","names":[],"sources":["/home/runner/workspace/client/src/components/dashboard/law25-compliance.tsx"],"sourcesContent":["import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { NoDataCard } from '@/components/ui/no-data-card';\nimport { Progress } from '@/components/ui/progress';\nimport { useQuery } from '@tanstack/react-query';\nimport {\n  Shield,\n  AlertTriangle,\n  CheckCircle,\n  XCircle,\n  FileText,\n  Users,\n  Lock,\n  Globe,\n  Eye,\n  Scale,\n} from 'lucide-react';\nimport { useLanguage } from '@/hooks/use-language';\nimport { Skeleton } from '@/components/ui/skeleton';\n\n/**\n * Interface for Law 25 compliance data from the API.\n */\ninterface Law25ComplianceData {\n  complianceScore: number;\n  totalViolations: number;\n  criticalViolations: number;\n  lastScanDate: string;\n  categories: {\n    dataCollection: number;\n    consent: number;\n    dataRetention: number;\n    security: number;\n    crossBorderTransfer: number;\n    dataSubjectRights: number;\n  };\n  violations: Array<{\n    rule: string;\n    message: string;\n    file: string;\n    line: number;\n    category: string;\n    law25Aspect: string;\n    severity: string;\n  }>;\n}\n\n/**\n * Quebec Law 25 compliance dashboard component that displays privacy compliance status,\n * violations, and remediation guidance for property management systems.\n * @returns JSX element for the Law 25 compliance dashboard.\n */\n/**\n * Law25Compliance function.\n * @returns Function result.\n */\nexport function Law25Compliance() {\n  const { t: _t } = useLanguage();\n\n  const { data: complianceData, isLoading } = useQuery<Law25ComplianceData>({\n    queryKey: ['/api/law25-compliance'],\n    staleTime: 10 * 60 * 1000, // 10 minutes\n    refetchInterval: 15 * 60 * 1000, // Refetch every 15 minutes\n  });\n\n  const getComplianceStatus = (score: number) => {\n    if (score >= 90) {\n      return { level: 'Excellent', color: 'text-green-600', bg: 'bg-green-50' };\n    }\n    if (score >= 80) {\n      return { level: 'Good', color: 'text-blue-600', bg: 'bg-blue-50' };\n    }\n    if (score >= 60) {\n      return { level: 'Fair', color: 'text-yellow-600', bg: 'bg-yellow-50' };\n    }\n    return { level: 'Poor', color: 'text-red-600', bg: 'bg-red-50' };\n  };\n\n  const getCategoryIcon = (category: string) => {\n    switch (category) {\n      case 'dataCollection':\n        return FileText;\n      case 'consent':\n        return Users;\n      case 'dataRetention':\n        return FileText;\n      case 'security':\n        return Lock;\n      case 'crossBorderTransfer':\n        return Globe;\n      case 'dataSubjectRights':\n        return Eye;\n      default:\n        return Scale;\n    }\n  };\n\n  const getCategoryLabel = (category: string) => {\n    const labels = {\n      dataCollection: 'Data Collection',\n      consent: 'Consent Management',\n      dataRetention: 'Data Retention',\n      security: 'Security & Encryption',\n      crossBorderTransfer: 'Cross-Border Transfer',\n      dataSubjectRights: 'Data Subject Rights',\n    };\n    return labels[category as keyof typeof labels] || category;\n  };\n\n  const getSeverityColor = (severity: string) => {\n    switch (severity) {\n      case 'error':\n        return 'text-red-600 bg-red-50';\n      case 'warning':\n        return 'text-yellow-600 bg-yellow-50';\n      case 'info':\n        return 'text-blue-600 bg-blue-50';\n      default:\n        return 'text-gray-600 bg-gray-50';\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className='space-y-6'>\n        <Skeleton className='h-32 w-full' />\n        <div className='grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4'>\n          {[...Array(6)].map((_, i) => (\n            <Skeleton key={i} className='h-24 w-full' />\n          ))}\n        </div>\n        <Skeleton className='h-96 w-full' />\n      </div>\n    );\n  }\n\n  if (!complianceData) {\n    return (\n      <NoDataCard\n        icon={Shield}\n        titleKey=\"noComplianceData\"\n        descriptionKey=\"noComplianceDataMessage\"\n        badgeKey=\"noData\"\n        testId=\"no-compliance-data-message\"\n      />\n    );\n  }\n\n  const status = getComplianceStatus(complianceData.complianceScore);\n\n  return (\n    <div className='space-y-6'>\n      {/* Compliance Overview */}\n      <Card\n        className={`border-l-4 ${complianceData.complianceScore >= 80 ? 'border-l-green-500' : complianceData.complianceScore >= 60 ? 'border-l-yellow-500' : 'border-l-red-500'}`}\n      >\n        <CardHeader>\n          <CardTitle className='flex items-center gap-2'>\n            <Shield className='w-6 h-6' />\n            Quebec Law 25 Compliance Status\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className='grid grid-cols-1 md:grid-cols-3 gap-6'>\n            {/* Compliance Score */}\n            <div className='text-center'>\n              <div className={`text-4xl font-bold mb-2 ${status.color}`}>\n                {complianceData.complianceScore}/100\n              </div>\n              <div\n                className={`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${status.bg} ${status.color}`}\n              >\n                {complianceData.complianceScore >= 80 ? (\n                  <CheckCircle className='w-4 h-4 mr-1' />\n                ) : (\n                  <XCircle className='w-4 h-4 mr-1' />\n                )}\n                {status.level}\n              </div>\n              <Progress\n                value={complianceData.complianceScore}\n                className='mt-3'\n                // className={`mt-3 ${complianceData.complianceScore >= 80 ? '[&>div]:bg-green-500' : complianceData.complianceScore >= 60 ? '[&>div]:bg-yellow-500' : '[&>div]:bg-red-500'}`}\n              />\n            </div>\n\n            {/* Violations Summary */}\n            <div className='text-center'>\n              <div className='text-2xl font-semibold text-gray-700 mb-2'>\n                {complianceData.totalViolations}\n              </div>\n              <div className='text-sm text-gray-500 mb-1'>Total Violations</div>\n              {complianceData.criticalViolations > 0 && (\n                <div className='flex items-center justify-center gap-1 text-red-600'>\n                  <AlertTriangle className='w-4 h-4' />\n                  <span className='text-sm font-medium'>\n                    {complianceData.criticalViolations} Critical\n                  </span>\n                </div>\n              )}\n            </div>\n\n            {/* Last Scan */}\n            <div className='text-center'>\n              <div className='text-sm text-gray-500 mb-1'>Last Scan</div>\n              <div className='text-sm font-medium text-gray-700'>\n                {new Date(complianceData.lastScanDate).toLocaleDateString()}\n              </div>\n              <div className='text-xs text-gray-400'>\n                {new Date(complianceData.lastScanDate).toLocaleTimeString()}\n              </div>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Category Breakdown */}\n      <div className='grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4'>\n        {Object.entries(complianceData.categories).map(([category, count]) => {\n          const Icon = getCategoryIcon(category);\n          const isClean = count === 0;\n\n          return (\n            <Card key={category} className={`${isClean ? 'border-green-200' : 'border-red-200'}`}>\n              <CardContent className='p-4'>\n                <div className='flex items-center justify-between mb-2'>\n                  <div className='flex items-center gap-2'>\n                    <Icon className={`w-4 h-4 ${isClean ? 'text-green-600' : 'text-red-600'}`} />\n                    <span className='text-sm font-medium'>{getCategoryLabel(category)}</span>\n                  </div>\n                  <Badge variant={isClean ? 'default' : 'destructive'}>{count}</Badge>\n                </div>\n                <div className={`text-xs ${isClean ? 'text-green-600' : 'text-red-600'}`}>\n                  {isClean ? 'Compliant' : `${count} issue${count > 1 ? 's' : ''} found`}\n                </div>\n              </CardContent>\n            </Card>\n          );\n        })}\n      </div>\n\n      {/* Violations Detail */}\n      {complianceData.violations.length > 0 && (\n        <Card>\n          <CardHeader>\n            <CardTitle className='flex items-center gap-2'>\n              <AlertTriangle className='w-5 h-5 text-orange-500' />\n              Compliance Violations\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className='space-y-3'>\n              {complianceData.violations.slice(0, 10).map((violation, _index) => (\n                <div key={_index} className='flex items-start gap-3 p-3 rounded-lg bg-gray-50'>\n                  <div\n                    className={`flex-shrink-0 w-2 h-2 rounded-full mt-2 ${\n                      violation.severity === 'error'\n                        ? 'bg-red-500'\n                        : violation.severity === 'warning'\n                          ? 'bg-yellow-500'\n                          : 'bg-blue-500'\n                    }`}\n                  />\n                  <div className='flex-1 min-w-0'>\n                    <div className='flex items-center gap-2 mb-1'>\n                      <Badge className={getSeverityColor(violation.severity)}>\n                        {violation.severity.toUpperCase()}\n                      </Badge>\n                      <span className='text-xs text-gray-500'>{violation.rule}</span>\n                    </div>\n                    <p className='text-sm text-gray-700 mb-1'>{violation.message}</p>\n                    <div className='text-xs text-gray-500'>\n                      {violation.file}:{violation.line} â€¢ {getCategoryLabel(violation.law25Aspect)}\n                    </div>\n                  </div>\n                </div>\n              ))}\n\n              {complianceData.violations.length > 10 && (\n                <div className='text-center py-2'>\n                  <Badge variant='outline'>\n                    +{complianceData.violations.length - 10} more violations\n                  </Badge>\n                </div>\n              )}\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Compliance Guide */}\n      <Card>\n        <CardHeader>\n          <CardTitle className='flex items-center gap-2'>\n            <Scale className='w-5 h-5 text-blue-500' />\n            Quebec Law 25 Compliance Guide\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className='grid grid-cols-1 md:grid-cols-2 gap-6'>\n            <div>\n              <h4 className='font-medium mb-3'>Required Compliance Areas</h4>\n              <ul className='space-y-2 text-sm'>\n                <li className='flex items-center gap-2'>\n                  <CheckCircle className='w-4 h-4 text-green-500' />\n                  Explicit consent for data collection\n                </li>\n                <li className='flex items-center gap-2'>\n                  <CheckCircle className='w-4 h-4 text-green-500' />\n                  Data retention policies\n                </li>\n                <li className='flex items-center gap-2'>\n                  <CheckCircle className='w-4 h-4 text-green-500' />\n                  Encryption of personal data\n                </li>\n                <li className='flex items-center gap-2'>\n                  <CheckCircle className='w-4 h-4 text-green-500' />\n                  Data subject rights implementation\n                </li>\n              </ul>\n            </div>\n            <div>\n              <h4 className='font-medium mb-3'>Property Management Focus</h4>\n              <ul className='space-y-2 text-sm'>\n                <li className='flex items-center gap-2'>\n                  <Users className='w-4 h-4 text-blue-500' />\n                  Tenant personal information protection\n                </li>\n                <li className='flex items-center gap-2'>\n                  <Lock className='w-4 h-4 text-blue-500' />\n                  Financial data security\n                </li>\n                <li className='flex items-center gap-2'>\n                  <FileText className='w-4 h-4 text-blue-500' />\n                  Building access code protection\n                </li>\n                <li className='flex items-center gap-2'>\n                  <Eye className='w-4 h-4 text-blue-500' />\n                  Maintenance request privacy\n                </li>\n              </ul>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n"],"version":3}