{"file":"/home/runner/workspace/client/src/components/forms/feature-form.tsx","mappings":"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","names":[],"sources":["/home/runner/workspace/client/src/components/forms/feature-form.tsx"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Label } from '@/components/ui/label';\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogFooter,\n} from '@/components/ui/dialog';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select';\nimport { Switch } from '@/components/ui/switch';\nimport { Badge } from '@/components/ui/badge';\nimport { Copy, FileText, Zap, Save, Clock, Trash2, Plus, Paperclip } from 'lucide-react';\nimport { useToast } from '@/hooks/use-toast';\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\nimport type { Feature } from '@shared/schema';\nimport { SharedUploader } from '@/components/document-management';\n\n/**\n * Props for the FeatureForm component.\n */\ninterface FeatureFormProps {\n  feature: Feature | null;\n  open: boolean;\n  onOpenChange: (_open: boolean) => void;\n}\n\n/**\n * Reusable form dialog component for planning feature development.\n * Collects detailed requirements and generates development prompts.\n * Located in forms directory for easy reuse across the application.\n * @param root0 - Component props.\n * @param root0.feature - The feature to edit, null for new features.\n * @param root0.open - Dialog open state.\n * @param root0.onOpenChange - Callback to handle dialog open state changes.\n * @returns Feature form dialog component.\n */\n/**\n * FeatureForm function.\n * @param root0\n * @param root0.feature\n * @param root0.open\n * @param root0.onOpenChange\n * @returns Function result.\n */\nexport function FeatureForm({ feature, open, onOpenChange }: FeatureFormProps) {\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n\n  // Mutation to create feature in roadmap\n  const createFeatureMutation = useMutation({\n    mutationFn: async (featureData: {\n      name: string;\n      description: string;\n      category: string;\n      status?: string;\n      priority?: string;\n      businessObjective?: string;\n      targetUsers?: string;\n      successMetrics?: string;\n      technicalComplexity?: string;\n      dependencies?: string;\n      userFlow?: string;\n    }) => {\n      const response = await fetch('/api/features', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(featureData),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to create feature');\n      }\n\n      return response.json();\n    },\n    onSuccess: (newFeature) => {\n      // Invalidate queries to refresh roadmap data\n      queryClient.invalidateQueries({ queryKey: ['/api/features'] });\n\n      toast({\n        title: 'Feature Integrated',\n        description: `\"${newFeature.name}\" has been successfully added to the roadmap.`,\n      });\n\n      // Close the dialog\n      handleClose(false);\n    },\n    onError: () => {\n      toast({\n        title: 'Integration Failed',\n        description: 'Failed to add the feature to the roadmap. Please try again.',\n        variant: 'destructive',\n      });\n    },\n  });\n\n  // Mutation to save generated prompt as actionable item\n  const savePromptMutation = useMutation({\n    mutationFn: async ({\n      featureId,\n      prompt,\n      title,\n    }: {\n      featureId: string;\n      prompt: string;\n      title: string;\n    }) => {\n      const response = await fetch(`/api/features/${featureId}/actionable-items/from-prompt`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          prompt,\n          title,\n          description: 'AI-generated development prompt',\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to save prompt as actionable item');\n      }\n\n      return response.json();\n    },\n    onSuccess: () => {\n      // Invalidate queries to refresh data\n      if (feature?.id) {\n        queryClient.invalidateQueries({\n          queryKey: [`/api/features/${feature.id}/actionable-items`],\n        });\n      }\n\n      toast({\n        title: 'Prompt Saved',\n        description: 'The development prompt has been saved as an actionable item.',\n      });\n    },\n    onError: () => {\n      toast({\n        title: 'Save Failed',\n        description: 'Failed to save the prompt as an actionable item.',\n        variant: 'destructive',\n      });\n    },\n  });\n  const [formData, setFormData] = useState({\n    // New feature fields\n    featureName: '',\n    featureCategory: 'Compliance & Security', // Default to a valid category\n    featureDescription: '',\n    isStrategicPath: false,\n\n    // General questions\n    businessObjective: '',\n    targetUsers: '',\n    successMetrics: '',\n    priority: '',\n    timeline: '',\n\n    // Technical questions\n    complexity: '',\n    dependencies: '',\n    dataRequirements: '',\n    integrationNeeds: '',\n    securityConsiderations: '',\n\n    // User experience questions\n    userFlow: '',\n    uiRequirements: '',\n    accessibilityNeeds: '',\n\n    // Additional requirements\n    performanceRequirements: '',\n    testingStrategy: '',\n    additionalNotes: '',\n\n    // RBAC requirements\n    rbacRequired: false,\n    rbacRoles: {\n      admin: { read: true, write: true, organizationalLimitation: '' },\n      manager: { read: true, write: true, organizationalLimitation: '' },\n      owner: { read: true, write: false, organizationalLimitation: '' },\n      tenant: { read: false, write: false, organizationalLimitation: '' },\n    },\n  });\n\n  const [step, setStep] = useState<'form' | 'prompt'>('form');\n  const [generatedPrompt, setGeneratedPrompt] = useState('');\n  const [lastSaved, setLastSaved] = useState<Date | null>(null);\n  const [isDirty, setIsDirty] = useState(false);\n  const [attachedFiles, setAttachedFiles] = useState<File[]>([]);\n\n  /**\n   * Gets the localStorage key for drafts.\n   * @returns The localStorage key for feature drafts.\n   */\n  const getDraftKey = useCallback(() => {\n    const baseKey = 'koveo-feature-draft';\n    return feature?.id ? `${baseKey}-${feature.id}` : `${baseKey}-new`;\n  }, [feature?.id]);\n\n  /**\n   * Saves form data to localStorage.\n   */\n  const saveDraft = useCallback(() => {\n    try {\n      const draftData = {\n        formData,\n        timestamp: new Date().toISOString(),\n        featureId: feature?.id || null,\n      };\n      window.localStorage.setItem(getDraftKey(), JSON.stringify(draftData));\n      setLastSaved(new Date());\n      setIsDirty(false);\n\n      toast({\n        title: 'Draft Saved',\n        description: 'Your progress has been automatically saved.',\n        duration: 2000,\n      });\n    } catch (error) {\n      // Error saving draft\n    }\n  }, [formData, feature?.id, toast, getDraftKey]);\n\n  /**\n   * Loads draft from localStorage.\n   */\n  const loadDraft = useCallback(() => {\n    try {\n      const savedDraft = window.localStorage.getItem(getDraftKey());\n      if (savedDraft) {\n        const draftData = JSON.parse(savedDraft);\n        const formData = draftData.formData;\n\n        // Fix invalid category if it exists\n        if (formData.featureCategory === 'Strategic Path') {\n          formData.featureCategory = 'Compliance & Security';\n        }\n\n        setFormData(formData);\n        setLastSaved(new Date(draftData.timestamp));\n        setIsDirty(false);\n      }\n    } catch (error) {\n      // Error loading draft\n    }\n  }, [feature?.id, getDraftKey]);\n\n  /**\n   * Clears the saved draft.\n   */\n  const clearDraft = useCallback(() => {\n    try {\n      window.localStorage.removeItem(getDraftKey());\n      setLastSaved(null);\n      setIsDirty(false);\n      \n      toast({\n        title: 'Draft Cleared',\n        description: 'Saved draft has been removed.',\n      });\n    } catch (error) {\n      // Error clearing draft\n    }\n  }, [feature?.id, toast, getDraftKey]);\n\n  /**\n   * Updates form data when input values change.\n   * @param field - The form field to update.\n   * @param value - The new value for the field.\n   * @param _value\n   */\n  const updateFormData = (field: string, value: string | boolean | unknown) => {\n    setFormData((prev) => ({ ...prev, [field]: value }));\n    setIsDirty(true);\n  };\n\n  /**\n   * Handle file attachments for mockups, wireframes, or supporting documents.\n   */\n  const handleFilesSelect = useCallback((files: File[]) => {\n    setAttachedFiles(prev => [...prev, ...files]);\n    setIsDirty(true);\n  }, []);\n\n  /**\n   * Generates a comprehensive development prompt based on the collected requirements.\n   */\n  const generatePrompt = () => {\n    const featureName = feature?.name || formData.featureName || 'New Feature';\n    const featureCategory = feature?.category || formData.featureCategory || 'Not specified';\n    const featureStatus = feature?.status || 'submitted';\n    const featurePriority = formData.priority || feature?.priority || 'Medium';\n    const featureDescription =\n      feature?.description || formData.featureDescription || 'Feature description not provided';\n\n    const prompt = `# Feature Development Request: ${featureName}\n\n## ðŸŽ¯ Overview\n**Category:** ${featureCategory}\n**Current Status:** ${featureStatus}\n**Priority:** ${featurePriority}\n**Description:** ${featureDescription}\n\n## ðŸ“‹ Business Requirements\n\n### Business Objective\n${formData.businessObjective || 'Not specified'}\n\n### Target Users\n${formData.targetUsers || 'All system users'}\n\n### Success Metrics\n${formData.successMetrics || 'Feature completion and user adoption'}\n\n### Timeline\n${formData.timeline || 'Standard development timeline'}\n\n## ðŸ”§ Technical Requirements\n\n### Complexity Assessment\n${formData.complexity || 'Medium complexity'}\n\n### Dependencies\n${formData.dependencies || 'None specified'}\n\n### Data Requirements\n${formData.dataRequirements || 'Standard data handling'}\n\n### Integration Needs\n${formData.integrationNeeds || 'Standard system integration'}\n\n### Security Considerations\n${formData.securityConsiderations || 'Follow standard security practices'}\n\n${\n  formData.rbacRequired\n    ? `\n### Role-Based Access Control (RBAC)\n**RBAC Required:** Yes\n\n**Role Permissions:**\n${Object.entries(formData.rbacRoles)\n  .filter(([_, permissions]) => permissions.read || permissions.write)\n  .map(([role, permissions]) => {\n    const accessTypes = [];\n    if (permissions.read) {\n      accessTypes.push('Read');\n    }\n    if (permissions.write) {\n      accessTypes.push('Write');\n    }\n    const orgLimit = permissions.organizationalLimitation\n      ? ` (${permissions.organizationalLimitation})`\n      : '';\n    return `- **${role.replace('_', ' ').toUpperCase()}**: ${accessTypes.join(', ')} access${orgLimit}`;\n  })\n  .join('\\n')}\n\n**Implementation Notes:**\n- Use the existing RBAC system in server/auth.ts with requireAuth and authorize middleware\n- Apply role-based query scoping using the functions in server/db/queries/scope-query.ts\n- Ensure all API endpoints check permissions using the authorize('permission:action') middleware\n- Follow the established patterns in config/permissions.json for permission naming\n`\n    : ''\n}\n\n## ðŸ‘¤ User Experience Requirements\n\n### User Flow\n${formData.userFlow || 'Standard user interaction pattern'}\n\n### UI Requirements\n${formData.uiRequirements || 'Follow existing design system (shadcn/ui)'}\n\n### Accessibility Needs\n${formData.accessibilityNeeds || 'WCAG 2.1 AA compliance required'}\n\n## âš¡ Performance & Quality Requirements\n\n### Performance Requirements\n${formData.performanceRequirements || 'Standard performance expectations'}\n\n### Testing Strategy\n${formData.testingStrategy || 'Unit tests, integration tests, and manual testing'}\n\n## ðŸ“ Implementation Guidelines\n\n**CRITICAL: This feature must be implemented with the highest standards of quality, maintainability, and best practices.**\n\n### Code Quality Standards\n- Follow TypeScript strict mode and maintain 100% type safety\n- Implement comprehensive error handling and user feedback\n- Use consistent naming conventions and clear, self-documenting code\n- Add thorough JSDoc comments for all exported functions and interfaces\n- Maintain test coverage above 90% for all new code\n\n### Architecture & Design Patterns\n- Follow the existing project architecture (React + Express + PostgreSQL + Drizzle ORM)\n- Use established patterns: React Query for data fetching, Zod for validation\n- Implement proper separation of concerns (UI components, business logic, data layer)\n- Follow SOLID principles and avoid code duplication\n- Use composition over inheritance where applicable\n\n### User Interface Standards\n- Use the established shadcn/ui component system exclusively\n- Ensure responsive design works on all screen sizes (mobile, tablet, desktop)\n- Follow the existing design tokens and color scheme\n- Implement proper loading states, error states, and empty states\n- Add appropriate micro-interactions and transitions\n\n### Database & Backend Standards\n- Create proper database migrations using Drizzle Kit\n- Implement input validation on both client and server sides using Zod schemas\n- Follow RESTful API conventions and proper HTTP status codes\n- Add comprehensive error handling and logging\n- Ensure proper data relationships and foreign key constraints\n\n### Security & Performance\n- Implement proper authentication and authorization checks\n- Sanitize all user inputs to prevent XSS and injection attacks\n- Use prepared statements and parameterized queries\n- Optimize database queries and add proper indexing\n- Implement caching strategies where appropriate\n\n### Testing Requirements\n- Write unit tests for all business logic and utility functions\n- Add integration tests for API endpoints and database operations\n- Include component tests for React components with user interactions\n- Test error scenarios and edge cases thoroughly\n- Add end-to-end tests for critical user flows\n\n### Documentation & Maintenance\n- Update the project's replit.md file with any architectural changes\n- Add inline comments explaining complex business logic\n- Create clear commit messages following conventional commit format\n- Ensure backward compatibility unless explicitly requested otherwise\n\n## ðŸš€ Additional Notes\n${formData.additionalNotes || 'No additional notes'}\n\n## âœ… Definition of Done\n- [ ] Feature implemented following all quality standards above\n- [ ] All tests pass with >90% coverage for new code\n- [ ] Code review completed and approved\n- [ ] Documentation updated (JSDoc, inline comments, replit.md if needed)\n- [ ] Manual testing completed across different devices and browsers\n- [ ] Performance benchmarks meet requirements\n- [ ] Security review completed\n- [ ] Feature deployed and working in production environment\n\n**Remember: Quality and maintainability are more important than speed. Take the time to implement this feature properly, following all established patterns and best practices in the Koveo Gestion codebase.**`;\n\n    setGeneratedPrompt(prompt);\n    setStep('prompt');\n\n    // Save prompt as actionable item if we have a feature ID\n    if (feature?.id) {\n      savePromptMutation.mutate({\n        featureId: feature.id,\n        prompt,\n        title: `Development Prompt: ${featureName}`,\n      });\n    }\n  };\n\n  /**\n   * Copies the generated prompt to clipboard.\n   */\n  const copyPrompt = async () => {\n    try {\n      await navigator.clipboard.writeText(generatedPrompt);\n      toast({\n        title: 'Prompt Copied',\n        description: 'The development prompt has been copied to your clipboard.',\n      });\n    } catch (error) {\n      console.error('Error copying prompt:', error);\n      toast({\n        title: 'Copy Failed',\n        description: 'Failed to copy prompt to clipboard.',\n        variant: 'destructive',\n      });\n    }\n  };\n\n  /**\n   * Handles integrating the feature into the roadmap.\n   */\n  const integrateToRoadmap = () => {\n    if (isNewFeature) {\n      // For new features, create them in the roadmap with minimal required data\n      const featureData = {\n        name: formData.featureName,\n        description: formData.featureDescription || `Feature: ${formData.featureName}`, // Default description\n        category: formData.featureCategory || 'Compliance & Security', // Default category\n        status: 'submitted' as const,\n        priority: (formData.priority || 'medium') as 'low' | 'medium' | 'high',\n        businessObjective: formData.businessObjective || undefined,\n        targetUsers: formData.targetUsers || undefined,\n        successMetrics: formData.successMetrics || undefined,\n        technicalComplexity: formData.complexity || undefined,\n        dependencies: formData.dependencies || undefined,\n        userFlow: formData.userFlow || undefined,\n        isStrategicPath: formData.isStrategicPath,\n      };\n\n      createFeatureMutation.mutate(featureData);\n    } else {\n      // For existing features, just close the dialog\n      // (they're already in the roadmap)\n      toast({\n        title: 'Feature Already in Roadmap',\n        description: 'This feature is already part of the roadmap.',\n      });\n      handleClose(false);\n    }\n  };\n\n  /**\n   * Resets the dialog to initial state.\n   */\n  const resetDialog = () => {\n    setStep('form');\n    setFormData({\n      featureName: '',\n      featureCategory: 'Compliance & Security', // Default to a valid category\n      featureDescription: '',\n      isStrategicPath: false,\n      businessObjective: '',\n      targetUsers: '',\n      successMetrics: '',\n      priority: '',\n      timeline: '',\n      complexity: '',\n      dependencies: '',\n      dataRequirements: '',\n      integrationNeeds: '',\n      securityConsiderations: '',\n      userFlow: '',\n      uiRequirements: '',\n      accessibilityNeeds: '',\n      performanceRequirements: '',\n      testingStrategy: '',\n      additionalNotes: '',\n      rbacRequired: false,\n      rbacRoles: {\n        admin: { read: true, write: true, organizationalLimitation: '' },\n        manager: { read: true, write: true, organizationalLimitation: '' },\n        owner: { read: true, write: false, organizationalLimitation: '' },\n        tenant: { read: false, write: false, organizationalLimitation: '' },\n      },\n    });\n    setGeneratedPrompt('');\n  };\n\n  const handleClose = (open: boolean) => {\n    if (!open) {\n      if (isDirty) {\n        // Save draft before closing if there are unsaved changes\n        saveDraft();\n      }\n      resetDialog();\n    }\n    onOpenChange(open);\n  };\n\n  // Auto-save effect - saves after 3 seconds of inactivity\n  useEffect(() => {\n    if (!isDirty) {\n      return;\n    }\n\n    const timer = setTimeout(() => {\n      saveDraft();\n    }, 3000);\n\n    return () => clearTimeout(timer);\n  }, [formData, isDirty, saveDraft]);\n\n  // Clear invalid drafts and load draft when form opens\n  useEffect(() => {\n    if (open) {\n      // Clear any drafts with invalid \"Strategic Path\" category\n      try {\n        const allKeys = Object.keys(window.localStorage);\n        const draftKeys = allKeys.filter((key) => key.startsWith('koveo-feature-draft'));\n\n        draftKeys.forEach((key) => {\n          try {\n            const draftData = JSON.parse(window.localStorage.getItem(key) || '{}');\n            if (draftData.formData?.featureCategory === 'Strategic Path') {\n              window.localStorage.removeItem(key);\n            }\n          } catch (error) {\n            // Invalid JSON, remove it\n            window.localStorage.removeItem(key);\n          }\n        });\n      } catch (error) {\n        console.error('Error clearing invalid drafts:', error);\n      }\n\n      loadDraft();\n    }\n  }, [open, loadDraft]);\n\n  const isNewFeature = !feature;\n\n  return (\n    <Dialog open={open} onOpenChange={handleClose}>\n      <DialogContent className='max-w-4xl max-h-[90vh] overflow-y-auto'>\n        <DialogHeader>\n          <div className='flex items-center justify-between'>\n            <DialogTitle className='flex items-center gap-2'>\n              <FileText className='h-5 w-5' />\n              {step === 'form'\n                ? isNewFeature\n                  ? 'Create New Feature'\n                  : 'Plan Feature Development'\n                : 'Generated Development Prompt'}\n            </DialogTitle>\n\n            {step === 'form' && (\n              <div className='flex items-center gap-2'>\n                {lastSaved && (\n                  <div className='flex items-center gap-1 text-xs text-gray-500'>\n                    <Clock className='h-3 w-3' />\n                    Saved {lastSaved.toLocaleTimeString()}\n                  </div>\n                )}\n\n                {lastSaved && (\n                  <Button\n                    variant='ghost'\n                    size='sm'\n                    onClick={clearDraft}\n                    className='text-xs text-red-600 hover:text-red-700'\n                  >\n                    <Trash2 className='h-3 w-3' />\n                  </Button>\n                )}\n              </div>\n            )}\n          </div>\n\n          {isDirty && step === 'form' && (\n            <div className='flex items-center gap-1 text-xs text-amber-600 mt-1'>\n              <Clock className='h-3 w-3' />\n              Auto-saving in progress...\n            </div>\n          )}\n        </DialogHeader>\n\n        {step === 'form' ? (\n          <div className='space-y-6'>\n            {/* Feature Info */}\n            {!isNewFeature && (\n              <div className='bg-gray-50 p-4 rounded-lg'>\n                <h3 className='font-semibold text-lg mb-2'>{feature.name}</h3>\n                <p className='text-sm text-gray-600 mb-2'>{feature.description}</p>\n                <div className='flex gap-2'>\n                  <Badge variant='outline'>{feature.category}</Badge>\n                  <Badge variant={feature.status === 'completed' ? 'default' : 'secondary'}>\n                    {feature.status}\n                  </Badge>\n                  {feature.priority && (\n                    <Badge variant={feature.priority === 'high' ? 'destructive' : 'secondary'}>\n                      {feature.priority}\n                    </Badge>\n                  )}\n                </div>\n              </div>\n            )}\n\n            {/* New Feature Fields */}\n            {isNewFeature && (\n              <div className='space-y-4 bg-blue-50 p-4 rounded-lg'>\n                <h3 className='text-lg font-semibold'>New Feature Details</h3>\n                <div className='grid grid-cols-1 md:grid-cols-2 gap-4'>\n                  <div>\n                    <Label htmlFor='featureName'>Feature Name *</Label>\n                    <Input\n                      id='featureName'\n                      placeholder='Enter feature name'\n                      value={formData.featureName || ''}\n                      onChange={(e) => updateFormData('featureName', e.target.value)}\n                    />\n                  </div>\n                  <div>\n                    <Label htmlFor='featureCategory'>Category</Label>\n                    <Select\n                      value={formData.featureCategory || ''}\n                      onValueChange={(_value: string) => updateFormData('featureCategory', _value)}\n                    >\n                      <SelectTrigger>\n                        <SelectValue placeholder='Select category' />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value='Dashboard & Home'>Dashboard & Home</SelectItem>\n                        <SelectItem value='Property Management'>Property Management</SelectItem>\n                        <SelectItem value='Resident Management'>Resident Management</SelectItem>\n                        <SelectItem value='Financial Management'>Financial Management</SelectItem>\n                        <SelectItem value='Maintenance & Requests'>\n                          Maintenance & Requests\n                        </SelectItem>\n                        <SelectItem value='Document Management'>Document Management</SelectItem>\n                        <SelectItem value='Communication'>Communication</SelectItem>\n                        <SelectItem value='AI & Automation'>AI & Automation</SelectItem>\n                        <SelectItem value='Compliance & Security'>Compliance & Security</SelectItem>\n                        <SelectItem value='Analytics & Reporting'>Analytics & Reporting</SelectItem>\n                        <SelectItem value='Integration & API'>Integration & API</SelectItem>\n                        <SelectItem value='Infrastructure & Performance'>\n                          Infrastructure & Performance\n                        </SelectItem>\n                        <SelectItem value='Website'>Website</SelectItem>\n                      </SelectContent>\n                    </Select>\n                  </div>\n                </div>\n                <div>\n                  <Label htmlFor='featureDescription'>Feature Description</Label>\n                  <Textarea\n                    id='featureDescription'\n                    placeholder='Describe what this feature will do'\n                    value={formData.featureDescription || ''}\n                    onChange={(e) => updateFormData('featureDescription', e.target.value)}\n                  />\n                </div>\n\n                {/* Strategic Path Toggle */}\n                <div className='flex items-center gap-3 pt-2'>\n                  <Label htmlFor='strategic-path' className='text-sm font-medium'>\n                    Strategic Path:\n                  </Label>\n                  <Switch\n                    id='strategic-path'\n                    checked={formData.isStrategicPath}\n                    onCheckedChange={(checked: boolean) =>\n                      updateFormData('isStrategicPath', checked)\n                    }\n                    className='scale-90'\n                  />\n                  <span className='text-xs text-gray-500'>\n                    Mark this feature as part of the strategic roadmap\n                  </span>\n                </div>\n              </div>\n            )}\n\n            <div className='grid grid-cols-1 md:grid-cols-2 gap-6'>\n              {/* Business Requirements */}\n              <div className='space-y-4'>\n                <h3 className='text-lg font-semibold'>Business Requirements</h3>\n\n                <div>\n                  <Label htmlFor='businessObjective'>Business Objective *</Label>\n                  <Textarea\n                    id='businessObjective'\n                    placeholder='What problem does this feature solve? What business value does it provide?'\n                    value={formData.businessObjective}\n                    onChange={(e) => updateFormData('businessObjective', e.target.value)}\n                  />\n                </div>\n\n                <div>\n                  <Label htmlFor='targetUsers'>Target Users *</Label>\n                  <Input\n                    id='targetUsers'\n                    placeholder='e.g., Property managers, Tenants, Owners'\n                    value={formData.targetUsers}\n                    onChange={(e) => updateFormData('targetUsers', e.target.value)}\n                  />\n                </div>\n\n                <div>\n                  <Label htmlFor='successMetrics'>Success Metrics</Label>\n                  <Textarea\n                    id='successMetrics'\n                    placeholder='How will we measure success? What are the KPIs?'\n                    value={formData.successMetrics}\n                    onChange={(e) => updateFormData('successMetrics', e.target.value)}\n                  />\n                </div>\n\n                <div>\n                  <Label htmlFor='priority'>Development Priority</Label>\n                  <Select\n                    value={formData.priority}\n                    onValueChange={(_value: string) => updateFormData('priority', _value)}\n                  >\n                    <SelectTrigger>\n                      <SelectValue placeholder='Select priority level' />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value='critical'>Critical</SelectItem>\n                      <SelectItem value='high'>High</SelectItem>\n                      <SelectItem value='medium'>Medium</SelectItem>\n                      <SelectItem value='low'>Low</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n\n                <div>\n                  <Label htmlFor='timeline'>Expected Timeline</Label>\n                  <Input\n                    id='timeline'\n                    placeholder='e.g., 2 weeks, 1 month, Next sprint'\n                    value={formData.timeline}\n                    onChange={(e) => updateFormData('timeline', e.target.value)}\n                  />\n                </div>\n              </div>\n\n              {/* Technical Requirements */}\n              <div className='space-y-4'>\n                <h3 className='text-lg font-semibold'>Technical Requirements</h3>\n\n                <div>\n                  <Label htmlFor='complexity'>Complexity Assessment</Label>\n                  <Select\n                    value={formData.complexity}\n                    onValueChange={(_value: string) => updateFormData('complexity', _value)}\n                  >\n                    <SelectTrigger>\n                      <SelectValue placeholder='Assess technical complexity' />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value='simple'>Simple (1-3 days)</SelectItem>\n                      <SelectItem value='medium'>Medium (1-2 weeks)</SelectItem>\n                      <SelectItem value='complex'>Complex (2-4 weeks)</SelectItem>\n                      <SelectItem value='very-complex'>Very Complex (1+ months)</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n\n                <div>\n                  <Label htmlFor='dependencies'>Dependencies</Label>\n                  <Textarea\n                    id='dependencies'\n                    placeholder='What other features, APIs, or systems does this depend on?'\n                    value={formData.dependencies}\n                    onChange={(e) => updateFormData('dependencies', e.target.value)}\n                  />\n                </div>\n\n                <div>\n                  <Label htmlFor='dataRequirements'>Data Requirements</Label>\n                  <Textarea\n                    id='dataRequirements'\n                    placeholder='What data needs to be stored, modified, or accessed?'\n                    value={formData.dataRequirements}\n                    onChange={(e) => updateFormData('dataRequirements', e.target.value)}\n                  />\n                </div>\n\n                <div>\n                  <Label htmlFor='integrationNeeds'>Integration Needs</Label>\n                  <Textarea\n                    id='integrationNeeds'\n                    placeholder='External APIs, services, or third-party integrations needed'\n                    value={formData.integrationNeeds}\n                    onChange={(e) => updateFormData('integrationNeeds', e.target.value)}\n                  />\n                </div>\n\n                <div>\n                  <Label htmlFor='securityConsiderations'>Security Considerations</Label>\n                  <Textarea\n                    id='securityConsiderations'\n                    placeholder='Authentication, authorization, data privacy concerns'\n                    value={formData.securityConsiderations}\n                    onChange={(e) => updateFormData('securityConsiderations', e.target.value)}\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* User Experience Section */}\n            <div className='space-y-4'>\n              <h3 className='text-lg font-semibold'>User Experience</h3>\n              <div className='grid grid-cols-1 md:grid-cols-2 gap-4'>\n                <div>\n                  <Label htmlFor='userFlow'>User Flow *</Label>\n                  <Textarea\n                    id='userFlow'\n                    placeholder='Describe the step-by-step user interaction with this feature'\n                    value={formData.userFlow}\n                    onChange={(e) => updateFormData('userFlow', e.target.value)}\n                  />\n                </div>\n\n                <div>\n                  <Label htmlFor='uiRequirements'>UI Requirements</Label>\n                  <Textarea\n                    id='uiRequirements'\n                    placeholder='Specific UI components, layouts, or visual requirements'\n                    value={formData.uiRequirements}\n                    onChange={(e) => updateFormData('uiRequirements', e.target.value)}\n                  />\n                </div>\n              </div>\n\n              <div>\n                <Label htmlFor='accessibilityNeeds'>Accessibility Needs</Label>\n                <Input\n                  id='accessibilityNeeds'\n                  placeholder='Screen reader support, keyboard navigation, color contrast'\n                  value={formData.accessibilityNeeds}\n                  onChange={(e) => updateFormData('accessibilityNeeds', e.target.value)}\n                />\n              </div>\n            </div>\n\n            {/* Quality & Performance Section */}\n            <div className='space-y-4'>\n              <h3 className='text-lg font-semibold'>Quality & Performance</h3>\n              <div className='grid grid-cols-1 md:grid-cols-2 gap-4'>\n                <div>\n                  <Label htmlFor='performanceRequirements'>Performance Requirements</Label>\n                  <Textarea\n                    id='performanceRequirements'\n                    placeholder='Load times, data processing speed, scalability needs'\n                    value={formData.performanceRequirements}\n                    onChange={(e) => updateFormData('performanceRequirements', e.target.value)}\n                  />\n                </div>\n\n                <div>\n                  <Label htmlFor='testingStrategy'>Testing Strategy</Label>\n                  <Textarea\n                    id='testingStrategy'\n                    placeholder='Unit tests, integration tests, user acceptance criteria'\n                    value={formData.testingStrategy}\n                    onChange={(e) => updateFormData('testingStrategy', e.target.value)}\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* RBAC Requirements Section */}\n            <div className='space-y-4'>\n              <h3 className='text-lg font-semibold'>Role-Based Access Control (RBAC)</h3>\n\n              <div className='flex items-center gap-3'>\n                <Label htmlFor='rbacRequired' className='text-sm font-medium'>\n                  Does this feature require RBAC?\n                </Label>\n                <Switch\n                  id='rbacRequired'\n                  checked={formData.rbacRequired}\n                  onCheckedChange={(checked: boolean) => updateFormData('rbacRequired', checked)}\n                />\n                <span className='text-xs text-gray-500'>\n                  Enable role-based access control for this feature\n                </span>\n              </div>\n\n              {formData.rbacRequired && (\n                <div className='bg-yellow-50 p-4 rounded-lg space-y-4'>\n                  <h4 className='font-medium text-yellow-800'>Configure Role Permissions</h4>\n                  <p className='text-sm text-yellow-700'>\n                    For each role, specify read/write permissions and organizational limitations.\n                  </p>\n\n                  {Object.entries(formData.rbacRoles).map(([role, permissions]) => (\n                    <div key={role} className='bg-white p-3 rounded border'>\n                      <div className='flex items-center justify-between mb-2'>\n                        <h5 className='font-medium capitalize text-gray-900'>\n                          {role.replace('_', ' ')}\n                        </h5>\n                      </div>\n\n                      <div className='grid grid-cols-1 md:grid-cols-3 gap-3'>\n                        <div className='flex items-center gap-2'>\n                          <input\n                            type='checkbox'\n                            id={`${role}-read`}\n                            checked={permissions.read}\n                            onChange={(e) => {\n                              const newRoles = { ...formData.rbacRoles };\n                              newRoles[role as keyof typeof formData.rbacRoles].read =\n                                e.target.checked;\n                              updateFormData('rbacRoles', newRoles);\n                            }}\n                            className='rounded'\n                          />\n                          <Label htmlFor={`${role}-read`} className='text-sm'>\n                            Read Access\n                          </Label>\n                        </div>\n\n                        <div className='flex items-center gap-2'>\n                          <input\n                            type='checkbox'\n                            id={`${role}-write`}\n                            checked={permissions.write}\n                            onChange={(e) => {\n                              const newRoles = { ...formData.rbacRoles };\n                              newRoles[role as keyof typeof formData.rbacRoles].write =\n                                e.target.checked;\n                              updateFormData('rbacRoles', newRoles);\n                            }}\n                            className='rounded'\n                          />\n                          <Label htmlFor={`${role}-write`} className='text-sm'>\n                            Write Access\n                          </Label>\n                        </div>\n\n                        <div>\n                          <Input\n                            placeholder='Organizational limitations'\n                            value={permissions.organizationalLimitation}\n                            onChange={(e) => {\n                              const newRoles = { ...formData.rbacRoles };\n                              newRoles[\n                                role as keyof typeof formData.rbacRoles\n                              ].organizationalLimitation = e.target.value;\n                              updateFormData('rbacRoles', newRoles);\n                            }}\n                            className='text-xs'\n                          />\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            {/* Additional Notes */}\n            <div>\n              <Label htmlFor='additionalNotes'>Additional Notes</Label>\n              <Textarea\n                id='additionalNotes'\n                placeholder='Any other requirements, constraints, or considerations'\n                value={formData.additionalNotes}\n                onChange={(e) => updateFormData('additionalNotes', e.target.value)}\n              />\n            </div>\n\n            {/* File Attachments */}\n            <div className=\"space-y-3 border-t pt-4\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center gap-2\">\n                  <Paperclip className=\"w-4 h-4 text-gray-500\" />\n                  <Label className=\"text-sm font-medium\">Supporting Documents</Label>\n                  <span className=\"text-xs text-gray-500\">\n                    (Optional - Mockups, wireframes, screenshots, requirements docs)\n                  </span>\n                </div>\n                <SharedUploader\n                  onDocumentChange={(file, extractedText) => {\n                    if (file) {\n                      handleFilesSelect([file]);\n                    }\n                  }}\n                  allowedFileTypes={['image/*', 'application/pdf', '.doc', '.docx', '.txt', '.fig', '.sketch']}\n                  maxFileSize={25}\n                  showCamera={true}\n                  compact={true}\n                  placeholder=\"Upload wireframes, mockups, or requirements\"\n                />\n              </div>\n              {attachedFiles.length > 0 && (\n                <div className=\"space-y-2\">\n                  <p className=\"text-xs text-gray-600\">\n                    Selected files ({attachedFiles.length}):\n                  </p>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {attachedFiles.map((file, index) => (\n                      <div\n                        key={index}\n                        className=\"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded text-xs\"\n                      >\n                        <span className=\"truncate max-w-[100px]\">{file.name}</span>\n                        <button\n                          onClick={() => setAttachedFiles(prev => prev.filter((_, i) => i !== index))}\n                          className=\"text-gray-500 hover:text-red-500\"\n                          type=\"button\"\n                        >\n                          Ã—\n                        </button>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        ) : (\n          <div className='space-y-4'>\n            <div className='bg-gray-50 p-4 rounded-lg'>\n              <div className='flex items-center justify-between mb-2'>\n                <p className='text-sm text-gray-600'>\n                  Generated development prompt for{' '}\n                  <strong>{feature?.name || formData.featureName || 'New Feature'}</strong>\n                </p>\n                <div className='flex gap-2'>\n                  <Button onClick={copyPrompt} size='sm' variant='outline'>\n                    <Copy className='h-4 w-4 mr-1' />\n                    Copy Prompt\n                  </Button>\n\n                  {feature?.id && (\n                    <Button\n                      onClick={() =>\n                        savePromptMutation.mutate({\n                          featureId: feature.id,\n                          prompt: generatedPrompt,\n                          title: `Development Prompt: ${feature.name}`,\n                        })\n                      }\n                      size='sm'\n                      variant='outline'\n                      disabled={savePromptMutation.isPending}\n                      className='bg-green-50 border-green-200 text-green-700 hover:bg-green-100'\n                    >\n                      <Save className='h-4 w-4 mr-1' />\n                      {savePromptMutation.isPending ? 'Saving...' : 'Save as Task'}\n                    </Button>\n                  )}\n                </div>\n              </div>\n            </div>\n            <div className='bg-gray-900 text-green-400 p-4 rounded-lg font-mono text-sm max-h-96 overflow-y-auto'>\n              <pre className='whitespace-pre-wrap'>{generatedPrompt}</pre>\n            </div>\n          </div>\n        )}\n\n        <DialogFooter className='flex justify-between'>\n          <div className='flex items-center gap-2'>\n            <Button\n              variant='outline'\n              onClick={integrateToRoadmap}\n              disabled={\n                createFeatureMutation.isPending || (isNewFeature && !formData.featureName.trim())\n              }\n              className='bg-blue-50 border-blue-200 text-blue-700 hover:bg-blue-100'\n            >\n              <Plus className='h-4 w-4 mr-2' />\n              {createFeatureMutation.isPending ? 'Integrating...' : 'Integrate to Roadmap'}\n            </Button>\n\n            {lastSaved && step === 'form' && (\n              <Button\n                variant='ghost'\n                size='sm'\n                onClick={clearDraft}\n                className='text-red-600 hover:text-red-700'\n              >\n                <Trash2 className='h-4 w-4 mr-1' />\n                Clear Draft\n              </Button>\n            )}\n          </div>\n\n          <div className='flex gap-2'>\n            {step === 'form' && (\n              <Button\n                onClick={saveDraft}\n                variant='outline'\n                className='bg-green-50 border-green-200 text-green-700 hover:bg-green-100'\n              >\n                <Save className='h-4 w-4 mr-2' />\n                Save Progress\n              </Button>\n            )}\n\n            {step === 'prompt' && (\n              <Button variant='outline' onClick={() => setStep('form')}>\n                Back to Form\n              </Button>\n            )}\n\n            <Button\n              onClick={generatePrompt}\n              disabled={\n                !formData.businessObjective ||\n                !formData.targetUsers ||\n                !formData.userFlow ||\n                (isNewFeature && !formData.featureName.trim())\n              }\n              className='flex items-center gap-2'\n            >\n              <Zap className='h-4 w-4' />\n              {step === 'form' ? 'Generate Prompt' : 'Regenerate'}\n            </Button>\n          </div>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"version":3}