02e0892a5c0676fe5c54cf4cc7f2b03e
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.insertMonthlyBudgetSchema = exports.insertBudgetSchema = exports.insertOldBillSchema = exports.insertBillSchema = exports.monthlyBudgets = exports.budgets = exports.oldBills = exports.bills = exports.schedulePaymentEnum = exports.paymentTypeEnum = exports.billCategoryEnum = exports.oldBillTypeEnum = exports.billStatusEnum = void 0;
const drizzle_orm_1 = require("drizzle-orm");
const pg_core_1 = require("drizzle-orm/pg-core");
const drizzle_zod_1 = require("drizzle-zod");
const zod_1 = require("zod");
const core_1 = require("./core");
const property_1 = require("./property");
// Financial enums
exports.billStatusEnum = (0, pg_core_1.pgEnum)('bill_status', [
    'draft',
    'sent',
    'overdue',
    'paid',
    'cancelled',
]);
exports.oldBillTypeEnum = (0, pg_core_1.pgEnum)('old_bill_type', [
    'condo_fees',
    'special_assessment',
    'utility',
    'maintenance',
    'other',
]);
exports.billCategoryEnum = (0, pg_core_1.pgEnum)('bill_category', [
    'insurance',
    'maintenance',
    'salary',
    'utilities',
    'cleaning',
    'security',
    'landscaping',
    'professional_services',
    'administration',
    'repairs',
    'supplies',
    'taxes',
    'technology',
    'reserves',
    'other',
]);
exports.paymentTypeEnum = (0, pg_core_1.pgEnum)('payment_type', ['unique', 'recurrent']);
exports.schedulePaymentEnum = (0, pg_core_1.pgEnum)('schedule_payment', [
    'weekly',
    'monthly',
    'quarterly',
    'yearly',
    'custom',
]);
// Financial tables
/**
 * Enhanced bills table for tracking financial obligations with advanced scheduling.
 * Supports unique and recurrent payments with custom scheduling options.
 */
exports.bills = (0, pg_core_1.pgTable)('bills', {
    id: (0, pg_core_1.uuid)('id')
        .primaryKey()
        .default((0, drizzle_orm_1.sql) `gen_random_uuid()`),
    buildingId: (0, pg_core_1.uuid)('building_id')
        .notNull()
        .references(() => property_1.buildings.id),
    billNumber: (0, pg_core_1.text)('bill_number').notNull().unique(),
    title: (0, pg_core_1.text)('title').notNull(),
    description: (0, pg_core_1.text)('description'),
    category: (0, exports.billCategoryEnum)('category').notNull(),
    vendor: (0, pg_core_1.text)('vendor'), // Company or service provider
    paymentType: (0, exports.paymentTypeEnum)('payment_type').notNull(), // unique or recurrent
    schedulePayment: (0, exports.schedulePaymentEnum)('schedule_payment'), // Only for recurrent payments
    scheduleCustom: (0, pg_core_1.date)('schedule_custom').array(), // Custom dates for custom schedules
    costs: (0, pg_core_1.decimal)('costs', { precision: 12, scale: 2 }).array().notNull(), // Array of costs for payment plan
    totalAmount: (0, pg_core_1.decimal)('total_amount', { precision: 12, scale: 2 }).notNull(),
    startDate: (0, pg_core_1.date)('start_date').notNull(), // When the bill series starts
    endDate: (0, pg_core_1.date)('end_date'), // For recurrent bills, when they end (optional for ongoing)
    status: (0, exports.billStatusEnum)('status').notNull().default('draft'),
    documentPath: (0, pg_core_1.text)('document_path'), // Path to uploaded bill document
    documentName: (0, pg_core_1.text)('document_name'), // Original filename
    isAiAnalyzed: (0, pg_core_1.boolean)('is_ai_analyzed').default(false),
    aiAnalysisData: (0, pg_core_1.jsonb)('ai_analysis_data'), // Store AI-extracted data
    notes: (0, pg_core_1.text)('notes'),
    autoGenerated: (0, pg_core_1.boolean)('auto_generated').notNull().default(false), // Indicates if this bill was auto-generated
    reference: (0, pg_core_1.uuid)('reference').references(() => exports.bills.id), // References the original bill for auto-generated bills
    createdBy: (0, pg_core_1.uuid)('created_by')
        .notNull()
        .references(() => core_1.users.id),
    createdAt: (0, pg_core_1.timestamp)('created_at').defaultNow(),
    updatedAt: (0, pg_core_1.timestamp)('updated_at').defaultNow(),
});
/**
 * Legacy bills table - keeping for backward compatibility.
 * Will be migrated to new bills table structure.
 */
exports.oldBills = (0, pg_core_1.pgTable)('old_bills', {
    id: (0, pg_core_1.uuid)('id')
        .primaryKey()
        .default((0, drizzle_orm_1.sql) `gen_random_uuid()`),
    residenceId: (0, pg_core_1.uuid)('residence_id')
        .notNull()
        .references(() => property_1.residences.id),
    billNumber: (0, pg_core_1.text)('bill_number').notNull().unique(),
    type: (0, exports.oldBillTypeEnum)('type').notNull(),
    description: (0, pg_core_1.text)('description').notNull(),
    amount: (0, pg_core_1.decimal)('amount', { precision: 12, scale: 2 }).notNull(),
    dueDate: (0, pg_core_1.date)('due_date').notNull(),
    issueDate: (0, pg_core_1.date)('issue_date').notNull(),
    status: (0, exports.billStatusEnum)('status').notNull().default('draft'),
    notes: (0, pg_core_1.text)('notes'),
    lateFeeAmount: (0, pg_core_1.decimal)('late_fee_amount', { precision: 10, scale: 2 }),
    discountAmount: (0, pg_core_1.decimal)('discount_amount', { precision: 10, scale: 2 }),
    finalAmount: (0, pg_core_1.decimal)('final_amount', { precision: 12, scale: 2 }).notNull(),
    paymentReceivedDate: (0, pg_core_1.date)('payment_received_date'),
    createdBy: (0, pg_core_1.uuid)('created_by')
        .notNull()
        .references(() => core_1.users.id),
    createdAt: (0, pg_core_1.timestamp)('created_at').defaultNow(),
    updatedAt: (0, pg_core_1.timestamp)('updated_at').defaultNow(),
});
/**
 * Budgets table for tracking financial planning by building and category.
 * Supports operational, reserve, and special project budgets.
 */
exports.budgets = (0, pg_core_1.pgTable)('budgets', {
    id: (0, pg_core_1.uuid)('id')
        .primaryKey()
        .default((0, drizzle_orm_1.sql) `gen_random_uuid()`),
    buildingId: (0, pg_core_1.uuid)('building_id')
        .notNull()
        .references(() => property_1.buildings.id),
    year: (0, pg_core_1.integer)('year').notNull(),
    name: (0, pg_core_1.text)('name').notNull(),
    description: (0, pg_core_1.text)('description'),
    category: (0, pg_core_1.text)('category').notNull(), // 'operational', 'reserve', 'special_project'
    budgetedAmount: (0, pg_core_1.decimal)('budgeted_amount', { precision: 12, scale: 2 }).notNull(),
    actualAmount: (0, pg_core_1.decimal)('actual_amount', { precision: 12, scale: 2 }).default('0'),
    variance: (0, pg_core_1.decimal)('variance', { precision: 12, scale: 2 }).default('0'),
    approvedBy: (0, pg_core_1.uuid)('approved_by').references(() => core_1.users.id),
    approvedDate: (0, pg_core_1.date)('approved_date'),
    isActive: (0, pg_core_1.boolean)('is_active').notNull().default(true),
    createdBy: (0, pg_core_1.uuid)('created_by')
        .notNull()
        .references(() => core_1.users.id),
    createdAt: (0, pg_core_1.timestamp)('created_at').defaultNow(),
    updatedAt: (0, pg_core_1.timestamp)('updated_at').defaultNow(),
});
/**
 * Monthly budgets table for detailed monthly tracking of income and spending by building.
 * Automatically populated for each building from construction date to 25 years in the future.
 * Updated monthly on the 1st and supports approval workflow.
 */
exports.monthlyBudgets = (0, pg_core_1.pgTable)('monthly_budgets', {
    id: (0, pg_core_1.uuid)('id')
        .primaryKey()
        .default((0, drizzle_orm_1.sql) `gen_random_uuid()`),
    buildingId: (0, pg_core_1.uuid)('building_id')
        .notNull()
        .references(() => property_1.buildings.id),
    year: (0, pg_core_1.integer)('year').notNull(),
    month: (0, pg_core_1.integer)('month').notNull(), // 1-12
    incomeTypes: (0, pg_core_1.text)('income_types').array().notNull(), // Array of income categories from money_flow
    incomes: (0, pg_core_1.decimal)('incomes', { precision: 12, scale: 2 }).array().notNull(), // Array of income amounts corresponding to incomeTypes
    spendingTypes: (0, pg_core_1.text)('spending_types').array().notNull(), // Array of expense categories from money_flow
    spendings: (0, pg_core_1.decimal)('spendings', { precision: 12, scale: 2 }).array().notNull(), // Array of spending amounts corresponding to spendingTypes
    approved: (0, pg_core_1.boolean)('approved').notNull().default(false),
    approvedBy: (0, pg_core_1.uuid)('approved_by').references(() => core_1.users.id),
    approvedDate: (0, pg_core_1.timestamp)('approved_date'),
    originalBudgetId: (0, pg_core_1.uuid)('original_budget_id').references(() => exports.monthlyBudgets.id), // References the original budget if this is an approved copy
    createdAt: (0, pg_core_1.timestamp)('created_at').defaultNow(),
    updatedAt: (0, pg_core_1.timestamp)('updated_at').defaultNow(),
});
// Insert schemas
// Removed insertMoneyFlowSchema - money flow table deleted
exports.insertBillSchema = (0, drizzle_zod_1.createInsertSchema)(exports.bills, {
    // Custom validations for strict schema compliance
    billNumber: zod_1.z.string().min(1, "Bill number is required"),
    title: zod_1.z.string().min(1, "Title is required"),
    category: zod_1.z.enum(['insurance', 'maintenance', 'salary', 'utilities', 'cleaning', 'security', 'landscaping', 'professional_services', 'administration', 'repairs', 'supplies', 'taxes', 'technology', 'reserves', 'other']),
    paymentType: zod_1.z.enum(['unique', 'recurrent']),
    schedulePayment: zod_1.z.enum(['weekly', 'monthly', 'quarterly', 'yearly', 'custom']).optional(),
    scheduleCustom: zod_1.z.array(zod_1.z.coerce.date()).optional().refine((dates) => !dates || dates.length === 0 || dates.every(date => date instanceof Date && !isNaN(date.getTime())), "All custom schedule dates must be valid dates"),
    costs: zod_1.z.array(zod_1.z.coerce.number().positive("All costs must be positive")).min(1, "At least one cost is required"),
    totalAmount: zod_1.z.coerce.number().positive("Total amount must be positive"),
    startDate: zod_1.z.coerce.date(),
    endDate: zod_1.z.coerce.date().optional(),
    status: zod_1.z.enum(['draft', 'sent', 'overdue', 'paid', 'cancelled']).default('draft'),
    autoGenerated: zod_1.z.boolean().default(false),
}).omit({
    id: true,
    createdAt: true,
    updatedAt: true
});
exports.insertOldBillSchema = zod_1.z.object({
    residenceId: zod_1.z.string().uuid(),
    billNumber: zod_1.z.string(),
    type: zod_1.z.string(),
    description: zod_1.z.string().optional(),
    amount: zod_1.z.number(),
    dueDate: zod_1.z.date(),
    issueDate: zod_1.z.date().optional(),
    status: zod_1.z.string().default('unpaid'),
    notes: zod_1.z.string().optional(),
    lateFeeAmount: zod_1.z.number().optional(),
    discountAmount: zod_1.z.number().optional(),
    finalAmount: zod_1.z.number().optional(),
    paymentReceivedDate: zod_1.z.date().optional(),
    createdBy: zod_1.z.string().uuid(),
});
exports.insertBudgetSchema = zod_1.z.object({
    buildingId: zod_1.z.string().uuid(),
    year: zod_1.z.number().int(),
    name: zod_1.z.string(),
    description: zod_1.z.string().optional(),
    category: zod_1.z.string(),
    budgetedAmount: zod_1.z.number(),
    actualAmount: zod_1.z.number().optional(),
    createdBy: zod_1.z.string().uuid(),
});
exports.insertMonthlyBudgetSchema = (0, drizzle_zod_1.createInsertSchema)(exports.monthlyBudgets).omit({
    id: true,
    createdAt: true,
    updatedAt: true
});
// Relations - temporarily commented out due to drizzle-orm version compatibility
// Removed moneyFlow relations
//   }),
//   residence: one(residences, {
//   (removed money flow relations)
//   }),
// }));
// export const billsRelations = relations(bills, ({ one, many }) => ({
//   building: one(buildings, {
//     fields: [bills.buildingId],
//     references: [buildings.id],
//   }),
//   createdBy: one(users, {
//     fields: [bills.createdBy],
//     references: [users.id],
//   }),
//   originalBill: one(bills, {
//     fields: [bills.reference],
//     references: [bills.id],
//     relationName: 'billReference'
//   }),
//   generatedBills: many(bills, {
//     relationName: 'billReference'
//   }),
//   (removed money flow relations),
// }));
// export const oldBillsRelations = relations(oldBills, ({ one }) => ({
//   residence: one(residences, {
//     fields: [oldBills.residenceId],
//     references: [residences.id],
//   }),
//   createdBy: one(users, {
//     fields: [oldBills.createdBy],
//     references: [users.id],
//   }),
// }));
// export const budgetsRelations = relations(budgets, ({ one }) => ({
//   building: one(buildings, {
//     fields: [budgets.buildingId],
//     references: [buildings.id],
//   }),
//   createdBy: one(users, {
//     fields: [budgets.createdBy],
//     references: [users.id],
//   }),
//   approvedBy: one(users, {
//     fields: [budgets.approvedBy],
//     references: [users.id],
//   }),
// }));
// export const monthlyBudgetsRelations = relations(monthlyBudgets, ({ one }) => ({
//   building: one(buildings, {
//     fields: [monthlyBudgets.buildingId],
//     references: [buildings.id],
//   }),
//   approvedBy: one(users, {
//     fields: [monthlyBudgets.approvedBy],
//     references: [users.id],
//   }),
//   originalBudget: one(monthlyBudgets, {
//     fields: [monthlyBudgets.originalBudgetId],
//     references: [monthlyBudgets.id],
//     relationName: 'budgetCopy'
//   }),
// }));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9zaGFyZWQvc2NoZW1hcy9maW5hbmNpYWwudHMiLCJtYXBwaW5ncyI6Ijs7O0FBQUEsNkNBQWtDO0FBQ2xDLGlEQVc2QjtBQUM3Qiw2Q0FBaUQ7QUFDakQsNkJBQXdCO0FBRXhCLGlDQUErQjtBQUMvQix5Q0FBbUQ7QUFFbkQsa0JBQWtCO0FBQ0wsUUFBQSxjQUFjLEdBQUcsSUFBQSxnQkFBTSxFQUFDLGFBQWEsRUFBRTtJQUNsRCxPQUFPO0lBQ1AsTUFBTTtJQUNOLFNBQVM7SUFDVCxNQUFNO0lBQ04sV0FBVztDQUNaLENBQUMsQ0FBQztBQUVVLFFBQUEsZUFBZSxHQUFHLElBQUEsZ0JBQU0sRUFBQyxlQUFlLEVBQUU7SUFDckQsWUFBWTtJQUNaLG9CQUFvQjtJQUNwQixTQUFTO0lBQ1QsYUFBYTtJQUNiLE9BQU87Q0FDUixDQUFDLENBQUM7QUFFVSxRQUFBLGdCQUFnQixHQUFHLElBQUEsZ0JBQU0sRUFBQyxlQUFlLEVBQUU7SUFDdEQsV0FBVztJQUNYLGFBQWE7SUFDYixRQUFRO0lBQ1IsV0FBVztJQUNYLFVBQVU7SUFDVixVQUFVO0lBQ1YsYUFBYTtJQUNiLHVCQUF1QjtJQUN2QixnQkFBZ0I7SUFDaEIsU0FBUztJQUNULFVBQVU7SUFDVixPQUFPO0lBQ1AsWUFBWTtJQUNaLFVBQVU7SUFDVixPQUFPO0NBQ1IsQ0FBQyxDQUFDO0FBRVUsUUFBQSxlQUFlLEdBQUcsSUFBQSxnQkFBTSxFQUFDLGNBQWMsRUFBRSxDQUFDLFFBQVEsRUFBRSxXQUFXLENBQUMsQ0FBQyxDQUFDO0FBRWxFLFFBQUEsbUJBQW1CLEdBQUcsSUFBQSxnQkFBTSxFQUFDLGtCQUFrQixFQUFFO0lBQzVELFFBQVE7SUFDUixTQUFTO0lBQ1QsV0FBVztJQUNYLFFBQVE7SUFDUixRQUFRO0NBQ1QsQ0FBQyxDQUFDO0FBRUgsbUJBQW1CO0FBQ25COzs7R0FHRztBQUNVLFFBQUEsS0FBSyxHQUFHLElBQUEsaUJBQU8sRUFBQyxPQUFPLEVBQUU7SUFDcEMsRUFBRSxFQUFFLElB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Qy9CLG9DQUFvQztBQUNwQyxrQ0FBa0M7QUFDbEMsUUFBUTtBQUNSLDRCQUE0QjtBQUM1QixtQ0FBbUM7QUFDbkMsOEJBQThCO0FBQzlCLFFBQVE7QUFDUiw2QkFBNkI7QUFDN0Isb0NBQW9DO0FBQ3BDLDhCQUE4QjtBQUM5QixRQUFRO0FBQ1IsT0FBTztBQUVQLG1GQUFtRjtBQUNuRiwrQkFBK0I7QUFDL0IsMkNBQTJDO0FBQzNDLGtDQUFrQztBQUNsQyxRQUFRO0FBQ1IsNkJBQTZCO0FBQzdCLDJDQUEyQztBQUMzQyw4QkFBOEI7QUFDOUIsUUFBUTtBQUNSLDBDQUEwQztBQUMxQyxpREFBaUQ7QUFDakQsdUNBQXVDO0FBQ3ZDLGlDQUFpQztBQUNqQyxRQUFRO0FBQ1IsT0FBTyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvaG9tZS9ydW5uZXIvd29ya3NwYWNlL3NoYXJlZC9zY2hlbWFzL2ZpbmFuY2lhbC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzcWwgfSBmcm9tICdkcml6emxlLW9ybSc7XG5pbXBvcnQge1xuICBwZ1RhYmxlLFxuICB0ZXh0LFxuICB0aW1lc3RhbXAsXG4gIHV1aWQsXG4gIHBnRW51bSxcbiAgYm9vbGVhbixcbiAgaW50ZWdlcixcbiAgZGVjaW1hbCxcbiAgZGF0ZSxcbiAganNvbmIsXG59IGZyb20gJ2RyaXp6bGUtb3JtL3BnLWNvcmUnO1xuaW1wb3J0IHsgY3JlYXRlSW5zZXJ0U2NoZW1hIH0gZnJvbSAnZHJpenpsZS16b2QnO1xuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5pbXBvcnQgeyByZWxhdGlvbnMgfSBmcm9tICdkcml6emxlLW9ybSc7XG5pbXBvcnQgeyB1c2VycyB9IGZyb20gJy4vY29yZSc7XG5pbXBvcnQgeyByZXNpZGVuY2VzLCBidWlsZGluZ3MgfSBmcm9tICcuL3Byb3BlcnR5JztcblxuLy8gRmluYW5jaWFsIGVudW1zXG5leHBvcnQgY29uc3QgYmlsbFN0YXR1c0VudW0gPSBwZ0VudW0oJ2JpbGxfc3RhdHVzJywgW1xuICAnZHJhZnQnLFxuICAnc2VudCcsXG4gICdvdmVyZHVlJyxcbiAgJ3BhaWQnLFxuICAnY2FuY2VsbGVkJyxcbl0pO1xuXG5leHBvcnQgY29uc3Qgb2xkQmlsbFR5cGVFbnVtID0gcGdFbnVtKCdvbGRfYmlsbF90eXBlJywgW1xuICAnY29uZG9fZmVlcycsXG4gICdzcGVjaWFsX2Fzc2Vzc21lbnQnLFxuICAndXRpbGl0eScsXG4gICdtYWludGVuYW5jZScsXG4gICdvdGhlcicsXG5dKTtcblxuZXhwb3J0IGNvbnN0IGJpbGxDYXRlZ29yeUVudW0gPSBwZ0VudW0oJ2JpbGxfY2F0ZWdvcnknLCBbXG4gICdpbnN1cmFuY2UnLFxuICAnbWFpbnRlbmFuY2UnLFxuICAnc2FsYXJ5JyxcbiAgJ3V0aWxpdGllcycsXG4gICdjbGVhbmluZycsXG4gICdzZWN1cml0eScsXG4gICdsYW5kc2NhcGluZycsXG4gICdwcm9mZXNzaW9uYWxfc2VydmljZXMnLFxuICAnYWRtaW5pc3RyYXRpb24nLFxuICAncmVwYWlycycsXG4gICdzdXBwbGllcycsXG4gICd0YXhlcycsXG4gICd0ZWNobm9sb2d5JyxcbiAgJ3Jlc2VydmVzJyxcbiAgJ290aGVyJyxcbl0pO1xuXG5leHBvcnQgY29uc3QgcGF5bWVudFR5cGVFbnVtID0gcGdFbnVtKCdwYXltZW50X3R5cGUnLCBbJ3VuaXF1ZScsICdyZWN1cnJlbnQnXSk7XG5cbmV4cG9ydCBjb25zdCBzY2hlZHVsZVBheW1lbnRFbnVtID0gcGdFbnVtKCdzY2hlZHVsZV9wYXltZW50JywgW1xuICAnd2Vla2x5JyxcbiAgJ21vbnRobHknLFxuICAncXVhcnRlcmx5JyxcbiAgJ3llYXJseScsXG4gICdjdXN0b20nLFxuXSk7XG5cbi8vIEZpbmFuY2lhbCB0YWJsZXNcbi8qKlxuICogRW5oYW5jZWQgYmlsbHMgdGFibGUgZm9yIHRyYWNraW5nIGZpbmFuY2lhbCBvYmxpZ2F0aW9ucyB3aXRoIGFkdmFuY2VkIHNjaGVkdWxpbmcuXG4gKiBTdXBwb3J0cyB1bmlxdWUgYW5kIHJlY3VycmVudCBwYXltZW50cyB3aXRoIGN1c3RvbSBzY2hlZHVsaW5nIG9wdGlvbnMuXG4gKi9cbmV4cG9ydCBjb25zdCBiaWxscyA9IHBnVGFibGUoJ2JpbGxzJywge1xuICBpZDogdXVpZCgnaWQnKVxuICAgIC5wcmltYXJ5S2V5KClcbiAgICAuZGVmYXVsdChzcWxgZ2VuX3JhbmRvbV91dWlkKClgKSxcbiAgYnVpbGRpbmdJZDogdXVpZCgnYnVpbGRpbmdfaWQnKVxuICAgIC5ub3ROdWxsKClcbiAgICAucmVmZXJlbmNlcygoKSA9PiBidWlsZGluZ3MuaWQpLFxuICBiaWxsTnVtYmVyOiB0ZXh0KCdiaWxsX251bWJlcicpLm5vdE51bGwoKS51bmlxdWUoKSxcbiAgdGl0bGU6IHRleHQoJ3RpdGxlJykubm90TnVsbCgpLFxuICBkZXNjcmlwdGlvbjogdGV4dCgnZGVzY3JpcHRpb24nKSxcbiAgY2F0ZWdvcnk6IGJpbGxDYXRlZ29yeUVudW0oJ2NhdGVnb3J5Jykubm90TnVsbCgpLFxuICB2ZW5kb3I6IHRleHQoJ3ZlbmRvcicpLCAvLyBDb21wYW55IG9yIHNlcnZpY2UgcHJvdmlkZXJcbiAgcGF5bWVudFR5cGU6IHBheW1lbnRUeXBlRW51bSgncGF5bWVudF90eXBlJykubm90TnVsbCgpLCAvLyB1bmlxdWUgb3IgcmVjdXJyZW50XG4gIHNjaGVkdWxlUGF5bWVudDogc2NoZWR1bGVQYXltZW50RW51bSgnc2NoZWR1bGVfcGF5bWVudCcpLCAvLyBPbmx5IGZvciByZWN1cnJlbnQgcGF5bWVudHNcbiAgc2NoZWR1bGVDdXN0b206IGRhdGUoJ3NjaGVkdWxlX2N1c3RvbScpLmFycmF5KCksIC8vIEN1c3RvbSBkYXRlcyBmb3IgY3VzdG9tIHNjaGVkdWxlc1xuICBjb3N0czogZGVjaW1hbCgnY29zdHMnLCB7IHByZWNpc2lvbjogMTIsIHNjYWxlOiAyIH0pLmFycmF5KCkubm90TnVsbCgpLCAvLyBBcnJheSBvZiBjb3N0cyBmb3IgcGF5bWVudCBwbGFuXG4gIHRvdGFsQW1vdW50OiBkZWNpbWFsKCd0b3RhbF9hbW91bnQnLCB7IHByZWNpc2lvbjogMTIsIHNjYWxlOiAyIH0pLm5vdE51bGwoKSxcbiAgc3RhcnREYXRlOiBkYXRlKCdzdGFydF9kYXRlJykubm90TnVsbCgpLCAvLyBXaGVuIHRoZSBiaWxsIHNlcmllcyBzdGFydHNcbiAgZW5kRGF0ZTogZGF0ZSgnZW5kX2RhdGUnKSwgLy8gRm9yIHJlY3VycmVudCBiaWxscywgd2hlbiB0aGV5IGVuZCAob3B0aW9uYWwgZm9yIG9uZ29pbmcpXG4gIHN0YXR1czogYmlsbFN0YXR1c0VudW0oJ3N0YXR1cycpLm5vdE51bGwoKS5kZWZhdWx0KCdkcmFmdCcpLFxuICBkb2N1bWVudFBhdGg6IHRleHQoJ2RvY3VtZW50X3BhdGgnKSwgLy8gUGF0aCB0byB1cGxvYWRlZCBiaWxsIGRvY3VtZW50XG4gIGRvY3VtZW50TmFtZTogdGV4dCgnZG9jdW1lbnRfbmFtZScpLCAvLyBPcmlnaW5hbCBmaWxlbmFtZVxuICBpc0FpQW5hbHl6ZWQ6IGJvb2xlYW4oJ2lzX2FpX2FuYWx5emVkJykuZGVmYXVsdChmYWxzZSksXG4gIGFpQW5hbHlzaXNEYXRhOiBqc29uYignYWlfYW5hbHlzaXNfZGF0YScpLCAvLyBTdG9yZSBBSS1leHRyYWN0ZWQgZGF0YVxuICBub3RlczogdGV4dCgnbm90ZXMnKSxcbiAgYXV0b0dlbmVyYXRlZDogYm9vbGVhbignYXV0b19nZW5lcmF0ZWQnKS5ub3ROdWxsKCkuZGVmYXVsdChmYWxzZSksIC8vIEluZGljYXRlcyBpZiB0aGlzIGJpbGwgd2FzIGF1dG8tZ2VuZXJhdGVkXG4gIHJlZmVyZW5jZTogdXVpZCgncmVmZXJlbmNlJykucmVmZXJlbmNlcygoKSA9PiBiaWxscy5pZCksIC8vIFJlZmVyZW5jZXMgdGhlIG9yaWdpbmFsIGJpbGwgZm9yIGF1dG8tZ2VuZXJhdGVkIGJpbGxzXG4gIGNyZWF0ZWRCeTogdXVpZCgnY3JlYXRlZF9ieScpXG4gICAgLm5vdE51bGwoKVxuICAgIC5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkKSxcbiAgY3JlYXRlZEF0OiB0aW1lc3RhbXAoJ2NyZWF0ZWRfYXQnKS5kZWZhdWx0Tm93KCksXG4gIHVwZGF0ZWRBdDogdGltZXN0YW1wKCd1cGRhdGVkX2F0JykuZGVmYXVsdE5vdygpLFxufSk7XG5cbi8qKlxuICogTGVnYWN5IGJpbGxzIHRhYmxlIC0ga2VlcGluZyBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eS5cbiAqIFdpbGwgYmUgbWlncmF0ZWQgdG8gbmV3IGJpbGxzIHRhYmxlIHN0cnVjdHVyZS5cbiAqL1xuZXhwb3J0IGNvbnN0IG9sZEJpbGxzID0gcGdUYWJsZSgnb2xkX2JpbGxzJywge1xuICBpZDogdXVpZCgnaWQnKVxuICAgIC5wcmltYXJ5S2V5KClcbiAgICAuZGVmYXVsdChzcWxgZ2VuX3JhbmRvbV91dWlkKClgKSxcbiAgcmVzaWRlbmNlSWQ6IHV1aWQoJ3Jlc2lkZW5jZV9pZCcpXG4gICAgLm5vdE51bGwoKVxuICAgIC5yZWZlcmVuY2VzKCgpID0+IHJlc2lkZW5jZXMuaWQpLFxuICBiaWxsTnVtYmVyOiB0ZXh0KCdiaWxsX251bWJlcicpLm5vdE51bGwoKS51bmlxdWUoKSxcbiAgdHlwZTogb2xkQmlsbFR5cGVFbnVtKCd0eXBlJykubm90TnVsbCgpLFxuICBkZXNjcmlwdGlvbjogdGV4dCgnZGVzY3JpcHRpb24nKS5ub3ROdWxsKCksXG4gIGFtb3VudDogZGVjaW1hbCgnYW1vdW50JywgeyBwcmVjaXNpb246IDEyLCBzY2FsZTogMiB9KS5ub3ROdWxsKCksXG4gIGR1ZURhdGU6IGRhdGUoJ2R1ZV9kYXRlJykubm90TnVsbCgpLFxuICBpc3N1ZURhdGU6IGRhdGUoJ2lzc3VlX2RhdGUnKS5ub3ROdWxsKCksXG4gIHN0YXR1czogYmlsbFN0YXR1c0VudW0oJ3N0YXR1cycpLm5vdE51bGwoKS5kZWZhdWx0KCdkcmFmdCcpLFxuICBub3RlczogdGV4dCgnbm90ZXMnKSxcbiAgbGF0ZUZlZUFtb3VudDogZGVjaW1hbCgnbGF0ZV9mZWVfYW1vdW50JywgeyBwcmVjaXNpb246IDEwLCBzY2FsZTogMiB9KSxcbiAgZGlzY291bnRBbW91bnQ6IGRlY2ltYWwoJ2Rpc2NvdW50X2Ftb3VudCcsIHsgcHJlY2lzaW9uOiAxMCwgc2NhbGU6IDIgfSksXG4gIGZpbmFsQW1vdW50OiBkZWNpbWFsKCdmaW5hbF9hbW91bnQnLCB7IHByZWNpc2lvbjogMTIsIHNjYWxlOiAyIH0pLm5vdE51bGwoKSxcbiAgcGF5bWVudFJlY2VpdmVkRGF0ZTogZGF0ZSgncGF5bWVudF9yZWNlaXZlZF9kYXRlJyksXG4gIGNyZWF0ZWRCeTogdXVpZCgnY3JlYXRlZF9ieScpXG4gICAgLm5vdE51bGwoKVxuICAgIC5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkKSxcbiAgY3JlYXRlZEF0OiB0aW1lc3RhbXAoJ2NyZWF0ZWRfYXQnKS5kZWZhdWx0Tm93KCksXG4gIHVwZGF0ZWRBdDogdGltZXN0YW1wKCd1cGRhdGVkX2F0JykuZGVmYXVsdE5vdygpLFxufSk7XG5cbi8qKlxuICogQnVkZ2V0cyB0YWJsZSBmb3IgdHJhY2tpbmcgZmluYW5jaWFsIHBsYW5uaW5nIGJ5IGJ1aWxkaW5nIGFuZCBjYXRlZ29yeS5cbiAqIFN1cHBvcnRzIG9wZXJhdGlvbmFsLCByZXNlcnZlLCBhbmQgc3BlY2lhbCBwcm9qZWN0IGJ1ZGdldHMuXG4gKi9cbmV4cG9ydCBjb25zdCBidWRnZXRzID0gcGdUYWJsZSgnYnVkZ2V0cycsIHtcbiAgaWQ6IHV1aWQoJ2lkJylcbiAgICAucHJpbWFyeUtleSgpXG4gICAgLmRlZmF1bHQoc3FsYGdlbl9yYW5kb21fdXVpZCgpYCksXG4gIGJ1aWxkaW5nSWQ6IHV1aWQoJ2J1aWxkaW5nX2lkJylcbiAgICAubm90TnVsbCgpXG4gICAgLnJlZmVyZW5jZXMoKCkgPT4gYnVpbGRpbmdzLmlkKSxcbiAgeWVhcjogaW50ZWdlcigneWVhcicpLm5vdE51bGwoKSxcbiAgbmFtZTogdGV4dCgnbmFtZScpLm5vdE51bGwoKSxcbiAgZGVzY3JpcHRpb246IHRleHQoJ2Rlc2NyaXB0aW9uJyksXG4gIGNhdGVnb3J5OiB0ZXh0KCdjYXRlZ29yeScpLm5vdE51bGwoKSwgLy8gJ29wZXJhdGlvbmFsJywgJ3Jlc2VydmUnLCAnc3BlY2lhbF9wcm9qZWN0J1xuICBidWRnZXRlZEFtb3VudDogZGVjaW1hbCgnYnVkZ2V0ZWRfYW1vdW50JywgeyBwcmVjaXNpb246IDEyLCBzY2FsZTogMiB9KS5ub3ROdWxsKCksXG4gIGFjdHVhbEFtb3VudDogZGVjaW1hbCgnYWN0dWFsX2Ftb3VudCcsIHsgcHJlY2lzaW9uOiAxMiwgc2NhbGU6IDIgfSkuZGVmYXVsdCgnMCcpLFxuICB2YXJpYW5jZTogZGVjaW1hbCgndmFyaWFuY2UnLCB7IHByZWNpc2lvbjogMTIsIHNjYWxlOiAyIH0pLmRlZmF1bHQoJzAnKSxcbiAgYXBwcm92ZWRCeTogdXVpZCgnYXBwcm92ZWRfYnknKS5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkKSxcbiAgYXBwcm92ZWREYXRlOiBkYXRlKCdhcHByb3ZlZF9kYXRlJyksXG4gIGlzQWN0aXZlOiBib29sZWFuKCdpc19hY3RpdmUnKS5ub3ROdWxsKCkuZGVmYXVsdCh0cnVlKSxcbiAgY3JlYXRlZEJ5OiB1dWlkKCdjcmVhdGVkX2J5JylcbiAgICAubm90TnVsbCgpXG4gICAgLnJlZmVyZW5jZXMoKCkgPT4gdXNlcnMuaWQpLFxuICBjcmVhdGVkQXQ6IHRpbWVzdGFtcCgnY3JlYXRlZF9hdCcpLmRlZmF1bHROb3coKSxcbiAgdXBkYXRlZEF0OiB0aW1lc3RhbXAoJ3VwZGF0ZWRfYXQnKS5kZWZhdWx0Tm93KCksXG59KTtcblxuLyoqXG4gKiBNb250aGx5IGJ1ZGdldHMgdGFibGUgZm9yIGRldGFpbGVkIG1vbnRobHkgdHJhY2tpbmcgb2YgaW5jb21lIGFuZCBzcGVuZGluZyBieSBidWlsZGluZy5cbiAqIEF1dG9tYXRpY2FsbHkgcG9wdWxhdGVkIGZvciBlYWNoIGJ1aWxkaW5nIGZyb20gY29uc3RydWN0aW9uIGRhdGUgdG8gMjUgeWVhcnMgaW4gdGhlIGZ1dHVyZS5cbiAqIFVwZGF0ZWQgbW9udGhseSBvbiB0aGUgMXN0IGFuZCBzdXBwb3J0cyBhcHByb3ZhbCB3b3JrZmxvdy5cbiAqL1xuZXhwb3J0IGNvbnN0IG1vbnRobHlCdWRnZXRzID0gcGdUYWJsZSgnbW9udGhseV9idWRnZXRzJywge1xuICBpZDogdXVpZCgnaWQnKVxuICAgIC5wcmltYXJ5S2V5KClcbiAgICAuZGVmYXVsdChzcWxgZ2VuX3JhbmRvbV91dWlkKClgKSxcbiAgYnVpbGRpbmdJZDogdXVpZCgnYnVpbGRpbmdfaWQnKVxuICAgIC5ub3ROdWxsKClcbiAgICAucmVmZXJlbmNlcygoKSA9PiBidWlsZGluZ3MuaWQpLFxuICB5ZWFyOiBpbnRlZ2VyKCd5ZWFyJykubm90TnVsbCgpLFxuICBtb250aDogaW50ZWdlcignbW9udGgnKS5ub3ROdWxsKCksIC8vIDEtMTJcbiAgaW5jb21lVHlwZXM6IHRleHQoJ2luY29tZV90eXBlcycpLmFycmF5KCkubm90TnVsbCgpLCAvLyBBcnJheSBvZiBpbmNvbWUgY2F0ZWdvcmllcyBmcm9tIG1vbmV5X2Zsb3dcbiAgaW5jb21lczogZGVjaW1hbCgnaW5jb21lcycsIHsgcHJlY2lzaW9uOiAxMiwgc2NhbGU6IDIgfSkuYXJyYXkoKS5ub3ROdWxsKCksIC8vIEFycmF5IG9mIGluY29tZSBhbW91bnRzIGNvcnJlc3BvbmRpbmcgdG8gaW5jb21lVHlwZXNcbiAgc3BlbmRpbmdUeXBlczogdGV4dCgnc3BlbmRpbmdfdHlwZXMnKS5hcnJheSgpLm5vdE51bGwoKSwgLy8gQXJyYXkgb2YgZXhwZW5zZSBjYXRlZ29yaWVzIGZyb20gbW9uZXlfZmxvd1xuICBzcGVuZGluZ3M6IGRlY2ltYWwoJ3NwZW5kaW5ncycsIHsgcHJlY2lzaW9uOiAxMiwgc2NhbGU6IDIgfSkuYXJyYXkoKS5ub3ROdWxsKCksIC8vIEFycmF5IG9mIHNwZW5kaW5nIGFtb3VudHMgY29ycmVzcG9uZGluZyB0byBzcGVuZGluZ1R5cGVzXG4gIGFwcHJvdmVkOiBib29sZWFuKCdhcHByb3ZlZCcpLm5vdE51bGwoKS5kZWZhdWx0KGZhbHNlKSxcbiAgYXBwcm92ZWRCeTogdXVpZCgnYXBwcm92ZWRfYnknKS5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkKSxcbiAgYXBwcm92ZWREYXRlOiB0aW1lc3RhbXAoJ2FwcHJvdmVkX2RhdGUnKSxcbiAgb3JpZ2luYWxCdWRnZXRJZDogdXVpZCgnb3JpZ2luYWxfYnVkZ2V0X2lkJykucmVmZXJlbmNlcygoKSA9PiBtb250aGx5QnVkZ2V0cy5pZCksIC8vIFJlZmVyZW5jZXMgdGhlIG9yaWdpbmFsIGJ1ZGdldCBpZiB0aGlzIGlzIGFuIGFwcHJvdmVkIGNvcHlcbiAgY3JlYXRlZEF0OiB0aW1lc3RhbXAoJ2NyZWF0ZWRfYXQnKS5kZWZhdWx0Tm93KCksXG4gIHVwZGF0ZWRBdDogdGltZXN0YW1wKCd1cGRhdGVkX2F0JykuZGVmYXVsdE5vdygpLFxufSk7XG5cbi8vIEluc2VydCBzY2hlbWFzXG4vLyBSZW1vdmVkIGluc2VydE1vbmV5Rmxvd1NjaGVtYSAtIG1vbmV5IGZsb3cgdGFibGUgZGVsZXRlZFxuXG5leHBvcnQgY29uc3QgaW5zZXJ0QmlsbFNjaGVtYSA9IGNyZWF0ZUluc2VydFNjaGVtYShiaWxscywge1xuICAvLyBDdXN0b20gdmFsaWRhdGlvbnMgZm9yIHN0cmljdCBzY2hlbWEgY29tcGxpYW5jZVxuICBiaWxsTnVtYmVyOiB6LnN0cmluZygpLm1pbigxLCBcIkJpbGwgbnVtYmVyIGlzIHJlcXVpcmVkXCIpLFxuICB0aXRsZTogei5zdHJpbmcoKS5taW4oMSwgXCJUaXRsZSBpcyByZXF1aXJlZFwiKSxcbiAgY2F0ZWdvcnk6IHouZW51bShbJ2luc3VyYW5jZScsICdtYWludGVuYW5jZScsICdzYWxhcnknLCAndXRpbGl0aWVzJywgJ2NsZWFuaW5nJywgJ3NlY3VyaXR5JywgJ2xhbmRzY2FwaW5nJywgJ3Byb2Zlc3Npb25hbF9zZXJ2aWNlcycsICdhZG1pbmlzdHJhdGlvbicsICdyZXBhaXJzJywgJ3N1cHBsaWVzJywgJ3RheGVzJywgJ3RlY2hub2xvZ3knLCAncmVzZXJ2ZXMnLCAnb3RoZXInXSksXG4gIHBheW1lbnRUeXBlOiB6LmVudW0oWyd1bmlxdWUnLCAncmVjdXJyZW50J10pLFxuICBzY2hlZHVsZVBheW1lbnQ6IHouZW51bShbJ3dlZWtseScsICdtb250aGx5JywgJ3F1YXJ0ZXJseScsICd5ZWFybHknLCAnY3VzdG9tJ10pLm9wdGlvbmFsKCksXG4gIHNjaGVkdWxlQ3VzdG9tOiB6LmFycmF5KHouY29lcmNlLmRhdGUoKSkub3B0aW9uYWwoKS5yZWZpbmUoXG4gICAgKGRhdGVzKSA9PiAhZGF0ZXMgfHwgZGF0ZXMubGVuZ3RoID09PSAwIHx8IGRhdGVzLmV2ZXJ5KGRhdGUgPT4gZGF0ZSBpbnN0YW5jZW9mIERhdGUgJiYgIWlzTmFOKGRhdGUuZ2V0VGltZSgpKSksXG4gICAgXCJBbGwgY3VzdG9tIHNjaGVkdWxlIGRhdGVzIG11c3QgYmUgdmFsaWQgZGF0ZXNcIlxuICApLFxuICBjb3N0czogei5hcnJheSh6LmNvZXJjZS5udW1iZXIoKS5wb3NpdGl2ZShcIkFsbCBjb3N0cyBtdXN0IGJlIHBvc2l0aXZlXCIpKS5taW4oMSwgXCJBdCBsZWFzdCBvbmUgY29zdCBpcyByZXF1aXJlZFwiKSxcbiAgdG90YWxBbW91bnQ6IHouY29lcmNlLm51bWJlcigpLnBvc2l0aXZlKFwiVG90YWwgYW1vdW50IG11c3QgYmUgcG9zaXRpdmVcIiksXG4gIHN0YXJ0RGF0ZTogei5jb2VyY2UuZGF0ZSgpLFxuICBlbmREYXRlOiB6LmNvZXJjZS5kYXRlKCkub3B0aW9uYWwoKSxcbiAgc3RhdHVzOiB6LmVudW0oWydkcmFmdCcsICdzZW50JywgJ292ZXJkdWUnLCAncGFpZCcsICdjYW5jZWxsZWQnXSkuZGVmYXVsdCgnZHJhZnQnKSxcbiAgYXV0b0dlbmVyYXRlZDogei5ib29sZWFuKCkuZGVmYXVsdChmYWxzZSksXG59KS5vbWl0KHsgXG4gIGlkOiB0cnVlLCBcbiAgY3JlYXRlZEF0OiB0cnVlLCBcbiAgdXBkYXRlZEF0OiB0cnVlIFxufSk7XG5cbmV4cG9ydCBjb25zdCBpbnNlcnRPbGRCaWxsU2NoZW1hID0gei5vYmplY3Qoe1xuICByZXNpZGVuY2VJZDogei5zdHJpbmcoKS51dWlkKCksXG4gIGJpbGxOdW1iZXI6IHouc3RyaW5nKCksXG4gIHR5cGU6IHouc3RyaW5nKCksXG4gIGRlc2NyaXB0aW9uOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIGFtb3VudDogei5udW1iZXIoKSxcbiAgZHVlRGF0ZTogei5kYXRlKCksXG4gIGlzc3VlRGF0ZTogei5kYXRlKCkub3B0aW9uYWwoKSxcbiAgc3RhdHVzOiB6LnN0cmluZygpLmRlZmF1bHQoJ3VucGFpZCcpLFxuICBub3Rlczogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBsYXRlRmVlQW1vdW50OiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gIGRpc2NvdW50QW1vdW50OiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gIGZpbmFsQW1vdW50OiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gIHBheW1lbnRSZWNlaXZlZERhdGU6IHouZGF0ZSgpLm9wdGlvbmFsKCksXG4gIGNyZWF0ZWRCeTogei5zdHJpbmcoKS51dWlkKCksXG59KTtcblxuZXhwb3J0IGNvbnN0IGluc2VydEJ1ZGdldFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgYnVpbGRpbmdJZDogei5zdHJpbmcoKS51dWlkKCksXG4gIHllYXI6IHoubnVtYmVyKCkuaW50KCksXG4gIG5hbWU6IHouc3RyaW5nKCksXG4gIGRlc2NyaXB0aW9uOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIGNhdGVnb3J5OiB6LnN0cmluZygpLFxuICBidWRnZXRlZEFtb3VudDogei5udW1iZXIoKSxcbiAgYWN0dWFsQW1vdW50OiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gIGNyZWF0ZWRCeTogei5zdHJpbmcoKS51dWlkKCksXG59KTtcblxuZXhwb3J0IGNvbnN0IGluc2VydE1vbnRobHlCdWRnZXRTY2hlbWEgPSBjcmVhdGVJbnNlcnRTY2hlbWEobW9udGhseUJ1ZGdldHMpLm9taXQoeyBcbiAgaWQ6IHRydWUsIFxuICBjcmVhdGVkQXQ6IHRydWUsIFxuICB1cGRhdGVkQXQ6IHRydWUgXG59KTtcblxuLy8gVHlwZXNcblxuLyoqXG4gKiBCaWxscyBpbnNlcnQgYW5kIHNlbGVjdCB0eXBlcy5cbiAqL1xuZXhwb3J0IHR5cGUgSW5zZXJ0QmlsbCA9IHouaW5mZXI8dHlwZW9mIGluc2VydEJpbGxTY2hlbWE+O1xuLyoqXG4gKlxuICovXG5leHBvcnQgdHlwZSBCaWxsID0gdHlwZW9mIGJpbGxzLiRpbmZlclNlbGVjdDtcblxuLyoqXG4gKiBMZWdhY3kgYmlsbHMgdHlwZXMgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkuXG4gKi9cbmV4cG9ydCB0eXBlIEluc2VydE9sZEJpbGwgPSB6LmluZmVyPHR5cGVvZiBpbnNlcnRPbGRCaWxsU2NoZW1hPjtcbi8qKlxuICpcbiAqL1xuZXhwb3J0IHR5cGUgT2xkQmlsbCA9IHR5cGVvZiBvbGRCaWxscy4kaW5mZXJTZWxlY3Q7XG5cbi8qKlxuICogQnVkZ2V0IGluc2VydCBhbmQgc2VsZWN0IHR5cGVzLlxuICovXG5leHBvcnQgdHlwZSBJbnNlcnRCdWRnZXQgPSB6LmluZmVyPHR5cGVvZiBpbnNlcnRCdWRnZXRTY2hlbWE+O1xuLyoqXG4gKlxuICovXG5leHBvcnQgdHlwZSBCdWRnZXQgPSB0eXBlb2YgYnVkZ2V0cy4kaW5mZXJTZWxlY3Q7XG5cbi8qKlxuICogTW9udGhseSBidWRnZXQgaW5zZXJ0IGFuZCBzZWxlY3QgdHlwZXMuXG4gKi9cbmV4cG9ydCB0eXBlIEluc2VydE1vbnRobHlCdWRnZXQgPSB0eXBlb2YgbW9udGhseUJ1ZGdldHMuJGluZmVySW5zZXJ0O1xuLyoqXG4gKlxuICovXG5leHBvcnQgdHlwZSBNb250aGx5QnVkZ2V0ID0gdHlwZW9mIG1vbnRobHlCdWRnZXRzLiRpbmZlclNlbGVjdDtcblxuLy8gUmVsYXRpb25zIC0gdGVtcG9yYXJpbHkgY29tbWVudGVkIG91dCBkdWUgdG8gZHJpenpsZS1vcm0gdmVyc2lvbiBjb21wYXRpYmlsaXR5XG4vLyBSZW1vdmVkIG1vbmV5RmxvdyByZWxhdGlvbnNcbi8vICAgfSksXG4vLyAgIHJlc2lkZW5jZTogb25lKHJlc2lkZW5jZXMsIHtcbi8vICAgKHJlbW92ZWQgbW9uZXkgZmxvdyByZWxhdGlvbnMpXG4vLyAgIH0pLFxuLy8gfSkpO1xuXG4vLyBleHBvcnQgY29uc3QgYmlsbHNSZWxhdGlvbnMgPSByZWxhdGlvbnMoYmlsbHMsICh7IG9uZSwgbWFueSB9KSA9PiAoe1xuLy8gICBidWlsZGluZzogb25lKGJ1aWxkaW5ncywge1xuLy8gICAgIGZpZWxkczogW2JpbGxzLmJ1aWxkaW5nSWRdLFxuLy8gICAgIHJlZmVyZW5jZXM6IFtidWlsZGluZ3MuaWRdLFxuLy8gICB9KSxcbi8vICAgY3JlYXRlZEJ5OiBvbmUodXNlcnMsIHtcbi8vICAgICBmaWVsZHM6IFtiaWxscy5jcmVhdGVkQnldLFxuLy8gICAgIHJlZmVyZW5jZXM6IFt1c2Vycy5pZF0sXG4vLyAgIH0pLFxuLy8gICBvcmlnaW5hbEJpbGw6IG9uZShiaWxscywge1xuLy8gICAgIGZpZWxkczogW2JpbGxzLnJlZmVyZW5jZV0sXG4vLyAgICAgcmVmZXJlbmNlczogW2JpbGxzLmlkXSxcbi8vICAgICByZWxhdGlvbk5hbWU6ICdiaWxsUmVmZXJlbmNlJ1xuLy8gICB9KSxcbi8vICAgZ2VuZXJhdGVkQmlsbHM6IG1hbnkoYmlsbHMsIHtcbi8vICAgICByZWxhdGlvbk5hbWU6ICdiaWxsUmVmZXJlbmNlJ1xuLy8gICB9KSxcbi8vICAgKHJlbW92ZWQgbW9uZXkgZmxvdyByZWxhdGlvbnMpLFxuLy8gfSkpO1xuXG4vLyBleHBvcnQgY29uc3Qgb2xkQmlsbHNSZWxhdGlvbnMgPSByZWxhdGlvbnMob2xkQmlsbHMsICh7IG9uZSB9KSA9PiAoe1xuLy8gICByZXNpZGVuY2U6IG9uZShyZXNpZGVuY2VzLCB7XG4vLyAgICAgZmllbGRzOiBbb2xkQmlsbHMucmVzaWRlbmNlSWRdLFxuLy8gICAgIHJlZmVyZW5jZXM6IFtyZXNpZGVuY2VzLmlkXSxcbi8vICAgfSksXG4vLyAgIGNyZWF0ZWRCeTogb25lKHVzZXJzLCB7XG4vLyAgICAgZmllbGRzOiBbb2xkQmlsbHMuY3JlYXRlZEJ5XSxcbi8vICAgICByZWZlcmVuY2VzOiBbdXNlcnMuaWRdLFxuLy8gICB9KSxcbi8vIH0pKTtcblxuLy8gZXhwb3J0IGNvbnN0IGJ1ZGdldHNSZWxhdGlvbnMgPSByZWxhdGlvbnMoYnVkZ2V0cywgKHsgb25lIH0pID0+ICh7XG4vLyAgIGJ1aWxkaW5nOiBvbmUoYnVpbGRpbmdzLCB7XG4vLyAgICAgZmllbGRzOiBbYnVkZ2V0cy5idWlsZGluZ0lkXSxcbi8vICAgICByZWZlcmVuY2VzOiBbYnVpbGRpbmdzLmlkXSxcbi8vICAgfSksXG4vLyAgIGNyZWF0ZWRCeTogb25lKHVzZXJzLCB7XG4vLyAgICAgZmllbGRzOiBbYnVkZ2V0cy5jcmVhdGVkQnldLFxuLy8gICAgIHJlZmVyZW5jZXM6IFt1c2Vycy5pZF0sXG4vLyAgIH0pLFxuLy8gICBhcHByb3ZlZEJ5OiBvbmUodXNlcnMsIHtcbi8vICAgICBmaWVsZHM6IFtidWRnZXRzLmFwcHJvdmVkQnldLFxuLy8gICAgIHJlZmVyZW5jZXM6IFt1c2Vycy5pZF0sXG4vLyAgIH0pLFxuLy8gfSkpO1xuXG4vLyBleHBvcnQgY29uc3QgbW9udGhseUJ1ZGdldHNSZWxhdGlvbnMgPSByZWxhdGlvbnMobW9udGhseUJ1ZGdldHMsICh7IG9uZSB9KSA9PiAoe1xuLy8gICBidWlsZGluZzogb25lKGJ1aWxkaW5ncywge1xuLy8gICAgIGZpZWxkczogW21vbnRobHlCdWRnZXRzLmJ1aWxkaW5nSWRdLFxuLy8gICAgIHJlZmVyZW5jZXM6IFtidWlsZGluZ3MuaWRdLFxuLy8gICB9KSxcbi8vICAgYXBwcm92ZWRCeTogb25lKHVzZXJzLCB7XG4vLyAgICAgZmllbGRzOiBbbW9udGhseUJ1ZGdldHMuYXBwcm92ZWRCeV0sXG4vLyAgICAgcmVmZXJlbmNlczogW3VzZXJzLmlkXSxcbi8vICAgfSksXG4vLyAgIG9yaWdpbmFsQnVkZ2V0OiBvbmUobW9udGhseUJ1ZGdldHMsIHtcbi8vICAgICBmaWVsZHM6IFttb250aGx5QnVkZ2V0cy5vcmlnaW5hbEJ1ZGdldElkXSxcbi8vICAgICByZWZlcmVuY2VzOiBbbW9udGhseUJ1ZGdldHMuaWRdLFxuLy8gICAgIHJlbGF0aW9uTmFtZTogJ2J1ZGdldENvcHknXG4vLyAgIH0pLFxuLy8gfSkpO1xuIl0sInZlcnNpb24iOjN9