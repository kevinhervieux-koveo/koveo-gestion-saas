7f7a1e551d93525acb0d6be64e267668
/**
 * Jest Global Setup - Fast test environment initialization
 * Optimized for performance with minimal database operations
 */
module.exports = async () => {
    // Set environment variables for fast test execution
    process.env.NODE_ENV = 'test';
    process.env.SKIP_DB_OPERATIONS = 'true';
    process.env.DISABLE_LOGS = 'true';
    // Performance: Disable warnings for faster execution
    process.env.DISABLE_NEON_WARNINGS = 'true';
    // Performance: Use fast mock database for unit tests
    const testPath = process.env.npm_config_testPathPattern || '';
    if (testPath.includes('unit')) {
        process.env.TEST_TYPE = 'unit';
        process.env.USE_MOCK_DB = 'true';
    }
    else if (testPath.includes('integration')) {
        process.env.TEST_TYPE = 'integration';
        // Only use real database for integration tests
        if (process.env.DATABASE_URL) {
            process.env.TEST_DATABASE_URL = process.env.DATABASE_URL;
        }
    }
    // Initialize fast mock database
    global.mockDatabase = new Map();
    console.log('ðŸš€ Fast test environment initialized');
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9qZXN0Lmdsb2JhbC1zZXR1cC5qcyIsIm1hcHBpbmdzIjoiQUFBQTs7O0dBR0c7QUFFSCxNQUFNLENBQUMsT0FBTyxHQUFHLEtBQUssSUFBSSxFQUFFO0lBQzFCLG9EQUFvRDtJQUNwRCxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsR0FBRyxNQUFNLENBQUM7SUFDOUIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxrQkFBa0IsR0FBRyxNQUFNLENBQUM7SUFDeEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxZQUFZLEdBQUcsTUFBTSxDQUFDO0lBRWxDLHFEQUFxRDtJQUNyRCxPQUFPLENBQUMsR0FBRyxDQUFDLHFCQUFxQixHQUFHLE1BQU0sQ0FBQztJQUUzQyxxREFBcUQ7SUFDckQsTUFBTSxRQUFRLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQywwQkFBMEIsSUFBSSxFQUFFLENBQUM7SUFDOUQsSUFBSSxRQUFRLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUM7UUFDOUIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxTQUFTLEdBQUcsTUFBTSxDQUFDO1FBQy9CLE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxHQUFHLE1BQU0sQ0FBQztJQUNuQyxDQUFDO1NBQU0sSUFBSSxRQUFRLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxFQUFFLENBQUM7UUFDNUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxTQUFTLEdBQUcsYUFBYSxDQUFDO1FBQ3RDLCtDQUErQztRQUMvQyxJQUFJLE9BQU8sQ0FBQyxHQUFHLENBQUMsWUFBWSxFQUFFLENBQUM7WUFDN0IsT0FBTyxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQztRQUMzRCxDQUFDO0lBQ0gsQ0FBQztJQUVELGdDQUFnQztJQUNoQyxNQUFNLENBQUMsWUFBWSxHQUFHLElBQUksR0FBRyxFQUFFLENBQUM7SUFFaEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxzQ0FBc0MsQ0FBQyxDQUFDO0FBQ3RELENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvaG9tZS9ydW5uZXIvd29ya3NwYWNlL2plc3QuZ2xvYmFsLXNldHVwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogSmVzdCBHbG9iYWwgU2V0dXAgLSBGYXN0IHRlc3QgZW52aXJvbm1lbnQgaW5pdGlhbGl6YXRpb25cbiAqIE9wdGltaXplZCBmb3IgcGVyZm9ybWFuY2Ugd2l0aCBtaW5pbWFsIGRhdGFiYXNlIG9wZXJhdGlvbnNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGFzeW5jICgpID0+IHtcbiAgLy8gU2V0IGVudmlyb25tZW50IHZhcmlhYmxlcyBmb3IgZmFzdCB0ZXN0IGV4ZWN1dGlvblxuICBwcm9jZXNzLmVudi5OT0RFX0VOViA9ICd0ZXN0JztcbiAgcHJvY2Vzcy5lbnYuU0tJUF9EQl9PUEVSQVRJT05TID0gJ3RydWUnO1xuICBwcm9jZXNzLmVudi5ESVNBQkxFX0xPR1MgPSAndHJ1ZSc7XG4gIFxuICAvLyBQZXJmb3JtYW5jZTogRGlzYWJsZSB3YXJuaW5ncyBmb3IgZmFzdGVyIGV4ZWN1dGlvblxuICBwcm9jZXNzLmVudi5ESVNBQkxFX05FT05fV0FSTklOR1MgPSAndHJ1ZSc7XG4gIFxuICAvLyBQZXJmb3JtYW5jZTogVXNlIGZhc3QgbW9jayBkYXRhYmFzZSBmb3IgdW5pdCB0ZXN0c1xuICBjb25zdCB0ZXN0UGF0aCA9IHByb2Nlc3MuZW52Lm5wbV9jb25maWdfdGVzdFBhdGhQYXR0ZXJuIHx8ICcnO1xuICBpZiAodGVzdFBhdGguaW5jbHVkZXMoJ3VuaXQnKSkge1xuICAgIHByb2Nlc3MuZW52LlRFU1RfVFlQRSA9ICd1bml0JztcbiAgICBwcm9jZXNzLmVudi5VU0VfTU9DS19EQiA9ICd0cnVlJztcbiAgfSBlbHNlIGlmICh0ZXN0UGF0aC5pbmNsdWRlcygnaW50ZWdyYXRpb24nKSkge1xuICAgIHByb2Nlc3MuZW52LlRFU1RfVFlQRSA9ICdpbnRlZ3JhdGlvbic7XG4gICAgLy8gT25seSB1c2UgcmVhbCBkYXRhYmFzZSBmb3IgaW50ZWdyYXRpb24gdGVzdHNcbiAgICBpZiAocHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMKSB7XG4gICAgICBwcm9jZXNzLmVudi5URVNUX0RBVEFCQVNFX1VSTCA9IHByb2Nlc3MuZW52LkRBVEFCQVNFX1VSTDtcbiAgICB9XG4gIH1cblxuICAvLyBJbml0aWFsaXplIGZhc3QgbW9jayBkYXRhYmFzZVxuICBnbG9iYWwubW9ja0RhdGFiYXNlID0gbmV3IE1hcCgpO1xuICBcbiAgY29uc29sZS5sb2coJ/CfmoAgRmFzdCB0ZXN0IGVudmlyb25tZW50IGluaXRpYWxpemVkJyk7XG59O1xuIl0sInZlcnNpb24iOjN9