03b48bbab4585c2ce0a88d37246feeb1
'use strict';
var DataTransfer = require('../utils/dataTransfer/DataTransfer.js');
var Clipboard = require('../utils/dataTransfer/Clipboard.js');
var getWindow = require('../utils/misc/getWindow.js');
async function paste(clipboardData) {
    const doc = this.config.document;
    var _doc_activeElement;
    const target = (_doc_activeElement = doc.activeElement) !== null && _doc_activeElement !== undefined ? _doc_activeElement : /* istanbul ignore next */ doc.body;
    var _ref;
    const dataTransfer = (_ref = typeof clipboardData === 'string' ? getClipboardDataFromString(doc, clipboardData) : clipboardData) !== null && _ref !== undefined ? _ref : await Clipboard.readDataTransferFromClipboard(doc).catch(() => {
        throw new Error('`userEvent.paste()` without `clipboardData` requires the `ClipboardAPI` to be available.');
    });
    this.dispatchUIEvent(target, 'paste', {
        clipboardData: dataTransfer
    });
}
function getClipboardDataFromString(doc, text) {
    const dt = DataTransfer.createDataTransfer(getWindow.getWindow(doc));
    dt.setData('text', text);
    return dt;
}
exports.paste = paste;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9ub2RlX21vZHVsZXMvQHRlc3RpbmctbGlicmFyeS91c2VyLWV2ZW50L2Rpc3QvY2pzL2NsaXBib2FyZC9wYXN0ZS5qcyIsIm1hcHBpbmdzIjoiQUFBQSxZQUFZLENBQUM7QUFFYixJQUFJLFlBQVksR0FBRyxPQUFPLENBQUMsdUNBQXVDLENBQUMsQ0FBQztBQUNwRSxJQUFJLFNBQVMsR0FBRyxPQUFPLENBQUMsb0NBQW9DLENBQUMsQ0FBQztBQUM5RCxJQUFJLFNBQVMsR0FBRyxPQUFPLENBQUMsNEJBQTRCLENBQUMsQ0FBQztBQUV0RCxLQUFLLFVBQVUsS0FBSyxDQUFDLGFBQWE7SUFDOUIsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUM7SUFDakMsSUFBSSxrQkFBa0IsQ0FBQztJQUN2QixNQUFNLE1BQU0sR0FBRyxDQUFDLGtCQUFrQixHQUFHLEdBQUcsQ0FBQyxhQUFhLENBQUMsS0FBSyxJQUFJLElBQUksa0JBQWtCLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsMEJBQTBCLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQztJQUNoSyxJQUFJLElBQUksQ0FBQztJQUNULE1BQU0sWUFBWSxHQUFHLENBQUMsSUFBSSxHQUFHLE9BQU8sYUFBYSxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUMsMEJBQTBCLENBQUMsR0FBRyxFQUFFLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxhQUFhLENBQUMsS0FBSyxJQUFJLElBQUksSUFBSSxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxNQUFNLFNBQVMsQ0FBQyw2QkFBNkIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRSxFQUFFO1FBQ2xPLE1BQU0sSUFBSSxLQUFLLENBQUMsMEZBQTBGLENBQUMsQ0FBQztJQUNoSCxDQUFDLENBQUMsQ0FBQztJQUNILElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxFQUFFLE9BQU8sRUFBRTtRQUNsQyxhQUFhLEVBQUUsWUFBWTtLQUM5QixDQUFDLENBQUM7QUFDUCxDQUFDO0FBQ0QsU0FBUywwQkFBMEIsQ0FBQyxHQUFHLEVBQUUsSUFBSTtJQUN6QyxNQUFNLEVBQUUsR0FBRyxZQUFZLENBQUMsa0JBQWtCLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ3JFLEVBQUUsQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3pCLE9BQU8sRUFBRSxDQUFDO0FBQ2QsQ0FBQztBQUVELE9BQU8sQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3Jrc3BhY2Uvbm9kZV9tb2R1bGVzL0B0ZXN0aW5nLWxpYnJhcnkvdXNlci1ldmVudC9kaXN0L2Nqcy9jbGlwYm9hcmQvcGFzdGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRGF0YVRyYW5zZmVyID0gcmVxdWlyZSgnLi4vdXRpbHMvZGF0YVRyYW5zZmVyL0RhdGFUcmFuc2Zlci5qcycpO1xudmFyIENsaXBib2FyZCA9IHJlcXVpcmUoJy4uL3V0aWxzL2RhdGFUcmFuc2Zlci9DbGlwYm9hcmQuanMnKTtcbnZhciBnZXRXaW5kb3cgPSByZXF1aXJlKCcuLi91dGlscy9taXNjL2dldFdpbmRvdy5qcycpO1xuXG5hc3luYyBmdW5jdGlvbiBwYXN0ZShjbGlwYm9hcmREYXRhKSB7XG4gICAgY29uc3QgZG9jID0gdGhpcy5jb25maWcuZG9jdW1lbnQ7XG4gICAgdmFyIF9kb2NfYWN0aXZlRWxlbWVudDtcbiAgICBjb25zdCB0YXJnZXQgPSAoX2RvY19hY3RpdmVFbGVtZW50ID0gZG9jLmFjdGl2ZUVsZW1lbnQpICE9PSBudWxsICYmIF9kb2NfYWN0aXZlRWxlbWVudCAhPT0gdW5kZWZpbmVkID8gX2RvY19hY3RpdmVFbGVtZW50IDogLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gZG9jLmJvZHk7XG4gICAgdmFyIF9yZWY7XG4gICAgY29uc3QgZGF0YVRyYW5zZmVyID0gKF9yZWYgPSB0eXBlb2YgY2xpcGJvYXJkRGF0YSA9PT0gJ3N0cmluZycgPyBnZXRDbGlwYm9hcmREYXRhRnJvbVN0cmluZyhkb2MsIGNsaXBib2FyZERhdGEpIDogY2xpcGJvYXJkRGF0YSkgIT09IG51bGwgJiYgX3JlZiAhPT0gdW5kZWZpbmVkID8gX3JlZiA6IGF3YWl0IENsaXBib2FyZC5yZWFkRGF0YVRyYW5zZmVyRnJvbUNsaXBib2FyZChkb2MpLmNhdGNoKCgpPT57XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignYHVzZXJFdmVudC5wYXN0ZSgpYCB3aXRob3V0IGBjbGlwYm9hcmREYXRhYCByZXF1aXJlcyB0aGUgYENsaXBib2FyZEFQSWAgdG8gYmUgYXZhaWxhYmxlLicpO1xuICAgIH0pO1xuICAgIHRoaXMuZGlzcGF0Y2hVSUV2ZW50KHRhcmdldCwgJ3Bhc3RlJywge1xuICAgICAgICBjbGlwYm9hcmREYXRhOiBkYXRhVHJhbnNmZXJcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGdldENsaXBib2FyZERhdGFGcm9tU3RyaW5nKGRvYywgdGV4dCkge1xuICAgIGNvbnN0IGR0ID0gRGF0YVRyYW5zZmVyLmNyZWF0ZURhdGFUcmFuc2ZlcihnZXRXaW5kb3cuZ2V0V2luZG93KGRvYykpO1xuICAgIGR0LnNldERhdGEoJ3RleHQnLCB0ZXh0KTtcbiAgICByZXR1cm4gZHQ7XG59XG5cbmV4cG9ydHMucGFzdGUgPSBwYXN0ZTtcbiJdLCJ2ZXJzaW9uIjozfQ==