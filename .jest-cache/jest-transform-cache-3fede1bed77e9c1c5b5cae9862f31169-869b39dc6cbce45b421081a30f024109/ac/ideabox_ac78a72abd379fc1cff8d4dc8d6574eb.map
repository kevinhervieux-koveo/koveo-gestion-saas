{"file":"/home/runner/workspace/client/src/pages/settings/idea-box.tsx","mappings":"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","names":[],"sources":["/home/runner/workspace/client/src/pages/settings/idea-box.tsx"],"sourcesContent":["import { useState, useMemo } from 'react';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { Header } from '@/components/layout/header';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Textarea } from '@/components/ui/textarea';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select';\nimport { Label } from '@/components/ui/label';\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from '@/components/ui/dialog';\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n  AlertDialogTrigger,\n} from '@/components/ui/alert-dialog';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\nimport {\n  Collapsible,\n  CollapsibleContent,\n  CollapsibleTrigger,\n} from '@/components/ui/collapsible';\nimport {\n  Plus,\n  Search,\n  Filter,\n  ThumbsUp,\n  Calendar,\n  User,\n  Tag,\n  Edit2,\n  Eye,\n  Trash2,\n  MoreHorizontal,\n  TrendingUp,\n  Paperclip,\n  ChevronDown,\n  ChevronRight,\n} from 'lucide-react';\nimport { useForm } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { z } from 'zod';\nimport { apiRequest } from '@/lib/queryClient';\nimport { useToast } from '@/hooks/use-toast';\nimport { useAuth } from '@/hooks/use-auth';\nimport { CompactFileUpload } from '@/components/ui/file-upload';\nimport { AttachedFileSection } from '@/components/common/AttachedFileSection';\n\n// Feature request form schema\nconst featureRequestFormSchema = z.object({\n  title: z.string().min(1, 'Feature title is required').max(200, 'Title must be less than 200 characters'),\n  description: z\n    .string()\n    .min(10, 'Description must be at least 10 characters long')\n    .max(2000, 'Description must be less than 2000 characters'),\n  need: z\n    .string()\n    .min(5, 'Need explanation must be at least 5 characters long')\n    .max(500, 'Need explanation must be less than 500 characters'),\n  category: z.enum([\n    'dashboard',\n    'property_management',\n    'resident_management',\n    'financial_management',\n    'maintenance',\n    'document_management',\n    'communication',\n    'reports',\n    'mobile_app',\n    'integrations',\n    'security',\n    'performance',\n    'other',\n  ]),\n  page: z.string().min(1, 'Page location is required').max(100, 'Page location must be less than 100 characters'),\n});\n\n// Enhanced edit form schema for role-based editing\nconst editFormSchema = featureRequestFormSchema.extend({\n  status: z.enum(['submitted', 'under_review', 'planned', 'in_progress', 'completed', 'rejected']).optional(),\n  adminNotes: z.string().max(1000, 'Admin notes must be less than 1000 characters').optional(),\n});\n\ntype FeatureRequestFormData = z.infer<typeof featureRequestFormSchema>;\ntype EditFormData = z.infer<typeof editFormSchema>;\n\ninterface FeatureRequest {\n  id: string;\n  title: string;\n  description: string;\n  need: string;\n  category: string;\n  page: string;\n  status: string;\n  upvoteCount: number;\n  createdBy: string | null;\n  reviewedBy: string | null;\n  reviewedAt: string | null;\n  adminNotes: string | null;\n  mergedIntoId: string | null;\n  createdAt: string;\n  updatedAt: string;\n  // File attachment fields\n  filePath?: string | null;\n  fileName?: string | null;\n  fileSize?: number | null;\n}\n\nconst categoryLabels = {\n  dashboard: 'Dashboard',\n  property_management: 'Property Management',\n  resident_management: 'Resident Management',\n  financial_management: 'Financial Management',\n  maintenance: 'Maintenance',\n  document_management: 'Document Management',\n  communication: 'Communication',\n  reports: 'Reports',\n  mobile_app: 'Mobile App',\n  integrations: 'Integrations',\n  security: 'Security',\n  performance: 'Performance',\n  other: 'Other',\n};\n\nconst statusColors = {\n  submitted: 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300',\n  under_review: 'bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300',\n  planned: 'bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300',\n  in_progress: 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300',\n  completed: 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300',\n  rejected: 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300',\n};\n\nconst categoryIcons = {\n  dashboard: 'ðŸ“Š',\n  property_management: 'ðŸ¢',\n  resident_management: 'ðŸ‘¥',\n  financial_management: 'ðŸ’°',\n  maintenance: 'ðŸ”§',\n  document_management: 'ðŸ“',\n  communication: 'ðŸ’¬',\n  reports: 'ðŸ“ˆ',\n  mobile_app: 'ðŸ“±',\n  integrations: 'ðŸ”—',\n  security: 'ðŸ”’',\n  performance: 'âš¡',\n  other: 'â“',\n};\n\n// Idea Card Component\nfunction IdeaCard({ idea, onView, onEdit, onUpvote, canEdit, canUpvote }: {\n  idea: FeatureRequest;\n  onView: (idea: FeatureRequest) => void;\n  onEdit: (idea: FeatureRequest) => void;\n  onUpvote: (idea: FeatureRequest) => void;\n  canEdit: boolean;\n  canUpvote: boolean;\n}) {\n  const formatDate = (dateString: string) => {\n    const date = new Date(dateString);\n    const now = new Date();\n    const diffMs = now.getTime() - date.getTime();\n    const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));\n    \n    if (diffDays === 0) return 'Today';\n    if (diffDays === 1) return 'Yesterday';\n    if (diffDays < 7) return `${diffDays} days ago`;\n    if (diffDays < 30) return `${Math.floor(diffDays / 7)} weeks ago`;\n    return date.toLocaleDateString();\n  };\n\n  return (\n    <Card \n      className=\"cursor-pointer hover:shadow-md transition-all duration-200 hover:border-blue-200 dark:hover:border-blue-700\"\n      onClick={() => onView(idea)}\n      data-testid={`card-idea-${idea.id}`}\n    >\n      <CardHeader className=\"pb-3\">\n        <div className=\"flex items-start justify-between gap-2\">\n          <div className=\"flex items-center gap-2 flex-1 min-w-0\">\n            <h3 className=\"font-semibold text-sm line-clamp-2 flex-1 break-words\" data-testid={`text-title-${idea.id}`}>\n              {idea.title}\n            </h3>\n          </div>\n          <div className=\"flex items-center gap-1 flex-shrink-0\">\n            {canEdit && (\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={(e) => {\n                  e.stopPropagation();\n                  onEdit(idea);\n                }}\n                data-testid={`button-edit-${idea.id}`}\n                className=\"h-7 w-7 p-0 hover:bg-blue-100 dark:hover:bg-blue-900\"\n              >\n                <Edit2 className=\"h-3 w-3\" />\n              </Button>\n            )}\n            {idea.filePath && (\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={(e) => {\n                  e.stopPropagation();\n                  window.open(`/api/feature-requests/${idea.id}/file`, '_blank');\n                }}\n                data-testid={`button-file-${idea.id}`}\n                className=\"h-7 w-7 p-0 hover:bg-gray-100 dark:hover:bg-gray-800\"\n              >\n                <Paperclip className=\"h-3 w-3\" />\n              </Button>\n            )}\n          </div>\n        </div>\n      </CardHeader>\n      \n      <CardContent className=\"pt-0\">\n        <p className=\"text-sm text-gray-600 dark:text-gray-400 line-clamp-2 mb-3\" data-testid={`text-description-${idea.id}`}>\n          {idea.description}\n        </p>\n        \n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-2\">\n            <Badge className={statusColors[idea.status as keyof typeof statusColors]} data-testid={`badge-status-${idea.id}`}>\n              {idea.status.replace('_', ' ')}\n            </Badge>\n            <span className=\"text-xs text-gray-500 dark:text-gray-400\" data-testid={`text-page-${idea.id}`}>\n              {idea.page}\n            </span>\n          </div>\n          \n          <div className=\"flex items-center gap-2\">\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={(e) => {\n                e.stopPropagation();\n                if (canUpvote) onUpvote(idea);\n              }}\n              disabled={!canUpvote}\n              data-testid={`button-upvote-${idea.id}`}\n              className=\"h-7 px-2 gap-1 hover:bg-green-100 dark:hover:bg-green-900\"\n            >\n              <ThumbsUp className=\"h-3 w-3\" />\n              <span className=\"text-xs font-medium\">{idea.upvoteCount}</span>\n            </Button>\n            <span className=\"text-xs text-gray-500 dark:text-gray-400\" data-testid={`text-date-${idea.id}`}>\n              {formatDate(idea.createdAt)}\n            </span>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n\nexport default function IdeaBox() {\n  const [isCreateDialogOpen, setIsCreateDialogOpen] = useState(false);\n  const [isEditDialogOpen, setIsEditDialogOpen] = useState(false);\n  const [isViewDialogOpen, setIsViewDialogOpen] = useState(false);\n  const [viewingFeatureRequest, setViewingFeatureRequest] = useState<FeatureRequest | null>(null);\n  const [editingFeatureRequest, setEditingFeatureRequest] = useState<FeatureRequest | null>(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [statusFilter, setStatusFilter] = useState<string>('all');\n  const [categoryFilter, setCategoryFilter] = useState<string>('all');\n  const [sortBy, setSortBy] = useState<string>('newest');\n  const [expandedCategories, setExpandedCategories] = useState<Set<string>>(new Set(['dashboard']));\n  \n  // Attachment states\n  const [attachmentMode, setAttachmentMode] = useState<'file' | 'text'>('file');\n  const [attachmentText, setAttachmentText] = useState('');\n  const [editAttachmentMode, setEditAttachmentMode] = useState<'file' | 'text'>('file');\n  const [editAttachmentText, setEditAttachmentText] = useState('');\n  \n  const { toast } = useToast();\n  const { user } = useAuth();\n  const queryClient = useQueryClient();\n\n  const form = useForm<FeatureRequestFormData>({\n    resolver: zodResolver(featureRequestFormSchema),\n    defaultValues: {\n      title: '',\n      description: '',\n      need: '',\n      category: 'dashboard',\n      page: '',\n    }\n  });\n\n  const editForm = useForm<EditFormData>({\n    resolver: zodResolver(editFormSchema),\n  });\n\n  // Fetch feature requests\n  const { data: featureRequests = [], isLoading } = useQuery({\n    queryKey: ['/api/feature-requests'],\n    enabled: !!user,\n  });\n\n  // Helper functions\n  const canEditIdea = (idea: FeatureRequest) => {\n    if (!user) return false;\n    return user.role === 'admin' || \n           (user.role === 'manager' && idea.createdBy === user.id) ||\n           idea.createdBy === user.id;\n  };\n\n  const canUpvoteIdea = (idea: FeatureRequest) => {\n    return !!user && user.id !== idea.createdBy;\n  };\n\n  // Filter and sort ideas\n  const filteredIdeas = useMemo(() => {\n    let filtered = (featureRequests as FeatureRequest[]).filter((idea: FeatureRequest) => {\n      const matchesSearch = searchTerm === '' || \n        idea.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        idea.description.toLowerCase().includes(searchTerm.toLowerCase());\n      \n      const matchesStatus = statusFilter === 'all' || idea.status === statusFilter;\n      const matchesCategory = categoryFilter === 'all' || idea.category === categoryFilter;\n      \n      return matchesSearch && matchesStatus && matchesCategory;\n    });\n\n    // Sort ideas\n    filtered.sort((a, b) => {\n      switch (sortBy) {\n        case 'upvotes':\n          return b.upvoteCount - a.upvoteCount;\n        case 'oldest':\n          return new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime();\n        case 'newest':\n        default:\n          return new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime();\n      }\n    });\n\n    return filtered;\n  }, [featureRequests, searchTerm, statusFilter, categoryFilter, sortBy]);\n\n  // Group ideas by category\n  const ideasByCategory = useMemo(() => {\n    const grouped: Record<string, FeatureRequest[]> = {};\n    filteredIdeas.forEach((idea) => {\n      if (!grouped[idea.category]) {\n        grouped[idea.category] = [];\n      }\n      grouped[idea.category].push(idea);\n    });\n    return grouped;\n  }, [filteredIdeas]);\n\n  // Create feature request mutation with file upload support\n  const createMutation = useMutation({\n    mutationFn: async (data: FeatureRequestFormData & { file?: File }) => {\n      const formData = new FormData();\n      Object.entries(data).forEach(([key, value]) => {\n        if (key !== 'file' && value !== undefined) {\n          formData.append(key, value.toString());\n        }\n      });\n      \n      if (data.file) {\n        formData.append('file', data.file);\n      }\n      \n      return fetch('/api/feature-requests', {\n        method: 'POST',\n        body: formData,\n      }).then(res => res.json());\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/feature-requests'] });\n      setIsCreateDialogOpen(false);\n      form.reset();\n      setAttachmentText('');\n      setAttachmentMode('file');\n      toast({\n        title: 'Idea submitted!',\n        description: 'Your feature idea has been submitted successfully.',\n      });\n    },\n    onError: (error: any) => {\n      toast({\n        title: 'Error',\n        description: error.message || 'Failed to submit idea',\n        variant: 'destructive',\n      });\n    },\n  });\n\n  // Update feature request mutation with file upload support  \n  const updateMutation = useMutation({\n    mutationFn: async ({ id, data }: { id: string; data: EditFormData & { file?: File } }) => {\n      const formData = new FormData();\n      Object.entries(data).forEach(([key, value]) => {\n        if (key !== 'file' && value !== undefined && value !== null) {\n          formData.append(key, value.toString());\n        }\n      });\n      \n      if (data.file) {\n        formData.append('file', data.file);\n      }\n      \n      return fetch(`/api/feature-requests/${id}`, {\n        method: 'PATCH',\n        body: formData,\n      }).then(res => res.json());\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/feature-requests'] });\n      setIsEditDialogOpen(false);\n      setEditingFeatureRequest(null);\n      editForm.reset();\n      setEditAttachmentText('');\n      setEditAttachmentMode('file');\n      toast({\n        title: 'Idea updated!',\n        description: 'Feature idea has been updated successfully.',\n      });\n    },\n    onError: (error: any) => {\n      toast({\n        title: 'Error',\n        description: error.message || 'Failed to update idea',\n        variant: 'destructive',\n      });\n    },\n  });\n\n  // Upvote mutation\n  const upvoteMutation = useMutation({\n    mutationFn: (id: string) => apiRequest('POST', `/api/feature-requests/${id}/upvote`),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/feature-requests'] });\n      toast({\n        title: 'Upvoted!',\n        description: 'Your upvote has been recorded.',\n      });\n    },\n    onError: (error: any) => {\n      toast({\n        title: 'Error',\n        description: error.message || 'Failed to upvote',\n        variant: 'destructive',\n      });\n    },\n  });\n\n  // Delete mutation (admin only)\n  const deleteMutation = useMutation({\n    mutationFn: (id: string) => apiRequest('DELETE', `/api/feature-requests/${id}`),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/feature-requests'] });\n      setIsEditDialogOpen(false);\n      setEditingFeatureRequest(null);\n      toast({\n        title: 'Idea deleted!',\n        description: 'The feature idea has been deleted successfully.',\n      });\n    },\n    onError: (error: any) => {\n      toast({\n        title: 'Error',\n        description: error.message || 'Failed to delete idea',\n        variant: 'destructive',\n      });\n    },\n  });\n\n  const handleSubmit = (data: FeatureRequestFormData) => {\n    if (attachmentMode === 'file') {\n      const fileInput = document.querySelector('#file-upload') as HTMLInputElement;\n      const file = fileInput?.files?.[0];\n      \n      createMutation.mutate({\n        ...data,\n        file,\n      });\n    } else {\n      // For text mode, we could store the text as a text file or in a dedicated field\n      // For now, let's append it to the description\n      const enhancedData = {\n        ...data,\n        description: attachmentText ? `${data.description}\\n\\n**Additional Notes:**\\n${attachmentText}` : data.description,\n      };\n      \n      createMutation.mutate(enhancedData);\n    }\n  };\n\n  const handleEditSubmit = (data: EditFormData) => {\n    if (!editingFeatureRequest) return;\n    \n    if (editAttachmentMode === 'file') {\n      const fileInput = document.querySelector('#edit-file-upload') as HTMLInputElement;\n      const file = fileInput?.files?.[0];\n      \n      updateMutation.mutate({\n        id: editingFeatureRequest.id,\n        data: {\n          ...data,\n          file,\n        },\n      });\n    } else {\n      // For text mode, append to description\n      const enhancedData = {\n        ...data,\n        description: editAttachmentText ? `${data.description}\\n\\n**Additional Notes:**\\n${editAttachmentText}` : data.description,\n      };\n      \n      updateMutation.mutate({\n        id: editingFeatureRequest.id,\n        data: enhancedData,\n      });\n    }\n  };\n\n  const handleViewIdea = (idea: FeatureRequest) => {\n    setViewingFeatureRequest(idea);\n    setIsViewDialogOpen(true);\n  };\n\n  const handleEditIdea = (idea: FeatureRequest) => {\n    setEditingFeatureRequest(idea);\n    editForm.reset({\n      title: idea.title,\n      description: idea.description,\n      need: idea.need,\n      category: idea.category as any,\n      page: idea.page,\n      status: idea.status as any,\n      adminNotes: idea.adminNotes || '',\n    });\n    setEditAttachmentMode('file');\n    setEditAttachmentText('');\n    setIsEditDialogOpen(true);\n  };\n\n  const handleUpvoteIdea = (idea: FeatureRequest) => {\n    upvoteMutation.mutate(idea.id);\n  };\n\n  const handleDeleteIdea = (idea: FeatureRequest) => {\n    if (window.confirm(`Are you sure you want to delete \"${idea.title}\"? This action cannot be undone.`)) {\n      deleteMutation.mutate(idea.id);\n    }\n  };\n\n  const toggleCategory = (category: string) => {\n    const newExpanded = new Set(expandedCategories);\n    if (newExpanded.has(category)) {\n      newExpanded.delete(category);\n    } else {\n      newExpanded.add(category);\n    }\n    setExpandedCategories(newExpanded);\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex-1 space-y-4 p-4 md:p-8 pt-6\">\n        <div className=\"flex items-center justify-between space-y-2\">\n          <h2 className=\"text-3xl font-bold tracking-tight\">Idea Box</h2>\n        </div>\n        <div className=\"grid gap-4\">\n          {[1, 2, 3].map(i => (\n            <div key={i} className=\"h-32 bg-gray-100 dark:bg-gray-800 rounded-lg animate-pulse\" />\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex-1 space-y-4 p-4 md:p-8 pt-6\">\n      <Header title=\"Idea Box\" subtitle=\"Share your ideas to improve our platform\" />\n      \n      {/* Header with search and create */}\n      <div className=\"flex flex-col gap-4\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h2 className=\"text-3xl font-bold tracking-tight\">Idea Box</h2>\n            <p className=\"text-muted-foreground\">\n              Share your ideas to improve our platform\n            </p>\n          </div>\n          <Button onClick={() => setIsCreateDialogOpen(true)} data-testid=\"button-create-idea\">\n            <Plus className=\"mr-2 h-4 w-4\" />\n            Submit New Idea\n          </Button>\n        </div>\n\n        {/* Search and filters */}\n        <div className=\"flex flex-col md:flex-row gap-4\">\n          <div className=\"flex-1\">\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4\" />\n              <Input\n                placeholder=\"Search ideas...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"pl-10\"\n                data-testid=\"input-search\"\n              />\n            </div>\n          </div>\n          <Select value={statusFilter} onValueChange={setStatusFilter}>\n            <SelectTrigger className=\"w-48\" data-testid=\"select-status-filter\">\n              <SelectValue placeholder=\"Filter by status\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"all\">All Statuses</SelectItem>\n              <SelectItem value=\"submitted\">Submitted</SelectItem>\n              <SelectItem value=\"under_review\">Under Review</SelectItem>\n              <SelectItem value=\"planned\">Planned</SelectItem>\n              <SelectItem value=\"in_progress\">In Progress</SelectItem>\n              <SelectItem value=\"completed\">Completed</SelectItem>\n              <SelectItem value=\"rejected\">Rejected</SelectItem>\n            </SelectContent>\n          </Select>\n          <Select value={categoryFilter} onValueChange={setCategoryFilter}>\n            <SelectTrigger className=\"w-48\" data-testid=\"select-category-filter\">\n              <SelectValue placeholder=\"Filter by category\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"all\">All Categories</SelectItem>\n              {Object.entries(categoryLabels).map(([key, label]) => (\n                <SelectItem key={key} value={key}>\n                  {label}\n                </SelectItem>\n              ))}\n            </SelectContent>\n          </Select>\n          <Select value={sortBy} onValueChange={setSortBy}>\n            <SelectTrigger className=\"w-32\" data-testid=\"select-sort\">\n              <SelectValue />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"newest\">Newest</SelectItem>\n              <SelectItem value=\"oldest\">Oldest</SelectItem>\n              <SelectItem value=\"upvotes\">Most Upvoted</SelectItem>\n            </SelectContent>\n          </Select>\n        </div>\n      </div>\n\n      {/* Category-grouped cards */}\n      <div className=\"space-y-6\">\n        {Object.entries(categoryLabels).map(([categoryKey, categoryLabel]) => {\n          const categoryIdeas = ideasByCategory[categoryKey] || [];\n          if (categoryIdeas.length === 0) return null;\n          \n          const isExpanded = expandedCategories.has(categoryKey);\n          \n          return (\n            <div key={categoryKey} className=\"space-y-3\">\n              <Collapsible open={isExpanded} onOpenChange={() => toggleCategory(categoryKey)}>\n                <CollapsibleTrigger className=\"flex items-center gap-2 p-2 w-full text-left hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-colors\">\n                  {isExpanded ? (\n                    <ChevronDown className=\"h-4 w-4\" />\n                  ) : (\n                    <ChevronRight className=\"h-4 w-4\" />\n                  )}\n                  <span className=\"text-lg font-semibold\">\n                    {categoryLabel}\n                  </span>\n                  <Badge variant=\"secondary\" className=\"ml-2\">\n                    {categoryIdeas.length}\n                  </Badge>\n                </CollapsibleTrigger>\n                \n                <CollapsibleContent className=\"space-y-3\">\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 pl-6\">\n                    {categoryIdeas.map((idea) => (\n                      <IdeaCard\n                        key={idea.id}\n                        idea={idea}\n                        onView={handleViewIdea}\n                        onEdit={handleEditIdea}\n                        onUpvote={handleUpvoteIdea}\n                        canEdit={canEditIdea(idea)}\n                        canUpvote={canUpvoteIdea(idea)}\n                      />\n                    ))}\n                  </div>\n                </CollapsibleContent>\n              </Collapsible>\n            </div>\n          );\n        })}\n        \n        {filteredIdeas.length === 0 && (\n          <div className=\"text-center py-12\">\n            <h3 className=\"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100\">No ideas found</h3>\n            <p className=\"mt-1 text-sm text-gray-500 dark:text-gray-400\">\n              {searchTerm || statusFilter !== 'all' || categoryFilter !== 'all'\n                ? 'Try adjusting your search or filters.'\n                : 'Get started by submitting your first idea.'}\n            </p>\n          </div>\n        )}\n      </div>\n\n      {/* Create Dialog */}\n      <Dialog open={isCreateDialogOpen} onOpenChange={setIsCreateDialogOpen}>\n        <DialogContent className=\"sm:max-w-[600px] max-h-[90vh] overflow-y-auto\">\n          <DialogHeader>\n            <DialogTitle>Submit New Idea</DialogTitle>\n          </DialogHeader>\n          <form onSubmit={form.handleSubmit(handleSubmit)} className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"title\">Feature Title *</Label>\n              <Input\n                id=\"title\"\n                {...form.register('title')}\n                placeholder=\"e.g. Add bulk export for documents\"\n                data-testid=\"input-title\"\n              />\n              {form.formState.errors.title && (\n                <p className=\"text-sm text-red-600\">{form.formState.errors.title.message}</p>\n              )}\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"description\">Description *</Label>\n              <Textarea\n                id=\"description\"\n                {...form.register('description')}\n                placeholder=\"Describe your feature idea in detail...\"\n                rows={4}\n                data-testid=\"textarea-description\"\n              />\n              {form.formState.errors.description && (\n                <p className=\"text-sm text-red-600\">{form.formState.errors.description.message}</p>\n              )}\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"need\">Why is this needed? *</Label>\n              <Textarea\n                id=\"need\"\n                {...form.register('need')}\n                placeholder=\"Explain the specific need this feature addresses...\"\n                rows={3}\n                data-testid=\"textarea-need\"\n              />\n              {form.formState.errors.need && (\n                <p className=\"text-sm text-red-600\">{form.formState.errors.need.message}</p>\n              )}\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"category\">Category *</Label>\n                <Select value={form.watch('category')} onValueChange={(value) => form.setValue('category', value as any)}>\n                  <SelectTrigger data-testid=\"select-category\">\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {Object.entries(categoryLabels).map(([key, label]) => (\n                      <SelectItem key={key} value={key}>\n                        {label}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n                {form.formState.errors.category && (\n                  <p className=\"text-sm text-red-600\">{form.formState.errors.category.message}</p>\n                )}\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"page\">Page/Location *</Label>\n                <Input\n                  id=\"page\"\n                  {...form.register('page')}\n                  placeholder=\"e.g. Document Management\"\n                  data-testid=\"input-page\"\n                />\n                {form.formState.errors.page && (\n                  <p className=\"text-sm text-red-600\">{form.formState.errors.page.message}</p>\n                )}\n              </div>\n            </div>\n\n            {/* Choose Document Type Section */}\n            <div className=\"space-y-4 border-t pt-4\">\n              <Label className=\"text-sm font-medium\">Choose Document Type</Label>\n              <div className=\"flex space-x-3\">\n                <button\n                  type=\"button\"\n                  onClick={() => setAttachmentMode('file')}\n                  className={`flex-1 p-3 rounded-lg border text-sm font-medium transition-colors ${\n                    attachmentMode === 'file'\n                      ? 'border-blue-500 bg-blue-50 text-blue-700 dark:bg-blue-900 dark:text-blue-300'\n                      : 'border-gray-200 hover:border-gray-300 dark:border-gray-700 dark:hover:border-gray-600'\n                  }`}\n                  data-testid=\"button-file-mode\"\n                >\n                  ðŸ“ Upload File\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={() => setAttachmentMode('text')}\n                  className={`flex-1 p-3 rounded-lg border text-sm font-medium transition-colors ${\n                    attachmentMode === 'text'\n                      ? 'border-blue-500 bg-blue-50 text-blue-700 dark:bg-blue-900 dark:text-blue-300'\n                      : 'border-gray-200 hover:border-gray-300 dark:border-gray-700 dark:hover:border-gray-600'\n                  }`}\n                  data-testid=\"button-text-mode\"\n                >\n                  ðŸ“ Text Document\n                </button>\n              </div>\n\n              {/* Dynamic Content Based on Selection */}\n              {attachmentMode === 'file' ? (\n                <div>\n                  <Label htmlFor=\"file-upload\">Select File to Upload</Label>\n                  <Input\n                    id=\"file-upload\"\n                    type=\"file\"\n                    accept=\".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif\"\n                    data-testid=\"input-file\"\n                    className=\"mt-1\"\n                  />\n                  <p className=\"text-xs text-gray-500 mt-1\">\n                    Attach a screenshot, mockup, or document to help explain your idea\n                  </p>\n                </div>\n              ) : (\n                <div>\n                  <Label htmlFor=\"text-content\">Document Content</Label>\n                  <Textarea\n                    id=\"text-content\"\n                    value={attachmentText}\n                    onChange={(e) => setAttachmentText(e.target.value)}\n                    rows={5}\n                    className=\"w-full mt-1\"\n                    placeholder=\"Add detailed notes, specifications, or any additional information about your idea...\"\n                    data-testid=\"textarea-text-content\"\n                  />\n                  <p className=\"text-xs text-gray-500 mt-1\">\n                    This will show as additional notes with your idea\n                  </p>\n                </div>\n              )}\n            </div>\n\n            <div className=\"flex justify-end space-x-2 pt-4\">\n              <Button type=\"button\" variant=\"outline\" onClick={() => setIsCreateDialogOpen(false)}>\n                Cancel\n              </Button>\n              <Button type=\"submit\" disabled={createMutation.isPending} data-testid=\"button-submit\">\n                {createMutation.isPending ? 'Submitting...' : 'Submit Idea'}\n              </Button>\n            </div>\n          </form>\n        </DialogContent>\n      </Dialog>\n\n      {/* Edit Dialog */}\n      <Dialog open={isEditDialogOpen} onOpenChange={setIsEditDialogOpen}>\n        <DialogContent className=\"sm:max-w-[600px] max-h-[90vh] overflow-y-auto\">\n          <DialogHeader>\n            <DialogTitle>Edit Idea</DialogTitle>\n          </DialogHeader>\n          <form onSubmit={editForm.handleSubmit(handleEditSubmit)} className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"edit-title\">Feature Title *</Label>\n              <Input\n                id=\"edit-title\"\n                {...editForm.register('title')}\n                data-testid=\"input-edit-title\"\n              />\n              {editForm.formState.errors.title && (\n                <p className=\"text-sm text-red-600\">{editForm.formState.errors.title.message}</p>\n              )}\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"edit-description\">Description *</Label>\n              <Textarea\n                id=\"edit-description\"\n                {...editForm.register('description')}\n                rows={4}\n                data-testid=\"textarea-edit-description\"\n              />\n              {editForm.formState.errors.description && (\n                <p className=\"text-sm text-red-600\">{editForm.formState.errors.description.message}</p>\n              )}\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"edit-need\">Why is this needed? *</Label>\n              <Textarea\n                id=\"edit-need\"\n                {...editForm.register('need')}\n                rows={3}\n                data-testid=\"textarea-edit-need\"\n              />\n              {editForm.formState.errors.need && (\n                <p className=\"text-sm text-red-600\">{editForm.formState.errors.need.message}</p>\n              )}\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"edit-category\">Category *</Label>\n                <Select value={editForm.watch('category')} onValueChange={(value) => editForm.setValue('category', value as any)}>\n                  <SelectTrigger data-testid=\"select-edit-category\">\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {Object.entries(categoryLabels).map(([key, label]) => (\n                      <SelectItem key={key} value={key}>\n                        {label}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n                {editForm.formState.errors.category && (\n                  <p className=\"text-sm text-red-600\">{editForm.formState.errors.category.message}</p>\n                )}\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"edit-page\">Page/Location *</Label>\n                <Input\n                  id=\"edit-page\"\n                  {...editForm.register('page')}\n                  data-testid=\"input-edit-page\"\n                />\n                {editForm.formState.errors.page && (\n                  <p className=\"text-sm text-red-600\">{editForm.formState.errors.page.message}</p>\n                )}\n              </div>\n            </div>\n\n            {user?.role === 'admin' && (\n              <>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"edit-status\">Status</Label>\n                  <Select value={editForm.watch('status')} onValueChange={(value) => editForm.setValue('status', value as any)}>\n                    <SelectTrigger data-testid=\"select-edit-status\">\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"submitted\">Submitted</SelectItem>\n                      <SelectItem value=\"under_review\">Under Review</SelectItem>\n                      <SelectItem value=\"planned\">Planned</SelectItem>\n                      <SelectItem value=\"in_progress\">In Progress</SelectItem>\n                      <SelectItem value=\"completed\">Completed</SelectItem>\n                      <SelectItem value=\"rejected\">Rejected</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"edit-admin-notes\">Admin Notes</Label>\n                  <Textarea\n                    id=\"edit-admin-notes\"\n                    {...editForm.register('adminNotes')}\n                    placeholder=\"Internal notes (visible to admins only)\"\n                    rows={2}\n                    data-testid=\"textarea-admin-notes\"\n                  />\n                </div>\n              </>\n            )}\n\n            {/* Choose Document Type Section for Edit */}\n            <div className=\"space-y-4 border-t pt-4\">\n              <Label className=\"text-sm font-medium\">Choose Document Type</Label>\n              <div className=\"flex space-x-3\">\n                <button\n                  type=\"button\"\n                  onClick={() => setEditAttachmentMode('file')}\n                  className={`flex-1 p-3 rounded-lg border text-sm font-medium transition-colors ${\n                    editAttachmentMode === 'file'\n                      ? 'border-blue-500 bg-blue-50 text-blue-700 dark:bg-blue-900 dark:text-blue-300'\n                      : 'border-gray-200 hover:border-gray-300 dark:border-gray-700 dark:hover:border-gray-600'\n                  }`}\n                  data-testid=\"button-edit-file-mode\"\n                >\n                  ðŸ“ Upload File\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={() => setEditAttachmentMode('text')}\n                  className={`flex-1 p-3 rounded-lg border text-sm font-medium transition-colors ${\n                    editAttachmentMode === 'text'\n                      ? 'border-blue-500 bg-blue-50 text-blue-700 dark:bg-blue-900 dark:text-blue-300'\n                      : 'border-gray-200 hover:border-gray-300 dark:border-gray-700 dark:hover:border-gray-600'\n                  }`}\n                  data-testid=\"button-edit-text-mode\"\n                >\n                  ðŸ“ Text Document\n                </button>\n              </div>\n\n              {/* Dynamic Content Based on Selection */}\n              {editAttachmentMode === 'file' ? (\n                <div>\n                  {editingFeatureRequest?.filePath && (\n                    <div className=\"space-y-2 mb-4\">\n                      <Label>Current Attachment</Label>\n                      <AttachedFileSection\n                        entityType=\"feature-request\"\n                        entityId={editingFeatureRequest.id}\n                        filePath={editingFeatureRequest.filePath}\n                        fileName={editingFeatureRequest.fileName}\n                        fileSize={editingFeatureRequest.fileSize}\n                      />\n                    </div>\n                  )}\n                  <Label htmlFor=\"edit-file-upload\">Select File to Upload</Label>\n                  <Input\n                    id=\"edit-file-upload\"\n                    type=\"file\"\n                    accept=\".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif\"\n                    data-testid=\"input-edit-file\"\n                    className=\"mt-1\"\n                  />\n                  <p className=\"text-xs text-gray-500 mt-1\">\n                    {editingFeatureRequest?.filePath ? 'Upload a new file to replace the current attachment' : 'Attach a screenshot, mockup, or document'}\n                  </p>\n                </div>\n              ) : (\n                <div>\n                  <Label htmlFor=\"edit-text-content\">Document Content</Label>\n                  <Textarea\n                    id=\"edit-text-content\"\n                    value={editAttachmentText}\n                    onChange={(e) => setEditAttachmentText(e.target.value)}\n                    rows={5}\n                    className=\"w-full mt-1\"\n                    placeholder=\"Add detailed notes, specifications, or any additional information...\"\n                    data-testid=\"textarea-edit-text-content\"\n                  />\n                  <p className=\"text-xs text-gray-500 mt-1\">\n                    This will show as additional notes with your idea\n                  </p>\n                </div>\n              )}\n            </div>\n\n            <div className=\"flex justify-between items-center pt-4\">\n              <div>\n                {user?.role === 'admin' && editingFeatureRequest && (\n                  <Button \n                    type=\"button\" \n                    variant=\"destructive\" \n                    onClick={() => handleDeleteIdea(editingFeatureRequest)}\n                    disabled={deleteMutation.isPending}\n                    data-testid=\"button-delete-idea\"\n                  >\n                    {deleteMutation.isPending ? 'Deleting...' : 'Delete Idea'}\n                  </Button>\n                )}\n              </div>\n              <div className=\"flex space-x-2\">\n                <Button type=\"button\" variant=\"outline\" onClick={() => setIsEditDialogOpen(false)}>\n                  Cancel\n                </Button>\n                <Button type=\"submit\" disabled={updateMutation.isPending} data-testid=\"button-update\">\n                  {updateMutation.isPending ? 'Updating...' : 'Update Idea'}\n                </Button>\n              </div>\n            </div>\n          </form>\n        </DialogContent>\n      </Dialog>\n\n      {/* View Dialog */}\n      <Dialog open={isViewDialogOpen} onOpenChange={setIsViewDialogOpen}>\n        <DialogContent className=\"sm:max-w-[700px] max-h-[90vh] overflow-y-auto\">\n          {viewingFeatureRequest && (\n            <>\n              <DialogHeader>\n                <div className=\"flex items-start justify-between gap-4\">\n                  <div className=\"flex-1\">\n                    <DialogTitle className=\"text-xl\">{viewingFeatureRequest.title}</DialogTitle>\n                    <div className=\"flex items-center gap-2 mt-2\">\n                      <Badge className={statusColors[viewingFeatureRequest.status as keyof typeof statusColors]}>\n                        {viewingFeatureRequest.status.replace('_', ' ')}\n                      </Badge>\n                      <span className=\"text-sm text-gray-500\">\n                        {categoryLabels[viewingFeatureRequest.category as keyof typeof categoryLabels]}\n                      </span>\n                      <span className=\"text-sm text-gray-500\">â€¢</span>\n                      <span className=\"text-sm text-gray-500\">{viewingFeatureRequest.page}</span>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => handleUpvoteIdea(viewingFeatureRequest)}\n                      disabled={!canUpvoteIdea(viewingFeatureRequest)}\n                    >\n                      <ThumbsUp className=\"h-4 w-4 mr-1\" />\n                      {viewingFeatureRequest.upvoteCount}\n                    </Button>\n                    {canEditIdea(viewingFeatureRequest) && (\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        onClick={() => {\n                          setIsViewDialogOpen(false);\n                          handleEditIdea(viewingFeatureRequest);\n                        }}\n                      >\n                        <Edit2 className=\"h-4 w-4 mr-1\" />\n                        Edit\n                      </Button>\n                    )}\n                  </div>\n                </div>\n              </DialogHeader>\n              \n              <div className=\"space-y-4\">\n                <div>\n                  <h4 className=\"font-semibold mb-2\">Description</h4>\n                  <p className=\"text-gray-700 dark:text-gray-300 whitespace-pre-wrap\">\n                    {viewingFeatureRequest.description}\n                  </p>\n                </div>\n                \n                <div>\n                  <h4 className=\"font-semibold mb-2\">Why is this needed?</h4>\n                  <p className=\"text-gray-700 dark:text-gray-300 whitespace-pre-wrap\">\n                    {viewingFeatureRequest.need}\n                  </p>\n                </div>\n                \n                {viewingFeatureRequest.filePath && (\n                  <div>\n                    <h4 className=\"font-semibold mb-2\">Attachment</h4>\n                    <AttachedFileSection\n                      entityType=\"feature-request\"\n                      entityId={viewingFeatureRequest.id}\n                      filePath={viewingFeatureRequest.filePath}\n                      fileName={viewingFeatureRequest.fileName}\n                      fileSize={viewingFeatureRequest.fileSize}\n                    />\n                  </div>\n                )}\n                \n                {user?.role === 'admin' && viewingFeatureRequest.adminNotes && (\n                  <div>\n                    <h4 className=\"font-semibold mb-2\">Admin Notes</h4>\n                    <p className=\"text-gray-700 dark:text-gray-300 whitespace-pre-wrap bg-gray-50 dark:bg-gray-800 p-3 rounded\">\n                      {viewingFeatureRequest.adminNotes}\n                    </p>\n                  </div>\n                )}\n                \n                <div className=\"text-sm text-gray-500 pt-2 border-t\">\n                  <p>Submitted on {new Date(viewingFeatureRequest.createdAt).toLocaleDateString()}</p>\n                  {viewingFeatureRequest.updatedAt !== viewingFeatureRequest.createdAt && (\n                    <p>Last updated on {new Date(viewingFeatureRequest.updatedAt).toLocaleDateString()}</p>\n                  )}\n                </div>\n              </div>\n            </>\n          )}\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}"],"version":3}