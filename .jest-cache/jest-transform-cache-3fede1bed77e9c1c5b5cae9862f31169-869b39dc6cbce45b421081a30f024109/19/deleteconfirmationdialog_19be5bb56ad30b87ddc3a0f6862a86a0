b9ea604409d6b1cb650b65e85356725b
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.DeleteConfirmationDialog = DeleteConfirmationDialog;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("react");
const dialog_1 = require("@/components/ui/dialog");
const lucide_react_1 = require("lucide-react");
const button_1 = require("@/components/ui/button");
const badge_1 = require("@/components/ui/badge");
const use_toast_1 = require("@/hooks/use-toast");
const queryClient_1 = require("@/lib/queryClient");
/**
 * Delete Confirmation Dialog with Impact Analysis.
 * Shows exactly what will be deleted when cascading delete is performed.
 * @param root0 - Component props.
 * @param root0.open - Whether the dialog is open.
 * @param root0.onOpenChange - Callback when dialog open state changes.
 * @param root0.entityType - Type of entity being deleted.
 * @param root0.entityId - ID of the entity being deleted.
 * @param root0.entityName - Name of the entity being deleted.
 * @param root0.onConfirm - Callback when deletion is confirmed.
 * @param root0.isDeleting - Whether deletion is in progress.
 * @returns JSX element for the delete confirmation dialog.
 */
/**
 * DeleteConfirmationDialog function.
 * @param root0
 * @param root0.open
 * @param root0.onOpenChange
 * @param root0.entityType
 * @param root0.entityId
 * @param root0.entityName
 * @param root0.onConfirm
 * @param root0.isDeleting
 * @returns Function result.
 */
function DeleteConfirmationDialog({ open, onOpenChange, entityType, entityId, entityName, onConfirm, isDeleting = false, }) {
    const [impact, setImpact] = (0, react_1.useState)(null);
    const [loadingImpact, setLoadingImpact] = (0, react_1.useState)(false);
    const { toast } = (0, use_toast_1.useToast)();
    // Fetch deletion impact when dialog opens
    (0, react_1.useEffect)(() => {
        if (open && entityId) {
            fetchDeletionImpact();
        }
    }, [open, entityId, entityType]);
    const fetchDeletionImpact = async () => {
        setLoadingImpact(true);
        try {
            const endpoint = entityType === 'organization'
                ? `/api/organizations/${entityId}/deletion-impact`
                : `/api/admin/buildings/${entityId}/deletion-impact`;
            const response = await (0, queryClient_1.apiRequest)('GET', endpoint);
            const impactData = await response.json();
            setImpact(impactData);
            toast({
                title: 'Error',
                description: 'Failed to analyze deletion impact',
                variant: 'destructive',
            });
        }
        finally {
            setLoadingImpact(false);
        }
    };
    const handleConfirm = () => {
        onConfirm();
    };
    const getTotalItemsToDelete = () => {
        if (!impact) {
            return 0;
        }
        let total = 1; // The entity itself
        if (impact.buildings) {
            total += impact.buildings;
        }
        total += impact.residences;
        total += impact.documents;
        total += impact.potentialOrphanedUsers;
        return total;
    };
    return ((0, jsx_runtime_1.jsx)(dialog_1.Dialog, { open: open, onOpenChange: onOpenChange, children: (0, jsx_runtime_1.jsxs)(dialog_1.DialogContent, { className: 'sm:max-w-[500px] max-h-[90vh] overflow-y-auto', children: [(0, jsx_runtime_1.jsxs)(dialog_1.DialogHeader, { children: [(0, jsx_runtime_1.jsxs)(dialog_1.DialogTitle, { className: 'flex items-center gap-2 text-red-600 dark:text-red-400', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.AlertTriangle, { className: 'h-5 w-5' }), "Confirm Deletion"] }), (0, jsx_runtime_1.jsx)(dialog_1.DialogDescription, { children: "This action cannot be undone. Please review the impact before proceeding." })] }), (0, jsx_runtime_1.jsxs)("div", { className: 'space-y-4', children: [(0, jsx_runtime_1.jsx)("div", { className: 'bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4', children: (0, jsx_runtime_1.jsxs)("p", { className: 'text-sm text-red-800 dark:text-red-200', children: [(0, jsx_runtime_1.jsx)("strong", { children: "Warning:" }), " This action cannot be undone. Deleting this ", entityType, ' ', "will cascade and remove all related data."] }) }), (0, jsx_runtime_1.jsx)("div", { children: (0, jsx_runtime_1.jsxs)("h4", { className: 'font-medium mb-2', children: ["You are about to delete:", ' ', (0, jsx_runtime_1.jsx)("span", { className: 'text-red-600 dark:text-red-400', children: entityName })] }) }), loadingImpact ? ((0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center justify-center py-8', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Loader2, { className: 'h-6 w-6 animate-spin' }), (0, jsx_runtime_1.jsx)("span", { className: 'ml-2 text-sm text-gray-600 dark:text-gray-400', children: "Analyzing deletion impact..." })] })) : impact ? ((0, jsx_runtime_1.jsxs)("div", { className: 'space-y-4', children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("h5", { className: 'font-medium mb-3 text-gray-900 dark:text-gray-100', children: "This will also delete:" }), (0, jsx_runtime_1.jsxs)("div", { className: 'space-y-2', children: [entityType === 'organization' && impact.buildings && impact.buildings > 0 && ((0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center justify-between', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center gap-2', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Building, { className: 'h-4 w-4 text-blue-500' }), (0, jsx_runtime_1.jsx)("span", { className: 'text-sm', children: "Buildings" })] }), (0, jsx_runtime_1.jsx)(badge_1.Badge, { variant: 'secondary', children: impact.buildings })] })), impact.residences > 0 && ((0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center justify-between', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center gap-2', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Home, { className: 'h-4 w-4 text-green-500' }), (0, jsx_runtime_1.jsx)("span", { className: 'text-sm', children: "Residences" })] }), (0, jsx_runtime_1.jsx)(badge_1.Badge, { variant: 'secondary', children: impact.residences })] })), impact.documents > 0 && ((0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center justify-between', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center gap-2', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.FileText, { className: 'h-4 w-4 text-orange-500' }), (0, jsx_runtime_1.jsx)("span", { className: 'text-sm', children: "Documents" })] }), (0, jsx_runtime_1.jsx)(badge_1.Badge, { variant: 'secondary', children: impact.documents })] })), impact.potentialOrphanedUsers > 0 && ((0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center justify-between', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center gap-2', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Users, { className: 'h-4 w-4 text-purple-500' }), (0, jsx_runtime_1.jsx)("span", { className: 'text-sm', children: "Orphaned Users" })] }), (0, jsx_runtime_1.jsx)(badge_1.Badge, { variant: 'secondary', children: impact.potentialOrphanedUsers })] })), getTotalItemsToDelete() === 1 && ((0, jsx_runtime_1.jsx)("p", { className: 'text-sm text-gray-600 dark:text-gray-400 italic', children: "No related entities will be affected." }))] })] }), getTotalItemsToDelete() > 1 && ((0, jsx_runtime_1.jsx)("div", { className: 'bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-3', children: (0, jsx_runtime_1.jsxs)("p", { className: 'text-sm text-orange-800 dark:text-orange-200', children: [(0, jsx_runtime_1.jsx)("strong", { children: "Total items to delete:" }), " ", getTotalItemsToDelete()] }) }))] })) : ((0, jsx_runtime_1.jsx)("div", { className: 'text-center py-4', children: (0, jsx_runtime_1.jsx)("p", { className: 'text-sm text-gray-600 dark:text-gray-400', children: "Unable to analyze deletion impact. Proceed with caution." }) })), (0, jsx_runtime_1.jsx)("div", { className: 'bg-gray-50 dark:bg-gray-800 rounded-lg p-3', children: (0, jsx_runtime_1.jsxs)("p", { className: 'text-xs text-gray-600 dark:text-gray-400', children: [(0, jsx_runtime_1.jsx)("strong", { children: "Note:" }), " Deleted items are soft-deleted and may be recoverable by system administrators."] }) })] }), (0, jsx_runtime_1.jsxs)(dialog_1.DialogFooter, { className: 'flex gap-2', children: [(0, jsx_runtime_1.jsx)(button_1.Button, { variant: 'outline', onClick: () => onOpenChange(false), disabled: isDeleting, children: "Cancel" }), (0, jsx_runtime_1.jsx)(button_1.Button, { variant: 'destructive', onClick: handleConfirm, disabled: isDeleting || loadingImpact, children: isDeleting ? ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Loader2, { className: 'h-4 w-4 mr-2 animate-spin' }), "Deleting..."] })) : (`Delete ${entityType === 'organization' ? 'Organization' : 'Building'}`) })] })] }) }));
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9jbGllbnQvc3JjL2NvbXBvbmVudHMvZGlhbG9ncy9kZWxldGUtY29uZmlybWF0aW9uLWRpYWxvZy50c3giLCJtYXBwaW5ncyI6Ijs7QUFpRUEsNERBbU1DOztBQXBRRCxpQ0FBNEM7QUFDNUMsbURBT2dDO0FBQ2hDLCtDQUF1RjtBQUN2RixtREFBZ0Q7QUFDaEQsaURBQThDO0FBQzlDLGlEQUE2QztBQUM3QyxtREFBK0M7QUEyQi9DOzs7Ozs7Ozs7Ozs7R0FZRztBQUNIOzs7Ozs7Ozs7OztHQVdHO0FBQ0gsU0FBZ0Isd0JBQXdCLENBQUMsRUFDdkMsSUFBSSxFQUNKLFlBQVksRUFDWixVQUFVLEVBQ1YsUUFBUSxFQUNSLFVBQVUsRUFDVixTQUFTLEVBQ1QsVUFBVSxHQUFHLEtBQUssR0FDWTtJQUM5QixNQUFNLENBQUMsTUFBTSxFQUFFLFNBQVMsQ0FBQyxHQUFHLElBQUEsZ0JBQVEsRUFBd0IsSUFBSSxDQUFDLENBQUM7SUFDbEUsTUFBTSxDQUFDLGFBQWEsRUFBRSxnQkFBZ0IsQ0FBQyxHQUFHLElBQUEsZ0JBQVEsRUFBQyxLQUFLLENBQUMsQ0FBQztJQUMxRCxNQUFNLEVBQUUsS0FBSyxFQUFFLEdBQUcsSUFBQSxvQkFBUSxHQUFFLENBQUM7SUFFN0IsMENBQTBDO0lBQzFDLElBQUEsaUJBQVMsRUFBQyxHQUFHLEVBQUU7UUFDYixJQUFJLElBQUksSUFBSSxRQUFRLEVBQUUsQ0FBQztZQUNyQixtQkFBbUIsRUFBRSxDQUFDO1FBQ3hCLENBQUM7SUFDSCxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsUUFBUSxFQUFFLFVBQVUsQ0FBQyxDQUFDLENBQUM7SUFFakMsTUFBTSxtQkFBbUIsR0FBRyxLQUFLLElBQUksRUFBRTtRQUNyQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN2QixJQUFJLENBQUM7WUFDSCxNQUFNLFFBQVEsR0FDWixVQUFVLEtBQUssY0FBYztnQkFDM0IsQ0FBQyxDQUFDLHNCQUFzQixRQUFRLGtCQUFrQjtnQkFD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QzlCLGdDQUFLLFNBQVMsRUFBQyxtR0FBbUcsWUFDaEgsK0JBQUcsU0FBUyxFQUFDLDhDQUE4QyxhQUN6RCx3RUFBdUMsT0FBRSxxQkFBcUIsRUFBRSxJQUM5RCxHQUNBLENBQ1AsSUFDRyxDQUNQLENBQUMsQ0FBQyxDQUFDLENBQ0YsZ0NBQUssU0FBUyxFQUFDLGtCQUFrQixZQUMvQiw4QkFBRyxTQUFTLEVBQUMsMENBQTBDLHlFQUVuRCxHQUNBLENBQ1AsRUFFRCxnQ0FBSyxTQUFTLEVBQUMsNENBQTRDLFlBQ3pELCtCQUFHLFNBQVMsRUFBQywwQ0FBMEMsYUFDckQsdURBQXNCLHdGQUVwQixHQUNBLElBQ0YsRUFFTix3QkFBQyxxQkFBWSxJQUFDLFNBQVMsRUFBQyxZQUFZLGFBQ2xDLHVCQUFDLGVBQU0sSUFBQyxPQUFPLEVBQUMsU0FBUyxFQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLEVBQUUsUUFBUSxFQUFFLFVBQVUsdUJBRXpFLEVBQ1QsdUJBQUMsZUFBTSxJQUNMLE9BQU8sRUFBQyxhQUFhLEVBQ3JCLE9BQU8sRUFBRSxhQUFhLEVBQ3RCLFFBQVEsRUFBRSxVQUFVLElBQUksYUFBYSxZQUVwQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQ1osNkRBQ0UsdUJBQUMsc0JBQU8sSUFBQyxTQUFTLEVBQUMsMkJBQTJCLEdBQUcsbUJBRWhELENBQ0osQ0FBQyxDQUFDLENBQUMsQ0FDRixVQUFVLFVBQVUsS0FBSyxjQUFjLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsVUFBVSxFQUFFLENBQ3hFLEdBQ00sSUFDSSxJQUNELEdBQ1QsQ0FDVixDQUFDO0FBQ0osQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvaG9tZS9ydW5uZXIvd29ya3NwYWNlL2NsaWVudC9zcmMvY29tcG9uZW50cy9kaWFsb2dzL2RlbGV0ZS1jb25maXJtYXRpb24tZGlhbG9nLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtcbiAgRGlhbG9nLFxuICBEaWFsb2dDb250ZW50LFxuICBEaWFsb2dEZXNjcmlwdGlvbixcbiAgRGlhbG9nSGVhZGVyLFxuICBEaWFsb2dUaXRsZSxcbiAgRGlhbG9nRm9vdGVyLFxufSBmcm9tICdAL2NvbXBvbmVudHMvdWkvZGlhbG9nJztcbmltcG9ydCB7IEFsZXJ0VHJpYW5nbGUsIEJ1aWxkaW5nLCBIb21lLCBGaWxlVGV4dCwgVXNlcnMsIExvYWRlcjIgfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbic7XG5pbXBvcnQgeyBCYWRnZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9iYWRnZSc7XG5pbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gJ0AvaG9va3MvdXNlLXRvYXN0JztcbmltcG9ydCB7IGFwaVJlcXVlc3QgfSBmcm9tICdAL2xpYi9xdWVyeUNsaWVudCc7XG5cbi8qKlxuICogSW50ZXJmYWNlIGZvciBkZWxldGlvbiBpbXBhY3QgYW5hbHlzaXMgZGF0YS5cbiAqL1xuaW50ZXJmYWNlIERlbGV0aW9uSW1wYWN0IHtcbiAgb3JnYW5pemF0aW9uPzogeyBpZDogc3RyaW5nOyBuYW1lOiBzdHJpbmcgfTtcbiAgYnVpbGRpbmc/OiB7IGlkOiBzdHJpbmc7IG5hbWU6IHN0cmluZyB9O1xuICBidWlsZGluZ3M/OiBudW1iZXI7XG4gIHJlc2lkZW5jZXM6IG51bWJlcjtcbiAgZG9jdW1lbnRzOiBudW1iZXI7XG4gIHBvdGVudGlhbE9ycGhhbmVkVXNlcnM6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBJbnRlcmZhY2UgZm9yIERlbGV0ZUNvbmZpcm1hdGlvbkRpYWxvZyBjb21wb25lbnQgcHJvcHMuXG4gKi9cbmludGVyZmFjZSBEZWxldGVDb25maXJtYXRpb25EaWFsb2dQcm9wcyB7XG4gIG9wZW46IGJvb2xlYW47XG4gIG9uT3BlbkNoYW5nZTogKF9vcGVuOiBib29sZWFuKSA9PiB2b2lkO1xuICBlbnRpdHlUeXBlOiAnb3JnYW5pemF0aW9uJyB8ICdidWlsZGluZyc7XG4gIGVudGl0eUlkOiBzdHJpbmc7XG4gIGVudGl0eU5hbWU6IHN0cmluZztcbiAgb25Db25maXJtOiAoKSA9PiB2b2lkO1xuICBpc0RlbGV0aW5nPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBEZWxldGUgQ29uZmlybWF0aW9uIERpYWxvZyB3aXRoIEltcGFjdCBBbmFseXNpcy5cbiAqIFNob3dzIGV4YWN0bHkgd2hhdCB3aWxsIGJlIGRlbGV0ZWQgd2hlbiBjYXNjYWRpbmcgZGVsZXRlIGlzIHBlcmZvcm1lZC5cbiAqIEBwYXJhbSByb290MCAtIENvbXBvbmVudCBwcm9wcy5cbiAqIEBwYXJhbSByb290MC5vcGVuIC0gV2hldGhlciB0aGUgZGlhbG9nIGlzIG9wZW4uXG4gKiBAcGFyYW0gcm9vdDAub25PcGVuQ2hhbmdlIC0gQ2FsbGJhY2sgd2hlbiBkaWFsb2cgb3BlbiBzdGF0ZSBjaGFuZ2VzLlxuICogQHBhcmFtIHJvb3QwLmVudGl0eVR5cGUgLSBUeXBlIG9mIGVudGl0eSBiZWluZyBkZWxldGVkLlxuICogQHBhcmFtIHJvb3QwLmVudGl0eUlkIC0gSUQgb2YgdGhlIGVudGl0eSBiZWluZyBkZWxldGVkLlxuICogQHBhcmFtIHJvb3QwLmVudGl0eU5hbWUgLSBOYW1lIG9mIHRoZSBlbnRpdHkgYmVpbmcgZGVsZXRlZC5cbiAqIEBwYXJhbSByb290MC5vbkNvbmZpcm0gLSBDYWxsYmFjayB3aGVuIGRlbGV0aW9uIGlzIGNvbmZpcm1lZC5cbiAqIEBwYXJhbSByb290MC5pc0RlbGV0aW5nIC0gV2hldGhlciBkZWxldGlvbiBpcyBpbiBwcm9ncmVzcy5cbiAqIEByZXR1cm5zIEpTWCBlbGVtZW50IGZvciB0aGUgZGVsZXRlIGNvbmZpcm1hdGlvbiBkaWFsb2cuXG4gKi9cbi8qKlxuICogRGVsZXRlQ29uZmlybWF0aW9uRGlhbG9nIGZ1bmN0aW9uLlxuICogQHBhcmFtIHJvb3QwXG4gKiBAcGFyYW0gcm9vdDAub3BlblxuICogQHBhcmFtIHJvb3QwLm9uT3BlbkNoYW5nZVxuICogQHBhcmFtIHJvb3QwLmVudGl0eVR5cGVcbiAqIEBwYXJhbSByb290MC5lbnRpdHlJZFxuICogQHBhcmFtIHJvb3QwLmVudGl0eU5hbWVcbiAqIEBwYXJhbSByb290MC5vbkNvbmZpcm1cbiAqIEBwYXJhbSByb290MC5pc0RlbGV0aW5nXG4gKiBAcmV0dXJucyBGdW5jdGlvbiByZXN1bHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBEZWxldGVDb25maXJtYXRpb25EaWFsb2coe1xuICBvcGVuLFxuICBvbk9wZW5DaGFuZ2UsXG4gIGVudGl0eVR5cGUsXG4gIGVudGl0eUlkLFxuICBlbnRpdHlOYW1lLFxuICBvbkNvbmZpcm0sXG4gIGlzRGVsZXRpbmcgPSBmYWxzZSxcbn06IERlbGV0ZUNvbmZpcm1hdGlvbkRpYWxvZ1Byb3BzKSB7XG4gIGNvbnN0IFtpbXBhY3QsIHNldEltcGFjdF0gPSB1c2VTdGF0ZTxEZWxldGlvbkltcGFjdCB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbbG9hZGluZ0ltcGFjdCwgc2V0TG9hZGluZ0ltcGFjdF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IHsgdG9hc3QgfSA9IHVzZVRvYXN0KCk7XG5cbiAgLy8gRmV0Y2ggZGVsZXRpb24gaW1wYWN0IHdoZW4gZGlhbG9nIG9wZW5zXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKG9wZW4gJiYgZW50aXR5SWQpIHtcbiAgICAgIGZldGNoRGVsZXRpb25JbXBhY3QoKTtcbiAgICB9XG4gIH0sIFtvcGVuLCBlbnRpdHlJZCwgZW50aXR5VHlwZV0pO1xuXG4gIGNvbnN0IGZldGNoRGVsZXRpb25JbXBhY3QgPSBhc3luYyAoKSA9PiB7XG4gICAgc2V0TG9hZGluZ0ltcGFjdCh0cnVlKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZW5kcG9pbnQgPVxuICAgICAgICBlbnRpdHlUeXBlID09PSAnb3JnYW5pemF0aW9uJ1xuICAgICAgICAgID8gYC9hcGkvb3JnYW5pemF0aW9ucy8ke2VudGl0eUlkfS9kZWxldGlvbi1pbXBhY3RgXG4gICAgICAgICAgOiBgL2FwaS9hZG1pbi9idWlsZGluZ3MvJHtlbnRpdHlJZH0vZGVsZXRpb24taW1wYWN0YDtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlSZXF1ZXN0KCdHRVQnLCBlbmRwb2ludCk7XG4gICAgICBjb25zdCBpbXBhY3REYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgc2V0SW1wYWN0KGltcGFjdERhdGEpO1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ0Vycm9yJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdGYWlsZWQgdG8gYW5hbHl6ZSBkZWxldGlvbiBpbXBhY3QnLFxuICAgICAgICB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLFxuICAgICAgfSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmdJbXBhY3QoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVDb25maXJtID0gKCkgPT4ge1xuICAgIG9uQ29uZmlybSgpO1xuICB9O1xuXG4gIGNvbnN0IGdldFRvdGFsSXRlbXNUb0RlbGV0ZSA9ICgpID0+IHtcbiAgICBpZiAoIWltcGFjdCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGxldCB0b3RhbCA9IDE7IC8vIFRoZSBlbnRpdHkgaXRzZWxmXG4gICAgaWYgKGltcGFjdC5idWlsZGluZ3MpIHtcbiAgICAgIHRvdGFsICs9IGltcGFjdC5idWlsZGluZ3M7XG4gICAgfVxuICAgIHRvdGFsICs9IGltcGFjdC5yZXNpZGVuY2VzO1xuICAgIHRvdGFsICs9IGltcGFjdC5kb2N1bWVudHM7XG4gICAgdG90YWwgKz0gaW1wYWN0LnBvdGVudGlhbE9ycGhhbmVkVXNlcnM7XG4gICAgcmV0dXJuIHRvdGFsO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPERpYWxvZyBvcGVuPXtvcGVufSBvbk9wZW5DaGFuZ2U9e29uT3BlbkNoYW5nZX0+XG4gICAgICA8RGlhbG9nQ29udGVudCBjbGFzc05hbWU9J3NtOm1heC13LVs1MDBweF0gbWF4LWgtWzkwdmhdIG92ZXJmbG93LXktYXV0byc+XG4gICAgICAgIDxEaWFsb2dIZWFkZXI+XG4gICAgICAgICAgPERpYWxvZ1RpdGxlIGNsYXNzTmFtZT0nZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1yZWQtNjAwIGRhcms6dGV4dC1yZWQtNDAwJz5cbiAgICAgICAgICAgIDxBbGVydFRyaWFuZ2xlIGNsYXNzTmFtZT0naC01IHctNScgLz5cbiAgICAgICAgICAgIENvbmZpcm0gRGVsZXRpb25cbiAgICAgICAgICA8L0RpYWxvZ1RpdGxlPlxuICAgICAgICAgIDxEaWFsb2dEZXNjcmlwdGlvbj5cbiAgICAgICAgICAgIFRoaXMgYWN0aW9uIGNhbm5vdCBiZSB1bmRvbmUuIFBsZWFzZSByZXZpZXcgdGhlIGltcGFjdCBiZWZvcmUgcHJvY2VlZGluZy5cbiAgICAgICAgICA8L0RpYWxvZ0Rlc2NyaXB0aW9uPlxuICAgICAgICA8L0RpYWxvZ0hlYWRlcj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc3BhY2UteS00Jz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nYmctcmVkLTUwIGRhcms6YmctcmVkLTkwMC8yMCBib3JkZXIgYm9yZGVyLXJlZC0yMDAgZGFyazpib3JkZXItcmVkLTgwMCByb3VuZGVkLWxnIHAtNCc+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9J3RleHQtc20gdGV4dC1yZWQtODAwIGRhcms6dGV4dC1yZWQtMjAwJz5cbiAgICAgICAgICAgICAgPHN0cm9uZz5XYXJuaW5nOjwvc3Ryb25nPiBUaGlzIGFjdGlvbiBjYW5ub3QgYmUgdW5kb25lLiBEZWxldGluZyB0aGlzIHtlbnRpdHlUeXBlfXsnICd9XG4gICAgICAgICAgICAgIHdpbGwgY2FzY2FkZSBhbmQgcmVtb3ZlIGFsbCByZWxhdGVkIGRhdGEuXG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT0nZm9udC1tZWRpdW0gbWItMic+XG4gICAgICAgICAgICAgIFlvdSBhcmUgYWJvdXQgdG8gZGVsZXRlOnsnICd9XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0ndGV4dC1yZWQtNjAwIGRhcms6dGV4dC1yZWQtNDAwJz57ZW50aXR5TmFtZX08L3NwYW4+XG4gICAgICAgICAgICA8L2g0PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAge2xvYWRpbmdJbXBhY3QgPyAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcHktOCc+XG4gICAgICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT0naC02IHctNiBhbmltYXRlLXNwaW4nIC8+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nbWwtMiB0ZXh0LXNtIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwJz5cbiAgICAgICAgICAgICAgICBBbmFseXppbmcgZGVsZXRpb24gaW1wYWN0Li4uXG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkgOiBpbXBhY3QgPyAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc3BhY2UteS00Jz5cbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8aDUgY2xhc3NOYW1lPSdmb250LW1lZGl1bSBtYi0zIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LWdyYXktMTAwJz5cbiAgICAgICAgICAgICAgICAgIFRoaXMgd2lsbCBhbHNvIGRlbGV0ZTpcbiAgICAgICAgICAgICAgICA8L2g1PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzcGFjZS15LTInPlxuICAgICAgICAgICAgICAgICAge2VudGl0eVR5cGUgPT09ICdvcmdhbml6YXRpb24nICYmIGltcGFjdC5idWlsZGluZ3MgJiYgaW1wYWN0LmJ1aWxkaW5ncyA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuJz5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTInPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1aWxkaW5nIGNsYXNzTmFtZT0naC00IHctNCB0ZXh0LWJsdWUtNTAwJyAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSd0ZXh0LXNtJz5CdWlsZGluZ3M8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPEJhZGdlIHZhcmlhbnQ9J3NlY29uZGFyeSc+e2ltcGFjdC5idWlsZGluZ3N9PC9CYWRnZT5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICB7aW1wYWN0LnJlc2lkZW5jZXMgPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2Vlbic+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXggaXRlbXMtY2VudGVyIGdhcC0yJz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxIb21lIGNsYXNzTmFtZT0naC00IHctNCB0ZXh0LWdyZWVuLTUwMCcgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0ndGV4dC1zbSc+UmVzaWRlbmNlczwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8QmFkZ2UgdmFyaWFudD0nc2Vjb25kYXJ5Jz57aW1wYWN0LnJlc2lkZW5jZXN9PC9CYWRnZT5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICB7aW1wYWN0LmRvY3VtZW50cyA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuJz5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTInPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZpbGVUZXh0IGNsYXNzTmFtZT0naC00IHctNCB0ZXh0LW9yYW5nZS01MDAnIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3RleHQtc20nPkRvY3VtZW50czwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8QmFkZ2UgdmFyaWFudD0nc2Vjb25kYXJ5Jz57aW1wYWN0LmRvY3VtZW50c308L0JhZGdlPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgIHtpbXBhY3QucG90ZW50aWFsT3JwaGFuZWRVc2VycyA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuJz5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTInPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFVzZXJzIGNsYXNzTmFtZT0naC00IHctNCB0ZXh0LXB1cnBsZS01MDAnIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3RleHQtc20nPk9ycGhhbmVkIFVzZXJzPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxCYWRnZSB2YXJpYW50PSdzZWNvbmRhcnknPntpbXBhY3QucG90ZW50aWFsT3JwaGFuZWRVc2Vyc308L0JhZGdlPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgIHtnZXRUb3RhbEl0ZW1zVG9EZWxldGUoKSA9PT0gMSAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0ndGV4dC1zbSB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMCBpdGFsaWMnPlxuICAgICAgICAgICAgICAgICAgICAgIE5vIHJlbGF0ZWQgZW50aXRpZXMgd2lsbCBiZSBhZmZlY3RlZC5cbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAge2dldFRvdGFsSXRlbXNUb0RlbGV0ZSgpID4gMSAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2JnLW9yYW5nZS01MCBkYXJrOmJnLW9yYW5nZS05MDAvMjAgYm9yZGVyIGJvcmRlci1vcmFuZ2UtMjAwIGRhcms6Ym9yZGVyLW9yYW5nZS04MDAgcm91bmRlZC1sZyBwLTMnPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSd0ZXh0LXNtIHRleHQtb3JhbmdlLTgwMCBkYXJrOnRleHQtb3JhbmdlLTIwMCc+XG4gICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+VG90YWwgaXRlbXMgdG8gZGVsZXRlOjwvc3Ryb25nPiB7Z2V0VG90YWxJdGVtc1RvRGVsZXRlKCl9XG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3RleHQtY2VudGVyIHB5LTQnPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3RleHQtc20gdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDAnPlxuICAgICAgICAgICAgICAgIFVuYWJsZSB0byBhbmFseXplIGRlbGV0aW9uIGltcGFjdC4gUHJvY2VlZCB3aXRoIGNhdXRpb24uXG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nYmctZ3JheS01MCBkYXJrOmJnLWdyYXktODAwIHJvdW5kZWQtbGcgcC0zJz5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0ndGV4dC14cyB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMCc+XG4gICAgICAgICAgICAgIDxzdHJvbmc+Tm90ZTo8L3N0cm9uZz4gRGVsZXRlZCBpdGVtcyBhcmUgc29mdC1kZWxldGVkIGFuZCBtYXkgYmUgcmVjb3ZlcmFibGUgYnkgc3lzdGVtXG4gICAgICAgICAgICAgIGFkbWluaXN0cmF0b3JzLlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8RGlhbG9nRm9vdGVyIGNsYXNzTmFtZT0nZmxleCBnYXAtMic+XG4gICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PSdvdXRsaW5lJyBvbkNsaWNrPXsoKSA9PiBvbk9wZW5DaGFuZ2UoZmFsc2UpfSBkaXNhYmxlZD17aXNEZWxldGluZ30+XG4gICAgICAgICAgICBDYW5jZWxcbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICB2YXJpYW50PSdkZXN0cnVjdGl2ZSdcbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNvbmZpcm19XG4gICAgICAgICAgICBkaXNhYmxlZD17aXNEZWxldGluZyB8fCBsb2FkaW5nSW1wYWN0fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtpc0RlbGV0aW5nID8gKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT0naC00IHctNCBtci0yIGFuaW1hdGUtc3BpbicgLz5cbiAgICAgICAgICAgICAgICBEZWxldGluZy4uLlxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIGBEZWxldGUgJHtlbnRpdHlUeXBlID09PSAnb3JnYW5pemF0aW9uJyA/ICdPcmdhbml6YXRpb24nIDogJ0J1aWxkaW5nJ31gXG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L0RpYWxvZ0Zvb3Rlcj5cbiAgICAgIDwvRGlhbG9nQ29udGVudD5cbiAgICA8L0RpYWxvZz5cbiAgKTtcbn1cbiJdLCJ2ZXJzaW9uIjozfQ==