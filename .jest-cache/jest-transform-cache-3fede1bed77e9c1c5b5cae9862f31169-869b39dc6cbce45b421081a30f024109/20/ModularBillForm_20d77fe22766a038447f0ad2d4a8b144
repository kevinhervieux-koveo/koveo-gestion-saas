388b1036c3ab5156ec40fd9390e8f262
"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = ModularBillForm;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = __importStar(require("react"));
const react_hook_form_1 = require("react-hook-form");
const zod_1 = require("@hookform/resolvers/zod");
const react_query_1 = require("@tanstack/react-query");
const zod_2 = require("zod");
const button_1 = require("@/components/ui/button");
const input_1 = require("@/components/ui/input");
const textarea_1 = require("@/components/ui/textarea");
const badge_1 = require("@/components/ui/badge");
const tabs_1 = require("@/components/ui/tabs");
const card_1 = require("@/components/ui/card");
const form_1 = require("@/components/ui/form");
const select_1 = require("@/components/ui/select");
const lucide_react_1 = require("lucide-react");
const use_language_1 = require("@/hooks/use-language");
const use_toast_1 = require("@/hooks/use-toast");
const queryClient_1 = require("@/lib/queryClient");
const utils_1 = require("@/lib/utils");
const document_management_1 = require("@/components/document-management");
const GeminiBillExtractor_1 = require("./GeminiBillExtractor");
// Unified form schema (simplified from original)
const billFormSchema = zod_2.z.object({
    title: zod_2.z.string().min(1, 'Bill title is required').max(200, 'Title must be less than 200 characters'),
    description: zod_2.z.string().max(1000, 'Description must be less than 1000 characters').optional(),
    category: zod_2.z.enum([
        'insurance',
        'maintenance',
        'salary',
        'utilities',
        'cleaning',
        'security',
        'landscaping',
        'professional_services',
        'administration',
        'repairs',
        'supplies',
        'taxes',
        'technology',
        'reserves',
        'other',
    ]),
    vendor: zod_2.z.string().max(150, 'Vendor name must be less than 150 characters').optional(),
    paymentType: zod_2.z.enum(['unique', 'recurrent']),
    schedulePayment: zod_2.z.enum(['weekly', 'monthly', 'quarterly', 'yearly', 'custom']).optional(),
    customPayments: zod_2.z.array(zod_2.z.object({
        amount: zod_2.z.string().min(1, 'Amount is required').refine((val) => {
            const num = parseFloat(val);
            return !isNaN(num) && num > 0 && num <= 999999.99;
        }, 'Amount must be between $0.01 and $999,999.99'),
        date: zod_2.z.string().min(1, 'Date is required').refine((val) => {
            return !isNaN(Date.parse(val));
        }, 'Date must be a valid date'),
        description: zod_2.z.string().optional()
    })).optional(),
    totalAmount: zod_2.z.string().min(1, 'Amount is required and must be a valid number').refine((val) => {
        const num = parseFloat(val);
        return !isNaN(num) && num > 0 && num <= 999999.99;
    }, 'Amount must be between $0.01 and $999,999.99'),
    startDate: zod_2.z.string().min(1, 'Start date is required').refine((val) => {
        return !isNaN(Date.parse(val));
    }, 'Start date must be a valid date'),
    endDate: zod_2.z.string().optional().refine((val) => {
        if (!val)
            return true;
        return !isNaN(Date.parse(val));
    }, 'End date must be a valid date'),
    status: zod_2.z.enum(['draft', 'sent', 'overdue', 'paid', 'cancelled']),
    notes: zod_2.z.string().max(2000, 'Notes must be less than 2000 characters').optional(),
});
const BILL_CATEGORIES = [
    { value: 'utilities', label: 'Utilities' },
    { value: 'maintenance', label: 'Maintenance' },
    { value: 'insurance', label: 'Insurance' },
    { value: 'cleaning', label: 'Cleaning' },
    { value: 'security', label: 'Security' },
    { value: 'landscaping', label: 'Landscaping' },
    { value: 'professional_services', label: 'Professional Services' },
    { value: 'administration', label: 'Administration' },
    { value: 'repairs', label: 'Repairs' },
    { value: 'supplies', label: 'Supplies' },
    { value: 'taxes', label: 'Taxes' },
    { value: 'technology', label: 'Technology' },
    { value: 'salary', label: 'Salary' },
    { value: 'reserves', label: 'Reserves' },
    { value: 'other', label: 'Other' },
];
function ModularBillForm({ bill, onSuccess, onCancel, buildingId }) {
    const { t } = (0, use_language_1.useLanguage)();
    const { toast } = (0, use_toast_1.useToast)();
    const queryClient = (0, react_query_1.useQueryClient)();
    // State for AI extraction
    const [aiFile, setAiFile] = (0, react_1.useState)(null);
    const [isAiMode, setIsAiMode] = (0, react_1.useState)(false);
    const [aiExtractionData, setAiExtractionData] = (0, react_1.useState)(null);
    const [isExtracting, setIsExtracting] = (0, react_1.useState)(false);
    const [aiEnabled, setAiEnabled] = (0, react_1.useState)(true); // AI enabled by default for bills
    // State for manual document upload
    const [manualFile, setManualFile] = (0, react_1.useState)(null);
    const [customPayments, setCustomPayments] = (0, react_1.useState)([]);
    // Upload context for secure storage
    const uploadContext = {
        type: 'bills',
        organizationId: 'default', // Would be dynamic based on user's org
        buildingId,
        userRole: 'admin', // Would be dynamic based on user's role
        userId: 'current-user' // Would be dynamic based on current user
    };
    // Form setup
    const form = (0, react_hook_form_1.useForm)({
        resolver: (0, zod_1.zodResolver)(billFormSchema),
        defaultValues: {
            title: bill?.title || '',
            description: bill?.description || '',
            category: bill?.category || 'other',
            vendor: bill?.vendor || '',
            paymentType: bill?.paymentType || 'unique',
            schedulePayment: 'monthly',
            customPayments: [],
            totalAmount: bill?.totalAmount?.toString() || '',
            startDate: bill?.startDate || '',
            endDate: bill?.endDate || '',
            status: bill?.status || 'draft',
            notes: bill?.notes || '',
        }
    });
    const paymentType = form.watch('paymentType');
    const schedulePayment = form.watch('schedulePayment');
    // Handle AI extraction results
    const handleAiExtractionComplete = (data) => {
        // Handle loading state
        if (data.isLoading) {
            setIsExtracting(true);
            toast({
                title: 'AI Extraction Started',
                description: 'Processing your document... This may take a few seconds.',
            });
            return;
        }
        // Clear loading state
        setIsExtracting(false);
        if (data.success && data.formData) {
            setAiExtractionData(data.formData);
            // Auto-fill form with AI data
            Object.entries(data.formData).forEach(([key, value]) => {
                if (key === 'customPayments' && Array.isArray(value)) {
                    setCustomPayments(value);
                    form.setValue('customPayments', value);
                }
                else if (value && typeof value === 'string') {
                    form.setValue(key, value);
                }
            });
            toast({
                title: 'AI Extraction Complete',
                description: `Successfully extracted bill data with ${Math.round((data.confidence || 0.9) * 100)}% confidence`,
            });
        }
        else {
            toast({
                title: 'AI Extraction Failed',
                description: data.error || 'Failed to extract bill data',
                variant: 'destructive',
            });
        }
    };
    // Handle AI toggle
    const handleAiToggle = (enabled) => {
        setAiEnabled(enabled);
        if (!enabled) {
            setAiExtractionData(null);
            setIsExtracting(false);
        }
    };
    // Handle AI analysis completion
    const handleAiAnalysisComplete = (analysisData) => {
        if (analysisData.success) {
            setAiExtractionData(analysisData.extractedData);
            setIsExtracting(false);
            // Auto-populate form with extracted data
            if (analysisData.extractedData) {
                const data = analysisData.extractedData;
                if (data.title)
                    form.setValue('title', data.title);
                if (data.vendor)
                    form.setValue('vendor', data.vendor);
                if (data.amount)
                    form.setValue('totalAmount', data.amount.toString());
                if (data.category)
                    form.setValue('category', data.category);
                if (data.date)
                    form.setValue('startDate', data.date);
                if (data.description)
                    form.setValue('description', data.description);
            }
            toast({
                title: 'AI Analysis Complete',
                description: 'Bill data has been extracted and populated in the form.',
            });
        }
        else {
            setIsExtracting(false);
            toast({
                title: 'AI Analysis Failed',
                description: analysisData.error || 'Failed to analyze document',
                variant: 'destructive',
            });
        }
    };
    // Handle file upload from SharedUploader
    const handleFileUpload = (file, extractedText) => {
        if (file) {
            if (aiEnabled) {
                setAiFile(file);
                setIsAiMode(true);
                setIsExtracting(true);
            }
            else {
                setManualFile(file);
            }
        }
    };
    // Create/Update bill mutation
    const billMutation = (0, react_query_1.useMutation)({
        mutationFn: async (data) => {
            const endpoint = bill ? `/api/bills/${bill.id}` : '/api/bills';
            const method = bill ? 'PUT' : 'POST';
            const billData = {
                ...data,
                buildingId: buildingId || bill?.buildingId,
                costs: [data.totalAmount], // Convert single amount to costs array
            };
            const response = await (0, queryClient_1.apiRequest)(method, endpoint, billData);
            const billResponse = await response.json();
            // Upload document if one was attached (either from AI extraction or manual entry)
            const fileToUpload = aiFile || manualFile;
            if (!bill && fileToUpload) {
                try {
                    console.log('[BILL FORM] Uploading document:', fileToUpload.name, 'for bill:', billResponse.id);
                    const formData = new FormData();
                    formData.append('document', fileToUpload);
                    const uploadResponse = await fetch(`/api/bills/${billResponse.id}/upload-document`, {
                        method: 'POST',
                        credentials: 'include',
                        body: formData,
                    });
                    if (!uploadResponse.ok) {
                        const errorText = await uploadResponse.text();
                        console.error('[BILL FORM] Upload failed with status:', uploadResponse.status, errorText);
                        throw new Error(`Upload failed: ${uploadResponse.status} ${errorText}`);
                    }
                    const uploadResult = await uploadResponse.json();
                    console.log('[BILL FORM] Document upload successful:', uploadResult);
                    // Update the bill response with the document information from the upload
                    if (uploadResult.bill) {
                        billResponse.filePath = uploadResult.bill.filePath;
                        billResponse.fileName = uploadResult.bill.fileName;
                        billResponse.fileSize = uploadResult.bill.fileSize;
                        billResponse.isAiAnalyzed = uploadResult.bill.isAiAnalyzed;
                        billResponse.aiAnalysisData = uploadResult.bill.aiAnalysisData;
                    }
                    // Show success toast for document upload
                    toast({
                        title: 'Document Uploaded',
                        description: `${fileToUpload.name} has been attached to the bill`,
                    });
                }
                catch (uploadError) {
                    console.error('[BILL FORM] Failed to upload document:', uploadError);
                    toast({
                        title: 'Document Upload Failed',
                        description: `Failed to upload ${fileToUpload.name}. The bill was created but without the document.`,
                        variant: 'destructive',
                    });
                    // Don't fail the bill creation if document upload fails
                }
            }
            return billResponse;
        },
        onSuccess: (data) => {
            queryClient.invalidateQueries({ queryKey: ['/api/bills'] });
            toast({
                title: 'Success',
                description: `Bill ${bill ? 'updated' : 'created'} successfully`,
            });
            onSuccess?.(data.id, bill ? 'updated' : 'created');
        },
        onError: (error) => {
            toast({
                title: 'Error',
                description: error.message || `Failed to ${bill ? 'update' : 'create'} bill`,
                variant: 'destructive',
            });
        }
    });
    // Delete bill mutation
    const deleteBillMutation = (0, react_query_1.useMutation)({
        mutationFn: async () => {
            if (!bill?.id)
                throw new Error('No bill ID provided for deletion');
            return (0, queryClient_1.apiRequest)('DELETE', `/api/bills/${bill.id}`, null);
        },
        onSuccess: () => {
            queryClient.invalidateQueries({ queryKey: ['/api/bills'] });
            toast({
                title: 'Success',
                description: 'Bill deleted successfully',
            });
            onSuccess?.(bill.id, 'updated'); // Trigger parent refresh
        },
        onError: (error) => {
            toast({
                title: 'Error',
                description: error.message || 'Failed to delete bill',
                variant: 'destructive',
            });
        }
    });
    const onSubmit = (data) => {
        billMutation.mutate(data);
    };
    const handleDelete = () => {
        if (!bill)
            return;
        if (confirm(`Are you sure you want to delete bill "${bill.title}"? This action cannot be undone.`)) {
            deleteBillMutation.mutate();
        }
    };
    // Custom Payment Management
    const addCustomPayment = () => {
        const newPayment = { amount: '', date: '', description: '' };
        setCustomPayments([...customPayments, newPayment]);
    };
    const removeCustomPayment = (index) => {
        const updated = customPayments.filter((_, i) => i !== index);
        setCustomPayments(updated);
        form.setValue('customPayments', updated);
    };
    const updateCustomPayment = (index, field, value) => {
        const updated = customPayments.map((payment, i) => i === index ? { ...payment, [field]: value } : payment);
        setCustomPayments(updated);
        form.setValue('customPayments', updated);
    };
    return ((0, jsx_runtime_1.jsxs)("div", { className: "space-y-6", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between", children: [(0, jsx_runtime_1.jsx)("h2", { className: "text-2xl font-semibold", children: bill ? 'Edit Bill' : 'Create New Bill' }), aiExtractionData && ((0, jsx_runtime_1.jsxs)(badge_1.Badge, { variant: "secondary", className: "flex items-center gap-1", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Sparkles, { className: "w-3 h-3" }), "AI Extracted"] }))] }), !bill && ((0, jsx_runtime_1.jsxs)(tabs_1.Tabs, { defaultValue: "manual", className: "space-y-4", children: [(0, jsx_runtime_1.jsxs)(tabs_1.TabsList, { className: (0, utils_1.cn)("grid w-full", aiEnabled ? "grid-cols-2" : "grid-cols-1"), children: [(0, jsx_runtime_1.jsxs)(tabs_1.TabsTrigger, { value: "manual", "data-testid": "tab-manual", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.FileText, { className: "w-4 h-4 mr-2" }), "Manual Entry"] }), aiEnabled && ((0, jsx_runtime_1.jsxs)(tabs_1.TabsTrigger, { value: "ai", "data-testid": "tab-ai", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Sparkles, { className: "w-4 h-4 mr-2" }), "AI Extraction"] }))] }), aiEnabled && ((0, jsx_runtime_1.jsx)(tabs_1.TabsContent, { value: "ai", className: "space-y-4", children: (0, jsx_runtime_1.jsxs)(card_1.Card, { children: [(0, jsx_runtime_1.jsx)(card_1.CardHeader, { children: (0, jsx_runtime_1.jsxs)(card_1.CardTitle, { className: "flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Sparkles, { className: "w-5 h-5" }), "Upload Bill Document"] }) }), (0, jsx_runtime_1.jsxs)(card_1.CardContent, { children: [(0, jsx_runtime_1.jsx)(document_management_1.SharedUploader, { onDocumentChange: handleFileUpload, formType: "bills", uploadContext: uploadContext, aiAnalysisEnabled: aiEnabled, onAiToggle: handleAiToggle, onAiAnalysisComplete: handleAiAnalysisComplete, showAiToggle: false, allowedFileTypes: ['image/*', 'application/pdf'], maxFileSize: 25 }), isExtracting && ((0, jsx_runtime_1.jsxs)("div", { className: "mt-4 p-4 bg-blue-50 dark:bg-blue-950 rounded-lg border border-blue-200 dark:border-blue-800", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)("div", { className: "animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600" }), (0, jsx_runtime_1.jsx)("span", { className: "text-blue-700 dark:text-blue-300 font-medium", children: "Extracting data from your document..." })] }), (0, jsx_runtime_1.jsx)("p", { className: "text-sm text-blue-600 dark:text-blue-400 mt-1", children: "This may take a few seconds depending on document complexity." })] })), aiFile && ((0, jsx_runtime_1.jsx)(GeminiBillExtractor_1.GeminiBillExtractor, { file: aiFile, onExtractionComplete: handleAiExtractionComplete }))] })] }) })), (0, jsx_runtime_1.jsx)(tabs_1.TabsContent, { value: "manual", className: "space-y-4", children: (0, jsx_runtime_1.jsxs)(card_1.Card, { children: [(0, jsx_runtime_1.jsx)(card_1.CardHeader, { children: (0, jsx_runtime_1.jsxs)(card_1.CardTitle, { className: "flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.FileText, { className: "w-5 h-5" }), "Upload Document (Optional)"] }) }), (0, jsx_runtime_1.jsx)(card_1.CardContent, { children: (0, jsx_runtime_1.jsx)(document_management_1.SharedUploader, { onDocumentChange: handleFileUpload, formType: "bills", uploadContext: uploadContext, aiAnalysisEnabled: false, showAiToggle: false, allowedFileTypes: ['image/*', 'application/pdf'], maxFileSize: 25 }) })] }) })] })), (0, jsx_runtime_1.jsx)(form_1.Form, { ...form, children: (0, jsx_runtime_1.jsxs)("form", { onSubmit: form.handleSubmit(onSubmit), className: "space-y-6", children: [(0, jsx_runtime_1.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [(0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: "title", render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Title *" }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(input_1.Input, { placeholder: "e.g., Monthly Electricity Bill", ...field }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: "vendor", render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Vendor" }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(input_1.Input, { placeholder: "e.g., Hydro Quebec", ...field }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: "category", render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Category *" }), (0, jsx_runtime_1.jsxs)(select_1.Select, { onValueChange: field.onChange, value: field.value, children: [(0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(select_1.SelectTrigger, { children: (0, jsx_runtime_1.jsx)(select_1.SelectValue, { placeholder: "Select category" }) }) }), (0, jsx_runtime_1.jsx)(select_1.SelectContent, { children: BILL_CATEGORIES.map((category) => ((0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: category.value, children: category.label }, category.value))) })] }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: "paymentType", render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Payment Type *" }), (0, jsx_runtime_1.jsxs)(select_1.Select, { onValueChange: field.onChange, value: field.value, children: [(0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(select_1.SelectTrigger, { children: (0, jsx_runtime_1.jsx)(select_1.SelectValue, { placeholder: "Select payment type" }) }) }), (0, jsx_runtime_1.jsxs)(select_1.SelectContent, { children: [(0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: "unique", children: "One-time Payment" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: "recurrent", children: "Recurring Payment" })] })] }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: "totalAmount", render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Total Amount *" }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(input_1.Input, { placeholder: "0.00", type: "number", step: "0.01", ...field }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: "startDate", render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Start Date *" }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(input_1.Input, { type: "date", ...field }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) })] }), paymentType === 'recurrent' && ((0, jsx_runtime_1.jsxs)("div", { className: "space-y-4", children: [(0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: "schedulePayment", render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Payment Schedule" }), (0, jsx_runtime_1.jsxs)(select_1.Select, { onValueChange: field.onChange, value: field.value, children: [(0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(select_1.SelectTrigger, { children: (0, jsx_runtime_1.jsx)(select_1.SelectValue, { placeholder: "Select schedule" }) }) }), (0, jsx_runtime_1.jsxs)(select_1.SelectContent, { children: [(0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: "weekly", children: "Weekly" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: "monthly", children: "Monthly" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: "quarterly", children: "Quarterly" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: "yearly", children: "Yearly" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: "custom", children: "Custom Schedule" })] })] }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: "endDate", render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Recurrence End Date (Optional)" }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(input_1.Input, { type: "date", ...field }) }), (0, jsx_runtime_1.jsx)(form_1.FormDescription, { children: "Setting an end date will stop auto-generation of future bills after this date." }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), schedulePayment === 'custom' && ((0, jsx_runtime_1.jsxs)(card_1.Card, { children: [(0, jsx_runtime_1.jsx)(card_1.CardHeader, { children: (0, jsx_runtime_1.jsxs)(card_1.CardTitle, { className: "flex items-center justify-between", children: [(0, jsx_runtime_1.jsx)("span", { children: "Custom Payment Schedule" }), (0, jsx_runtime_1.jsxs)(button_1.Button, { type: "button", variant: "outline", size: "sm", onClick: addCustomPayment, children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Plus, { className: "w-4 h-4 mr-2" }), "Add Payment"] })] }) }), (0, jsx_runtime_1.jsx)(card_1.CardContent, { className: "space-y-3", children: customPayments.map((payment, index) => ((0, jsx_runtime_1.jsxs)("div", { className: "flex gap-2 items-end", children: [(0, jsx_runtime_1.jsx)("div", { className: "flex-1", children: (0, jsx_runtime_1.jsx)(input_1.Input, { placeholder: "Amount", type: "number", step: "0.01", value: payment.amount, onChange: (e) => updateCustomPayment(index, 'amount', e.target.value) }) }), (0, jsx_runtime_1.jsx)("div", { className: "flex-1", children: (0, jsx_runtime_1.jsx)(input_1.Input, { type: "date", value: payment.date, onChange: (e) => updateCustomPayment(index, 'date', e.target.value) }) }), (0, jsx_runtime_1.jsx)("div", { className: "flex-1", children: (0, jsx_runtime_1.jsx)(input_1.Input, { placeholder: "Description", value: payment.description || '', onChange: (e) => updateCustomPayment(index, 'description', e.target.value) }) }), (0, jsx_runtime_1.jsx)(button_1.Button, { type: "button", variant: "outline", size: "sm", onClick: () => removeCustomPayment(index), children: (0, jsx_runtime_1.jsx)(lucide_react_1.X, { className: "w-4 h-4" }) })] }, index))) })] }))] })), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: "description", render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Description" }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(textarea_1.Textarea, { placeholder: "Additional details about this bill...", className: "min-h-[100px]", ...field }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: "notes", render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Notes" }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(textarea_1.Textarea, { placeholder: "Internal notes...", className: "min-h-[80px]", ...field }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsxs)("div", { className: "flex justify-between items-center", children: [(0, jsx_runtime_1.jsx)("div", { children: bill && ((0, jsx_runtime_1.jsx)(button_1.Button, { type: "button", variant: "destructive", onClick: handleDelete, disabled: deleteBillMutation.isPending, children: deleteBillMutation.isPending ? 'Deleting...' : 'Delete Bill' })) }), (0, jsx_runtime_1.jsxs)("div", { className: "flex gap-2", children: [onCancel && ((0, jsx_runtime_1.jsx)(button_1.Button, { type: "button", variant: "outline", onClick: onCancel, children: "Cancel" })), (0, jsx_runtime_1.jsx)(button_1.Button, { type: "submit", disabled: billMutation.isPending, children: billMutation.isPending ? 'Processing...' : (bill ? 'Update Bill' : 'Create Bill') })] })] })] }) })] }));
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9jbGllbnQvc3JjL2NvbXBvbmVudHMvYmlsbC1tYW5hZ2VtZW50L01vZHVsYXJCaWxsRm9ybS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF1SEEsa0NBMHBCQzs7QUFqeEJELCtDQUFtRDtBQUNuRCxxREFBMEM7QUFDMUMsaURBQXNEO0FBQ3RELHVEQUFvRTtBQUNwRSw2QkFBd0I7QUFDeEIsbURBQWdEO0FBQ2hELGlEQUE4QztBQUM5Qyx1REFBb0Q7QUFDcEQsaURBQThDO0FBQzlDLCtDQUFnRjtBQUNoRiwrQ0FBZ0Y7QUFDaEYsK0NBUThCO0FBQzlCLG1EQU1nQztBQUNoQywrQ0FBcUU7QUFDckUsdURBQW1EO0FBQ25ELGlEQUE2QztBQUM3QyxtREFBK0M7QUFDL0MsdUNBQWlDO0FBQ2pDLDBFQUFrRTtBQUNsRSwrREFBNEQ7QUFJNUQsaURBQWlEO0FBQ2pELE1BQU0sY0FBYyxHQUFHLE9BQUMsQ0FBQyxNQUFNLENBQUM7SUFDOUIsS0FBSyxFQUFFLE9BQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLHdCQUF3QixDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSx3Q0FBd0MsQ0FBQztJQUNyRyxXQUFXLEVBQUUsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsK0NBQStDLENBQUMsQ0FBQyxRQUFRLEVBQUU7SUFDN0YsUUFBUSxFQUFFLE9BQUMsQ0FBQyxJQUFJLENBQUM7UUFDZixXQUFXO1FBQ1gsYUFBYTtRQUNiLFFBQVE7UUFDUixXQUFXO1FBQ1gsVUFBVTtRQUNWLFVBQVU7UUFDVixhQUFhO1FBQ2IsdUJBQXVCO1FBQ3ZCLGdCQUFnQjtRQUNoQixTQUFTO1FBQ1QsVUFBVTtRQUNWLE9BQU87UUFDUCxZQUFZO1FBQ1osVUFBVTtRQUNWLE9BQU87S0FDUixDQUFDO0lBQ0YsTUFBTSxFQUFFLE9BQUMsQ0FBQyxNQUFNLEVB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QUM7QUFDSixDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3Jrc3BhY2UvY2xpZW50L3NyYy9jb21wb25lbnRzL2JpbGwtbWFuYWdlbWVudC9Nb2R1bGFyQmlsbEZvcm0udHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlRm9ybSB9IGZyb20gJ3JlYWN0LWhvb2stZm9ybSc7XG5pbXBvcnQgeyB6b2RSZXNvbHZlciB9IGZyb20gJ0Bob29rZm9ybS9yZXNvbHZlcnMvem9kJztcbmltcG9ydCB7IHVzZU11dGF0aW9uLCB1c2VRdWVyeUNsaWVudCB9IGZyb20gJ0B0YW5zdGFjay9yZWFjdC1xdWVyeSc7XG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9idXR0b24nO1xuaW1wb3J0IHsgSW5wdXQgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvaW5wdXQnO1xuaW1wb3J0IHsgVGV4dGFyZWEgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvdGV4dGFyZWEnO1xuaW1wb3J0IHsgQmFkZ2UgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYmFkZ2UnO1xuaW1wb3J0IHsgVGFicywgVGFic0NvbnRlbnQsIFRhYnNMaXN0LCBUYWJzVHJpZ2dlciB9IGZyb20gJ0AvY29tcG9uZW50cy91aS90YWJzJztcbmltcG9ydCB7IENhcmQsIENhcmRDb250ZW50LCBDYXJkSGVhZGVyLCBDYXJkVGl0bGUgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvY2FyZCc7XG5pbXBvcnQge1xuICBGb3JtLFxuICBGb3JtQ29udHJvbCxcbiAgRm9ybUZpZWxkLFxuICBGb3JtSXRlbSxcbiAgRm9ybUxhYmVsLFxuICBGb3JtTWVzc2FnZSxcbiAgRm9ybURlc2NyaXB0aW9uLFxufSBmcm9tICdAL2NvbXBvbmVudHMvdWkvZm9ybSc7XG5pbXBvcnQge1xuICBTZWxlY3QsXG4gIFNlbGVjdENvbnRlbnQsXG4gIFNlbGVjdEl0ZW0sXG4gIFNlbGVjdFRyaWdnZXIsXG4gIFNlbGVjdFZhbHVlLFxufSBmcm9tICdAL2NvbXBvbmVudHMvdWkvc2VsZWN0JztcbmltcG9ydCB7IEZpbGVUZXh0LCBTcGFya2xlcywgUGx1cywgWCwgQ2FsZW5kYXIgfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuaW1wb3J0IHsgdXNlTGFuZ3VhZ2UgfSBmcm9tICdAL2hvb2tzL3VzZS1sYW5ndWFnZSc7XG5pbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gJ0AvaG9va3MvdXNlLXRvYXN0JztcbmltcG9ydCB7IGFwaVJlcXVlc3QgfSBmcm9tICdAL2xpYi9xdWVyeUNsaWVudCc7XG5pbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJztcbmltcG9ydCB7IFNoYXJlZFVwbG9hZGVyIH0gZnJvbSAnQC9jb21wb25lbnRzL2RvY3VtZW50LW1hbmFnZW1lbnQnO1xuaW1wb3J0IHsgR2VtaW5pQmlsbEV4dHJhY3RvciB9IGZyb20gJy4vR2VtaW5pQmlsbEV4dHJhY3Rvcic7XG5pbXBvcnQgdHlwZSB7IEJpbGwgfSBmcm9tICdAc2hhcmVkL3NjaGVtYSc7XG5pbXBvcnQgdHlwZSB7IFVwbG9hZENvbnRleHQgfSBmcm9tICdAc2hhcmVkL2NvbmZpZy91cGxvYWQtY29uZmlnJztcblxuLy8gVW5pZmllZCBmb3JtIHNjaGVtYSAoc2ltcGxpZmllZCBmcm9tIG9yaWdpbmFsKVxuY29uc3QgYmlsbEZvcm1TY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHRpdGxlOiB6LnN0cmluZygpLm1pbigxLCAnQmlsbCB0aXRsZSBpcyByZXF1aXJlZCcpLm1heCgyMDAsICdUaXRsZSBtdXN0IGJlIGxlc3MgdGhhbiAyMDAgY2hhcmFjdGVycycpLFxuICBkZXNjcmlwdGlvbjogei5zdHJpbmcoKS5tYXgoMTAwMCwgJ0Rlc2NyaXB0aW9uIG11c3QgYmUgbGVzcyB0aGFuIDEwMDAgY2hhcmFjdGVycycpLm9wdGlvbmFsKCksXG4gIGNhdGVnb3J5OiB6LmVudW0oW1xuICAgICdpbnN1cmFuY2UnLFxuICAgICdtYWludGVuYW5jZScsXG4gICAgJ3NhbGFyeScsXG4gICAgJ3V0aWxpdGllcycsXG4gICAgJ2NsZWFuaW5nJyxcbiAgICAnc2VjdXJpdHknLFxuICAgICdsYW5kc2NhcGluZycsXG4gICAgJ3Byb2Zlc3Npb25hbF9zZXJ2aWNlcycsXG4gICAgJ2FkbWluaXN0cmF0aW9uJyxcbiAgICAncmVwYWlycycsXG4gICAgJ3N1cHBsaWVzJyxcbiAgICAndGF4ZXMnLFxuICAgICd0ZWNobm9sb2d5JyxcbiAgICAncmVzZXJ2ZXMnLFxuICAgICdvdGhlcicsXG4gIF0pLFxuICB2ZW5kb3I6IHouc3RyaW5nKCkubWF4KDE1MCwgJ1ZlbmRvciBuYW1lIG11c3QgYmUgbGVzcyB0aGFuIDE1MCBjaGFyYWN0ZXJzJykub3B0aW9uYWwoKSxcbiAgcGF5bWVudFR5cGU6IHouZW51bShbJ3VuaXF1ZScsICdyZWN1cnJlbnQnXSksXG4gIHNjaGVkdWxlUGF5bWVudDogei5lbnVtKFsnd2Vla2x5JywgJ21vbnRobHknLCAncXVhcnRlcmx5JywgJ3llYXJseScsICdjdXN0b20nXSkub3B0aW9uYWwoKSxcbiAgY3VzdG9tUGF5bWVudHM6IHouYXJyYXkoei5vYmplY3Qoe1xuICAgIGFtb3VudDogei5zdHJpbmcoKS5taW4oMSwgJ0Ftb3VudCBpcyByZXF1aXJlZCcpLnJlZmluZSgodmFsKSA9PiB7XG4gICAgICBjb25zdCBudW0gPSBwYXJzZUZsb2F0KHZhbCk7XG4gICAgICByZXR1cm4gIWlzTmFOKG51bSkgJiYgbnVtID4gMCAmJiBudW0gPD0gOTk5OTk5Ljk5O1xuICAgIH0sICdBbW91bnQgbXVzdCBiZSBiZXR3ZWVuICQwLjAxIGFuZCAkOTk5LDk5OS45OScpLFxuICAgIGRhdGU6IHouc3RyaW5nKCkubWluKDEsICdEYXRlIGlzIHJlcXVpcmVkJykucmVmaW5lKCh2YWwpID0+IHtcbiAgICAgIHJldHVybiAhaXNOYU4oRGF0ZS5wYXJzZSh2YWwpKTtcbiAgICB9LCAnRGF0ZSBtdXN0IGJlIGEgdmFsaWQgZGF0ZScpLFxuICAgIGRlc2NyaXB0aW9uOiB6LnN0cmluZygpLm9wdGlvbmFsKClcbiAgfSkpLm9wdGlvbmFsKCksXG4gIHRvdGFsQW1vdW50OiB6LnN0cmluZygpLm1pbigxLCAnQW1vdW50IGlzIHJlcXVpcmVkIGFuZCBtdXN0IGJlIGEgdmFsaWQgbnVtYmVyJykucmVmaW5lKCh2YWwpID0+IHtcbiAgICBjb25zdCBudW0gPSBwYXJzZUZsb2F0KHZhbCk7XG4gICAgcmV0dXJuICFpc05hTihudW0pICYmIG51bSA+IDAgJiYgbnVtIDw9IDk5OTk5OS45OTtcbiAgfSwgJ0Ftb3VudCBtdXN0IGJlIGJldHdlZW4gJDAuMDEgYW5kICQ5OTksOTk5Ljk5JyksXG4gIHN0YXJ0RGF0ZTogei5zdHJpbmcoKS5taW4oMSwgJ1N0YXJ0IGRhdGUgaXMgcmVxdWlyZWQnKS5yZWZpbmUoKHZhbCkgPT4ge1xuICAgIHJldHVybiAhaXNOYU4oRGF0ZS5wYXJzZSh2YWwpKTtcbiAgfSwgJ1N0YXJ0IGRhdGUgbXVzdCBiZSBhIHZhbGlkIGRhdGUnKSxcbiAgZW5kRGF0ZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLnJlZmluZSgodmFsKSA9PiB7XG4gICAgaWYgKCF2YWwpIHJldHVybiB0cnVlO1xuICAgIHJldHVybiAhaXNOYU4oRGF0ZS5wYXJzZSh2YWwpKTtcbiAgfSwgJ0VuZCBkYXRlIG11c3QgYmUgYSB2YWxpZCBkYXRlJyksXG4gIHN0YXR1czogei5lbnVtKFsnZHJhZnQnLCAnc2VudCcsICdvdmVyZHVlJywgJ3BhaWQnLCAnY2FuY2VsbGVkJ10pLFxuICBub3Rlczogei5zdHJpbmcoKS5tYXgoMjAwMCwgJ05vdGVzIG11c3QgYmUgbGVzcyB0aGFuIDIwMDAgY2hhcmFjdGVycycpLm9wdGlvbmFsKCksXG59KTtcblxudHlwZSBCaWxsRm9ybURhdGEgPSB6LmluZmVyPHR5cGVvZiBiaWxsRm9ybVNjaGVtYT47XG5cbnR5cGUgQ3VzdG9tUGF5bWVudCA9IHtcbiAgYW1vdW50OiBzdHJpbmc7XG4gIGRhdGU6IHN0cmluZztcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG59O1xuXG5pbnRlcmZhY2UgTW9kdWxhckJpbGxGb3JtUHJvcHMge1xuICBiaWxsPzogQmlsbCB8IG51bGw7XG4gIG9uU3VjY2Vzcz86IChiaWxsSWQ6IHN0cmluZywgYWN0aW9uOiAnY3JlYXRlZCcgfCAndXBkYXRlZCcpID0+IHZvaWQ7XG4gIG9uQ2FuY2VsPzogKCkgPT4gdm9pZDtcbiAgYnVpbGRpbmdJZD86IHN0cmluZztcbn1cblxuY29uc3QgQklMTF9DQVRFR09SSUVTID0gW1xuICB7IHZhbHVlOiAndXRpbGl0aWVzJywgbGFiZWw6ICdVdGlsaXRpZXMnIH0sXG4gIHsgdmFsdWU6ICdtYWludGVuYW5jZScsIGxhYmVsOiAnTWFpbnRlbmFuY2UnIH0sXG4gIHsgdmFsdWU6ICdpbnN1cmFuY2UnLCBsYWJlbDogJ0luc3VyYW5jZScgfSxcbiAgeyB2YWx1ZTogJ2NsZWFuaW5nJywgbGFiZWw6ICdDbGVhbmluZycgfSxcbiAgeyB2YWx1ZTogJ3NlY3VyaXR5JywgbGFiZWw6ICdTZWN1cml0eScgfSxcbiAgeyB2YWx1ZTogJ2xhbmRzY2FwaW5nJywgbGFiZWw6ICdMYW5kc2NhcGluZycgfSxcbiAgeyB2YWx1ZTogJ3Byb2Zlc3Npb25hbF9zZXJ2aWNlcycsIGxhYmVsOiAnUHJvZmVzc2lvbmFsIFNlcnZpY2VzJyB9LFxuICB7IHZhbHVlOiAnYWRtaW5pc3RyYXRpb24nLCBsYWJlbDogJ0FkbWluaXN0cmF0aW9uJyB9LFxuICB7IHZhbHVlOiAncmVwYWlycycsIGxhYmVsOiAnUmVwYWlycycgfSxcbiAgeyB2YWx1ZTogJ3N1cHBsaWVzJywgbGFiZWw6ICdTdXBwbGllcycgfSxcbiAgeyB2YWx1ZTogJ3RheGVzJywgbGFiZWw6ICdUYXhlcycgfSxcbiAgeyB2YWx1ZTogJ3RlY2hub2xvZ3knLCBsYWJlbDogJ1RlY2hub2xvZ3knIH0sXG4gIHsgdmFsdWU6ICdzYWxhcnknLCBsYWJlbDogJ1NhbGFyeScgfSxcbiAgeyB2YWx1ZTogJ3Jlc2VydmVzJywgbGFiZWw6ICdSZXNlcnZlcycgfSxcbiAgeyB2YWx1ZTogJ290aGVyJywgbGFiZWw6ICdPdGhlcicgfSxcbl07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1vZHVsYXJCaWxsRm9ybSh7IGJpbGwsIG9uU3VjY2Vzcywgb25DYW5jZWwsIGJ1aWxkaW5nSWQgfTogTW9kdWxhckJpbGxGb3JtUHJvcHMpIHtcbiAgY29uc3QgeyB0IH0gPSB1c2VMYW5ndWFnZSgpO1xuICBjb25zdCB7IHRvYXN0IH0gPSB1c2VUb2FzdCgpO1xuICBjb25zdCBxdWVyeUNsaWVudCA9IHVzZVF1ZXJ5Q2xpZW50KCk7XG4gIFxuICAvLyBTdGF0ZSBmb3IgQUkgZXh0cmFjdGlvblxuICBjb25zdCBbYWlGaWxlLCBzZXRBaUZpbGVdID0gdXNlU3RhdGU8RmlsZSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbaXNBaU1vZGUsIHNldElzQWlNb2RlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2FpRXh0cmFjdGlvbkRhdGEsIHNldEFpRXh0cmFjdGlvbkRhdGFdID0gdXNlU3RhdGU8YW55PihudWxsKTtcbiAgY29uc3QgW2lzRXh0cmFjdGluZywgc2V0SXNFeHRyYWN0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2FpRW5hYmxlZCwgc2V0QWlFbmFibGVkXSA9IHVzZVN0YXRlKHRydWUpOyAvLyBBSSBlbmFibGVkIGJ5IGRlZmF1bHQgZm9yIGJpbGxzXG4gIFxuICAvLyBTdGF0ZSBmb3IgbWFudWFsIGRvY3VtZW50IHVwbG9hZFxuICBjb25zdCBbbWFudWFsRmlsZSwgc2V0TWFudWFsRmlsZV0gPSB1c2VTdGF0ZTxGaWxlIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtjdXN0b21QYXltZW50cywgc2V0Q3VzdG9tUGF5bWVudHNdID0gdXNlU3RhdGU8Q3VzdG9tUGF5bWVudFtdPihbXSk7XG4gIFxuICAvLyBVcGxvYWQgY29udGV4dCBmb3Igc2VjdXJlIHN0b3JhZ2VcbiAgY29uc3QgdXBsb2FkQ29udGV4dDogVXBsb2FkQ29udGV4dCA9IHtcbiAgICB0eXBlOiAnYmlsbHMnLFxuICAgIG9yZ2FuaXphdGlvbklkOiAnZGVmYXVsdCcsIC8vIFdvdWxkIGJlIGR5bmFtaWMgYmFzZWQgb24gdXNlcidzIG9yZ1xuICAgIGJ1aWxkaW5nSWQsXG4gICAgdXNlclJvbGU6ICdhZG1pbicsIC8vIFdvdWxkIGJlIGR5bmFtaWMgYmFzZWQgb24gdXNlcidzIHJvbGVcbiAgICB1c2VySWQ6ICdjdXJyZW50LXVzZXInIC8vIFdvdWxkIGJlIGR5bmFtaWMgYmFzZWQgb24gY3VycmVudCB1c2VyXG4gIH07XG5cbiAgLy8gRm9ybSBzZXR1cFxuICBjb25zdCBmb3JtID0gdXNlRm9ybTxCaWxsRm9ybURhdGE+KHtcbiAgICByZXNvbHZlcjogem9kUmVzb2x2ZXIoYmlsbEZvcm1TY2hlbWEpLFxuICAgIGRlZmF1bHRWYWx1ZXM6IHtcbiAgICAgIHRpdGxlOiBiaWxsPy50aXRsZSB8fCAnJyxcbiAgICAgIGRlc2NyaXB0aW9uOiBiaWxsPy5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgIGNhdGVnb3J5OiBiaWxsPy5jYXRlZ29yeSB8fCAnb3RoZXInLFxuICAgICAgdmVuZG9yOiBiaWxsPy52ZW5kb3IgfHwgJycsXG4gICAgICBwYXltZW50VHlwZTogYmlsbD8ucGF5bWVudFR5cGUgfHwgJ3VuaXF1ZScsXG4gICAgICBzY2hlZHVsZVBheW1lbnQ6ICdtb250aGx5JyxcbiAgICAgIGN1c3RvbVBheW1lbnRzOiBbXSxcbiAgICAgIHRvdGFsQW1vdW50OiBiaWxsPy50b3RhbEFtb3VudD8udG9TdHJpbmcoKSB8fCAnJyxcbiAgICAgIHN0YXJ0RGF0ZTogYmlsbD8uc3RhcnREYXRlIHx8ICcnLFxuICAgICAgZW5kRGF0ZTogYmlsbD8uZW5kRGF0ZSB8fCAnJyxcbiAgICAgIHN0YXR1czogYmlsbD8uc3RhdHVzIHx8ICdkcmFmdCcsXG4gICAgICBub3RlczogYmlsbD8ubm90ZXMgfHwgJycsXG4gICAgfVxuICB9KTtcblxuICBjb25zdCBwYXltZW50VHlwZSA9IGZvcm0ud2F0Y2goJ3BheW1lbnRUeXBlJyk7XG4gIGNvbnN0IHNjaGVkdWxlUGF5bWVudCA9IGZvcm0ud2F0Y2goJ3NjaGVkdWxlUGF5bWVudCcpO1xuXG4gIC8vIEhhbmRsZSBBSSBleHRyYWN0aW9uIHJlc3VsdHNcbiAgY29uc3QgaGFuZGxlQWlFeHRyYWN0aW9uQ29tcGxldGUgPSAoZGF0YTogYW55KSA9PiB7XG4gICAgLy8gSGFuZGxlIGxvYWRpbmcgc3RhdGVcbiAgICBpZiAoZGF0YS5pc0xvYWRpbmcpIHtcbiAgICAgIHNldElzRXh0cmFjdGluZyh0cnVlKTtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6ICdBSSBFeHRyYWN0aW9uIFN0YXJ0ZWQnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1Byb2Nlc3NpbmcgeW91ciBkb2N1bWVudC4uLiBUaGlzIG1heSB0YWtlIGEgZmV3IHNlY29uZHMuJyxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBDbGVhciBsb2FkaW5nIHN0YXRlXG4gICAgc2V0SXNFeHRyYWN0aW5nKGZhbHNlKTtcbiAgICBcbiAgICBpZiAoZGF0YS5zdWNjZXNzICYmIGRhdGEuZm9ybURhdGEpIHtcbiAgICAgIHNldEFpRXh0cmFjdGlvbkRhdGEoZGF0YS5mb3JtRGF0YSk7XG4gICAgICBcbiAgICAgIC8vIEF1dG8tZmlsbCBmb3JtIHdpdGggQUkgZGF0YVxuICAgICAgT2JqZWN0LmVudHJpZXMoZGF0YS5mb3JtRGF0YSkuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgIGlmIChrZXkgPT09ICdjdXN0b21QYXltZW50cycgJiYgQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICBzZXRDdXN0b21QYXltZW50cyh2YWx1ZSk7XG4gICAgICAgICAgZm9ybS5zZXRWYWx1ZSgnY3VzdG9tUGF5bWVudHMnLCB2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGZvcm0uc2V0VmFsdWUoa2V5IGFzIGtleW9mIEJpbGxGb3JtRGF0YSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ0FJIEV4dHJhY3Rpb24gQ29tcGxldGUnLFxuICAgICAgICBkZXNjcmlwdGlvbjogYFN1Y2Nlc3NmdWxseSBleHRyYWN0ZWQgYmlsbCBkYXRhIHdpdGggJHtNYXRoLnJvdW5kKChkYXRhLmNvbmZpZGVuY2UgfHwgMC45KSAqIDEwMCl9JSBjb25maWRlbmNlYCxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiAnQUkgRXh0cmFjdGlvbiBGYWlsZWQnLFxuICAgICAgICBkZXNjcmlwdGlvbjogZGF0YS5lcnJvciB8fCAnRmFpbGVkIHRvIGV4dHJhY3QgYmlsbCBkYXRhJyxcbiAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJyxcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICAvLyBIYW5kbGUgQUkgdG9nZ2xlXG4gIGNvbnN0IGhhbmRsZUFpVG9nZ2xlID0gKGVuYWJsZWQ6IGJvb2xlYW4pID0+IHtcbiAgICBzZXRBaUVuYWJsZWQoZW5hYmxlZCk7XG4gICAgaWYgKCFlbmFibGVkKSB7XG4gICAgICBzZXRBaUV4dHJhY3Rpb25EYXRhKG51bGwpO1xuICAgICAgc2V0SXNFeHRyYWN0aW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG4gIFxuICAvLyBIYW5kbGUgQUkgYW5hbHlzaXMgY29tcGxldGlvblxuICBjb25zdCBoYW5kbGVBaUFuYWx5c2lzQ29tcGxldGUgPSAoYW5hbHlzaXNEYXRhOiBhbnkpID0+IHtcbiAgICBpZiAoYW5hbHlzaXNEYXRhLnN1Y2Nlc3MpIHtcbiAgICAgIHNldEFpRXh0cmFjdGlvbkRhdGEoYW5hbHlzaXNEYXRhLmV4dHJhY3RlZERhdGEpO1xuICAgICAgc2V0SXNFeHRyYWN0aW5nKGZhbHNlKTtcbiAgICAgIFxuICAgICAgLy8gQXV0by1wb3B1bGF0ZSBmb3JtIHdpdGggZXh0cmFjdGVkIGRhdGFcbiAgICAgIGlmIChhbmFseXNpc0RhdGEuZXh0cmFjdGVkRGF0YSkge1xuICAgICAgICBjb25zdCBkYXRhID0gYW5hbHlzaXNEYXRhLmV4dHJhY3RlZERhdGE7XG4gICAgICAgIGlmIChkYXRhLnRpdGxlKSBmb3JtLnNldFZhbHVlKCd0aXRsZScsIGRhdGEudGl0bGUpO1xuICAgICAgICBpZiAoZGF0YS52ZW5kb3IpIGZvcm0uc2V0VmFsdWUoJ3ZlbmRvcicsIGRhdGEudmVuZG9yKTtcbiAgICAgICAgaWYgKGRhdGEuYW1vdW50KSBmb3JtLnNldFZhbHVlKCd0b3RhbEFtb3VudCcsIGRhdGEuYW1vdW50LnRvU3RyaW5nKCkpO1xuICAgICAgICBpZiAoZGF0YS5jYXRlZ29yeSkgZm9ybS5zZXRWYWx1ZSgnY2F0ZWdvcnknLCBkYXRhLmNhdGVnb3J5KTtcbiAgICAgICAgaWYgKGRhdGEuZGF0ZSkgZm9ybS5zZXRWYWx1ZSgnc3RhcnREYXRlJywgZGF0YS5kYXRlKTtcbiAgICAgICAgaWYgKGRhdGEuZGVzY3JpcHRpb24pIGZvcm0uc2V0VmFsdWUoJ2Rlc2NyaXB0aW9uJywgZGF0YS5kZXNjcmlwdGlvbik7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6ICdBSSBBbmFseXNpcyBDb21wbGV0ZScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQmlsbCBkYXRhIGhhcyBiZWVuIGV4dHJhY3RlZCBhbmQgcG9wdWxhdGVkIGluIHRoZSBmb3JtLicsXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0SXNFeHRyYWN0aW5nKGZhbHNlKTtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6ICdBSSBBbmFseXNpcyBGYWlsZWQnLFxuICAgICAgICBkZXNjcmlwdGlvbjogYW5hbHlzaXNEYXRhLmVycm9yIHx8ICdGYWlsZWQgdG8gYW5hbHl6ZSBkb2N1bWVudCcsXG4gICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgLy8gSGFuZGxlIGZpbGUgdXBsb2FkIGZyb20gU2hhcmVkVXBsb2FkZXJcbiAgY29uc3QgaGFuZGxlRmlsZVVwbG9hZCA9IChmaWxlOiBGaWxlIHwgbnVsbCwgZXh0cmFjdGVkVGV4dD86IHN0cmluZyB8IG51bGwpID0+IHtcbiAgICBpZiAoZmlsZSkge1xuICAgICAgaWYgKGFpRW5hYmxlZCkge1xuICAgICAgICBzZXRBaUZpbGUoZmlsZSk7XG4gICAgICAgIHNldElzQWlNb2RlKHRydWUpO1xuICAgICAgICBzZXRJc0V4dHJhY3RpbmcodHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRNYW51YWxGaWxlKGZpbGUpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBDcmVhdGUvVXBkYXRlIGJpbGwgbXV0YXRpb25cbiAgY29uc3QgYmlsbE11dGF0aW9uID0gdXNlTXV0YXRpb24oe1xuICAgIG11dGF0aW9uRm46IGFzeW5jIChkYXRhOiBCaWxsRm9ybURhdGEpID0+IHtcbiAgICAgIGNvbnN0IGVuZHBvaW50ID0gYmlsbCA/IGAvYXBpL2JpbGxzLyR7YmlsbC5pZH1gIDogJy9hcGkvYmlsbHMnO1xuICAgICAgY29uc3QgbWV0aG9kID0gYmlsbCA/ICdQVVQnIDogJ1BPU1QnO1xuICAgICAgXG4gICAgICBjb25zdCBiaWxsRGF0YSA9IHtcbiAgICAgICAgLi4uZGF0YSxcbiAgICAgICAgYnVpbGRpbmdJZDogYnVpbGRpbmdJZCB8fCBiaWxsPy5idWlsZGluZ0lkLFxuICAgICAgICBjb3N0czogW2RhdGEudG90YWxBbW91bnRdLCAvLyBDb252ZXJ0IHNpbmdsZSBhbW91bnQgdG8gY29zdHMgYXJyYXlcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpUmVxdWVzdChtZXRob2QsIGVuZHBvaW50LCBiaWxsRGF0YSk7XG4gICAgICBjb25zdCBiaWxsUmVzcG9uc2UgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBcbiAgICAgIC8vIFVwbG9hZCBkb2N1bWVudCBpZiBvbmUgd2FzIGF0dGFjaGVkIChlaXRoZXIgZnJvbSBBSSBleHRyYWN0aW9uIG9yIG1hbnVhbCBlbnRyeSlcbiAgICAgIGNvbnN0IGZpbGVUb1VwbG9hZCA9IGFpRmlsZSB8fCBtYW51YWxGaWxlO1xuICAgICAgaWYgKCFiaWxsICYmIGZpbGVUb1VwbG9hZCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdbQklMTCBGT1JNXSBVcGxvYWRpbmcgZG9jdW1lbnQ6JywgZmlsZVRvVXBsb2FkLm5hbWUsICdmb3IgYmlsbDonLCBiaWxsUmVzcG9uc2UuaWQpO1xuICAgICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdkb2N1bWVudCcsIGZpbGVUb1VwbG9hZCk7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgdXBsb2FkUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9iaWxscy8ke2JpbGxSZXNwb25zZS5pZH0vdXBsb2FkLWRvY3VtZW50YCwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgICAgICAgYm9keTogZm9ybURhdGEsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKCF1cGxvYWRSZXNwb25zZS5vaykge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JUZXh0ID0gYXdhaXQgdXBsb2FkUmVzcG9uc2UudGV4dCgpO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignW0JJTEwgRk9STV0gVXBsb2FkIGZhaWxlZCB3aXRoIHN0YXR1czonLCB1cGxvYWRSZXNwb25zZS5zdGF0dXMsIGVycm9yVGV4dCk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVwbG9hZCBmYWlsZWQ6ICR7dXBsb2FkUmVzcG9uc2Uuc3RhdHVzfSAke2Vycm9yVGV4dH1gKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgdXBsb2FkUmVzdWx0ID0gYXdhaXQgdXBsb2FkUmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdbQklMTCBGT1JNXSBEb2N1bWVudCB1cGxvYWQgc3VjY2Vzc2Z1bDonLCB1cGxvYWRSZXN1bHQpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgYmlsbCByZXNwb25zZSB3aXRoIHRoZSBkb2N1bWVudCBpbmZvcm1hdGlvbiBmcm9tIHRoZSB1cGxvYWRcbiAgICAgICAgICBpZiAodXBsb2FkUmVzdWx0LmJpbGwpIHtcbiAgICAgICAgICAgIGJpbGxSZXNwb25zZS5maWxlUGF0aCA9IHVwbG9hZFJlc3VsdC5iaWxsLmZpbGVQYXRoO1xuICAgICAgICAgICAgYmlsbFJlc3BvbnNlLmZpbGVOYW1lID0gdXBsb2FkUmVzdWx0LmJpbGwuZmlsZU5hbWU7XG4gICAgICAgICAgICBiaWxsUmVzcG9uc2UuZmlsZVNpemUgPSB1cGxvYWRSZXN1bHQuYmlsbC5maWxlU2l6ZTtcbiAgICAgICAgICAgIGJpbGxSZXNwb25zZS5pc0FpQW5hbHl6ZWQgPSB1cGxvYWRSZXN1bHQuYmlsbC5pc0FpQW5hbHl6ZWQ7XG4gICAgICAgICAgICBiaWxsUmVzcG9uc2UuYWlBbmFseXNpc0RhdGEgPSB1cGxvYWRSZXN1bHQuYmlsbC5haUFuYWx5c2lzRGF0YTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU2hvdyBzdWNjZXNzIHRvYXN0IGZvciBkb2N1bWVudCB1cGxvYWRcbiAgICAgICAgICB0b2FzdCh7XG4gICAgICAgICAgICB0aXRsZTogJ0RvY3VtZW50IFVwbG9hZGVkJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgJHtmaWxlVG9VcGxvYWQubmFtZX0gaGFzIGJlZW4gYXR0YWNoZWQgdG8gdGhlIGJpbGxgLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoICh1cGxvYWRFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tCSUxMIEZPUk1dIEZhaWxlZCB0byB1cGxvYWQgZG9jdW1lbnQ6JywgdXBsb2FkRXJyb3IpO1xuICAgICAgICAgIHRvYXN0KHtcbiAgICAgICAgICAgIHRpdGxlOiAnRG9jdW1lbnQgVXBsb2FkIEZhaWxlZCcsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogYEZhaWxlZCB0byB1cGxvYWQgJHtmaWxlVG9VcGxvYWQubmFtZX0uIFRoZSBiaWxsIHdhcyBjcmVhdGVkIGJ1dCB3aXRob3V0IHRoZSBkb2N1bWVudC5gLFxuICAgICAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAvLyBEb24ndCBmYWlsIHRoZSBiaWxsIGNyZWF0aW9uIGlmIGRvY3VtZW50IHVwbG9hZCBmYWlsc1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiBiaWxsUmVzcG9uc2U7XG4gICAgfSxcbiAgICBvblN1Y2Nlc3M6IChkYXRhKSA9PiB7XG4gICAgICBxdWVyeUNsaWVudC5pbnZhbGlkYXRlUXVlcmllcyh7IHF1ZXJ5S2V5OiBbJy9hcGkvYmlsbHMnXSB9KTtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6ICdTdWNjZXNzJyxcbiAgICAgICAgZGVzY3JpcHRpb246IGBCaWxsICR7YmlsbCA/ICd1cGRhdGVkJyA6ICdjcmVhdGVkJ30gc3VjY2Vzc2Z1bGx5YCxcbiAgICAgIH0pO1xuICAgICAgb25TdWNjZXNzPy4oZGF0YS5pZCwgYmlsbCA/ICd1cGRhdGVkJyA6ICdjcmVhdGVkJyk7XG4gICAgfSxcbiAgICBvbkVycm9yOiAoZXJyb3I6IGFueSkgPT4ge1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ0Vycm9yJyxcbiAgICAgICAgZGVzY3JpcHRpb246IGVycm9yLm1lc3NhZ2UgfHwgYEZhaWxlZCB0byAke2JpbGwgPyAndXBkYXRlJyA6ICdjcmVhdGUnfSBiaWxsYCxcbiAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJyxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gRGVsZXRlIGJpbGwgbXV0YXRpb25cbiAgY29uc3QgZGVsZXRlQmlsbE11dGF0aW9uID0gdXNlTXV0YXRpb24oe1xuICAgIG11dGF0aW9uRm46IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghYmlsbD8uaWQpIHRocm93IG5ldyBFcnJvcignTm8gYmlsbCBJRCBwcm92aWRlZCBmb3IgZGVsZXRpb24nKTtcbiAgICAgIHJldHVybiBhcGlSZXF1ZXN0KCdERUxFVEUnLCBgL2FwaS9iaWxscy8ke2JpbGwuaWR9YCwgbnVsbCk7XG4gICAgfSxcbiAgICBvblN1Y2Nlc3M6ICgpID0+IHtcbiAgICAgIHF1ZXJ5Q2xpZW50LmludmFsaWRhdGVRdWVyaWVzKHsgcXVlcnlLZXk6IFsnL2FwaS9iaWxscyddIH0pO1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ1N1Y2Nlc3MnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0JpbGwgZGVsZXRlZCBzdWNjZXNzZnVsbHknLFxuICAgICAgfSk7XG4gICAgICBvblN1Y2Nlc3M/LihiaWxsIS5pZCwgJ3VwZGF0ZWQnKTsgLy8gVHJpZ2dlciBwYXJlbnQgcmVmcmVzaFxuICAgIH0sXG4gICAgb25FcnJvcjogKGVycm9yOiBhbnkpID0+IHtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6ICdFcnJvcicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gZGVsZXRlIGJpbGwnLFxuICAgICAgICB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLFxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICBjb25zdCBvblN1Ym1pdCA9IChkYXRhOiBCaWxsRm9ybURhdGEpID0+IHtcbiAgICBiaWxsTXV0YXRpb24ubXV0YXRlKGRhdGEpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZURlbGV0ZSA9ICgpID0+IHtcbiAgICBpZiAoIWJpbGwpIHJldHVybjtcbiAgICBcbiAgICBpZiAoY29uZmlybShgQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSBiaWxsIFwiJHtiaWxsLnRpdGxlfVwiPyBUaGlzIGFjdGlvbiBjYW5ub3QgYmUgdW5kb25lLmApKSB7XG4gICAgICBkZWxldGVCaWxsTXV0YXRpb24ubXV0YXRlKCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEN1c3RvbSBQYXltZW50IE1hbmFnZW1lbnRcbiAgY29uc3QgYWRkQ3VzdG9tUGF5bWVudCA9ICgpID0+IHtcbiAgICBjb25zdCBuZXdQYXltZW50OiBDdXN0b21QYXltZW50ID0geyBhbW91bnQ6ICcnLCBkYXRlOiAnJywgZGVzY3JpcHRpb246ICcnIH07XG4gICAgc2V0Q3VzdG9tUGF5bWVudHMoWy4uLmN1c3RvbVBheW1lbnRzLCBuZXdQYXltZW50XSk7XG4gIH07XG5cbiAgY29uc3QgcmVtb3ZlQ3VzdG9tUGF5bWVudCA9IChpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgY29uc3QgdXBkYXRlZCA9IGN1c3RvbVBheW1lbnRzLmZpbHRlcigoXywgaSkgPT4gaSAhPT0gaW5kZXgpO1xuICAgIHNldEN1c3RvbVBheW1lbnRzKHVwZGF0ZWQpO1xuICAgIGZvcm0uc2V0VmFsdWUoJ2N1c3RvbVBheW1lbnRzJywgdXBkYXRlZCk7XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlQ3VzdG9tUGF5bWVudCA9IChpbmRleDogbnVtYmVyLCBmaWVsZDoga2V5b2YgQ3VzdG9tUGF5bWVudCwgdmFsdWU6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IHVwZGF0ZWQgPSBjdXN0b21QYXltZW50cy5tYXAoKHBheW1lbnQsIGkpID0+IFxuICAgICAgaSA9PT0gaW5kZXggPyB7IC4uLnBheW1lbnQsIFtmaWVsZF06IHZhbHVlIH0gOiBwYXltZW50XG4gICAgKTtcbiAgICBzZXRDdXN0b21QYXltZW50cyh1cGRhdGVkKTtcbiAgICBmb3JtLnNldFZhbHVlKCdjdXN0b21QYXltZW50cycsIHVwZGF0ZWQpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTZcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LXNlbWlib2xkXCI+XG4gICAgICAgICAge2JpbGwgPyAnRWRpdCBCaWxsJyA6ICdDcmVhdGUgTmV3IEJpbGwnfVxuICAgICAgICA8L2gyPlxuICAgICAgICB7YWlFeHRyYWN0aW9uRGF0YSAmJiAoXG4gICAgICAgICAgPEJhZGdlIHZhcmlhbnQ9XCJzZWNvbmRhcnlcIiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPlxuICAgICAgICAgICAgPFNwYXJrbGVzIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPlxuICAgICAgICAgICAgQUkgRXh0cmFjdGVkXG4gICAgICAgICAgPC9CYWRnZT5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7IWJpbGwgJiYgKFxuICAgICAgICA8VGFicyBkZWZhdWx0VmFsdWU9XCJtYW51YWxcIiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICA8VGFic0xpc3QgY2xhc3NOYW1lPXtjbihcImdyaWQgdy1mdWxsXCIsIGFpRW5hYmxlZCA/IFwiZ3JpZC1jb2xzLTJcIiA6IFwiZ3JpZC1jb2xzLTFcIil9PlxuICAgICAgICAgICAgPFRhYnNUcmlnZ2VyIHZhbHVlPVwibWFudWFsXCIgZGF0YS10ZXN0aWQ9XCJ0YWItbWFudWFsXCI+XG4gICAgICAgICAgICAgIDxGaWxlVGV4dCBjbGFzc05hbWU9XCJ3LTQgaC00IG1yLTJcIiAvPlxuICAgICAgICAgICAgICBNYW51YWwgRW50cnlcbiAgICAgICAgICAgIDwvVGFic1RyaWdnZXI+XG4gICAgICAgICAgICB7YWlFbmFibGVkICYmIChcbiAgICAgICAgICAgICAgPFRhYnNUcmlnZ2VyIHZhbHVlPVwiYWlcIiBkYXRhLXRlc3RpZD1cInRhYi1haVwiPlxuICAgICAgICAgICAgICAgIDxTcGFya2xlcyBjbGFzc05hbWU9XCJ3LTQgaC00IG1yLTJcIiAvPlxuICAgICAgICAgICAgICAgIEFJIEV4dHJhY3Rpb25cbiAgICAgICAgICAgICAgPC9UYWJzVHJpZ2dlcj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9UYWJzTGlzdD5cblxuICAgICAgICAgIHthaUVuYWJsZWQgJiYgKFxuICAgICAgICAgICAgPFRhYnNDb250ZW50IHZhbHVlPVwiYWlcIiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICAgICAgPENhcmQ+XG4gICAgICAgICAgICAgICAgPENhcmRIZWFkZXI+XG4gICAgICAgICAgICAgICAgICA8Q2FyZFRpdGxlIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgIDxTcGFya2xlcyBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgVXBsb2FkIEJpbGwgRG9jdW1lbnRcbiAgICAgICAgICAgICAgICAgIDwvQ2FyZFRpdGxlPlxuICAgICAgICAgICAgICAgIDwvQ2FyZEhlYWRlcj5cbiAgICAgICAgICAgICAgICA8Q2FyZENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICA8U2hhcmVkVXBsb2FkZXJcbiAgICAgICAgICAgICAgICAgICAgb25Eb2N1bWVudENoYW5nZT17aGFuZGxlRmlsZVVwbG9hZH1cbiAgICAgICAgICAgICAgICAgICAgZm9ybVR5cGU9XCJiaWxsc1wiXG4gICAgICAgICAgICAgICAgICAgIHVwbG9hZENvbnRleHQ9e3VwbG9hZENvbnRleHR9XG4gICAgICAgICAgICAgICAgICAgIGFpQW5hbHlzaXNFbmFibGVkPXthaUVuYWJsZWR9XG4gICAgICAgICAgICAgICAgICAgIG9uQWlUb2dnbGU9e2hhbmRsZUFpVG9nZ2xlfVxuICAgICAgICAgICAgICAgICAgICBvbkFpQW5hbHlzaXNDb21wbGV0ZT17aGFuZGxlQWlBbmFseXNpc0NvbXBsZXRlfVxuICAgICAgICAgICAgICAgICAgICBzaG93QWlUb2dnbGU9e2ZhbHNlfVxuICAgICAgICAgICAgICAgICAgICBhbGxvd2VkRmlsZVR5cGVzPXtbJ2ltYWdlLyonLCAnYXBwbGljYXRpb24vcGRmJ119XG4gICAgICAgICAgICAgICAgICAgIG1heEZpbGVTaXplPXsyNX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIHtpc0V4dHJhY3RpbmcgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTQgcC00IGJnLWJsdWUtNTAgZGFyazpiZy1ibHVlLTk1MCByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItYmx1ZS0yMDAgZGFyazpib3JkZXItYmx1ZS04MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgaC00IHctNCBib3JkZXItYi0yIGJvcmRlci1ibHVlLTYwMFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ibHVlLTcwMCBkYXJrOnRleHQtYmx1ZS0zMDAgZm9udC1tZWRpdW1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgRXh0cmFjdGluZyBkYXRhIGZyb20geW91ciBkb2N1bWVudC4uLlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ibHVlLTYwMCBkYXJrOnRleHQtYmx1ZS00MDAgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgVGhpcyBtYXkgdGFrZSBhIGZldyBzZWNvbmRzIGRlcGVuZGluZyBvbiBkb2N1bWVudCBjb21wbGV4aXR5LlxuICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICB7YWlGaWxlICYmIChcbiAgICAgICAgICAgICAgICAgICAgPEdlbWluaUJpbGxFeHRyYWN0b3JcbiAgICAgICAgICAgICAgICAgICAgICBmaWxlPXthaUZpbGV9XG4gICAgICAgICAgICAgICAgICAgICAgb25FeHRyYWN0aW9uQ29tcGxldGU9e2hhbmRsZUFpRXh0cmFjdGlvbkNvbXBsZXRlfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgICAgICAgICA8L0NhcmQ+XG4gICAgICAgICAgICA8L1RhYnNDb250ZW50PlxuICAgICAgICAgICl9XG5cbiAgICAgICAgICA8VGFic0NvbnRlbnQgdmFsdWU9XCJtYW51YWxcIiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICAgIDxDYXJkPlxuICAgICAgICAgICAgICA8Q2FyZEhlYWRlcj5cbiAgICAgICAgICAgICAgICA8Q2FyZFRpdGxlIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICA8RmlsZVRleHQgY2xhc3NOYW1lPVwidy01IGgtNVwiIC8+XG4gICAgICAgICAgICAgICAgICBVcGxvYWQgRG9jdW1lbnQgKE9wdGlvbmFsKVxuICAgICAgICAgICAgICAgIDwvQ2FyZFRpdGxlPlxuICAgICAgICAgICAgICA8L0NhcmRIZWFkZXI+XG4gICAgICAgICAgICAgIDxDYXJkQ29udGVudD5cbiAgICAgICAgICAgICAgICA8U2hhcmVkVXBsb2FkZXJcbiAgICAgICAgICAgICAgICAgIG9uRG9jdW1lbnRDaGFuZ2U9e2hhbmRsZUZpbGVVcGxvYWR9XG4gICAgICAgICAgICAgICAgICBmb3JtVHlwZT1cImJpbGxzXCJcbiAgICAgICAgICAgICAgICAgIHVwbG9hZENvbnRleHQ9e3VwbG9hZENvbnRleHR9XG4gICAgICAgICAgICAgICAgICBhaUFuYWx5c2lzRW5hYmxlZD17ZmFsc2V9IC8vIERpc2FibGVkIGluIG1hbnVhbCBlbnRyeVxuICAgICAgICAgICAgICAgICAgc2hvd0FpVG9nZ2xlPXtmYWxzZX0gLy8gRG9uJ3Qgc2hvdyB0b2dnbGUgaW4gbWFudWFsIGVudHJ5XG4gICAgICAgICAgICAgICAgICBhbGxvd2VkRmlsZVR5cGVzPXtbJ2ltYWdlLyonLCAnYXBwbGljYXRpb24vcGRmJ119XG4gICAgICAgICAgICAgICAgICBtYXhGaWxlU2l6ZT17MjV9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9DYXJkQ29udGVudD5cbiAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICA8L1RhYnNDb250ZW50PlxuICAgICAgICA8L1RhYnM+XG4gICAgICApfVxuXG4gICAgICB7LyogQmlsbCBGb3JtICovfVxuICAgICAgPEZvcm0gey4uLmZvcm19PlxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17Zm9ybS5oYW5kbGVTdWJtaXQob25TdWJtaXQpfSBjbGFzc05hbWU9XCJzcGFjZS15LTZcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgZ2FwLTRcIj5cbiAgICAgICAgICAgIHsvKiBUaXRsZSAqL31cbiAgICAgICAgICAgIDxGb3JtRmllbGRcbiAgICAgICAgICAgICAgY29udHJvbD17Zm9ybS5jb250cm9sfVxuICAgICAgICAgICAgICBuYW1lPVwidGl0bGVcIlxuICAgICAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+IChcbiAgICAgICAgICAgICAgICA8Rm9ybUl0ZW0+XG4gICAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsPlRpdGxlICo8L0Zvcm1MYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgICAgPElucHV0IHBsYWNlaG9sZGVyPVwiZS5nLiwgTW9udGhseSBFbGVjdHJpY2l0eSBCaWxsXCIgey4uLmZpZWxkfSAvPlxuICAgICAgICAgICAgICAgICAgPC9Gb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPlxuICAgICAgICAgICAgICAgIDwvRm9ybUl0ZW0+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICB7LyogVmVuZG9yICovfVxuICAgICAgICAgICAgPEZvcm1GaWVsZFxuICAgICAgICAgICAgICBjb250cm9sPXtmb3JtLmNvbnRyb2x9XG4gICAgICAgICAgICAgIG5hbWU9XCJ2ZW5kb3JcIlxuICAgICAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+IChcbiAgICAgICAgICAgICAgICA8Rm9ybUl0ZW0+XG4gICAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsPlZlbmRvcjwvRm9ybUxhYmVsPlxuICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICA8SW5wdXQgcGxhY2Vob2xkZXI9XCJlLmcuLCBIeWRybyBRdWViZWNcIiB7Li4uZmllbGR9IC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgPEZvcm1NZXNzYWdlIC8+XG4gICAgICAgICAgICAgICAgPC9Gb3JtSXRlbT5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgIHsvKiBDYXRlZ29yeSAqL31cbiAgICAgICAgICAgIDxGb3JtRmllbGRcbiAgICAgICAgICAgICAgY29udHJvbD17Zm9ybS5jb250cm9sfVxuICAgICAgICAgICAgICBuYW1lPVwiY2F0ZWdvcnlcIlxuICAgICAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+IChcbiAgICAgICAgICAgICAgICA8Rm9ybUl0ZW0+XG4gICAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsPkNhdGVnb3J5ICo8L0Zvcm1MYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxTZWxlY3Qgb25WYWx1ZUNoYW5nZT17ZmllbGQub25DaGFuZ2V9IHZhbHVlPXtmaWVsZC52YWx1ZX0+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0VHJpZ2dlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RWYWx1ZSBwbGFjZWhvbGRlcj1cIlNlbGVjdCBjYXRlZ29yeVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RUcmlnZ2VyPlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgICAgICAgICB7QklMTF9DQVRFR09SSUVTLm1hcCgoY2F0ZWdvcnkpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIGtleT17Y2F0ZWdvcnkudmFsdWV9IHZhbHVlPXtjYXRlZ29yeS52YWx1ZX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtjYXRlZ29yeS5sYWJlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RDb250ZW50PlxuICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICA8Rm9ybU1lc3NhZ2UgLz5cbiAgICAgICAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgey8qIFBheW1lbnQgVHlwZSAqL31cbiAgICAgICAgICAgIDxGb3JtRmllbGRcbiAgICAgICAgICAgICAgY29udHJvbD17Zm9ybS5jb250cm9sfVxuICAgICAgICAgICAgICBuYW1lPVwicGF5bWVudFR5cGVcIlxuICAgICAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+IChcbiAgICAgICAgICAgICAgICA8Rm9ybUl0ZW0+XG4gICAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsPlBheW1lbnQgVHlwZSAqPC9Gb3JtTGFiZWw+XG4gICAgICAgICAgICAgICAgICA8U2VsZWN0IG9uVmFsdWVDaGFuZ2U9e2ZpZWxkLm9uQ2hhbmdlfSB2YWx1ZT17ZmllbGQudmFsdWV9PlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFRyaWdnZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0VmFsdWUgcGxhY2Vob2xkZXI9XCJTZWxlY3QgcGF5bWVudCB0eXBlXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdFRyaWdnZXI+XG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICAgIDxTZWxlY3RDb250ZW50PlxuICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPVwidW5pcXVlXCI+T25lLXRpbWUgUGF5bWVudDwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT1cInJlY3VycmVudFwiPlJlY3VycmluZyBQYXltZW50PC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPlxuICAgICAgICAgICAgICAgIDwvRm9ybUl0ZW0+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICB7LyogVG90YWwgQW1vdW50ICovfVxuICAgICAgICAgICAgPEZvcm1GaWVsZFxuICAgICAgICAgICAgICBjb250cm9sPXtmb3JtLmNvbnRyb2x9XG4gICAgICAgICAgICAgIG5hbWU9XCJ0b3RhbEFtb3VudFwiXG4gICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKFxuICAgICAgICAgICAgICAgIDxGb3JtSXRlbT5cbiAgICAgICAgICAgICAgICAgIDxGb3JtTGFiZWw+VG90YWwgQW1vdW50ICo8L0Zvcm1MYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgICAgPElucHV0IHBsYWNlaG9sZGVyPVwiMC4wMFwiIHR5cGU9XCJudW1iZXJcIiBzdGVwPVwiMC4wMVwiIHsuLi5maWVsZH0gLz5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICA8Rm9ybU1lc3NhZ2UgLz5cbiAgICAgICAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgey8qIFN0YXJ0IERhdGUgKi99XG4gICAgICAgICAgICA8Rm9ybUZpZWxkXG4gICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH1cbiAgICAgICAgICAgICAgbmFtZT1cInN0YXJ0RGF0ZVwiXG4gICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKFxuICAgICAgICAgICAgICAgIDxGb3JtSXRlbT5cbiAgICAgICAgICAgICAgICAgIDxGb3JtTGFiZWw+U3RhcnQgRGF0ZSAqPC9Gb3JtTGFiZWw+XG4gICAgICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICAgIDxJbnB1dCB0eXBlPVwiZGF0ZVwiIHsuLi5maWVsZH0gLz5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICA8Rm9ybU1lc3NhZ2UgLz5cbiAgICAgICAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiBSZWN1cnJpbmcgUGF5bWVudCBTY2hlZHVsZSAqL31cbiAgICAgICAgICB7cGF5bWVudFR5cGUgPT09ICdyZWN1cnJlbnQnICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgICAgIDxGb3JtRmllbGRcbiAgICAgICAgICAgICAgICBjb250cm9sPXtmb3JtLmNvbnRyb2x9XG4gICAgICAgICAgICAgICAgbmFtZT1cInNjaGVkdWxlUGF5bWVudFwiXG4gICAgICAgICAgICAgICAgcmVuZGVyPXsoeyBmaWVsZCB9KSA9PiAoXG4gICAgICAgICAgICAgICAgICA8Rm9ybUl0ZW0+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtTGFiZWw+UGF5bWVudCBTY2hlZHVsZTwvRm9ybUxhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8U2VsZWN0IG9uVmFsdWVDaGFuZ2U9e2ZpZWxkLm9uQ2hhbmdlfSB2YWx1ZT17ZmllbGQudmFsdWV9PlxuICAgICAgICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RUcmlnZ2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0VmFsdWUgcGxhY2Vob2xkZXI9XCJTZWxlY3Qgc2NoZWR1bGVcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RUcmlnZ2VyPlxuICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT1cIndlZWtseVwiPldlZWtseTwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPVwibW9udGhseVwiPk1vbnRobHk8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT1cInF1YXJ0ZXJseVwiPlF1YXJ0ZXJseTwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPVwieWVhcmx5XCI+WWVhcmx5PC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9XCJjdXN0b21cIj5DdXN0b20gU2NoZWR1bGU8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RDb250ZW50PlxuICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1NZXNzYWdlIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgICAgey8qIEVuZCBEYXRlIGZvciBSZWN1cnJlbnQgQmlsbHMgKi99XG4gICAgICAgICAgICAgIDxGb3JtRmllbGRcbiAgICAgICAgICAgICAgICBjb250cm9sPXtmb3JtLmNvbnRyb2x9XG4gICAgICAgICAgICAgICAgbmFtZT1cImVuZERhdGVcIlxuICAgICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKFxuICAgICAgICAgICAgICAgICAgPEZvcm1JdGVtPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsPlJlY3VycmVuY2UgRW5kIERhdGUgKE9wdGlvbmFsKTwvRm9ybUxhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICAgICAgPElucHV0IHR5cGU9XCJkYXRlXCIgey4uLmZpZWxkfSAvPlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybURlc2NyaXB0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgIFNldHRpbmcgYW4gZW5kIGRhdGUgd2lsbCBzdG9wIGF1dG8tZ2VuZXJhdGlvbiBvZiBmdXR1cmUgYmlsbHMgYWZ0ZXIgdGhpcyBkYXRlLlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm1EZXNjcmlwdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1NZXNzYWdlIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgICAge3NjaGVkdWxlUGF5bWVudCA9PT0gJ2N1c3RvbScgJiYgKFxuICAgICAgICAgICAgICAgIDxDYXJkPlxuICAgICAgICAgICAgICAgICAgPENhcmRIZWFkZXI+XG4gICAgICAgICAgICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4+Q3VzdG9tIFBheW1lbnQgU2NoZWR1bGU8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17YWRkQ3VzdG9tUGF5bWVudH1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UGx1cyBjbGFzc05hbWU9XCJ3LTQgaC00IG1yLTJcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgQWRkIFBheW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9DYXJkVGl0bGU+XG4gICAgICAgICAgICAgICAgICA8L0NhcmRIZWFkZXI+XG4gICAgICAgICAgICAgICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgIHtjdXN0b21QYXltZW50cy5tYXAoKHBheW1lbnQsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2luZGV4fSBjbGFzc05hbWU9XCJmbGV4IGdhcC0yIGl0ZW1zLWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJBbW91bnRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjAxXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17cGF5bWVudC5hbW91bnR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB1cGRhdGVDdXN0b21QYXltZW50KGluZGV4LCAnYW1vdW50JywgZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZGF0ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3BheW1lbnQuZGF0ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHVwZGF0ZUN1c3RvbVBheW1lbnQoaW5kZXgsICdkYXRlJywgZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17cGF5bWVudC5kZXNjcmlwdGlvbiB8fCAnJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHVwZGF0ZUN1c3RvbVBheW1lbnQoaW5kZXgsICdkZXNjcmlwdGlvbicsIGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiByZW1vdmVDdXN0b21QYXltZW50KGluZGV4KX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFggY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG5cbiAgICAgICAgICB7LyogRGVzY3JpcHRpb24gKi99XG4gICAgICAgICAgPEZvcm1GaWVsZFxuICAgICAgICAgICAgY29udHJvbD17Zm9ybS5jb250cm9sfVxuICAgICAgICAgICAgbmFtZT1cImRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKFxuICAgICAgICAgICAgICA8Rm9ybUl0ZW0+XG4gICAgICAgICAgICAgICAgPEZvcm1MYWJlbD5EZXNjcmlwdGlvbjwvRm9ybUxhYmVsPlxuICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgIDxUZXh0YXJlYVxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkFkZGl0aW9uYWwgZGV0YWlscyBhYm91dCB0aGlzIGJpbGwuLi5cIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtaW4taC1bMTAwcHhdXCJcbiAgICAgICAgICAgICAgICAgICAgey4uLmZpZWxkfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPlxuICAgICAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAvPlxuXG4gICAgICAgICAgey8qIE5vdGVzICovfVxuICAgICAgICAgIDxGb3JtRmllbGRcbiAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH1cbiAgICAgICAgICAgIG5hbWU9XCJub3Rlc1wiXG4gICAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+IChcbiAgICAgICAgICAgICAgPEZvcm1JdGVtPlxuICAgICAgICAgICAgICAgIDxGb3JtTGFiZWw+Tm90ZXM8L0Zvcm1MYWJlbD5cbiAgICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICA8VGV4dGFyZWFcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJJbnRlcm5hbCBub3Rlcy4uLlwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1pbi1oLVs4MHB4XVwiXG4gICAgICAgICAgICAgICAgICAgIHsuLi5maWVsZH1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9Gb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICA8Rm9ybU1lc3NhZ2UgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtSXRlbT5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgLz5cblxuICAgICAgICAgIHsvKiBGb3JtIEFjdGlvbnMgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgIHsvKiBEZWxldGUgYnV0dG9uIG9uIHRoZSBsZWZ0IChvbmx5IGZvciBleGlzdGluZyBiaWxscykgKi99XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICB7YmlsbCAmJiAoXG4gICAgICAgICAgICAgICAgPEJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIiBcbiAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJkZXN0cnVjdGl2ZVwiIFxuICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlRGVsZXRlfSBcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkZWxldGVCaWxsTXV0YXRpb24uaXNQZW5kaW5nfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtkZWxldGVCaWxsTXV0YXRpb24uaXNQZW5kaW5nID8gJ0RlbGV0aW5nLi4uJyA6ICdEZWxldGUgQmlsbCd9XG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgey8qIENhbmNlbCBhbmQgU2F2ZS9VcGRhdGUgYnV0dG9ucyBvbiB0aGUgcmlnaHQgKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTJcIj5cbiAgICAgICAgICAgICAge29uQ2FuY2VsICYmIChcbiAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJidXR0b25cIiB2YXJpYW50PVwib3V0bGluZVwiIG9uQ2xpY2s9e29uQ2FuY2VsfT5cbiAgICAgICAgICAgICAgICAgIENhbmNlbFxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBkaXNhYmxlZD17YmlsbE11dGF0aW9uLmlzUGVuZGluZ30+XG4gICAgICAgICAgICAgICAge2JpbGxNdXRhdGlvbi5pc1BlbmRpbmcgPyAnUHJvY2Vzc2luZy4uLicgOiAoYmlsbCA/ICdVcGRhdGUgQmlsbCcgOiAnQ3JlYXRlIEJpbGwnKX1cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9Gb3JtPlxuICAgIDwvZGl2PlxuICApO1xufSJdLCJ2ZXJzaW9uIjozfQ==