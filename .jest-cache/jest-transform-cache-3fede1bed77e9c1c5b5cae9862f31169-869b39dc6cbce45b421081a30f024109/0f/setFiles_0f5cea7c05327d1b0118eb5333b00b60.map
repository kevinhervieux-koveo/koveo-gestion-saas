{"file":"/home/runner/workspace/node_modules/@testing-library/user-event/dist/cjs/utils/edit/setFiles.js","mappings":"AAAA,YAAY,CAAC;AAEb,iEAAiE;AACjE,qGAAqG;AACrG,oGAAoG;AACpG,MAAM,SAAS,GAAG,MAAM,CAAC,uCAAuC,CAAC,CAAC;AAClE,SAAS,eAAe,CAAC,GAAG,EAAE,IAAI,EAAE,UAAU;IAC1C,IAAI,UAAU,EAAE,CAAC;QACb,MAAM,CAAC,cAAc,CAAC,GAAG,EAAE,IAAI,EAAE,UAAU,CAAC,CAAC;IACjD,CAAC;SAAM,CAAC;QACJ,gEAAgE;QAChE,OAAO,GAAG,CAAC,IAAI,CAAC,CAAC;IACrB,CAAC;AACL,CAAC;AACD,SAAS,QAAQ,CAAC,EAAE,EAAE,KAAK;IACvB,IAAI,aAAa,CAAC;IAClB,CAAC,aAAa,GAAG,EAAE,CAAC,SAAS,CAAC,CAAC,KAAK,IAAI,IAAI,aAAa,KAAK,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC;IAC9G,MAAM,SAAS,GAAG,MAAM,CAAC,wBAAwB,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC;IAC9D,MAAM,UAAU,GAAG,MAAM,CAAC,wBAAwB,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC;IAChE,MAAM,UAAU,GAAG,MAAM,CAAC,wBAAwB,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC;IAChE,SAAS,OAAO;QACZ,eAAe,CAAC,EAAE,EAAE,MAAM,EAAE,SAAS,CAAC,CAAC;QACvC,eAAe,CAAC,EAAE,EAAE,OAAO,EAAE,UAAU,CAAC,CAAC;QACzC,eAAe,CAAC,EAAE,EAAE,OAAO,EAAE,UAAU,CAAC,CAAC;IAC7C,CAAC;IACD,EAAE,CAAC,SAAS,CAAC,GAAG;QACZ,OAAO;KACV,CAAC;IACF,MAAM,CAAC,gBAAgB,CAAC,EAAE,EAAE;QACxB,KAAK,EAAE;YACH,YAAY,EAAE,IAAI;YAClB,GAAG,EAAE,GAAE,EAAE,CAAA,KAAK;SACjB;QACD,KAAK,EAAE;YACH,YAAY,EAAE,IAAI;YAClB,GAAG,EAAE,GAAE,EAAE,CAAA,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,iBAAiB,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,EAAE;YAC7D,GAAG,CAAE,CAAC;gBACF,IAAI,CAAC,KAAK,EAAE,EAAE,CAAC;oBACX,OAAO,EAAE,CAAC;gBACd,CAAC;qBAAM,CAAC;oBACJ,IAAI,eAAe,CAAC;oBACpB,UAAU,KAAK,IAAI,IAAI,UAAU,KAAK,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,eAAe,GAAG,UAAU,CAAC,GAAG,CAAC,KAAK,IAAI,IAAI,eAAe,KAAK,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;gBACzL,CAAC;YACL,CAAC;SACJ;QACD,IAAI,EAAE;YACF,YAAY,EAAE,IAAI;YAClB,GAAG,EAAE,GAAE,EAAE,CAAA,MAAM;YACf,GAAG,CAAE,CAAC;gBACF,IAAI,CAAC,KAAK,MAAM,EAAE,CAAC;oBACf,OAAO,EAAE,CAAC;oBACV,EAAE,CAAC,IAAI,GAAG,CAAC,CAAC;gBAChB,CAAC;YACL,CAAC;SACJ;KACJ,CAAC,CAAC;AACP,CAAC;AAED,OAAO,CAAC,QAAQ,GAAG,QAAQ,CAAC","names":[],"sources":["/home/runner/workspace/node_modules/@testing-library/user-event/dist/cjs/utils/edit/setFiles.js"],"sourcesContent":["'use strict';\n\n// It is not possible to create a real FileList programmatically.\n// Therefore assigning `files` property with a programmatically created FileList results in an error.\n// Just assigning the property (as per fireEvent) breaks the interweaving with the `value` property.\nconst fakeFiles = Symbol('files and value properties are mocked');\nfunction restoreProperty(obj, prop, descriptor) {\n    if (descriptor) {\n        Object.defineProperty(obj, prop, descriptor);\n    } else {\n        // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n        delete obj[prop];\n    }\n}\nfunction setFiles(el, files) {\n    var _el_fakeFiles;\n    (_el_fakeFiles = el[fakeFiles]) === null || _el_fakeFiles === undefined ? undefined : _el_fakeFiles.restore();\n    const typeDescr = Object.getOwnPropertyDescriptor(el, 'type');\n    const valueDescr = Object.getOwnPropertyDescriptor(el, 'value');\n    const filesDescr = Object.getOwnPropertyDescriptor(el, 'files');\n    function restore() {\n        restoreProperty(el, 'type', typeDescr);\n        restoreProperty(el, 'value', valueDescr);\n        restoreProperty(el, 'files', filesDescr);\n    }\n    el[fakeFiles] = {\n        restore\n    };\n    Object.defineProperties(el, {\n        files: {\n            configurable: true,\n            get: ()=>files\n        },\n        value: {\n            configurable: true,\n            get: ()=>files.length ? `C:\\\\fakepath\\\\${files[0].name}` : '',\n            set (v) {\n                if (v === '') {\n                    restore();\n                } else {\n                    var _valueDescr_set;\n                    valueDescr === null || valueDescr === undefined ? undefined : (_valueDescr_set = valueDescr.set) === null || _valueDescr_set === undefined ? undefined : _valueDescr_set.call(el, v);\n                }\n            }\n        },\n        type: {\n            configurable: true,\n            get: ()=>'file',\n            set (v) {\n                if (v !== 'file') {\n                    restore();\n                    el.type = v;\n                }\n            }\n        }\n    });\n}\n\nexports.setFiles = setFiles;\n"],"version":3}