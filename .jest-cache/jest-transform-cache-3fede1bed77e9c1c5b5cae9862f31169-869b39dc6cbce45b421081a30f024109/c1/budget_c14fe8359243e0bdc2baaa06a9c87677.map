{"file":"/home/runner/workspace/client/src/pages/manager/budget.tsx","mappings":"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","names":[],"sources":["/home/runner/workspace/client/src/pages/manager/budget.tsx"],"sourcesContent":["import { Header } from '@/components/layout/header';\nimport { useLanguage } from '@/hooks/use-language';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { withHierarchicalSelection } from '@/components/hoc/withHierarchicalSelection';\nimport { useLocation } from 'wouter';\nimport { \n  PieChart, \n  BarChart, \n  TrendingUp, \n  TrendingDown, \n  DollarSign,\n  Calculator,\n  ArrowLeft\n} from 'lucide-react';\n\ninterface BudgetProps {\n  organizationId?: string;\n  buildingId?: string;\n}\n\nfunction BudgetInner({ organizationId, buildingId }: BudgetProps) {\n  const { t } = useLanguage();\n  const [, navigate] = useLocation();\n\n  const handleBackToOrganization = () => {\n    navigate('/manager/budget');\n  };\n\n  const handleBackToBuilding = () => {\n    navigate(`/manager/budget?organization=${organizationId}`);\n  };\n\n  return (\n    <div className='flex-1 flex flex-col overflow-hidden'>\n      <Header title={t('budgetDashboard')} subtitle={t('budgetSubtitle')} />\n      \n      {/* Back Navigation */}\n      {(organizationId || buildingId) && (\n        <div className=\"p-4 border-b border-gray-200\">\n          <Button\n            variant=\"outline\"\n            onClick={buildingId ? handleBackToBuilding : handleBackToOrganization}\n            className=\"flex items-center gap-2\"\n            data-testid={buildingId ? \"button-back-to-building\" : \"button-back-to-organization\"}\n          >\n            <ArrowLeft className=\"w-4 h-4\" />\n            {buildingId ? t('building') : t('organization')}\n          </Button>\n        </div>\n      )}\n      \n      <div className='flex-1 overflow-auto p-6'>\n        <div className='max-w-7xl mx-auto space-y-6'>\n          {/* Summary Cards */}\n          <div className='grid grid-cols-1 md:grid-cols-4 gap-6'>\n            <Card>\n              <CardHeader className='flex flex-row items-center justify-between space-y-0 pb-2'>\n                <CardTitle className='text-sm font-medium'>{t('totalBudget')}</CardTitle>\n                <DollarSign className='h-4 w-4 text-muted-foreground' />\n              </CardHeader>\n              <CardContent>\n                <div className='text-2xl font-bold'>$125,000</div>\n                <p className='text-xs text-muted-foreground'>\n                  <span className='text-green-600'>+2.1%</span> {t('fromLastYear')}\n                </p>\n              </CardContent>\n            </Card>\n            \n            <Card>\n              <CardHeader className='flex flex-row items-center justify-between space-y-0 pb-2'>\n                <CardTitle className='text-sm font-medium'>{t('usedBudget')}</CardTitle>\n                <Calculator className='h-4 w-4 text-muted-foreground' />\n              </CardHeader>\n              <CardContent>\n                <div className='text-2xl font-bold'>$87,500</div>\n                <p className='text-xs text-muted-foreground'>\n                  70% {t('ofTotalBudget')}\n                </p>\n              </CardContent>\n            </Card>\n            \n            <Card>\n              <CardHeader className='flex flex-row items-center justify-between space-y-0 pb-2'>\n                <CardTitle className='text-sm font-medium'>{t('remaining')}</CardTitle>\n                <TrendingUp className='h-4 w-4 text-muted-foreground' />\n              </CardHeader>\n              <CardContent>\n                <div className='text-2xl font-bold'>$37,500</div>\n                <p className='text-xs text-muted-foreground'>\n                  30% {t('percentRemaining')}\n                </p>\n              </CardContent>\n            </Card>\n            \n            <Card>\n              <CardHeader className='flex flex-row items-center justify-between space-y-0 pb-2'>\n                <CardTitle className='text-sm font-medium'>{t('variance')}</CardTitle>\n                <TrendingDown className='h-4 w-4 text-muted-foreground' />\n              </CardHeader>\n              <CardContent>\n                <div className='text-2xl font-bold text-green-600'>-$2,500</div>\n                <p className='text-xs text-muted-foreground'>\n                  {t('underBudget')}\n                </p>\n              </CardContent>\n            </Card>\n          </div>\n\n          {/* Budget Categories */}\n          <Card>\n            <CardHeader>\n              <CardTitle className='flex items-center gap-2'>\n                <PieChart className='w-5 h-5' />\n                {t('budgetCategories')}\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className='space-y-4'>\n                {[\n                  { category: t('maintenance'), budget: 45000, used: 32000, color: 'bg-blue-500' },\n                  { category: t('utilities'), budget: 30000, used: 28000, color: 'bg-green-500' },\n                  { category: t('insurance'), budget: 25000, used: 15000, color: 'bg-purple-500' },\n                  { category: t('administration'), budget: 15000, used: 8500, color: 'bg-orange-500' },\n                  { category: t('cleaning'), budget: 10000, used: 4000, color: 'bg-red-500' },\n                ].map((item) => (\n                  <div key={item.category} className='flex items-center justify-between p-4 border rounded-lg'>\n                    <div className='flex items-center gap-3'>\n                      <div className={`w-4 h-4 rounded-full ${item.color}`}></div>\n                      <div>\n                        <h3 className='font-semibold'>{item.category}</h3>\n                        <p className='text-sm text-gray-600'>\n                          ${item.used.toLocaleString()} / ${item.budget.toLocaleString()}\n                        </p>\n                      </div>\n                    </div>\n                    <Badge variant={item.used > item.budget ? 'destructive' : 'secondary'}>\n                      {Math.round((item.used / item.budget) * 100)}%\n                    </Badge>\n                  </div>\n                ))}\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Monthly Spending */}\n          <Card>\n            <CardHeader>\n              <CardTitle className='flex items-center gap-2'>\n                <BarChart className='w-5 h-5' />\n                {t('monthlySpendingTrend')}\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className='h-64 flex items-center justify-center text-gray-500'>\n                <div className='text-center'>\n                  <BarChart className='w-12 h-12 mx-auto mb-4 text-gray-300' />\n                  <p>{t('budgetAnalyticsChart')}</p>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Wrap with hierarchical selection HOC using 2-level hierarchy (organization → building)\nconst Budget = withHierarchicalSelection(BudgetInner, {\n  hierarchy: ['organization', 'building']\n});\n\nexport default Budget;"],"version":3}