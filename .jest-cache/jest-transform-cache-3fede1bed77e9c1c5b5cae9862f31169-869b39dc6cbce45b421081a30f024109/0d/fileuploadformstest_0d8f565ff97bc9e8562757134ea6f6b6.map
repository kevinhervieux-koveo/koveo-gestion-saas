{"file":"/home/runner/workspace/tests/unit/file-upload-forms.test.tsx","mappings":"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","names":[],"sources":["/home/runner/workspace/tests/unit/file-upload-forms.test.tsx"],"sourcesContent":["/**\n * File Upload Forms Test Suite\n * \n * Comprehensive testing for all submission forms that support file uploads or image attachments.\n * This test suite validates:\n * 1. File selection and validation\n * 2. Form submission with multipart data\n * 3. Error handling for file uploads\n * 4. File type and size restrictions\n * 5. Multiple file handling\n * 6. UI feedback during upload process\n * \n * Forms tested:\n * - Bug Reports (with file attachments)\n * - Feature Requests/Ideas (with file attachments)\n * - Document Upload Forms\n * - Bills (with receipt attachments)\n */\n\n/// <reference path=\"../types/jest-dom.d.ts\" />\nimport { describe, it, expect, jest, beforeEach, afterEach } from '@jest/globals';\nimport { render, screen, fireEvent, waitFor } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport userEvent from '@testing-library/user-event';\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\nimport React from 'react';\n\n// Test utilities\nconst createTestQueryClient = () => {\n  return new QueryClient({\n    defaultOptions: {\n      queries: {\n        retry: false,\n      },\n      mutations: {\n        retry: false,\n      },\n    },\n  });\n};\n\nconst TestWrapper: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const queryClient = createTestQueryClient();\n  return (\n    <QueryClientProvider client={queryClient}>\n      {children}\n    </QueryClientProvider>\n  );\n};\n\n// Mock API request function\nconst mockApiRequest = jest.fn() as jest.MockedFunction<any>;\nconst mockFetch = jest.fn() as jest.MockedFunction<any>;\n\njest.mock('@/lib/queryClient', () => ({\n  apiRequest: mockApiRequest,\n}));\n\n// Mock authentication hook\nconst mockAuth = {\n  user: {\n    id: '123e4567-e89b-12d3-a456-426614174000',\n    email: 'test@koveo.com',\n    role: 'admin',\n    organizationId: '123e4567-e89b-12d3-a456-426614174001'\n  },\n  login: jest.fn(),\n  logout: jest.fn(),\n};\n\njest.mock('@/hooks/use-auth', () => ({\n  useAuth: () => mockAuth,\n}));\n\n// Mock toast hook\nconst mockToast = jest.fn();\njest.mock('@/hooks/use-toast', () => ({\n  useToast: () => ({ toast: mockToast }),\n}));\n\n// Mock global fetch\nglobal.fetch = mockFetch as any;\n\n// Create mock files for testing\nconst createMockFile = (name: string, size: number, type: string) => {\n  const file = new File(['mock content'], name, { type });\n  Object.defineProperty(file, 'size', { value: size });\n  return file;\n};\n\nconst createMockImage = (name: string, size: number = 50000) => \n  createMockFile(name, size, 'image/png');\n\nconst createMockPDF = (name: string, size: number = 100000) => \n  createMockFile(name, size, 'application/pdf');\n\nconst createMockTextFile = (name: string, size: number = 1000) => \n  createMockFile(name, size, 'text/plain');\n\ndescribe('File Upload Forms Test Suite', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n    mockApiRequest.mockResolvedValue({ id: 'test-id', success: true });\n    mockFetch.mockResolvedValue({\n      ok: true,\n      json: async () => ({ id: 'test-id', success: true }),\n    });\n  });\n\n  afterEach(() => {\n    jest.resetAllMocks();\n  });\n\n  describe('Bug Report Form with File Attachments', () => {\n    const BugReportForm = require('../../client/src/pages/settings/bug-reports.tsx').default;\n\n    beforeEach(() => {\n      // Reset mocks for this test suite\n      jest.clearAllMocks();\n    });\n\n    it('should render bug report form with file upload capability', async () => {\n      render(\n        <TestWrapper>\n          <BugReportForm />\n        </TestWrapper>\n      );\n\n      // Check for bug report button\n      const reportButton = screen.queryByTestId('button-report-bug') || \n                          screen.queryByText(/report bug/i);\n      \n      if (reportButton) {\n        await userEvent.click(reportButton);\n\n        // Look for file upload components\n        const attachButton = screen.queryByText(/attach files/i) ||\n                            screen.queryByText(/screenshots/i) ||\n                            screen.queryByRole('button', { name: /attach/i });\n        \n        expect(attachButton).toBeTruthy();\n      }\n    });\n\n    it('should handle single file attachment to bug reports', async () => {\n      render(\n        <TestWrapper>\n          <BugReportForm />\n        </TestWrapper>\n      );\n\n      const reportButton = screen.queryByTestId('button-report-bug') || \n                          screen.queryByText(/report bug/i);\n      \n      if (reportButton) {\n        await userEvent.click(reportButton);\n\n        // Fill required fields\n        const titleInput = screen.queryByLabelText(/title/i) || \n                          screen.queryByPlaceholderText(/title/i);\n        const descriptionInput = screen.queryByLabelText(/description/i) ||\n                                screen.queryByPlaceholderText(/description/i);\n        const pageInput = screen.queryByLabelText(/page/i) ||\n                         screen.queryByPlaceholderText(/page/i);\n\n        if (titleInput && descriptionInput && pageInput) {\n          await userEvent.type(titleInput, 'Test Bug Report with File');\n          await userEvent.type(descriptionInput, 'This is a test bug report with file attachment for testing purposes.');\n          await userEvent.type(pageInput, 'Test Page');\n\n          // Try to find and interact with file upload\n          const fileInput = screen.queryByRole('button', { name: /attach/i }) ||\n                           screen.queryByText(/attach files/i);\n\n          if (fileInput) {\n            const mockFile = createMockImage('screenshot.png');\n            \n            // Simulate file selection\n            Object.defineProperty(fileInput, 'files', {\n              value: [mockFile],\n              writable: false,\n            });\n\n            fireEvent.change(fileInput, { target: { files: [mockFile] } });\n\n            // Submit form\n            const submitButton = screen.queryByTestId('button-submit-bug') ||\n                               screen.queryByRole('button', { name: /submit/i });\n            \n            if (submitButton) {\n              await userEvent.click(submitButton);\n\n              await waitFor(() => {\n                expect(mockFetch).toHaveBeenCalledWith(\n                  '/api/bugs',\n                  expect.objectContaining({\n                    method: 'POST',\n                    body: expect.any(FormData),\n                    credentials: 'include',\n                  })\n                );\n              });\n            }\n          }\n        }\n      }\n    });\n\n    it('should handle multiple file attachments to bug reports', async () => {\n      render(\n        <TestWrapper>\n          <BugReportForm />\n        </TestWrapper>\n      );\n\n      const reportButton = screen.queryByTestId('button-report-bug') || \n                          screen.queryByText(/report bug/i);\n      \n      if (reportButton) {\n        await userEvent.click(reportButton);\n\n        const titleInput = screen.queryByLabelText(/title/i) || \n                          screen.queryByPlaceholderText(/title/i);\n        const descriptionInput = screen.queryByLabelText(/description/i) ||\n                                screen.queryByPlaceholderText(/description/i);\n        const pageInput = screen.queryByLabelText(/page/i) ||\n                         screen.queryByPlaceholderText(/page/i);\n\n        if (titleInput && descriptionInput && pageInput) {\n          await userEvent.type(titleInput, 'Multi-file Bug Report');\n          await userEvent.type(descriptionInput, 'Testing multiple file attachments in bug reports.');\n          await userEvent.type(pageInput, 'Test Page');\n\n          const fileInput = screen.queryByRole('button', { name: /attach/i });\n\n          if (fileInput) {\n            const mockFiles = [\n              createMockImage('screenshot1.png'),\n              createMockImage('screenshot2.png'),\n              createMockPDF('error-log.pdf')\n            ];\n\n            // Simulate multiple file selection\n            Object.defineProperty(fileInput, 'files', {\n              value: mockFiles,\n              writable: false,\n            });\n\n            fireEvent.change(fileInput, { target: { files: mockFiles } });\n\n            const submitButton = screen.queryByTestId('button-submit-bug') ||\n                               screen.queryByRole('button', { name: /submit/i });\n            \n            if (submitButton) {\n              await userEvent.click(submitButton);\n\n              await waitFor(() => {\n                expect(mockFetch).toHaveBeenCalledWith(\n                  '/api/bugs',\n                  expect.objectContaining({\n                    method: 'POST',\n                    body: expect.any(FormData),\n                  })\n                );\n              });\n            }\n          }\n        }\n      }\n    });\n\n    it('should validate file size limits for bug report attachments', async () => {\n      render(\n        <TestWrapper>\n          <BugReportForm />\n        </TestWrapper>\n      );\n\n      const reportButton = screen.queryByTestId('button-report-bug') || \n                          screen.queryByText(/report bug/i);\n      \n      if (reportButton) {\n        await userEvent.click(reportButton);\n\n        const fileInput = screen.queryByRole('button', { name: /attach/i });\n\n        if (fileInput) {\n          // Create oversized file (50MB)\n          const oversizedFile = createMockImage('huge-file.png', 50 * 1024 * 1024);\n\n          Object.defineProperty(fileInput, 'files', {\n            value: [oversizedFile],\n            writable: false,\n          });\n\n          fireEvent.change(fileInput, { target: { files: [oversizedFile] } });\n\n          // Should show error message for oversized file\n          await waitFor(() => {\n            const errorMessage = screen.queryByText(/file.*too large/i) ||\n                                screen.queryByText(/size.*exceeded/i) ||\n                                screen.queryByText(/maximum.*size/i);\n            \n            if (errorMessage) {\n              expect(errorMessage).toBeInTheDocument();\n            }\n          });\n        }\n      }\n    });\n  });\n\n  describe('Feature Request Form with File Attachments', () => {\n    const FeatureRequestForm = require('../../client/src/pages/settings/idea-box.tsx').default;\n\n    it('should render feature request form with file upload capability', async () => {\n      render(\n        <TestWrapper>\n          <FeatureRequestForm />\n        </TestWrapper>\n      );\n\n      const requestButton = screen.queryByTestId('button-request-feature') || \n                           screen.queryByText(/request feature/i) ||\n                           screen.queryByText(/suggest idea/i);\n      \n      if (requestButton) {\n        await userEvent.click(requestButton);\n\n        const attachButton = screen.queryByText(/attach files/i) ||\n                            screen.queryByText(/attachments/i) ||\n                            screen.queryByRole('button', { name: /attach/i });\n        \n        expect(attachButton).toBeTruthy();\n      }\n    });\n\n    it('should submit feature request with file attachments', async () => {\n      render(\n        <TestWrapper>\n          <FeatureRequestForm />\n        </TestWrapper>\n      );\n\n      const requestButton = screen.queryByTestId('button-request-feature') || \n                           screen.queryByText(/request feature/i);\n      \n      if (requestButton) {\n        await userEvent.click(requestButton);\n\n        const titleInput = screen.queryByLabelText(/title/i) || \n                          screen.queryByPlaceholderText(/title/i);\n        const descriptionInput = screen.queryByLabelText(/description/i) ||\n                                screen.queryByPlaceholderText(/description/i);\n\n        if (titleInput && descriptionInput) {\n          await userEvent.type(titleInput, 'New Feature with Mockups');\n          await userEvent.type(descriptionInput, 'Feature request with design mockups and documentation.');\n\n          const fileInput = screen.queryByRole('button', { name: /attach/i });\n\n          if (fileInput) {\n            const mockFiles = [\n              createMockImage('mockup.png'),\n              createMockPDF('requirements.pdf')\n            ];\n\n            Object.defineProperty(fileInput, 'files', {\n              value: mockFiles,\n              writable: false,\n            });\n\n            fireEvent.change(fileInput, { target: { files: mockFiles } });\n\n            const submitButton = screen.queryByRole('button', { name: /submit/i });\n            \n            if (submitButton) {\n              await userEvent.click(submitButton);\n\n              await waitFor(() => {\n                expect(mockFetch).toHaveBeenCalledWith(\n                  expect.stringMatching(/\\/api\\/(features|feature-requests)/),\n                  expect.objectContaining({\n                    method: 'POST',\n                    body: expect.any(FormData),\n                  })\n                );\n              });\n            }\n          }\n        }\n      }\n    });\n  });\n\n  describe('Document Upload Forms', () => {\n    const DocumentManager = require('../../client/src/components/common/DocumentManager.tsx').default;\n\n    it('should handle document upload with metadata', async () => {\n      render(\n        <TestWrapper>\n          <DocumentManager />\n        </TestWrapper>\n      );\n\n      const uploadButton = screen.queryByTestId('button-upload-document') ||\n                          screen.queryByText(/upload/i) ||\n                          screen.queryByRole('button', { name: /add.*document/i });\n\n      if (uploadButton) {\n        await userEvent.click(uploadButton);\n\n        const fileInput = screen.queryByRole('input', { name: /file/i }) ||\n                         screen.queryByRole('button', { name: /choose.*file/i });\n\n        if (fileInput) {\n          const mockDocument = createMockPDF('contract.pdf');\n\n          Object.defineProperty(fileInput, 'files', {\n            value: [mockDocument],\n            writable: false,\n          });\n\n          fireEvent.change(fileInput, { target: { files: [mockDocument] } });\n\n          // Fill document metadata\n          const nameInput = screen.queryByLabelText(/name/i) ||\n                           screen.queryByPlaceholderText(/document.*name/i);\n          const descriptionInput = screen.queryByLabelText(/description/i);\n\n          if (nameInput) {\n            await userEvent.type(nameInput, 'Test Contract Document');\n          }\n          if (descriptionInput) {\n            await userEvent.type(descriptionInput, 'Legal contract for testing purposes');\n          }\n\n          const submitButton = screen.queryByRole('button', { name: /upload/i }) ||\n                              screen.queryByRole('button', { name: /save/i });\n\n          if (submitButton) {\n            await userEvent.click(submitButton);\n\n            await waitFor(() => {\n              expect(mockApiRequest).toHaveBeenCalledWith(\n                'POST',\n                expect.stringMatching(/\\/api\\/documents/),\n                expect.any(Object)\n              );\n            });\n          }\n        }\n      }\n    });\n\n    it('should validate document file types', async () => {\n      render(\n        <TestWrapper>\n          <DocumentManager />\n        </TestWrapper>\n      );\n\n      const uploadButton = screen.queryByTestId('button-upload-document') ||\n                          screen.queryByText(/upload/i);\n\n      if (uploadButton) {\n        await userEvent.click(uploadButton);\n\n        const fileInput = screen.queryByRole('input', { name: /file/i });\n\n        if (fileInput) {\n          // Try uploading invalid file type\n          const invalidFile = createMockFile('malicious.exe', 1000, 'application/x-executable');\n\n          Object.defineProperty(fileInput, 'files', {\n            value: [invalidFile],\n            writable: false,\n          });\n\n          fireEvent.change(fileInput, { target: { files: [invalidFile] } });\n\n          await waitFor(() => {\n            const errorMessage = screen.queryByText(/file.*type.*not.*allowed/i) ||\n                                screen.queryByText(/invalid.*file.*type/i) ||\n                                screen.queryByText(/unsupported.*format/i);\n            \n            if (errorMessage) {\n              expect(errorMessage).toBeInTheDocument();\n            }\n          });\n        }\n      }\n    });\n  });\n\n  describe('Bill Form with Receipt Attachments', () => {\n    const BillForm = require('../../client/src/components/common/BillForm.tsx').default;\n\n    it('should handle bill submission with receipt attachments', async () => {\n      const mockProps = {\n        isOpen: true,\n        onClose: jest.fn(),\n        onSubmit: jest.fn(),\n        buildings: [],\n        residences: []\n      };\n\n      render(\n        <TestWrapper>\n          <BillForm {...mockProps} />\n        </TestWrapper>\n      );\n\n      // Fill bill details\n      const titleInput = screen.queryByLabelText(/title/i) ||\n                        screen.queryByPlaceholderText(/bill.*title/i);\n      const amountInput = screen.queryByLabelText(/amount/i) ||\n                         screen.queryByPlaceholderText(/amount/i);\n\n      if (titleInput && amountInput) {\n        await userEvent.type(titleInput, 'Electricity Bill - January 2025');\n        await userEvent.type(amountInput, '150.75');\n\n        // Look for file attachment\n        const attachButton = screen.queryByText(/attach.*receipt/i) ||\n                            screen.queryByText(/add.*attachment/i) ||\n                            screen.queryByRole('button', { name: /attach/i });\n\n        if (attachButton) {\n          await userEvent.click(attachButton);\n\n          const fileInput = screen.queryByRole('input', { type: 'file' });\n\n          if (fileInput) {\n            const receiptFile = createMockPDF('receipt.pdf');\n\n            Object.defineProperty(fileInput, 'files', {\n              value: [receiptFile],\n              writable: false,\n            });\n\n            fireEvent.change(fileInput, { target: { files: [receiptFile] } });\n\n            const submitButton = screen.queryByRole('button', { name: /save.*bill/i }) ||\n                                screen.queryByRole('button', { name: /submit/i });\n\n            if (submitButton) {\n              await userEvent.click(submitButton);\n\n              await waitFor(() => {\n                expect(mockProps.onSubmit).toHaveBeenCalledWith(\n                  expect.objectContaining({\n                    title: 'Electricity Bill - January 2025',\n                    amount: expect.any(String),\n                  })\n                );\n              });\n            }\n          }\n        }\n      }\n    });\n\n    it('should validate receipt file format', async () => {\n      const mockProps = {\n        isOpen: true,\n        onClose: jest.fn(),\n        onSubmit: jest.fn(),\n        buildings: [],\n        residences: []\n      };\n\n      render(\n        <TestWrapper>\n          <BillForm {...mockProps} />\n        </TestWrapper>\n      );\n\n      const attachButton = screen.queryByText(/attach/i);\n\n      if (attachButton) {\n        await userEvent.click(attachButton);\n\n        const fileInput = screen.queryByRole('input', { type: 'file' });\n\n        if (fileInput) {\n          // Try invalid file format\n          const invalidFile = createMockFile('receipt.txt', 1000, 'text/plain');\n\n          Object.defineProperty(fileInput, 'files', {\n            value: [invalidFile],\n            writable: false,\n          });\n\n          fireEvent.change(fileInput, { target: { files: [invalidFile] } });\n\n          await waitFor(() => {\n            const errorMessage = screen.queryByText(/invalid.*format/i) ||\n                                screen.queryByText(/only.*pdf.*jpg.*png/i);\n            \n            if (errorMessage) {\n              expect(errorMessage).toBeInTheDocument();\n            }\n          });\n        }\n      }\n    });\n  });\n\n  describe('General File Upload Validation', () => {\n    it('should handle network errors during file upload', async () => {\n      mockFetch.mockRejectedValueOnce(new Error('Network error'));\n\n      render(\n        <TestWrapper>\n          <div data-testid=\"test-upload-form\">\n            {/* Minimal form for testing */}\n            <input \n              type=\"file\" \n              data-testid=\"file-input\"\n              onChange={(e) => {\n                const formData = new FormData();\n                if (e.target.files?.[0]) {\n                  formData.append('file', e.target.files[0]);\n                  fetch('/api/upload', { method: 'POST', body: formData });\n                }\n              }}\n            />\n          </div>\n        </TestWrapper>\n      );\n\n      const fileInput = screen.getByTestId('file-input');\n      const mockFile = createMockImage('test.png');\n\n      Object.defineProperty(fileInput, 'files', {\n        value: [mockFile],\n        writable: false,\n      });\n\n      fireEvent.change(fileInput, { target: { files: [mockFile] } });\n\n      await waitFor(() => {\n        expect(mockFetch).toHaveBeenCalledWith(\n          '/api/upload',\n          expect.objectContaining({\n            method: 'POST',\n            body: expect.any(FormData),\n          })\n        );\n      });\n    });\n\n    it('should handle empty file selection', () => {\n      render(\n        <TestWrapper>\n          <input \n            type=\"file\" \n            data-testid=\"file-input\"\n            onChange={() => {\n              // Should not trigger any upload\n            }}\n          />\n        </TestWrapper>\n      );\n\n      const fileInput = screen.getByTestId('file-input');\n\n      // Simulate empty file selection\n      fireEvent.change(fileInput, { target: { files: [] } });\n\n      expect(mockFetch).not.toHaveBeenCalled();\n      expect(mockApiRequest).not.toHaveBeenCalled();\n    });\n\n    it('should respect maximum file count limits', () => {\n      const MAX_FILES = 3;\n\n      render(\n        <TestWrapper>\n          <input \n            type=\"file\" \n            multiple\n            data-testid=\"file-input\"\n            onChange={(e) => {\n              if (e.target.files && e.target.files.length > MAX_FILES) {\n                throw new Error(`Maximum ${MAX_FILES} files allowed`);\n              }\n            }}\n          />\n        </TestWrapper>\n      );\n\n      const fileInput = screen.getByTestId('file-input');\n      const tooManyFiles = [\n        createMockImage('1.png'),\n        createMockImage('2.png'),\n        createMockImage('3.png'),\n        createMockImage('4.png'), // One too many\n      ];\n\n      Object.defineProperty(fileInput, 'files', {\n        value: tooManyFiles,\n        writable: false,\n      });\n\n      expect(() => {\n        fireEvent.change(fileInput, { target: { files: tooManyFiles } });\n      }).toThrow(/Maximum.*files.*allowed/);\n    });\n  });\n\n  describe('File Upload Progress and Feedback', () => {\n    it('should show upload progress for large files', async () => {\n      const mockUploadProgress = jest.fn();\n      \n      // Mock XMLHttpRequest for progress tracking\n      const mockXHR = {\n        upload: {\n          addEventListener: jest.fn((event, callback) => {\n            if (event === 'progress') {\n              // Simulate progress updates\n              setTimeout(() => callback({ loaded: 50, total: 100 }), 100);\n              setTimeout(() => callback({ loaded: 100, total: 100 }), 200);\n            }\n          }),\n        },\n        addEventListener: jest.fn(),\n        open: jest.fn(),\n        send: jest.fn(),\n        setRequestHeader: jest.fn(),\n      };\n\n      global.XMLHttpRequest = jest.fn(() => mockXHR) as any;\n\n      render(\n        <TestWrapper>\n          <div data-testid=\"upload-with-progress\">\n            <input \n              type=\"file\"\n              data-testid=\"file-input\"\n              onChange={mockUploadProgress}\n            />\n            <div data-testid=\"progress-indicator\">0%</div>\n          </div>\n        </TestWrapper>\n      );\n\n      const fileInput = screen.getByTestId('file-input');\n      const largeFile = createMockImage('large-image.png', 10 * 1024 * 1024); // 10MB\n\n      Object.defineProperty(fileInput, 'files', {\n        value: [largeFile],\n        writable: false,\n      });\n\n      fireEvent.change(fileInput, { target: { files: [largeFile] } });\n\n      expect(mockUploadProgress).toHaveBeenCalledWith(\n        expect.objectContaining({\n          target: expect.objectContaining({\n            files: expect.arrayContaining([largeFile])\n          })\n        })\n      );\n    });\n  });\n});"],"version":3}