589e9fcaa7c1b1b860b25c7c547ce2bd
/**
 * Minimal Jest Setup for Testing Koveo Gestion Platform
 * Focused on preventing hanging and test failures
 */
// Mock any modules that might cause hanging
jest.mock('@neondatabase/serverless', () => ({
    Pool: jest.fn(),
    neon: jest.fn(),
}));
jest.mock('drizzle-orm/neon-serverless', () => ({
    drizzle: jest.fn(),
}));
// Set test environment variables first
process.env.NODE_ENV = 'test';
process.env.TEST_TYPE = 'unit';
process.env.USE_MOCK_DB = 'true';
process.env.SKIP_DB_OPERATIONS = 'true';
process.env.DATABASE_URL = 'postgresql://mock:mock@localhost:5432/mock_test';
// Mock fetch for tests
global.fetch = jest.fn();
console.log('âœ… Minimal Jest setup completed');
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9qZXN0LnNldHVwLm1pbmltYWwudHMiLCJtYXBwaW5ncyI6IkFBQUE7OztHQUdHO0FBWUgsNENBQTRDO0FBQzVDLElBQUksQ0FBQyxJQUFJLENBQUMsMEJBQTBCLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztJQUMzQyxJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtJQUNmLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO0NBQ2hCLENBQUMsQ0FBQyxDQUFDO0FBRUosSUFBSSxDQUFDLElBQUksQ0FBQyw2QkFBNkIsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO0lBQzlDLE9BQU8sRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO0NBQ25CLENBQUMsQ0FBQyxDQUFDO0FBbEJKLHVDQUF1QztBQUN2QyxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsR0FBRyxNQUFNLENBQUM7QUFDOUIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxTQUFTLEdBQUcsTUFBTSxDQUFDO0FBQy9CLE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxHQUFHLE1BQU0sQ0FBQztBQUNqQyxPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQixHQUFHLE1BQU0sQ0FBQztBQUN4QyxPQUFPLENBQUMsR0FBRyxDQUFDLFlBQVksR0FBRyxpREFBaUQsQ0FBQztBQUU3RSx1QkFBdUI7QUFDdkIsTUFBTSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUM7QUFZekIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3Jrc3BhY2UvamVzdC5zZXR1cC5taW5pbWFsLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTWluaW1hbCBKZXN0IFNldHVwIGZvciBUZXN0aW5nIEtvdmVvIEdlc3Rpb24gUGxhdGZvcm1cbiAqIEZvY3VzZWQgb24gcHJldmVudGluZyBoYW5naW5nIGFuZCB0ZXN0IGZhaWx1cmVzXG4gKi9cblxuLy8gU2V0IHRlc3QgZW52aXJvbm1lbnQgdmFyaWFibGVzIGZpcnN0XG5wcm9jZXNzLmVudi5OT0RFX0VOViA9ICd0ZXN0JztcbnByb2Nlc3MuZW52LlRFU1RfVFlQRSA9ICd1bml0JztcbnByb2Nlc3MuZW52LlVTRV9NT0NLX0RCID0gJ3RydWUnO1xucHJvY2Vzcy5lbnYuU0tJUF9EQl9PUEVSQVRJT05TID0gJ3RydWUnO1xucHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMID0gJ3Bvc3RncmVzcWw6Ly9tb2NrOm1vY2tAbG9jYWxob3N0OjU0MzIvbW9ja190ZXN0JztcblxuLy8gTW9jayBmZXRjaCBmb3IgdGVzdHNcbmdsb2JhbC5mZXRjaCA9IGplc3QuZm4oKTtcblxuLy8gTW9jayBhbnkgbW9kdWxlcyB0aGF0IG1pZ2h0IGNhdXNlIGhhbmdpbmdcbmplc3QubW9jaygnQG5lb25kYXRhYmFzZS9zZXJ2ZXJsZXNzJywgKCkgPT4gKHtcbiAgUG9vbDogamVzdC5mbigpLFxuICBuZW9uOiBqZXN0LmZuKCksXG59KSk7XG5cbmplc3QubW9jaygnZHJpenpsZS1vcm0vbmVvbi1zZXJ2ZXJsZXNzJywgKCkgPT4gKHtcbiAgZHJpenpsZTogamVzdC5mbigpLFxufSkpO1xuXG5jb25zb2xlLmxvZygn4pyFIE1pbmltYWwgSmVzdCBzZXR1cCBjb21wbGV0ZWQnKTsiXSwidmVyc2lvbiI6M30=