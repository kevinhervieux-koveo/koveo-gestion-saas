345c6aedee0ed95c20a7322960f79755
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.insertMonthlyBudgetSchema = exports.insertBudgetSchema = exports.insertOldBillSchema = exports.insertBillSchema = exports.monthlyBudgets = exports.budgets = exports.oldBills = exports.bills = exports.schedulePaymentEnum = exports.paymentTypeEnum = exports.billCategoryEnum = exports.oldBillTypeEnum = exports.billStatusEnum = void 0;
const drizzle_orm_1 = require("drizzle-orm");
const pg_core_1 = require("drizzle-orm/pg-core");
const drizzle_zod_1 = require("drizzle-zod");
const zod_1 = require("zod");
const core_1 = require("./core");
const property_1 = require("./property");
// Financial enums
exports.billStatusEnum = (0, pg_core_1.pgEnum)('bill_status', [
    'draft',
    'sent',
    'overdue',
    'paid',
    'cancelled',
]);
exports.oldBillTypeEnum = (0, pg_core_1.pgEnum)('old_bill_type', [
    'condo_fees',
    'special_assessment',
    'utility',
    'maintenance',
    'other',
]);
exports.billCategoryEnum = (0, pg_core_1.pgEnum)('bill_category', [
    'insurance',
    'maintenance',
    'salary',
    'utilities',
    'cleaning',
    'security',
    'landscaping',
    'professional_services',
    'administration',
    'repairs',
    'supplies',
    'taxes',
    'technology',
    'reserves',
    'other',
]);
exports.paymentTypeEnum = (0, pg_core_1.pgEnum)('payment_type', ['unique', 'recurrent']);
exports.schedulePaymentEnum = (0, pg_core_1.pgEnum)('schedule_payment', [
    'weekly',
    'monthly',
    'quarterly',
    'yearly',
    'custom',
]);
// Financial tables
/**
 * Enhanced bills table for tracking financial obligations with advanced scheduling.
 * Supports unique and recurrent payments with custom scheduling options.
 */
exports.bills = (0, pg_core_1.pgTable)('bills', {
    id: (0, pg_core_1.varchar)('id')
        .primaryKey()
        .default((0, drizzle_orm_1.sql) `gen_random_uuid()`),
    buildingId: (0, pg_core_1.varchar)('building_id')
        .notNull()
        .references(() => property_1.buildings.id),
    billNumber: (0, pg_core_1.text)('bill_number').notNull().unique(),
    title: (0, pg_core_1.text)('title').notNull(),
    description: (0, pg_core_1.text)('description'),
    category: (0, exports.billCategoryEnum)('category').notNull(),
    vendor: (0, pg_core_1.text)('vendor'), // Company or service provider
    paymentType: (0, exports.paymentTypeEnum)('payment_type').notNull(), // unique or recurrent
    schedulePayment: (0, exports.schedulePaymentEnum)('schedule_payment'), // Only for recurrent payments
    scheduleCustom: (0, pg_core_1.date)('schedule_custom').array(), // Custom dates for custom schedules
    costs: (0, pg_core_1.decimal)('costs', { precision: 12, scale: 2 }).array().notNull(), // Array of costs for payment plan
    totalAmount: (0, pg_core_1.decimal)('total_amount', { precision: 12, scale: 2 }).notNull(),
    startDate: (0, pg_core_1.date)('start_date').notNull(), // When the bill series starts
    endDate: (0, pg_core_1.date)('end_date'), // For recurrent bills, when they end (optional for ongoing)
    status: (0, exports.billStatusEnum)('status').notNull().default('draft'),
    filePath: (0, pg_core_1.text)('file_path'), // Path to uploaded bill document
    fileName: (0, pg_core_1.text)('file_name'), // Original filename
    fileSize: (0, pg_core_1.integer)('file_size'), // File size in bytes
    isAiAnalyzed: (0, pg_core_1.boolean)('is_ai_analyzed').default(false),
    aiAnalysisData: (0, pg_core_1.jsonb)('ai_analysis_data'), // Store AI-extracted data
    notes: (0, pg_core_1.text)('notes'),
    autoGenerated: (0, pg_core_1.boolean)('auto_generated').notNull().default(false), // Indicates if this bill was auto-generated
    reference: (0, pg_core_1.varchar)('reference').references(() => exports.bills.id), // References the original bill for auto-generated bills
    createdBy: (0, pg_core_1.varchar)('created_by')
        .notNull()
        .references(() => core_1.users.id),
    createdAt: (0, pg_core_1.timestamp)('created_at').defaultNow(),
    updatedAt: (0, pg_core_1.timestamp)('updated_at').defaultNow(),
});
/**
 * Legacy bills table - keeping for backward compatibility.
 * Will be migrated to new bills table structure.
 */
exports.oldBills = (0, pg_core_1.pgTable)('old_bills', {
    id: (0, pg_core_1.uuid)('id')
        .primaryKey()
        .default((0, drizzle_orm_1.sql) `gen_random_uuid()`),
    residenceId: (0, pg_core_1.varchar)('residence_id')
        .notNull()
        .references(() => property_1.residences.id),
    billNumber: (0, pg_core_1.text)('bill_number').notNull().unique(),
    type: (0, exports.oldBillTypeEnum)('type').notNull(),
    description: (0, pg_core_1.text)('description').notNull(),
    amount: (0, pg_core_1.decimal)('amount', { precision: 12, scale: 2 }).notNull(),
    dueDate: (0, pg_core_1.date)('due_date').notNull(),
    issueDate: (0, pg_core_1.date)('issue_date').notNull(),
    status: (0, exports.billStatusEnum)('status').notNull().default('draft'),
    notes: (0, pg_core_1.text)('notes'),
    lateFeeAmount: (0, pg_core_1.decimal)('late_fee_amount', { precision: 10, scale: 2 }),
    discountAmount: (0, pg_core_1.decimal)('discount_amount', { precision: 10, scale: 2 }),
    finalAmount: (0, pg_core_1.decimal)('final_amount', { precision: 12, scale: 2 }).notNull(),
    paymentReceivedDate: (0, pg_core_1.date)('payment_received_date'),
    createdBy: (0, pg_core_1.varchar)('created_by')
        .notNull()
        .references(() => core_1.users.id),
    createdAt: (0, pg_core_1.timestamp)('created_at').defaultNow(),
    updatedAt: (0, pg_core_1.timestamp)('updated_at').defaultNow(),
});
/**
 * Budgets table for tracking financial planning by building and category.
 * Supports operational, reserve, and special project budgets.
 */
exports.budgets = (0, pg_core_1.pgTable)('budgets', {
    id: (0, pg_core_1.varchar)('id')
        .primaryKey()
        .default((0, drizzle_orm_1.sql) `gen_random_uuid()`),
    buildingId: (0, pg_core_1.varchar)('building_id')
        .notNull()
        .references(() => property_1.buildings.id),
    year: (0, pg_core_1.integer)('year').notNull(),
    name: (0, pg_core_1.text)('name').notNull(),
    description: (0, pg_core_1.text)('description'),
    category: (0, pg_core_1.text)('category').notNull(), // 'operational', 'reserve', 'special_project'
    budgetedAmount: (0, pg_core_1.decimal)('budgeted_amount', { precision: 12, scale: 2 }).notNull(),
    actualAmount: (0, pg_core_1.decimal)('actual_amount', { precision: 12, scale: 2 }).default('0'),
    variance: (0, pg_core_1.decimal)('variance', { precision: 12, scale: 2 }).default('0'),
    approvedBy: (0, pg_core_1.varchar)('approved_by').references(() => core_1.users.id),
    approvedDate: (0, pg_core_1.date)('approved_date'),
    isActive: (0, pg_core_1.boolean)('is_active').notNull().default(true),
    createdBy: (0, pg_core_1.varchar)('created_by')
        .notNull()
        .references(() => core_1.users.id),
    createdAt: (0, pg_core_1.timestamp)('created_at').defaultNow(),
    updatedAt: (0, pg_core_1.timestamp)('updated_at').defaultNow(),
});
/**
 * Monthly budgets table for detailed monthly tracking of income and spending by building.
 * Automatically populated for each building from construction date to 25 years in the future.
 * Updated monthly on the 1st and supports approval workflow.
 */
exports.monthlyBudgets = (0, pg_core_1.pgTable)('monthly_budgets', {
    id: (0, pg_core_1.varchar)('id')
        .primaryKey()
        .default((0, drizzle_orm_1.sql) `gen_random_uuid()`),
    buildingId: (0, pg_core_1.varchar)('building_id')
        .notNull()
        .references(() => property_1.buildings.id),
    year: (0, pg_core_1.integer)('year').notNull(),
    month: (0, pg_core_1.integer)('month').notNull(), // 1-12
    incomeTypes: (0, pg_core_1.text)('income_types').array().notNull(), // Array of income categories from money_flow
    incomes: (0, pg_core_1.decimal)('incomes', { precision: 12, scale: 2 }).array().notNull(), // Array of income amounts corresponding to incomeTypes
    spendingTypes: (0, pg_core_1.text)('spending_types').array().notNull(), // Array of expense categories from money_flow
    spendings: (0, pg_core_1.decimal)('spendings', { precision: 12, scale: 2 }).array().notNull(), // Array of spending amounts corresponding to spendingTypes
    approved: (0, pg_core_1.boolean)('approved').notNull().default(false),
    approvedBy: (0, pg_core_1.varchar)('approved_by').references(() => core_1.users.id),
    approvedDate: (0, pg_core_1.timestamp)('approved_date'),
    originalBudgetId: (0, pg_core_1.varchar)('original_budget_id').references(() => exports.monthlyBudgets.id), // References the original budget if this is an approved copy
    createdAt: (0, pg_core_1.timestamp)('created_at').defaultNow(),
    updatedAt: (0, pg_core_1.timestamp)('updated_at').defaultNow(),
});
// Insert schemas
// Removed insertMoneyFlowSchema - money flow table deleted
exports.insertBillSchema = (0, drizzle_zod_1.createInsertSchema)(exports.bills, {
    // Custom validations for strict schema compliance
    billNumber: zod_1.z.string().min(1, "Bill number is required"),
    title: zod_1.z.string().min(1, "Title is required"),
    category: zod_1.z.enum(['insurance', 'maintenance', 'salary', 'utilities', 'cleaning', 'security', 'landscaping', 'professional_services', 'administration', 'repairs', 'supplies', 'taxes', 'technology', 'reserves', 'other']),
    paymentType: zod_1.z.enum(['unique', 'recurrent']),
    schedulePayment: zod_1.z.enum(['weekly', 'monthly', 'quarterly', 'yearly', 'custom']).optional(),
    scheduleCustom: zod_1.z.array(zod_1.z.coerce.date()).optional().refine((dates) => !dates || dates.length === 0 || dates.every(date => date instanceof Date && !isNaN(date.getTime())), "All custom schedule dates must be valid dates"),
    costs: zod_1.z.array(zod_1.z.coerce.number().positive("All costs must be positive")).min(1, "At least one cost is required"),
    totalAmount: zod_1.z.coerce.number().positive("Total amount must be positive"),
    startDate: zod_1.z.coerce.date(),
    endDate: zod_1.z.coerce.date().optional(),
    status: zod_1.z.enum(['draft', 'sent', 'overdue', 'paid', 'cancelled']).default('draft'),
    autoGenerated: zod_1.z.boolean().default(false),
}).omit({
    id: true,
    createdAt: true,
    updatedAt: true
});
exports.insertOldBillSchema = zod_1.z.object({
    residenceId: zod_1.z.string().uuid(),
    billNumber: zod_1.z.string(),
    type: zod_1.z.string(),
    description: zod_1.z.string().optional(),
    amount: zod_1.z.number(),
    dueDate: zod_1.z.date(),
    issueDate: zod_1.z.date().optional(),
    status: zod_1.z.string().default('unpaid'),
    notes: zod_1.z.string().optional(),
    lateFeeAmount: zod_1.z.number().optional(),
    discountAmount: zod_1.z.number().optional(),
    finalAmount: zod_1.z.number().optional(),
    paymentReceivedDate: zod_1.z.date().optional(),
    createdBy: zod_1.z.string().uuid(),
});
exports.insertBudgetSchema = zod_1.z.object({
    buildingId: zod_1.z.string().uuid(),
    year: zod_1.z.number().int(),
    name: zod_1.z.string(),
    description: zod_1.z.string().optional(),
    category: zod_1.z.string(),
    budgetedAmount: zod_1.z.number(),
    actualAmount: zod_1.z.number().optional(),
    createdBy: zod_1.z.string().uuid(),
});
exports.insertMonthlyBudgetSchema = (0, drizzle_zod_1.createInsertSchema)(exports.monthlyBudgets).omit({
    id: true,
    createdAt: true,
    updatedAt: true
});
// Relations - temporarily commented out due to drizzle-orm version compatibility
// Removed moneyFlow relations
//   }),
//   residence: one(residences, {
//   (removed money flow relations)
//   }),
// }));
// export const billsRelations = relations(bills, ({ one, many }) => ({
//   building: one(buildings, {
//     fields: [bills.buildingId],
//     references: [buildings.id],
//   }),
//   createdBy: one(users, {
//     fields: [bills.createdBy],
//     references: [users.id],
//   }),
//   originalBill: one(bills, {
//     fields: [bills.reference],
//     references: [bills.id],
//     relationName: 'billReference'
//   }),
//   generatedBills: many(bills, {
//     relationName: 'billReference'
//   }),
//   (removed money flow relations),
// }));
// export const oldBillsRelations = relations(oldBills, ({ one }) => ({
//   residence: one(residences, {
//     fields: [oldBills.residenceId],
//     references: [residences.id],
//   }),
//   createdBy: one(users, {
//     fields: [oldBills.createdBy],
//     references: [users.id],
//   }),
// }));
// export const budgetsRelations = relations(budgets, ({ one }) => ({
//   building: one(buildings, {
//     fields: [budgets.buildingId],
//     references: [buildings.id],
//   }),
//   createdBy: one(users, {
//     fields: [budgets.createdBy],
//     references: [users.id],
//   }),
//   approvedBy: one(users, {
//     fields: [budgets.approvedBy],
//     references: [users.id],
//   }),
// }));
// export const monthlyBudgetsRelations = relations(monthlyBudgets, ({ one }) => ({
//   building: one(buildings, {
//     fields: [monthlyBudgets.buildingId],
//     references: [buildings.id],
//   }),
//   approvedBy: one(users, {
//     fields: [monthlyBudgets.approvedBy],
//     references: [users.id],
//   }),
//   originalBudget: one(monthlyBudgets, {
//     fields: [monthlyBudgets.originalBudgetId],
//     references: [monthlyBudgets.id],
//     relationName: 'budgetCopy'
//   }),
// }));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9zaGFyZWQvc2NoZW1hcy9maW5hbmNpYWwudHMiLCJtYXBwaW5ncyI6Ijs7O0FBQUEsNkNBQWtDO0FBQ2xDLGlEQVk2QjtBQUM3Qiw2Q0FBaUQ7QUFDakQsNkJBQXdCO0FBRXhCLGlDQUErQjtBQUMvQix5Q0FBbUQ7QUFFbkQsa0JBQWtCO0FBQ0wsUUFBQSxjQUFjLEdBQUcsSUFBQSxnQkFBTSxFQUFDLGFBQWEsRUFBRTtJQUNsRCxPQUFPO0lBQ1AsTUFBTTtJQUNOLFNBQVM7SUFDVCxNQUFNO0lBQ04sV0FBVztDQUNaLENBQUMsQ0FBQztBQUVVLFFBQUEsZUFBZSxHQUFHLElBQUEsZ0JBQU0sRUFBQyxlQUFlLEVBQUU7SUFDckQsWUFBWTtJQUNaLG9CQUFvQjtJQUNwQixTQUFTO0lBQ1QsYUFBYTtJQUNiLE9BQU87Q0FDUixDQUFDLENBQUM7QUFFVSxRQUFBLGdCQUFnQixHQUFHLElBQUEsZ0JBQU0sRUFBQyxlQUFlLEVBQUU7SUFDdEQsV0FBVztJQUNYLGFBQWE7SUFDYixRQUFRO0lBQ1IsV0FBVztJQUNYLFVBQVU7SUFDVixVQUFVO0lBQ1YsYUFBYTtJQUNiLHVCQUF1QjtJQUN2QixnQkFBZ0I7SUFDaEIsU0FBUztJQUNULFVBQVU7SUFDVixPQUFPO0lBQ1AsWUFBWTtJQUNaLFVBQVU7SUFDVixPQUFPO0NBQ1IsQ0FBQyxDQUFDO0FBRVUsUUFBQSxlQUFlLEdBQUcsSUFBQSxnQkFBTSxFQUFDLGNBQWMsRUFBRSxDQUFDLFFBQVEsRUFBRSxXQUFXLENBQUMsQ0FBQyxDQUFDO0FBRWxFLFFBQUEsbUJBQW1CLEdBQUcsSUFBQSxnQkFBTSxFQUFDLGtCQUFrQixFQUFFO0lBQzVELFFBQVE7SUFDUixTQUFTO0lBQ1QsV0FBVztJQUNYLFFBQVE7SUFDUixRQUFRO0NBQ1QsQ0FBQyxDQUFDO0FBRUgsbUJBQW1CO0FBQ25COzs7R0FHRztBQUNVLFFBQUEsS0FBSyxHQUFHLElBQUEsaUJBQU8sRUFBQyxPQUFPLEVBQUU7SUFDcEMsRUFBRSxFQUFFLElB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b0NBQW9DO0FBQ3BDLDhCQUE4QjtBQUM5QixRQUFRO0FBQ1IsT0FBTztBQUVQLHFFQUFxRTtBQUNyRSwrQkFBK0I7QUFDL0Isb0NBQW9DO0FBQ3BDLGtDQUFrQztBQUNsQyxRQUFRO0FBQ1IsNEJBQTRCO0FBQzVCLG1DQUFtQztBQUNuQyw4QkFBOEI7QUFDOUIsUUFBUTtBQUNSLDZCQUE2QjtBQUM3QixvQ0FBb0M7QUFDcEMsOEJBQThCO0FBQzlCLFFBQVE7QUFDUixPQUFPO0FBRVAsbUZBQW1GO0FBQ25GLCtCQUErQjtBQUMvQiwyQ0FBMkM7QUFDM0Msa0NBQWtDO0FBQ2xDLFFBQVE7QUFDUiw2QkFBNkI7QUFDN0IsMkNBQTJDO0FBQzNDLDhCQUE4QjtBQUM5QixRQUFRO0FBQ1IsMENBQTBDO0FBQzFDLGlEQUFpRDtBQUNqRCx1Q0FBdUM7QUFDdkMsaUNBQWlDO0FBQ2pDLFFBQVE7QUFDUixPQUFPIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3Jrc3BhY2Uvc2hhcmVkL3NjaGVtYXMvZmluYW5jaWFsLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNxbCB9IGZyb20gJ2RyaXp6bGUtb3JtJztcbmltcG9ydCB7XG4gIHBnVGFibGUsXG4gIHRleHQsXG4gIHRpbWVzdGFtcCxcbiAgdXVpZCxcbiAgcGdFbnVtLFxuICBib29sZWFuLFxuICBpbnRlZ2VyLFxuICBkZWNpbWFsLFxuICBkYXRlLFxuICBqc29uYixcbiAgdmFyY2hhcixcbn0gZnJvbSAnZHJpenpsZS1vcm0vcGctY29yZSc7XG5pbXBvcnQgeyBjcmVhdGVJbnNlcnRTY2hlbWEgfSBmcm9tICdkcml6emxlLXpvZCc7XG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcbmltcG9ydCB7IHJlbGF0aW9ucyB9IGZyb20gJ2RyaXp6bGUtb3JtJztcbmltcG9ydCB7IHVzZXJzIH0gZnJvbSAnLi9jb3JlJztcbmltcG9ydCB7IHJlc2lkZW5jZXMsIGJ1aWxkaW5ncyB9IGZyb20gJy4vcHJvcGVydHknO1xuXG4vLyBGaW5hbmNpYWwgZW51bXNcbmV4cG9ydCBjb25zdCBiaWxsU3RhdHVzRW51bSA9IHBnRW51bSgnYmlsbF9zdGF0dXMnLCBbXG4gICdkcmFmdCcsXG4gICdzZW50JyxcbiAgJ292ZXJkdWUnLFxuICAncGFpZCcsXG4gICdjYW5jZWxsZWQnLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBvbGRCaWxsVHlwZUVudW0gPSBwZ0VudW0oJ29sZF9iaWxsX3R5cGUnLCBbXG4gICdjb25kb19mZWVzJyxcbiAgJ3NwZWNpYWxfYXNzZXNzbWVudCcsXG4gICd1dGlsaXR5JyxcbiAgJ21haW50ZW5hbmNlJyxcbiAgJ290aGVyJyxcbl0pO1xuXG5leHBvcnQgY29uc3QgYmlsbENhdGVnb3J5RW51bSA9IHBnRW51bSgnYmlsbF9jYXRlZ29yeScsIFtcbiAgJ2luc3VyYW5jZScsXG4gICdtYWludGVuYW5jZScsXG4gICdzYWxhcnknLFxuICAndXRpbGl0aWVzJyxcbiAgJ2NsZWFuaW5nJyxcbiAgJ3NlY3VyaXR5JyxcbiAgJ2xhbmRzY2FwaW5nJyxcbiAgJ3Byb2Zlc3Npb25hbF9zZXJ2aWNlcycsXG4gICdhZG1pbmlzdHJhdGlvbicsXG4gICdyZXBhaXJzJyxcbiAgJ3N1cHBsaWVzJyxcbiAgJ3RheGVzJyxcbiAgJ3RlY2hub2xvZ3knLFxuICAncmVzZXJ2ZXMnLFxuICAnb3RoZXInLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBwYXltZW50VHlwZUVudW0gPSBwZ0VudW0oJ3BheW1lbnRfdHlwZScsIFsndW5pcXVlJywgJ3JlY3VycmVudCddKTtcblxuZXhwb3J0IGNvbnN0IHNjaGVkdWxlUGF5bWVudEVudW0gPSBwZ0VudW0oJ3NjaGVkdWxlX3BheW1lbnQnLCBbXG4gICd3ZWVrbHknLFxuICAnbW9udGhseScsXG4gICdxdWFydGVybHknLFxuICAneWVhcmx5JyxcbiAgJ2N1c3RvbScsXG5dKTtcblxuLy8gRmluYW5jaWFsIHRhYmxlc1xuLyoqXG4gKiBFbmhhbmNlZCBiaWxscyB0YWJsZSBmb3IgdHJhY2tpbmcgZmluYW5jaWFsIG9ibGlnYXRpb25zIHdpdGggYWR2YW5jZWQgc2NoZWR1bGluZy5cbiAqIFN1cHBvcnRzIHVuaXF1ZSBhbmQgcmVjdXJyZW50IHBheW1lbnRzIHdpdGggY3VzdG9tIHNjaGVkdWxpbmcgb3B0aW9ucy5cbiAqL1xuZXhwb3J0IGNvbnN0IGJpbGxzID0gcGdUYWJsZSgnYmlsbHMnLCB7XG4gIGlkOiB2YXJjaGFyKCdpZCcpXG4gICAgLnByaW1hcnlLZXkoKVxuICAgIC5kZWZhdWx0KHNxbGBnZW5fcmFuZG9tX3V1aWQoKWApLFxuICBidWlsZGluZ0lkOiB2YXJjaGFyKCdidWlsZGluZ19pZCcpXG4gICAgLm5vdE51bGwoKVxuICAgIC5yZWZlcmVuY2VzKCgpID0+IGJ1aWxkaW5ncy5pZCksXG4gIGJpbGxOdW1iZXI6IHRleHQoJ2JpbGxfbnVtYmVyJykubm90TnVsbCgpLnVuaXF1ZSgpLFxuICB0aXRsZTogdGV4dCgndGl0bGUnKS5ub3ROdWxsKCksXG4gIGRlc2NyaXB0aW9uOiB0ZXh0KCdkZXNjcmlwdGlvbicpLFxuICBjYXRlZ29yeTogYmlsbENhdGVnb3J5RW51bSgnY2F0ZWdvcnknKS5ub3ROdWxsKCksXG4gIHZlbmRvcjogdGV4dCgndmVuZG9yJyksIC8vIENvbXBhbnkgb3Igc2VydmljZSBwcm92aWRlclxuICBwYXltZW50VHlwZTogcGF5bWVudFR5cGVFbnVtKCdwYXltZW50X3R5cGUnKS5ub3ROdWxsKCksIC8vIHVuaXF1ZSBvciByZWN1cnJlbnRcbiAgc2NoZWR1bGVQYXltZW50OiBzY2hlZHVsZVBheW1lbnRFbnVtKCdzY2hlZHVsZV9wYXltZW50JyksIC8vIE9ubHkgZm9yIHJlY3VycmVudCBwYXltZW50c1xuICBzY2hlZHVsZUN1c3RvbTogZGF0ZSgnc2NoZWR1bGVfY3VzdG9tJykuYXJyYXkoKSwgLy8gQ3VzdG9tIGRhdGVzIGZvciBjdXN0b20gc2NoZWR1bGVzXG4gIGNvc3RzOiBkZWNpbWFsKCdjb3N0cycsIHsgcHJlY2lzaW9uOiAxMiwgc2NhbGU6IDIgfSkuYXJyYXkoKS5ub3ROdWxsKCksIC8vIEFycmF5IG9mIGNvc3RzIGZvciBwYXltZW50IHBsYW5cbiAgdG90YWxBbW91bnQ6IGRlY2ltYWwoJ3RvdGFsX2Ftb3VudCcsIHsgcHJlY2lzaW9uOiAxMiwgc2NhbGU6IDIgfSkubm90TnVsbCgpLFxuICBzdGFydERhdGU6IGRhdGUoJ3N0YXJ0X2RhdGUnKS5ub3ROdWxsKCksIC8vIFdoZW4gdGhlIGJpbGwgc2VyaWVzIHN0YXJ0c1xuICBlbmREYXRlOiBkYXRlKCdlbmRfZGF0ZScpLCAvLyBGb3IgcmVjdXJyZW50IGJpbGxzLCB3aGVuIHRoZXkgZW5kIChvcHRpb25hbCBmb3Igb25nb2luZylcbiAgc3RhdHVzOiBiaWxsU3RhdHVzRW51bSgnc3RhdHVzJykubm90TnVsbCgpLmRlZmF1bHQoJ2RyYWZ0JyksXG4gIGZpbGVQYXRoOiB0ZXh0KCdmaWxlX3BhdGgnKSwgLy8gUGF0aCB0byB1cGxvYWRlZCBiaWxsIGRvY3VtZW50XG4gIGZpbGVOYW1lOiB0ZXh0KCdmaWxlX25hbWUnKSwgLy8gT3JpZ2luYWwgZmlsZW5hbWVcbiAgZmlsZVNpemU6IGludGVnZXIoJ2ZpbGVfc2l6ZScpLCAvLyBGaWxlIHNpemUgaW4gYnl0ZXNcbiAgaXNBaUFuYWx5emVkOiBib29sZWFuKCdpc19haV9hbmFseXplZCcpLmRlZmF1bHQoZmFsc2UpLFxuICBhaUFuYWx5c2lzRGF0YToganNvbmIoJ2FpX2FuYWx5c2lzX2RhdGEnKSwgLy8gU3RvcmUgQUktZXh0cmFjdGVkIGRhdGFcbiAgbm90ZXM6IHRleHQoJ25vdGVzJyksXG4gIGF1dG9HZW5lcmF0ZWQ6IGJvb2xlYW4oJ2F1dG9fZ2VuZXJhdGVkJykubm90TnVsbCgpLmRlZmF1bHQoZmFsc2UpLCAvLyBJbmRpY2F0ZXMgaWYgdGhpcyBiaWxsIHdhcyBhdXRvLWdlbmVyYXRlZFxuICByZWZlcmVuY2U6IHZhcmNoYXIoJ3JlZmVyZW5jZScpLnJlZmVyZW5jZXMoKCkgPT4gYmlsbHMuaWQpLCAvLyBSZWZlcmVuY2VzIHRoZSBvcmlnaW5hbCBiaWxsIGZvciBhdXRvLWdlbmVyYXRlZCBiaWxsc1xuICBjcmVhdGVkQnk6IHZhcmNoYXIoJ2NyZWF0ZWRfYnknKVxuICAgIC5ub3ROdWxsKClcbiAgICAucmVmZXJlbmNlcygoKSA9PiB1c2Vycy5pZCksXG4gIGNyZWF0ZWRBdDogdGltZXN0YW1wKCdjcmVhdGVkX2F0JykuZGVmYXVsdE5vdygpLFxuICB1cGRhdGVkQXQ6IHRpbWVzdGFtcCgndXBkYXRlZF9hdCcpLmRlZmF1bHROb3coKSxcbn0pO1xuXG4vKipcbiAqIExlZ2FjeSBiaWxscyB0YWJsZSAtIGtlZXBpbmcgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkuXG4gKiBXaWxsIGJlIG1pZ3JhdGVkIHRvIG5ldyBiaWxscyB0YWJsZSBzdHJ1Y3R1cmUuXG4gKi9cbmV4cG9ydCBjb25zdCBvbGRCaWxscyA9IHBnVGFibGUoJ29sZF9iaWxscycsIHtcbiAgaWQ6IHV1aWQoJ2lkJylcbiAgICAucHJpbWFyeUtleSgpXG4gICAgLmRlZmF1bHQoc3FsYGdlbl9yYW5kb21fdXVpZCgpYCksXG4gIHJlc2lkZW5jZUlkOiB2YXJjaGFyKCdyZXNpZGVuY2VfaWQnKVxuICAgIC5ub3ROdWxsKClcbiAgICAucmVmZXJlbmNlcygoKSA9PiByZXNpZGVuY2VzLmlkKSxcbiAgYmlsbE51bWJlcjogdGV4dCgnYmlsbF9udW1iZXInKS5ub3ROdWxsKCkudW5pcXVlKCksXG4gIHR5cGU6IG9sZEJpbGxUeXBlRW51bSgndHlwZScpLm5vdE51bGwoKSxcbiAgZGVzY3JpcHRpb246IHRleHQoJ2Rlc2NyaXB0aW9uJykubm90TnVsbCgpLFxuICBhbW91bnQ6IGRlY2ltYWwoJ2Ftb3VudCcsIHsgcHJlY2lzaW9uOiAxMiwgc2NhbGU6IDIgfSkubm90TnVsbCgpLFxuICBkdWVEYXRlOiBkYXRlKCdkdWVfZGF0ZScpLm5vdE51bGwoKSxcbiAgaXNzdWVEYXRlOiBkYXRlKCdpc3N1ZV9kYXRlJykubm90TnVsbCgpLFxuICBzdGF0dXM6IGJpbGxTdGF0dXNFbnVtKCdzdGF0dXMnKS5ub3ROdWxsKCkuZGVmYXVsdCgnZHJhZnQnKSxcbiAgbm90ZXM6IHRleHQoJ25vdGVzJyksXG4gIGxhdGVGZWVBbW91bnQ6IGRlY2ltYWwoJ2xhdGVfZmVlX2Ftb3VudCcsIHsgcHJlY2lzaW9uOiAxMCwgc2NhbGU6IDIgfSksXG4gIGRpc2NvdW50QW1vdW50OiBkZWNpbWFsKCdkaXNjb3VudF9hbW91bnQnLCB7IHByZWNpc2lvbjogMTAsIHNjYWxlOiAyIH0pLFxuICBmaW5hbEFtb3VudDogZGVjaW1hbCgnZmluYWxfYW1vdW50JywgeyBwcmVjaXNpb246IDEyLCBzY2FsZTogMiB9KS5ub3ROdWxsKCksXG4gIHBheW1lbnRSZWNlaXZlZERhdGU6IGRhdGUoJ3BheW1lbnRfcmVjZWl2ZWRfZGF0ZScpLFxuICBjcmVhdGVkQnk6IHZhcmNoYXIoJ2NyZWF0ZWRfYnknKVxuICAgIC5ub3ROdWxsKClcbiAgICAucmVmZXJlbmNlcygoKSA9PiB1c2Vycy5pZCksXG4gIGNyZWF0ZWRBdDogdGltZXN0YW1wKCdjcmVhdGVkX2F0JykuZGVmYXVsdE5vdygpLFxuICB1cGRhdGVkQXQ6IHRpbWVzdGFtcCgndXBkYXRlZF9hdCcpLmRlZmF1bHROb3coKSxcbn0pO1xuXG4vKipcbiAqIEJ1ZGdldHMgdGFibGUgZm9yIHRyYWNraW5nIGZpbmFuY2lhbCBwbGFubmluZyBieSBidWlsZGluZyBhbmQgY2F0ZWdvcnkuXG4gKiBTdXBwb3J0cyBvcGVyYXRpb25hbCwgcmVzZXJ2ZSwgYW5kIHNwZWNpYWwgcHJvamVjdCBidWRnZXRzLlxuICovXG5leHBvcnQgY29uc3QgYnVkZ2V0cyA9IHBnVGFibGUoJ2J1ZGdldHMnLCB7XG4gIGlkOiB2YXJjaGFyKCdpZCcpXG4gICAgLnByaW1hcnlLZXkoKVxuICAgIC5kZWZhdWx0KHNxbGBnZW5fcmFuZG9tX3V1aWQoKWApLFxuICBidWlsZGluZ0lkOiB2YXJjaGFyKCdidWlsZGluZ19pZCcpXG4gICAgLm5vdE51bGwoKVxuICAgIC5yZWZlcmVuY2VzKCgpID0+IGJ1aWxkaW5ncy5pZCksXG4gIHllYXI6IGludGVnZXIoJ3llYXInKS5ub3ROdWxsKCksXG4gIG5hbWU6IHRleHQoJ25hbWUnKS5ub3ROdWxsKCksXG4gIGRlc2NyaXB0aW9uOiB0ZXh0KCdkZXNjcmlwdGlvbicpLFxuICBjYXRlZ29yeTogdGV4dCgnY2F0ZWdvcnknKS5ub3ROdWxsKCksIC8vICdvcGVyYXRpb25hbCcsICdyZXNlcnZlJywgJ3NwZWNpYWxfcHJvamVjdCdcbiAgYnVkZ2V0ZWRBbW91bnQ6IGRlY2ltYWwoJ2J1ZGdldGVkX2Ftb3VudCcsIHsgcHJlY2lzaW9uOiAxMiwgc2NhbGU6IDIgfSkubm90TnVsbCgpLFxuICBhY3R1YWxBbW91bnQ6IGRlY2ltYWwoJ2FjdHVhbF9hbW91bnQnLCB7IHByZWNpc2lvbjogMTIsIHNjYWxlOiAyIH0pLmRlZmF1bHQoJzAnKSxcbiAgdmFyaWFuY2U6IGRlY2ltYWwoJ3ZhcmlhbmNlJywgeyBwcmVjaXNpb246IDEyLCBzY2FsZTogMiB9KS5kZWZhdWx0KCcwJyksXG4gIGFwcHJvdmVkQnk6IHZhcmNoYXIoJ2FwcHJvdmVkX2J5JykucmVmZXJlbmNlcygoKSA9PiB1c2Vycy5pZCksXG4gIGFwcHJvdmVkRGF0ZTogZGF0ZSgnYXBwcm92ZWRfZGF0ZScpLFxuICBpc0FjdGl2ZTogYm9vbGVhbignaXNfYWN0aXZlJykubm90TnVsbCgpLmRlZmF1bHQodHJ1ZSksXG4gIGNyZWF0ZWRCeTogdmFyY2hhcignY3JlYXRlZF9ieScpXG4gICAgLm5vdE51bGwoKVxuICAgIC5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkKSxcbiAgY3JlYXRlZEF0OiB0aW1lc3RhbXAoJ2NyZWF0ZWRfYXQnKS5kZWZhdWx0Tm93KCksXG4gIHVwZGF0ZWRBdDogdGltZXN0YW1wKCd1cGRhdGVkX2F0JykuZGVmYXVsdE5vdygpLFxufSk7XG5cbi8qKlxuICogTW9udGhseSBidWRnZXRzIHRhYmxlIGZvciBkZXRhaWxlZCBtb250aGx5IHRyYWNraW5nIG9mIGluY29tZSBhbmQgc3BlbmRpbmcgYnkgYnVpbGRpbmcuXG4gKiBBdXRvbWF0aWNhbGx5IHBvcHVsYXRlZCBmb3IgZWFjaCBidWlsZGluZyBmcm9tIGNvbnN0cnVjdGlvbiBkYXRlIHRvIDI1IHllYXJzIGluIHRoZSBmdXR1cmUuXG4gKiBVcGRhdGVkIG1vbnRobHkgb24gdGhlIDFzdCBhbmQgc3VwcG9ydHMgYXBwcm92YWwgd29ya2Zsb3cuXG4gKi9cbmV4cG9ydCBjb25zdCBtb250aGx5QnVkZ2V0cyA9IHBnVGFibGUoJ21vbnRobHlfYnVkZ2V0cycsIHtcbiAgaWQ6IHZhcmNoYXIoJ2lkJylcbiAgICAucHJpbWFyeUtleSgpXG4gICAgLmRlZmF1bHQoc3FsYGdlbl9yYW5kb21fdXVpZCgpYCksXG4gIGJ1aWxkaW5nSWQ6IHZhcmNoYXIoJ2J1aWxkaW5nX2lkJylcbiAgICAubm90TnVsbCgpXG4gICAgLnJlZmVyZW5jZXMoKCkgPT4gYnVpbGRpbmdzLmlkKSxcbiAgeWVhcjogaW50ZWdlcigneWVhcicpLm5vdE51bGwoKSxcbiAgbW9udGg6IGludGVnZXIoJ21vbnRoJykubm90TnVsbCgpLCAvLyAxLTEyXG4gIGluY29tZVR5cGVzOiB0ZXh0KCdpbmNvbWVfdHlwZXMnKS5hcnJheSgpLm5vdE51bGwoKSwgLy8gQXJyYXkgb2YgaW5jb21lIGNhdGVnb3JpZXMgZnJvbSBtb25leV9mbG93XG4gIGluY29tZXM6IGRlY2ltYWwoJ2luY29tZXMnLCB7IHByZWNpc2lvbjogMTIsIHNjYWxlOiAyIH0pLmFycmF5KCkubm90TnVsbCgpLCAvLyBBcnJheSBvZiBpbmNvbWUgYW1vdW50cyBjb3JyZXNwb25kaW5nIHRvIGluY29tZVR5cGVzXG4gIHNwZW5kaW5nVHlwZXM6IHRleHQoJ3NwZW5kaW5nX3R5cGVzJykuYXJyYXkoKS5ub3ROdWxsKCksIC8vIEFycmF5IG9mIGV4cGVuc2UgY2F0ZWdvcmllcyBmcm9tIG1vbmV5X2Zsb3dcbiAgc3BlbmRpbmdzOiBkZWNpbWFsKCdzcGVuZGluZ3MnLCB7IHByZWNpc2lvbjogMTIsIHNjYWxlOiAyIH0pLmFycmF5KCkubm90TnVsbCgpLCAvLyBBcnJheSBvZiBzcGVuZGluZyBhbW91bnRzIGNvcnJlc3BvbmRpbmcgdG8gc3BlbmRpbmdUeXBlc1xuICBhcHByb3ZlZDogYm9vbGVhbignYXBwcm92ZWQnKS5ub3ROdWxsKCkuZGVmYXVsdChmYWxzZSksXG4gIGFwcHJvdmVkQnk6IHZhcmNoYXIoJ2FwcHJvdmVkX2J5JykucmVmZXJlbmNlcygoKSA9PiB1c2Vycy5pZCksXG4gIGFwcHJvdmVkRGF0ZTogdGltZXN0YW1wKCdhcHByb3ZlZF9kYXRlJyksXG4gIG9yaWdpbmFsQnVkZ2V0SWQ6IHZhcmNoYXIoJ29yaWdpbmFsX2J1ZGdldF9pZCcpLnJlZmVyZW5jZXMoKCkgPT4gbW9udGhseUJ1ZGdldHMuaWQpLCAvLyBSZWZlcmVuY2VzIHRoZSBvcmlnaW5hbCBidWRnZXQgaWYgdGhpcyBpcyBhbiBhcHByb3ZlZCBjb3B5XG4gIGNyZWF0ZWRBdDogdGltZXN0YW1wKCdjcmVhdGVkX2F0JykuZGVmYXVsdE5vdygpLFxuICB1cGRhdGVkQXQ6IHRpbWVzdGFtcCgndXBkYXRlZF9hdCcpLmRlZmF1bHROb3coKSxcbn0pO1xuXG4vLyBJbnNlcnQgc2NoZW1hc1xuLy8gUmVtb3ZlZCBpbnNlcnRNb25leUZsb3dTY2hlbWEgLSBtb25leSBmbG93IHRhYmxlIGRlbGV0ZWRcblxuZXhwb3J0IGNvbnN0IGluc2VydEJpbGxTY2hlbWEgPSBjcmVhdGVJbnNlcnRTY2hlbWEoYmlsbHMsIHtcbiAgLy8gQ3VzdG9tIHZhbGlkYXRpb25zIGZvciBzdHJpY3Qgc2NoZW1hIGNvbXBsaWFuY2VcbiAgYmlsbE51bWJlcjogei5zdHJpbmcoKS5taW4oMSwgXCJCaWxsIG51bWJlciBpcyByZXF1aXJlZFwiKSxcbiAgdGl0bGU6IHouc3RyaW5nKCkubWluKDEsIFwiVGl0bGUgaXMgcmVxdWlyZWRcIiksXG4gIGNhdGVnb3J5OiB6LmVudW0oWydpbnN1cmFuY2UnLCAnbWFpbnRlbmFuY2UnLCAnc2FsYXJ5JywgJ3V0aWxpdGllcycsICdjbGVhbmluZycsICdzZWN1cml0eScsICdsYW5kc2NhcGluZycsICdwcm9mZXNzaW9uYWxfc2VydmljZXMnLCAnYWRtaW5pc3RyYXRpb24nLCAncmVwYWlycycsICdzdXBwbGllcycsICd0YXhlcycsICd0ZWNobm9sb2d5JywgJ3Jlc2VydmVzJywgJ290aGVyJ10pLFxuICBwYXltZW50VHlwZTogei5lbnVtKFsndW5pcXVlJywgJ3JlY3VycmVudCddKSxcbiAgc2NoZWR1bGVQYXltZW50OiB6LmVudW0oWyd3ZWVrbHknLCAnbW9udGhseScsICdxdWFydGVybHknLCAneWVhcmx5JywgJ2N1c3RvbSddKS5vcHRpb25hbCgpLFxuICBzY2hlZHVsZUN1c3RvbTogei5hcnJheSh6LmNvZXJjZS5kYXRlKCkpLm9wdGlvbmFsKCkucmVmaW5lKFxuICAgIChkYXRlcykgPT4gIWRhdGVzIHx8IGRhdGVzLmxlbmd0aCA9PT0gMCB8fCBkYXRlcy5ldmVyeShkYXRlID0+IGRhdGUgaW5zdGFuY2VvZiBEYXRlICYmICFpc05hTihkYXRlLmdldFRpbWUoKSkpLFxuICAgIFwiQWxsIGN1c3RvbSBzY2hlZHVsZSBkYXRlcyBtdXN0IGJlIHZhbGlkIGRhdGVzXCJcbiAgKSxcbiAgY29zdHM6IHouYXJyYXkoei5jb2VyY2UubnVtYmVyKCkucG9zaXRpdmUoXCJBbGwgY29zdHMgbXVzdCBiZSBwb3NpdGl2ZVwiKSkubWluKDEsIFwiQXQgbGVhc3Qgb25lIGNvc3QgaXMgcmVxdWlyZWRcIiksXG4gIHRvdGFsQW1vdW50OiB6LmNvZXJjZS5udW1iZXIoKS5wb3NpdGl2ZShcIlRvdGFsIGFtb3VudCBtdXN0IGJlIHBvc2l0aXZlXCIpLFxuICBzdGFydERhdGU6IHouY29lcmNlLmRhdGUoKSxcbiAgZW5kRGF0ZTogei5jb2VyY2UuZGF0ZSgpLm9wdGlvbmFsKCksXG4gIHN0YXR1czogei5lbnVtKFsnZHJhZnQnLCAnc2VudCcsICdvdmVyZHVlJywgJ3BhaWQnLCAnY2FuY2VsbGVkJ10pLmRlZmF1bHQoJ2RyYWZ0JyksXG4gIGF1dG9HZW5lcmF0ZWQ6IHouYm9vbGVhbigpLmRlZmF1bHQoZmFsc2UpLFxufSkub21pdCh7IFxuICBpZDogdHJ1ZSwgXG4gIGNyZWF0ZWRBdDogdHJ1ZSwgXG4gIHVwZGF0ZWRBdDogdHJ1ZSBcbn0pO1xuXG5leHBvcnQgY29uc3QgaW5zZXJ0T2xkQmlsbFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgcmVzaWRlbmNlSWQ6IHouc3RyaW5nKCkudXVpZCgpLFxuICBiaWxsTnVtYmVyOiB6LnN0cmluZygpLFxuICB0eXBlOiB6LnN0cmluZygpLFxuICBkZXNjcmlwdGlvbjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBhbW91bnQ6IHoubnVtYmVyKCksXG4gIGR1ZURhdGU6IHouZGF0ZSgpLFxuICBpc3N1ZURhdGU6IHouZGF0ZSgpLm9wdGlvbmFsKCksXG4gIHN0YXR1czogei5zdHJpbmcoKS5kZWZhdWx0KCd1bnBhaWQnKSxcbiAgbm90ZXM6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgbGF0ZUZlZUFtb3VudDogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICBkaXNjb3VudEFtb3VudDogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICBmaW5hbEFtb3VudDogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICBwYXltZW50UmVjZWl2ZWREYXRlOiB6LmRhdGUoKS5vcHRpb25hbCgpLFxuICBjcmVhdGVkQnk6IHouc3RyaW5nKCkudXVpZCgpLFxufSk7XG5cbmV4cG9ydCBjb25zdCBpbnNlcnRCdWRnZXRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGJ1aWxkaW5nSWQ6IHouc3RyaW5nKCkudXVpZCgpLFxuICB5ZWFyOiB6Lm51bWJlcigpLmludCgpLFxuICBuYW1lOiB6LnN0cmluZygpLFxuICBkZXNjcmlwdGlvbjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBjYXRlZ29yeTogei5zdHJpbmcoKSxcbiAgYnVkZ2V0ZWRBbW91bnQ6IHoubnVtYmVyKCksXG4gIGFjdHVhbEFtb3VudDogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICBjcmVhdGVkQnk6IHouc3RyaW5nKCkudXVpZCgpLFxufSk7XG5cbmV4cG9ydCBjb25zdCBpbnNlcnRNb250aGx5QnVkZ2V0U2NoZW1hID0gY3JlYXRlSW5zZXJ0U2NoZW1hKG1vbnRobHlCdWRnZXRzKS5vbWl0KHsgXG4gIGlkOiB0cnVlLCBcbiAgY3JlYXRlZEF0OiB0cnVlLCBcbiAgdXBkYXRlZEF0OiB0cnVlIFxufSk7XG5cbi8vIFR5cGVzXG5cbi8qKlxuICogQmlsbHMgaW5zZXJ0IGFuZCBzZWxlY3QgdHlwZXMuXG4gKi9cbmV4cG9ydCB0eXBlIEluc2VydEJpbGwgPSB6LmluZmVyPHR5cGVvZiBpbnNlcnRCaWxsU2NoZW1hPjtcbi8qKlxuICpcbiAqL1xuZXhwb3J0IHR5cGUgQmlsbCA9IHR5cGVvZiBiaWxscy4kaW5mZXJTZWxlY3Q7XG5cbi8qKlxuICogTGVnYWN5IGJpbGxzIHR5cGVzIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LlxuICovXG5leHBvcnQgdHlwZSBJbnNlcnRPbGRCaWxsID0gei5pbmZlcjx0eXBlb2YgaW5zZXJ0T2xkQmlsbFNjaGVtYT47XG4vKipcbiAqXG4gKi9cbmV4cG9ydCB0eXBlIE9sZEJpbGwgPSB0eXBlb2Ygb2xkQmlsbHMuJGluZmVyU2VsZWN0O1xuXG4vKipcbiAqIEJ1ZGdldCBpbnNlcnQgYW5kIHNlbGVjdCB0eXBlcy5cbiAqL1xuZXhwb3J0IHR5cGUgSW5zZXJ0QnVkZ2V0ID0gei5pbmZlcjx0eXBlb2YgaW5zZXJ0QnVkZ2V0U2NoZW1hPjtcbi8qKlxuICpcbiAqL1xuZXhwb3J0IHR5cGUgQnVkZ2V0ID0gdHlwZW9mIGJ1ZGdldHMuJGluZmVyU2VsZWN0O1xuXG4vKipcbiAqIE1vbnRobHkgYnVkZ2V0IGluc2VydCBhbmQgc2VsZWN0IHR5cGVzLlxuICovXG5leHBvcnQgdHlwZSBJbnNlcnRNb250aGx5QnVkZ2V0ID0gdHlwZW9mIG1vbnRobHlCdWRnZXRzLiRpbmZlckluc2VydDtcbi8qKlxuICpcbiAqL1xuZXhwb3J0IHR5cGUgTW9udGhseUJ1ZGdldCA9IHR5cGVvZiBtb250aGx5QnVkZ2V0cy4kaW5mZXJTZWxlY3Q7XG5cbi8vIFJlbGF0aW9ucyAtIHRlbXBvcmFyaWx5IGNvbW1lbnRlZCBvdXQgZHVlIHRvIGRyaXp6bGUtb3JtIHZlcnNpb24gY29tcGF0aWJpbGl0eVxuLy8gUmVtb3ZlZCBtb25leUZsb3cgcmVsYXRpb25zXG4vLyAgIH0pLFxuLy8gICByZXNpZGVuY2U6IG9uZShyZXNpZGVuY2VzLCB7XG4vLyAgIChyZW1vdmVkIG1vbmV5IGZsb3cgcmVsYXRpb25zKVxuLy8gICB9KSxcbi8vIH0pKTtcblxuLy8gZXhwb3J0IGNvbnN0IGJpbGxzUmVsYXRpb25zID0gcmVsYXRpb25zKGJpbGxzLCAoeyBvbmUsIG1hbnkgfSkgPT4gKHtcbi8vICAgYnVpbGRpbmc6IG9uZShidWlsZGluZ3MsIHtcbi8vICAgICBmaWVsZHM6IFtiaWxscy5idWlsZGluZ0lkXSxcbi8vICAgICByZWZlcmVuY2VzOiBbYnVpbGRpbmdzLmlkXSxcbi8vICAgfSksXG4vLyAgIGNyZWF0ZWRCeTogb25lKHVzZXJzLCB7XG4vLyAgICAgZmllbGRzOiBbYmlsbHMuY3JlYXRlZEJ5XSxcbi8vICAgICByZWZlcmVuY2VzOiBbdXNlcnMuaWRdLFxuLy8gICB9KSxcbi8vICAgb3JpZ2luYWxCaWxsOiBvbmUoYmlsbHMsIHtcbi8vICAgICBmaWVsZHM6IFtiaWxscy5yZWZlcmVuY2VdLFxuLy8gICAgIHJlZmVyZW5jZXM6IFtiaWxscy5pZF0sXG4vLyAgICAgcmVsYXRpb25OYW1lOiAnYmlsbFJlZmVyZW5jZSdcbi8vICAgfSksXG4vLyAgIGdlbmVyYXRlZEJpbGxzOiBtYW55KGJpbGxzLCB7XG4vLyAgICAgcmVsYXRpb25OYW1lOiAnYmlsbFJlZmVyZW5jZSdcbi8vICAgfSksXG4vLyAgIChyZW1vdmVkIG1vbmV5IGZsb3cgcmVsYXRpb25zKSxcbi8vIH0pKTtcblxuLy8gZXhwb3J0IGNvbnN0IG9sZEJpbGxzUmVsYXRpb25zID0gcmVsYXRpb25zKG9sZEJpbGxzLCAoeyBvbmUgfSkgPT4gKHtcbi8vICAgcmVzaWRlbmNlOiBvbmUocmVzaWRlbmNlcywge1xuLy8gICAgIGZpZWxkczogW29sZEJpbGxzLnJlc2lkZW5jZUlkXSxcbi8vICAgICByZWZlcmVuY2VzOiBbcmVzaWRlbmNlcy5pZF0sXG4vLyAgIH0pLFxuLy8gICBjcmVhdGVkQnk6IG9uZSh1c2Vycywge1xuLy8gICAgIGZpZWxkczogW29sZEJpbGxzLmNyZWF0ZWRCeV0sXG4vLyAgICAgcmVmZXJlbmNlczogW3VzZXJzLmlkXSxcbi8vICAgfSksXG4vLyB9KSk7XG5cbi8vIGV4cG9ydCBjb25zdCBidWRnZXRzUmVsYXRpb25zID0gcmVsYXRpb25zKGJ1ZGdldHMsICh7IG9uZSB9KSA9PiAoe1xuLy8gICBidWlsZGluZzogb25lKGJ1aWxkaW5ncywge1xuLy8gICAgIGZpZWxkczogW2J1ZGdldHMuYnVpbGRpbmdJZF0sXG4vLyAgICAgcmVmZXJlbmNlczogW2J1aWxkaW5ncy5pZF0sXG4vLyAgIH0pLFxuLy8gICBjcmVhdGVkQnk6IG9uZSh1c2Vycywge1xuLy8gICAgIGZpZWxkczogW2J1ZGdldHMuY3JlYXRlZEJ5XSxcbi8vICAgICByZWZlcmVuY2VzOiBbdXNlcnMuaWRdLFxuLy8gICB9KSxcbi8vICAgYXBwcm92ZWRCeTogb25lKHVzZXJzLCB7XG4vLyAgICAgZmllbGRzOiBbYnVkZ2V0cy5hcHByb3ZlZEJ5XSxcbi8vICAgICByZWZlcmVuY2VzOiBbdXNlcnMuaWRdLFxuLy8gICB9KSxcbi8vIH0pKTtcblxuLy8gZXhwb3J0IGNvbnN0IG1vbnRobHlCdWRnZXRzUmVsYXRpb25zID0gcmVsYXRpb25zKG1vbnRobHlCdWRnZXRzLCAoeyBvbmUgfSkgPT4gKHtcbi8vICAgYnVpbGRpbmc6IG9uZShidWlsZGluZ3MsIHtcbi8vICAgICBmaWVsZHM6IFttb250aGx5QnVkZ2V0cy5idWlsZGluZ0lkXSxcbi8vICAgICByZWZlcmVuY2VzOiBbYnVpbGRpbmdzLmlkXSxcbi8vICAgfSksXG4vLyAgIGFwcHJvdmVkQnk6IG9uZSh1c2Vycywge1xuLy8gICAgIGZpZWxkczogW21vbnRobHlCdWRnZXRzLmFwcHJvdmVkQnldLFxuLy8gICAgIHJlZmVyZW5jZXM6IFt1c2Vycy5pZF0sXG4vLyAgIH0pLFxuLy8gICBvcmlnaW5hbEJ1ZGdldDogb25lKG1vbnRobHlCdWRnZXRzLCB7XG4vLyAgICAgZmllbGRzOiBbbW9udGhseUJ1ZGdldHMub3JpZ2luYWxCdWRnZXRJZF0sXG4vLyAgICAgcmVmZXJlbmNlczogW21vbnRobHlCdWRnZXRzLmlkXSxcbi8vICAgICByZWxhdGlvbk5hbWU6ICdidWRnZXRDb3B5J1xuLy8gICB9KSxcbi8vIH0pKTtcbiJdLCJ2ZXJzaW9uIjozfQ==