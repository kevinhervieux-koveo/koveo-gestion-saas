e79fa4296f006d48191f41b32ab6af27
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.validationHelpers = exports.schemas = exports.compositeFields = exports.enumFields = exports.commonFields = exports.RESIDENCE_DOCUMENT_TYPES = exports.BUILDING_DOCUMENT_TYPES = exports.BILL_CATEGORIES = exports.BUILDING_TYPES = exports.SCHEDULE_TYPES = exports.PAYMENT_TYPES = exports.BILL_STATUSES = exports.DEMAND_STATUSES = exports.DEMAND_TYPES = exports.USER_ROLES = void 0;
const zod_1 = require("zod");
// Common enum definitions
exports.USER_ROLES = ['admin', 'manager', 'tenant', 'resident'];
exports.DEMAND_TYPES = ['maintenance', 'complaint', 'information', 'other'];
exports.DEMAND_STATUSES = [
    'submitted',
    'under_review',
    'approved',
    'rejected',
    'in_progress',
    'completed',
    'cancelled',
];
exports.BILL_STATUSES = ['draft', 'sent', 'overdue', 'paid', 'cancelled'];
exports.PAYMENT_TYPES = ['unique', 'recurrent'];
exports.SCHEDULE_TYPES = ['weekly', 'monthly', 'quarterly', 'yearly'];
exports.BUILDING_TYPES = [
    'condo',
    'apartment',
    'townhouse',
    'commercial',
    'mixed_use',
    'other',
];
exports.BILL_CATEGORIES = [
    'insurance',
    'maintenance',
    'salary',
    'utilities',
    'cleaning',
    'security',
    'landscaping',
    'professional_services',
    'administration',
    'repairs',
    'supplies',
    'taxes',
    'technology',
    'reserves',
    'other',
];
exports.BUILDING_DOCUMENT_TYPES = [
    'bylaw',
    'financial',
    'maintenance',
    'legal',
    'meeting_minutes',
    'insurance',
    'contracts',
    'permits',
    'inspection',
    'other',
];
exports.RESIDENCE_DOCUMENT_TYPES = [
    'lease',
    'inspection',
    'maintenance',
    'legal',
    'insurance',
    'financial',
    'communication',
    'photos',
    'other',
];
// Common validation schemas
exports.commonFields = {
    // Required string fields
    requiredString: (fieldName, maxLength) => maxLength
        ? zod_1.z.string().min(1, `${fieldName} is required`).max(maxLength, `${fieldName} is too long`)
        : zod_1.z.string().min(1, `${fieldName} is required`),
    // Optional string fields
    optionalString: (maxLength) => maxLength ? zod_1.z.string().max(maxLength, 'Text is too long').optional() : zod_1.z.string().optional(),
    // Required ID fields
    requiredId: (fieldName) => zod_1.z.string().min(1, `${fieldName} is required`),
    // Email validation
    email: zod_1.z.string().email('Invalid email address'),
    // Description with minimum length
    description: (minLength = 10) => zod_1.z.string().min(minLength, `Description must be at least ${minLength} characters`),
    // Amount/Price validation
    amount: zod_1.z.string().min(1, 'Amount is required'),
    // Date validation
    date: (fieldName) => zod_1.z
        .string()
        .min(1, `${fieldName} is required`)
        .refine((dateStr) => {
        const date = new Date(dateStr);
        return !isNaN(date.getTime());
    }, {
        message: `Valid ${fieldName.toLowerCase()} is required`,
    }),
    // Optional date validation
    optionalDate: zod_1.z.string().optional(),
    // Boolean with default
    booleanWithDefault: (defaultValue) => zod_1.z.boolean().default(defaultValue),
};
// Enum validation schemas
exports.enumFields = {
    userRole: zod_1.z.enum(exports.USER_ROLES),
    demandType: zod_1.z.enum(exports.DEMAND_TYPES),
    demandStatus: zod_1.z.enum(exports.DEMAND_STATUSES),
    billStatus: zod_1.z.enum(exports.BILL_STATUSES),
    billCategory: zod_1.z.enum(exports.BILL_CATEGORIES),
    paymentType: zod_1.z.enum(exports.PAYMENT_TYPES),
    scheduleType: zod_1.z.enum(exports.SCHEDULE_TYPES).optional(),
    buildingType: zod_1.z.enum(exports.BUILDING_TYPES),
    buildingDocumentType: zod_1.z.enum(exports.BUILDING_DOCUMENT_TYPES),
    residenceDocumentType: zod_1.z.enum(exports.RESIDENCE_DOCUMENT_TYPES),
};
// Complex field combinations
// First define basic composites that don't depend on others
const addressFields = {
    address: exports.commonFields.requiredString('Address', 500),
    city: exports.commonFields.requiredString('City', 100),
    province: exports.commonFields.requiredString('Province', 100),
    postalCode: exports.commonFields.requiredString('Postal code', 20),
};
const personNameFields = {
    firstName: exports.commonFields.requiredString('First name', 100),
    lastName: exports.commonFields.requiredString('Last name', 100),
};
exports.compositeFields = {
    // Standard name fields
    personName: personNameFields,
    // Standard address fields
    address: addressFields,
    // Organization fields
    organizationBase: {
        name: exports.commonFields.requiredString('Organization name', 200),
        type: exports.commonFields.requiredString('Organization type'),
        ...addressFields,
    },
    // Building base fields
    buildingBase: {
        name: exports.commonFields.requiredString('Building name', 255),
        ...addressFields,
        buildingType: exports.enumFields.buildingType,
        organizationId: exports.commonFields.requiredId('Organization'),
    },
    // Document base fields
    documentBase: {
        name: exports.commonFields.requiredString('Name', 255),
        dateReference: exports.commonFields.date('Reference date'),
        isVisibleToTenants: exports.commonFields.booleanWithDefault(true),
    },
    // Bill base fields
    billBase: {
        title: exports.commonFields.requiredString('Title'),
        description: exports.commonFields.optionalString(),
        category: exports.enumFields.billCategory,
        vendor: exports.commonFields.optionalString(),
        paymentType: exports.enumFields.paymentType,
        schedulePayment: exports.enumFields.scheduleType,
        totalAmount: exports.commonFields.amount,
        startDate: exports.commonFields.date('Start date'),
        endDate: exports.commonFields.optionalDate,
        status: exports.enumFields.billStatus,
        notes: exports.commonFields.optionalString(),
    },
    // Demand base fields
    demandBase: {
        type: exports.enumFields.demandType,
        description: exports.commonFields.description(10),
        buildingId: exports.commonFields.requiredId('Building'),
        residenceId: exports.commonFields.optionalString(),
        assignationBuildingId: exports.commonFields.optionalString(),
        assignationResidenceId: exports.commonFields.optionalString(),
    },
};
// Pre-built schemas for common entities
exports.schemas = {
    // User schemas
    userCreate: zod_1.z.object({
        ...exports.compositeFields.personName,
        email: exports.commonFields.email,
        role: exports.enumFields.userRole,
    }),
    // Building document schema
    buildingDocument: zod_1.z.object({
        ...exports.compositeFields.documentBase,
        type: exports.enumFields.buildingDocumentType,
        buildingId: exports.commonFields.requiredId('Building'),
    }),
    // Residence document schema
    residenceDocument: zod_1.z.object({
        ...exports.compositeFields.documentBase,
        type: exports.enumFields.residenceDocumentType,
        residenceId: exports.commonFields.requiredId('Residence'),
    }),
    // Bill schema
    bill: zod_1.z.object(exports.compositeFields.billBase),
    // Demand schema
    demand: zod_1.z.object(exports.compositeFields.demandBase),
    // Demand review schema (for managers)
    demandReview: zod_1.z.object({
        status: zod_1.z.enum(['approved', 'rejected', 'under_review', 'in_progress', 'completed']),
        reviewNotes: exports.commonFields.optionalString(),
        assignationBuildingId: exports.commonFields.optionalString(),
        assignationResidenceId: exports.commonFields.optionalString(),
    }),
};
// Utility functions for validation
exports.validationHelpers = {
    // Create form schema with common fields
    createFormSchema: (fields) => zod_1.z.object(fields),
    // Extend existing schema with additional fields
    extendSchema: (baseSchema, extensions) => baseSchema.extend(extensions),
    // Create optional version of schema
    makeOptional: (schema) => schema.partial(),
    // Create pick schema with selected fields
    pickFields: (schema, keys) => schema.pick(Object.fromEntries(keys.map((k) => [k, true]))),
    // Validate enum value
    isValidEnum: (enumArray, value) => enumArray.includes(value),
};
exports.default = {
    commonFields: exports.commonFields,
    enumFields: exports.enumFields,
    compositeFields: exports.compositeFields,
    schemas: exports.schemas,
    validationHelpers: exports.validationHelpers,
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9jbGllbnQvc3JjL2xpYi92YWxpZGF0aW9ucy50cyIsIm1hcHBpbmdzIjoiOzs7QUFBQSw2QkFBd0I7QUFFeEIsMEJBQTBCO0FBQ2IsUUFBQSxVQUFVLEdBQUcsQ0FBQyxPQUFPLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxVQUFVLENBQVUsQ0FBQztBQUNqRSxRQUFBLFlBQVksR0FBRyxDQUFDLGFBQWEsRUFBRSxXQUFXLEVBQUUsYUFBYSxFQUFFLE9BQU8sQ0FBVSxDQUFDO0FBQzdFLFFBQUEsZUFBZSxHQUFHO0lBQzdCLFdBQVc7SUFDWCxjQUFjO0lBQ2QsVUFBVTtJQUNWLFVBQVU7SUFDVixhQUFhO0lBQ2IsV0FBVztJQUNYLFdBQVc7Q0FDSCxDQUFDO0FBQ0UsUUFBQSxhQUFhLEdBQUcsQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsV0FBVyxDQUFVLENBQUM7QUFDM0UsUUFBQSxhQUFhLEdBQUcsQ0FBQyxRQUFRLEVBQUUsV0FBVyxDQUFVLENBQUM7QUFDakQsUUFBQSxjQUFjLEdBQUcsQ0FBQyxRQUFRLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxRQUFRLENBQVUsQ0FBQztBQUN2RSxRQUFBLGNBQWMsR0FBRztJQUM1QixPQUFPO0lBQ1AsV0FBVztJQUNYLFdBQVc7SUFDWCxZQUFZO0lBQ1osV0FBVztJQUNYLE9BQU87Q0FDQyxDQUFDO0FBRUUsUUFBQSxlQUFlLEdBQUc7SUFDN0IsV0FBVztJQUNYLGFBQWE7SUFDYixRQUFRO0lBQ1IsV0FBVztJQUNYLFVBQVU7SUFDVixVQUFVO0lBQ1YsYUFBYTtJQUNiLHVCQUF1QjtJQUN2QixnQkFBZ0I7SUFDaEIsU0FBUztJQUNULFVBQVU7SUFDVixPQUFPO0lBQ1AsWUFBWTtJQUNaLFVBQVU7SUFDVixPQUFPO0NBQ0MsQ0FBQztBQUVFLFFBQUEsdUJBQXVCLEdBQUc7SUFDckMsT0FBTztJQUNQLFdBQVc7SUFDWCxhQUFhO0lBQ2IsT0FBTztJQUNQLGlCQUFp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c0IsRUFBRSxDQUM1RixTQUFTLENBQUMsUUFBUSxDQUFDLEtBQWtCLENBQUM7Q0FDekMsQ0FBQztBQXNFRixrQkFBZTtJQUNiLFlBQVksRUFBWixvQkFBWTtJQUNaLFVBQVUsRUFBVixrQkFBVTtJQUNWLGVBQWUsRUFBZix1QkFBZTtJQUNmLE9BQU8sRUFBUCxlQUFPO0lBQ1AsaUJBQWlCLEVBQWpCLHlCQUFpQjtDQUNsQixDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3Jrc3BhY2UvY2xpZW50L3NyYy9saWIvdmFsaWRhdGlvbnMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5cbi8vIENvbW1vbiBlbnVtIGRlZmluaXRpb25zXG5leHBvcnQgY29uc3QgVVNFUl9ST0xFUyA9IFsnYWRtaW4nLCAnbWFuYWdlcicsICd0ZW5hbnQnLCAncmVzaWRlbnQnXSBhcyBjb25zdDtcbmV4cG9ydCBjb25zdCBERU1BTkRfVFlQRVMgPSBbJ21haW50ZW5hbmNlJywgJ2NvbXBsYWludCcsICdpbmZvcm1hdGlvbicsICdvdGhlciddIGFzIGNvbnN0O1xuZXhwb3J0IGNvbnN0IERFTUFORF9TVEFUVVNFUyA9IFtcbiAgJ3N1Ym1pdHRlZCcsXG4gICd1bmRlcl9yZXZpZXcnLFxuICAnYXBwcm92ZWQnLFxuICAncmVqZWN0ZWQnLFxuICAnaW5fcHJvZ3Jlc3MnLFxuICAnY29tcGxldGVkJyxcbiAgJ2NhbmNlbGxlZCcsXG5dIGFzIGNvbnN0O1xuZXhwb3J0IGNvbnN0IEJJTExfU1RBVFVTRVMgPSBbJ2RyYWZ0JywgJ3NlbnQnLCAnb3ZlcmR1ZScsICdwYWlkJywgJ2NhbmNlbGxlZCddIGFzIGNvbnN0O1xuZXhwb3J0IGNvbnN0IFBBWU1FTlRfVFlQRVMgPSBbJ3VuaXF1ZScsICdyZWN1cnJlbnQnXSBhcyBjb25zdDtcbmV4cG9ydCBjb25zdCBTQ0hFRFVMRV9UWVBFUyA9IFsnd2Vla2x5JywgJ21vbnRobHknLCAncXVhcnRlcmx5JywgJ3llYXJseSddIGFzIGNvbnN0O1xuZXhwb3J0IGNvbnN0IEJVSUxESU5HX1RZUEVTID0gW1xuICAnY29uZG8nLFxuICAnYXBhcnRtZW50JyxcbiAgJ3Rvd25ob3VzZScsXG4gICdjb21tZXJjaWFsJyxcbiAgJ21peGVkX3VzZScsXG4gICdvdGhlcicsXG5dIGFzIGNvbnN0O1xuXG5leHBvcnQgY29uc3QgQklMTF9DQVRFR09SSUVTID0gW1xuICAnaW5zdXJhbmNlJyxcbiAgJ21haW50ZW5hbmNlJyxcbiAgJ3NhbGFyeScsXG4gICd1dGlsaXRpZXMnLFxuICAnY2xlYW5pbmcnLFxuICAnc2VjdXJpdHknLFxuICAnbGFuZHNjYXBpbmcnLFxuICAncHJvZmVzc2lvbmFsX3NlcnZpY2VzJyxcbiAgJ2FkbWluaXN0cmF0aW9uJyxcbiAgJ3JlcGFpcnMnLFxuICAnc3VwcGxpZXMnLFxuICAndGF4ZXMnLFxuICAndGVjaG5vbG9neScsXG4gICdyZXNlcnZlcycsXG4gICdvdGhlcicsXG5dIGFzIGNvbnN0O1xuXG5leHBvcnQgY29uc3QgQlVJTERJTkdfRE9DVU1FTlRfVFlQRVMgPSBbXG4gICdieWxhdycsXG4gICdmaW5hbmNpYWwnLFxuICAnbWFpbnRlbmFuY2UnLFxuICAnbGVnYWwnLFxuICAnbWVldGluZ19taW51dGVzJyxcbiAgJ2luc3VyYW5jZScsXG4gICdjb250cmFjdHMnLFxuICAncGVybWl0cycsXG4gICdpbnNwZWN0aW9uJyxcbiAgJ290aGVyJyxcbl0gYXMgY29uc3Q7XG5cbmV4cG9ydCBjb25zdCBSRVNJREVOQ0VfRE9DVU1FTlRfVFlQRVMgPSBbXG4gICdsZWFzZScsXG4gICdpbnNwZWN0aW9uJyxcbiAgJ21haW50ZW5hbmNlJyxcbiAgJ2xlZ2FsJyxcbiAgJ2luc3VyYW5jZScsXG4gICdmaW5hbmNpYWwnLFxuICAnY29tbXVuaWNhdGlvbicsXG4gICdwaG90b3MnLFxuICAnb3RoZXInLFxuXSBhcyBjb25zdDtcblxuLy8gQ29tbW9uIHZhbGlkYXRpb24gc2NoZW1hc1xuZXhwb3J0IGNvbnN0IGNvbW1vbkZpZWxkcyA9IHtcbiAgLy8gUmVxdWlyZWQgc3RyaW5nIGZpZWxkc1xuICByZXF1aXJlZFN0cmluZzogKGZpZWxkTmFtZTogc3RyaW5nLCBtYXhMZW5ndGg/OiBudW1iZXIpID0+XG4gICAgbWF4TGVuZ3RoXG4gICAgICA/IHouc3RyaW5nKCkubWluKDEsIGAke2ZpZWxkTmFtZX0gaXMgcmVxdWlyZWRgKS5tYXgobWF4TGVuZ3RoLCBgJHtmaWVsZE5hbWV9IGlzIHRvbyBsb25nYClcbiAgICAgIDogei5zdHJpbmcoKS5taW4oMSwgYCR7ZmllbGROYW1lfSBpcyByZXF1aXJlZGApLFxuXG4gIC8vIE9wdGlvbmFsIHN0cmluZyBmaWVsZHNcbiAgb3B0aW9uYWxTdHJpbmc6IChtYXhMZW5ndGg/OiBudW1iZXIpID0+XG4gICAgbWF4TGVuZ3RoID8gei5zdHJpbmcoKS5tYXgobWF4TGVuZ3RoLCAnVGV4dCBpcyB0b28gbG9uZycpLm9wdGlvbmFsKCkgOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG5cbiAgLy8gUmVxdWlyZWQgSUQgZmllbGRzXG4gIHJlcXVpcmVkSWQ6IChmaWVsZE5hbWU6IHN0cmluZykgPT4gei5zdHJpbmcoKS5taW4oMSwgYCR7ZmllbGROYW1lfSBpcyByZXF1aXJlZGApLFxuXG4gIC8vIEVtYWlsIHZhbGlkYXRpb25cbiAgZW1haWw6IHouc3RyaW5nKCkuZW1haWwoJ0ludmFsaWQgZW1haWwgYWRkcmVzcycpLFxuXG4gIC8vIERlc2NyaXB0aW9uIHdpdGggbWluaW11bSBsZW5ndGhcbiAgZGVzY3JpcHRpb246IChtaW5MZW5ndGggPSAxMCkgPT5cbiAgICB6LnN0cmluZygpLm1pbihtaW5MZW5ndGgsIGBEZXNjcmlwdGlvbiBtdXN0IGJlIGF0IGxlYXN0ICR7bWluTGVuZ3RofSBjaGFyYWN0ZXJzYCksXG5cbiAgLy8gQW1vdW50L1ByaWNlIHZhbGlkYXRpb25cbiAgYW1vdW50OiB6LnN0cmluZygpLm1pbigxLCAnQW1vdW50IGlzIHJlcXVpcmVkJyksXG5cbiAgLy8gRGF0ZSB2YWxpZGF0aW9uXG4gIGRhdGU6IChmaWVsZE5hbWU6IHN0cmluZykgPT5cbiAgICB6XG4gICAgICAuc3RyaW5nKClcbiAgICAgIC5taW4oMSwgYCR7ZmllbGROYW1lfSBpcyByZXF1aXJlZGApXG4gICAgICAucmVmaW5lKFxuICAgICAgICAoZGF0ZVN0cikgPT4ge1xuICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkYXRlU3RyKTtcbiAgICAgICAgICByZXR1cm4gIWlzTmFOKGRhdGUuZ2V0VGltZSgpKTtcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIG1lc3NhZ2U6IGBWYWxpZCAke2ZpZWxkTmFtZS50b0xvd2VyQ2FzZSgpfSBpcyByZXF1aXJlZGAsXG4gICAgICAgIH1cbiAgICAgICksXG5cbiAgLy8gT3B0aW9uYWwgZGF0ZSB2YWxpZGF0aW9uXG4gIG9wdGlvbmFsRGF0ZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuXG4gIC8vIEJvb2xlYW4gd2l0aCBkZWZhdWx0XG4gIGJvb2xlYW5XaXRoRGVmYXVsdDogKGRlZmF1bHRWYWx1ZTogYm9vbGVhbikgPT4gei5ib29sZWFuKCkuZGVmYXVsdChkZWZhdWx0VmFsdWUpLFxufTtcblxuLy8gRW51bSB2YWxpZGF0aW9uIHNjaGVtYXNcbmV4cG9ydCBjb25zdCBlbnVtRmllbGRzID0ge1xuICB1c2VyUm9sZTogei5lbnVtKFVTRVJfUk9MRVMpLFxuICBkZW1hbmRUeXBlOiB6LmVudW0oREVNQU5EX1RZUEVTKSxcbiAgZGVtYW5kU3RhdHVzOiB6LmVudW0oREVNQU5EX1NUQVRVU0VTKSxcbiAgYmlsbFN0YXR1czogei5lbnVtKEJJTExfU1RBVFVTRVMpLFxuICBiaWxsQ2F0ZWdvcnk6IHouZW51bShCSUxMX0NBVEVHT1JJRVMpLFxuICBwYXltZW50VHlwZTogei5lbnVtKFBBWU1FTlRfVFlQRVMpLFxuICBzY2hlZHVsZVR5cGU6IHouZW51bShTQ0hFRFVMRV9UWVBFUykub3B0aW9uYWwoKSxcbiAgYnVpbGRpbmdUeXBlOiB6LmVudW0oQlVJTERJTkdfVFlQRVMpLFxuICBidWlsZGluZ0RvY3VtZW50VHlwZTogei5lbnVtKEJVSUxESU5HX0RPQ1VNRU5UX1RZUEVTKSxcbiAgcmVzaWRlbmNlRG9jdW1lbnRUeXBlOiB6LmVudW0oUkVTSURFTkNFX0RPQ1VNRU5UX1RZUEVTKSxcbn07XG5cbi8vIENvbXBsZXggZmllbGQgY29tYmluYXRpb25zXG4vLyBGaXJzdCBkZWZpbmUgYmFzaWMgY29tcG9zaXRlcyB0aGF0IGRvbid0IGRlcGVuZCBvbiBvdGhlcnNcbmNvbnN0IGFkZHJlc3NGaWVsZHMgPSB7XG4gIGFkZHJlc3M6IGNvbW1vbkZpZWxkcy5yZXF1aXJlZFN0cmluZygnQWRkcmVzcycsIDUwMCksXG4gIGNpdHk6IGNvbW1vbkZpZWxkcy5yZXF1aXJlZFN0cmluZygnQ2l0eScsIDEwMCksXG4gIHByb3ZpbmNlOiBjb21tb25GaWVsZHMucmVxdWlyZWRTdHJpbmcoJ1Byb3ZpbmNlJywgMTAwKSxcbiAgcG9zdGFsQ29kZTogY29tbW9uRmllbGRzLnJlcXVpcmVkU3RyaW5nKCdQb3N0YWwgY29kZScsIDIwKSxcbn07XG5cbmNvbnN0IHBlcnNvbk5hbWVGaWVsZHMgPSB7XG4gIGZpcnN0TmFtZTogY29tbW9uRmllbGRzLnJlcXVpcmVkU3RyaW5nKCdGaXJzdCBuYW1lJywgMTAwKSxcbiAgbGFzdE5hbWU6IGNvbW1vbkZpZWxkcy5yZXF1aXJlZFN0cmluZygnTGFzdCBuYW1lJywgMTAwKSxcbn07XG5cbmV4cG9ydCBjb25zdCBjb21wb3NpdGVGaWVsZHMgPSB7XG4gIC8vIFN0YW5kYXJkIG5hbWUgZmllbGRzXG4gIHBlcnNvbk5hbWU6IHBlcnNvbk5hbWVGaWVsZHMsXG5cbiAgLy8gU3RhbmRhcmQgYWRkcmVzcyBmaWVsZHNcbiAgYWRkcmVzczogYWRkcmVzc0ZpZWxkcyxcblxuICAvLyBPcmdhbml6YXRpb24gZmllbGRzXG4gIG9yZ2FuaXphdGlvbkJhc2U6IHtcbiAgICBuYW1lOiBjb21tb25GaWVsZHMucmVxdWlyZWRTdHJpbmcoJ09yZ2FuaXphdGlvbiBuYW1lJywgMjAwKSxcbiAgICB0eXBlOiBjb21tb25GaWVsZHMucmVxdWlyZWRTdHJpbmcoJ09yZ2FuaXphdGlvbiB0eXBlJyksXG4gICAgLi4uYWRkcmVzc0ZpZWxkcyxcbiAgfSxcblxuICAvLyBCdWlsZGluZyBiYXNlIGZpZWxkc1xuICBidWlsZGluZ0Jhc2U6IHtcbiAgICBuYW1lOiBjb21tb25GaWVsZHMucmVxdWlyZWRTdHJpbmcoJ0J1aWxkaW5nIG5hbWUnLCAyNTUpLFxuICAgIC4uLmFkZHJlc3NGaWVsZHMsXG4gICAgYnVpbGRpbmdUeXBlOiBlbnVtRmllbGRzLmJ1aWxkaW5nVHlwZSxcbiAgICBvcmdhbml6YXRpb25JZDogY29tbW9uRmllbGRzLnJlcXVpcmVkSWQoJ09yZ2FuaXphdGlvbicpLFxuICB9LFxuXG4gIC8vIERvY3VtZW50IGJhc2UgZmllbGRzXG4gIGRvY3VtZW50QmFzZToge1xuICAgIG5hbWU6IGNvbW1vbkZpZWxkcy5yZXF1aXJlZFN0cmluZygnTmFtZScsIDI1NSksXG4gICAgZGF0ZVJlZmVyZW5jZTogY29tbW9uRmllbGRzLmRhdGUoJ1JlZmVyZW5jZSBkYXRlJyksXG4gICAgaXNWaXNpYmxlVG9UZW5hbnRzOiBjb21tb25GaWVsZHMuYm9vbGVhbldpdGhEZWZhdWx0KHRydWUpLFxuICB9LFxuXG4gIC8vIEJpbGwgYmFzZSBmaWVsZHNcbiAgYmlsbEJhc2U6IHtcbiAgICB0aXRsZTogY29tbW9uRmllbGRzLnJlcXVpcmVkU3RyaW5nKCdUaXRsZScpLFxuICAgIGRlc2NyaXB0aW9uOiBjb21tb25GaWVsZHMub3B0aW9uYWxTdHJpbmcoKSxcbiAgICBjYXRlZ29yeTogZW51bUZpZWxkcy5iaWxsQ2F0ZWdvcnksXG4gICAgdmVuZG9yOiBjb21tb25GaWVsZHMub3B0aW9uYWxTdHJpbmcoKSxcbiAgICBwYXltZW50VHlwZTogZW51bUZpZWxkcy5wYXltZW50VHlwZSxcbiAgICBzY2hlZHVsZVBheW1lbnQ6IGVudW1GaWVsZHMuc2NoZWR1bGVUeXBlLFxuICAgIHRvdGFsQW1vdW50OiBjb21tb25GaWVsZHMuYW1vdW50LFxuICAgIHN0YXJ0RGF0ZTogY29tbW9uRmllbGRzLmRhdGUoJ1N0YXJ0IGRhdGUnKSxcbiAgICBlbmREYXRlOiBjb21tb25GaWVsZHMub3B0aW9uYWxEYXRlLFxuICAgIHN0YXR1czogZW51bUZpZWxkcy5iaWxsU3RhdHVzLFxuICAgIG5vdGVzOiBjb21tb25GaWVsZHMub3B0aW9uYWxTdHJpbmcoKSxcbiAgfSxcblxuICAvLyBEZW1hbmQgYmFzZSBmaWVsZHNcbiAgZGVtYW5kQmFzZToge1xuICAgIHR5cGU6IGVudW1GaWVsZHMuZGVtYW5kVHlwZSxcbiAgICBkZXNjcmlwdGlvbjogY29tbW9uRmllbGRzLmRlc2NyaXB0aW9uKDEwKSxcbiAgICBidWlsZGluZ0lkOiBjb21tb25GaWVsZHMucmVxdWlyZWRJZCgnQnVpbGRpbmcnKSxcbiAgICByZXNpZGVuY2VJZDogY29tbW9uRmllbGRzLm9wdGlvbmFsU3RyaW5nKCksXG4gICAgYXNzaWduYXRpb25CdWlsZGluZ0lkOiBjb21tb25GaWVsZHMub3B0aW9uYWxTdHJpbmcoKSxcbiAgICBhc3NpZ25hdGlvblJlc2lkZW5jZUlkOiBjb21tb25GaWVsZHMub3B0aW9uYWxTdHJpbmcoKSxcbiAgfSxcbn07XG5cbi8vIFByZS1idWlsdCBzY2hlbWFzIGZvciBjb21tb24gZW50aXRpZXNcbmV4cG9ydCBjb25zdCBzY2hlbWFzID0ge1xuICAvLyBVc2VyIHNjaGVtYXNcbiAgdXNlckNyZWF0ZTogei5vYmplY3Qoe1xuICAgIC4uLmNvbXBvc2l0ZUZpZWxkcy5wZXJzb25OYW1lLFxuICAgIGVtYWlsOiBjb21tb25GaWVsZHMuZW1haWwsXG4gICAgcm9sZTogZW51bUZpZWxkcy51c2VyUm9sZSxcbiAgfSksXG5cbiAgLy8gQnVpbGRpbmcgZG9jdW1lbnQgc2NoZW1hXG4gIGJ1aWxkaW5nRG9jdW1lbnQ6IHoub2JqZWN0KHtcbiAgICAuLi5jb21wb3NpdGVGaWVsZHMuZG9jdW1lbnRCYXNlLFxuICAgIHR5cGU6IGVudW1GaWVsZHMuYnVpbGRpbmdEb2N1bWVudFR5cGUsXG4gICAgYnVpbGRpbmdJZDogY29tbW9uRmllbGRzLnJlcXVpcmVkSWQoJ0J1aWxkaW5nJyksXG4gIH0pLFxuXG4gIC8vIFJlc2lkZW5jZSBkb2N1bWVudCBzY2hlbWFcbiAgcmVzaWRlbmNlRG9jdW1lbnQ6IHoub2JqZWN0KHtcbiAgICAuLi5jb21wb3NpdGVGaWVsZHMuZG9jdW1lbnRCYXNlLFxuICAgIHR5cGU6IGVudW1GaWVsZHMucmVzaWRlbmNlRG9jdW1lbnRUeXBlLFxuICAgIHJlc2lkZW5jZUlkOiBjb21tb25GaWVsZHMucmVxdWlyZWRJZCgnUmVzaWRlbmNlJyksXG4gIH0pLFxuXG4gIC8vIEJpbGwgc2NoZW1hXG4gIGJpbGw6IHoub2JqZWN0KGNvbXBvc2l0ZUZpZWxkcy5iaWxsQmFzZSksXG5cbiAgLy8gRGVtYW5kIHNjaGVtYVxuICBkZW1hbmQ6IHoub2JqZWN0KGNvbXBvc2l0ZUZpZWxkcy5kZW1hbmRCYXNlKSxcblxuICAvLyBEZW1hbmQgcmV2aWV3IHNjaGVtYSAoZm9yIG1hbmFnZXJzKVxuICBkZW1hbmRSZXZpZXc6IHoub2JqZWN0KHtcbiAgICBzdGF0dXM6IHouZW51bShbJ2FwcHJvdmVkJywgJ3JlamVjdGVkJywgJ3VuZGVyX3JldmlldycsICdpbl9wcm9ncmVzcycsICdjb21wbGV0ZWQnXSksXG4gICAgcmV2aWV3Tm90ZXM6IGNvbW1vbkZpZWxkcy5vcHRpb25hbFN0cmluZygpLFxuICAgIGFzc2lnbmF0aW9uQnVpbGRpbmdJZDogY29tbW9uRmllbGRzLm9wdGlvbmFsU3RyaW5nKCksXG4gICAgYXNzaWduYXRpb25SZXNpZGVuY2VJZDogY29tbW9uRmllbGRzLm9wdGlvbmFsU3RyaW5nKCksXG4gIH0pLFxufTtcblxuLy8gVXRpbGl0eSBmdW5jdGlvbnMgZm9yIHZhbGlkYXRpb25cbmV4cG9ydCBjb25zdCB2YWxpZGF0aW9uSGVscGVycyA9IHtcbiAgLy8gQ3JlYXRlIGZvcm0gc2NoZW1hIHdpdGggY29tbW9uIGZpZWxkc1xuICBjcmVhdGVGb3JtU2NoZW1hOiA8VCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIHouWm9kVHlwZUFueT4+KGZpZWxkczogVCkgPT4gei5vYmplY3QoZmllbGRzKSxcblxuICAvLyBFeHRlbmQgZXhpc3Rpbmcgc2NoZW1hIHdpdGggYWRkaXRpb25hbCBmaWVsZHNcbiAgZXh0ZW5kU2NoZW1hOiA8VCBleHRlbmRzIHouWm9kUmF3U2hhcGUsIFUgZXh0ZW5kcyB6LlpvZFJhd1NoYXBlPihcbiAgICBiYXNlU2NoZW1hOiB6LlpvZE9iamVjdDxUPixcbiAgICBleHRlbnNpb25zOiBVXG4gICkgPT4gYmFzZVNjaGVtYS5leHRlbmQoZXh0ZW5zaW9ucyksXG5cbiAgLy8gQ3JlYXRlIG9wdGlvbmFsIHZlcnNpb24gb2Ygc2NoZW1hXG4gIG1ha2VPcHRpb25hbDogPFQgZXh0ZW5kcyB6LlpvZFJhd1NoYXBlPihzY2hlbWE6IHouWm9kT2JqZWN0PFQ+KSA9PiBzY2hlbWEucGFydGlhbCgpLFxuXG4gIC8vIENyZWF0ZSBwaWNrIHNjaGVtYSB3aXRoIHNlbGVjdGVkIGZpZWxkc1xuICBwaWNrRmllbGRzOiA8VCBleHRlbmRzIHouWm9kUmF3U2hhcGUsIEsgZXh0ZW5kcyBrZXlvZiBUPihzY2hlbWE6IHouWm9kT2JqZWN0PFQ+LCBrZXlzOiBLW10pID0+XG4gICAgc2NoZW1hLnBpY2soT2JqZWN0LmZyb21FbnRyaWVzKGtleXMubWFwKChrKSA9PiBbaywgdHJ1ZV0pKSBhcyBhbnkpLFxuXG4gIC8vIFZhbGlkYXRlIGVudW0gdmFsdWVcbiAgaXNWYWxpZEVudW06IDxUIGV4dGVuZHMgcmVhZG9ubHkgc3RyaW5nW10+KGVudW1BcnJheTogVCwgdmFsdWU6IHN0cmluZyk6IHZhbHVlIGlzIFRbbnVtYmVyXSA9PlxuICAgIGVudW1BcnJheS5pbmNsdWRlcyh2YWx1ZSBhcyBUW251bWJlcl0pLFxufTtcblxuLy8gVHlwZSBpbmZlcmVuY2UgaGVscGVyc1xuLyoqXG4gKlxuICovXG5leHBvcnQgdHlwZSBVc2VyUm9sZSA9IHouaW5mZXI8dHlwZW9mIGVudW1GaWVsZHMudXNlclJvbGU+O1xuLyoqXG4gKlxuICovXG5leHBvcnQgdHlwZSBEZW1hbmRUeXBlID0gei5pbmZlcjx0eXBlb2YgZW51bUZpZWxkcy5kZW1hbmRUeXBlPjtcbi8qKlxuICpcbiAqL1xuZXhwb3J0IHR5cGUgRGVtYW5kU3RhdHVzID0gei5pbmZlcjx0eXBlb2YgZW51bUZpZWxkcy5kZW1hbmRTdGF0dXM+O1xuLyoqXG4gKlxuICovXG5leHBvcnQgdHlwZSBCaWxsU3RhdHVzID0gei5pbmZlcjx0eXBlb2YgZW51bUZpZWxkcy5iaWxsU3RhdHVzPjtcbi8qKlxuICpcbiAqL1xuZXhwb3J0IHR5cGUgQmlsbENhdGVnb3J5ID0gei5pbmZlcjx0eXBlb2YgZW51bUZpZWxkcy5iaWxsQ2F0ZWdvcnk+O1xuLyoqXG4gKlxuICovXG5leHBvcnQgdHlwZSBQYXltZW50VHlwZSA9IHouaW5mZXI8dHlwZW9mIGVudW1GaWVsZHMucGF5bWVudFR5cGU+O1xuLyoqXG4gKlxuICovXG5leHBvcnQgdHlwZSBTY2hlZHVsZVR5cGUgPSB6LmluZmVyPHR5cGVvZiBlbnVtRmllbGRzLnNjaGVkdWxlVHlwZT47XG4vKipcbiAqXG4gKi9cbmV4cG9ydCB0eXBlIEJ1aWxkaW5nVHlwZSA9IHouaW5mZXI8dHlwZW9mIGVudW1GaWVsZHMuYnVpbGRpbmdUeXBlPjtcbi8qKlxuICpcbiAqL1xuZXhwb3J0IHR5cGUgQnVpbGRpbmdEb2N1bWVudFR5cGUgPSB6LmluZmVyPHR5cGVvZiBlbnVtRmllbGRzLmJ1aWxkaW5nRG9jdW1lbnRUeXBlPjtcbi8qKlxuICpcbiAqL1xuZXhwb3J0IHR5cGUgUmVzaWRlbmNlRG9jdW1lbnRUeXBlID0gei5pbmZlcjx0eXBlb2YgZW51bUZpZWxkcy5yZXNpZGVuY2VEb2N1bWVudFR5cGU+O1xuXG4vLyBTY2hlbWEgdHlwZSBleHBvcnRzXG4vKipcbiAqXG4gKi9cbmV4cG9ydCB0eXBlIFVzZXJDcmVhdGVTY2hlbWEgPSB6LmluZmVyPHR5cGVvZiBzY2hlbWFzLnVzZXJDcmVhdGU+O1xuLyoqXG4gKlxuICovXG5leHBvcnQgdHlwZSBCdWlsZGluZ0RvY3VtZW50U2NoZW1hID0gei5pbmZlcjx0eXBlb2Ygc2NoZW1hcy5idWlsZGluZ0RvY3VtZW50Pjtcbi8qKlxuICpcbiAqL1xuZXhwb3J0IHR5cGUgUmVzaWRlbmNlRG9jdW1lbnRTY2hlbWEgPSB6LmluZmVyPHR5cGVvZiBzY2hlbWFzLnJlc2lkZW5jZURvY3VtZW50Pjtcbi8qKlxuICpcbiAqL1xuZXhwb3J0IHR5cGUgQmlsbFNjaGVtYSA9IHouaW5mZXI8dHlwZW9mIHNjaGVtYXMuYmlsbD47XG4vKipcbiAqXG4gKi9cbmV4cG9ydCB0eXBlIERlbWFuZFNjaGVtYSA9IHouaW5mZXI8dHlwZW9mIHNjaGVtYXMuZGVtYW5kPjtcbi8qKlxuICpcbiAqL1xuZXhwb3J0IHR5cGUgRGVtYW5kUmV2aWV3U2NoZW1hID0gei5pbmZlcjx0eXBlb2Ygc2NoZW1hcy5kZW1hbmRSZXZpZXc+O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGNvbW1vbkZpZWxkcyxcbiAgZW51bUZpZWxkcyxcbiAgY29tcG9zaXRlRmllbGRzLFxuICBzY2hlbWFzLFxuICB2YWxpZGF0aW9uSGVscGVycyxcbn07XG4iXSwidmVyc2lvbiI6M30=