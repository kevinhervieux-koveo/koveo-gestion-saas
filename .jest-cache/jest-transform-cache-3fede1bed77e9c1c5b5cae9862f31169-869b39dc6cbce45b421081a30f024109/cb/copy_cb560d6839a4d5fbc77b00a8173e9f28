20c3df09918817e9a57c5970f79f9e5e
'use strict';
var Clipboard = require('../utils/dataTransfer/Clipboard.js');
var copySelection = require('../document/copySelection.js');
async function copy() {
    const doc = this.config.document;
    var _doc_activeElement;
    const target = (_doc_activeElement = doc.activeElement) !== null && _doc_activeElement !== undefined ? _doc_activeElement : /* istanbul ignore next */ doc.body;
    const clipboardData = copySelection.copySelection(target);
    if (clipboardData.items.length === 0) {
        return;
    }
    if (this.dispatchUIEvent(target, 'copy', {
        clipboardData
    }) && this.config.writeToClipboard) {
        await Clipboard.writeDataTransferToClipboard(doc, clipboardData);
    }
    return clipboardData;
}
exports.copy = copy;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9ub2RlX21vZHVsZXMvQHRlc3RpbmctbGlicmFyeS91c2VyLWV2ZW50L2Rpc3QvY2pzL2NsaXBib2FyZC9jb3B5LmpzIiwibWFwcGluZ3MiOiJBQUFBLFlBQVksQ0FBQztBQUViLElBQUksU0FBUyxHQUFHLE9BQU8sQ0FBQyxvQ0FBb0MsQ0FBQyxDQUFDO0FBQzlELElBQUksYUFBYSxHQUFHLE9BQU8sQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDO0FBRTVELEtBQUssVUFBVSxJQUFJO0lBQ2YsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUM7SUFDakMsSUFBSSxrQkFBa0IsQ0FBQztJQUN2QixNQUFNLE1BQU0sR0FBRyxDQUFDLGtCQUFrQixHQUFHLEdBQUcsQ0FBQyxhQUFhLENBQUMsS0FBSyxJQUFJLElBQUksa0JBQWtCLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsMEJBQTBCLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQztJQUNoSyxNQUFNLGFBQWEsR0FBRyxhQUFhLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQzFELElBQUksYUFBYSxDQUFDLEtBQUssQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFLENBQUM7UUFDbkMsT0FBTztJQUNYLENBQUM7SUFDRCxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRTtRQUNyQyxhQUFhO0tBQ2hCLENBQUMsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLGdCQUFnQixFQUFFLENBQUM7UUFDakMsTUFBTSxTQUFTLENBQUMsNEJBQTRCLENBQUMsR0FBRyxFQUFFLGFBQWEsQ0FBQyxDQUFDO0lBQ3JFLENBQUM7SUFDRCxPQUFPLGFBQWEsQ0FBQztBQUN6QixDQUFDO0FBRUQsT0FBTyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9ub2RlX21vZHVsZXMvQHRlc3RpbmctbGlicmFyeS91c2VyLWV2ZW50L2Rpc3QvY2pzL2NsaXBib2FyZC9jb3B5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIENsaXBib2FyZCA9IHJlcXVpcmUoJy4uL3V0aWxzL2RhdGFUcmFuc2Zlci9DbGlwYm9hcmQuanMnKTtcbnZhciBjb3B5U2VsZWN0aW9uID0gcmVxdWlyZSgnLi4vZG9jdW1lbnQvY29weVNlbGVjdGlvbi5qcycpO1xuXG5hc3luYyBmdW5jdGlvbiBjb3B5KCkge1xuICAgIGNvbnN0IGRvYyA9IHRoaXMuY29uZmlnLmRvY3VtZW50O1xuICAgIHZhciBfZG9jX2FjdGl2ZUVsZW1lbnQ7XG4gICAgY29uc3QgdGFyZ2V0ID0gKF9kb2NfYWN0aXZlRWxlbWVudCA9IGRvYy5hY3RpdmVFbGVtZW50KSAhPT0gbnVsbCAmJiBfZG9jX2FjdGl2ZUVsZW1lbnQgIT09IHVuZGVmaW5lZCA/IF9kb2NfYWN0aXZlRWxlbWVudCA6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIGRvYy5ib2R5O1xuICAgIGNvbnN0IGNsaXBib2FyZERhdGEgPSBjb3B5U2VsZWN0aW9uLmNvcHlTZWxlY3Rpb24odGFyZ2V0KTtcbiAgICBpZiAoY2xpcGJvYXJkRGF0YS5pdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5kaXNwYXRjaFVJRXZlbnQodGFyZ2V0LCAnY29weScsIHtcbiAgICAgICAgY2xpcGJvYXJkRGF0YVxuICAgIH0pICYmIHRoaXMuY29uZmlnLndyaXRlVG9DbGlwYm9hcmQpIHtcbiAgICAgICAgYXdhaXQgQ2xpcGJvYXJkLndyaXRlRGF0YVRyYW5zZmVyVG9DbGlwYm9hcmQoZG9jLCBjbGlwYm9hcmREYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIGNsaXBib2FyZERhdGE7XG59XG5cbmV4cG9ydHMuY29weSA9IGNvcHk7XG4iXSwidmVyc2lvbiI6M30=