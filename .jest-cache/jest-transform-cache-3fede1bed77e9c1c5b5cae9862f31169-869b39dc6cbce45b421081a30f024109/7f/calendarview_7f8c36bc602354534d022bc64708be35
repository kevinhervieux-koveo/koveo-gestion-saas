5d38e1a3cd6ed8debab4b9843e98eab9
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.CalendarView = CalendarView;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("react");
const react_query_1 = require("@tanstack/react-query");
const date_fns_1 = require("date-fns");
const locale_1 = require("date-fns/locale");
const card_1 = require("@/components/ui/card");
const button_1 = require("@/components/ui/button");
const select_1 = require("@/components/ui/select");
const tooltip_1 = require("@/components/ui/tooltip");
const lucide_react_1 = require("lucide-react");
const queryClient_1 = require("@/lib/queryClient");
const use_language_1 = require("@/hooks/use-language");
const use_auth_1 = require("@/hooks/use-auth");
/**
 *
 * @param root0
 * @param root0.spaceId
 * @param root0.buildingId
 * @param root0.mode
 * @param root0.onEventClick
 * @param root0.onDateClick
 * @param root0.showControls
 * @param root0.className
 */
function CalendarView({ spaceId, buildingId, mode, onEventClick, onDateClick, showControls = true, className = '', }) {
    const { t, language } = (0, use_language_1.useLanguage)();
    const { user } = (0, use_auth_1.useAuth)();
    const [currentDate, setCurrentDate] = (0, react_1.useState)(new Date());
    const [viewMode, setViewMode] = (0, react_1.useState)('month');
    const queryClient = (0, react_query_1.useQueryClient)();
    const startDate = (0, date_fns_1.startOfMonth)(currentDate).toISOString();
    const endDate = (0, date_fns_1.endOfMonth)(currentDate).toISOString();
    // Build API URL based on mode
    const apiUrl = (0, react_1.useMemo)(() => {
        const params = new URLSearchParams({
            start_date: startDate,
            end_date: endDate,
            view: viewMode,
        });
        if (mode === 'space' && spaceId) {
            return `/api/common-spaces/calendar/${spaceId}?${params}`;
        }
        else if (mode === 'building' && buildingId) {
            return `/api/common-spaces/calendar/building/${buildingId}?${params}`;
        }
        else if (mode === 'user') {
            return `/api/common-spaces/user-calendar?${params}`;
        }
        return null;
    }, [mode, spaceId, buildingId, startDate, endDate, viewMode]);
    const { data, isLoading, error } = (0, react_query_1.useQuery)({
        queryKey: ['calendar', mode, spaceId, buildingId, startDate, endDate, viewMode],
        queryFn: async () => {
            if (!apiUrl) {
                return null;
            }
            try {
                const response = await (0, queryClient_1.apiRequest)('GET', apiUrl);
                return await response.json();
            }
            catch (error) {
                // Handle authentication errors specifically - suppress for timing issues
                if (error.message?.includes('401')) {
                    throw new Error('Authentication required for calendar access');
                }
                throw error;
            }
        },
        enabled: !!apiUrl && !!user && !!user.id,
        retry: (failureCount, error) => {
            // Don't retry on auth errors
            if (error?.message?.includes('Authentication required')) {
                return false;
            }
            return failureCount < 2;
        },
    });
    const monthDays = (0, react_1.useMemo)(() => {
        const start = (0, date_fns_1.startOfMonth)(currentDate);
        const end = (0, date_fns_1.endOfMonth)(currentDate);
        return (0, date_fns_1.eachDayOfInterval)({ start, end });
    }, [currentDate]);
    const getEventsForDay = (day) => {
        if (!data?.calendar) {
            return [];
        }
        const events = data.calendar.events || data.calendar.bookings || [];
        return events.filter((event) => (0, date_fns_1.isSameDay)((0, date_fns_1.parseISO)(event.startTime), day) && event.status === 'confirmed');
    };
    const formatEventTime = (startTime, endTime) => {
        const start = (0, date_fns_1.parseISO)(startTime);
        const end = (0, date_fns_1.parseISO)(endTime);
        const locale = language === 'fr' ? locale_1.fr : undefined;
        return `${(0, date_fns_1.format)(start, 'HH:mm', { locale })} - ${(0, date_fns_1.format)(end, 'HH:mm', { locale })}`;
    };
    const getEventDisplayName = (event) => {
        if (mode === 'user') {
            return event.spaceName || event.userName;
        }
        if (data?.permissions?.canViewDetails || event.isOwnBooking) {
            return event.userName;
        }
        return event.userName === 'Déjà Réservé' ? 'Déjà Réservé' : 'Réservé';
    };
    const goToPrevMonth = () => {
        setCurrentDate((prev) => {
            const newDate = new Date(prev);
            newDate.setMonth(prev.getMonth() - 1);
            return newDate;
        });
    };
    const goToNextMonth = () => {
        setCurrentDate((prev) => {
            const newDate = new Date(prev);
            newDate.setMonth(prev.getMonth() + 1);
            return newDate;
        });
    };
    if (error) {
        const isAuthError = error.message?.includes('Authentication required') || error.message?.includes('401');
        return ((0, jsx_runtime_1.jsx)(card_1.Card, { className: className, children: (0, jsx_runtime_1.jsx)(card_1.CardContent, { className: 'p-6', children: (0, jsx_runtime_1.jsxs)("div", { className: 'text-center space-y-3', "data-testid": 'calendar-error', children: [(0, jsx_runtime_1.jsx)("div", { className: 'text-red-600', children: isAuthError
                                ? language === 'fr'
                                    ? 'Authentification requise pour le calendrier'
                                    : 'Authentication required for calendar'
                                : language === 'fr'
                                    ? 'Erreur lors du chargement du calendrier'
                                    : 'Error loading calendar' }), isAuthError && ((0, jsx_runtime_1.jsx)("div", { className: 'text-sm text-gray-600', children: language === 'fr'
                                ? 'Veuillez vous reconnecter pour accéder au calendrier'
                                : 'Please sign in again to access the calendar' })), (0, jsx_runtime_1.jsx)(button_1.Button, { variant: 'outline', size: 'sm', onClick: () => queryClient.invalidateQueries({ queryKey: ['calendar'] }), "data-testid": 'retry-calendar', children: language === 'fr' ? 'Réessayer' : 'Retry' })] }) }) }));
    }
    return ((0, jsx_runtime_1.jsx)(tooltip_1.TooltipProvider, { children: (0, jsx_runtime_1.jsxs)(card_1.Card, { className: className, "data-testid": 'calendar-view', children: [(0, jsx_runtime_1.jsxs)(card_1.CardHeader, { className: 'pb-4', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center justify-between', children: [(0, jsx_runtime_1.jsxs)(card_1.CardTitle, { className: 'flex items-center gap-2', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Calendar, { className: 'h-5 w-5' }), mode === 'space' && data?.space?.name && (0, jsx_runtime_1.jsx)("span", { children: data.space.name }), mode === 'user' && ((0, jsx_runtime_1.jsx)("span", { children: language === 'fr' ? 'Mon Calendrier' : 'My Calendar' })), mode === 'building' && data?.building?.name && ((0, jsx_runtime_1.jsxs)("span", { children: [data.building.name, " - ", language === 'fr' ? 'Calendrier' : 'Calendar'] }))] }), showControls && ((0, jsx_runtime_1.jsx)("div", { className: 'flex items-center gap-2', children: (0, jsx_runtime_1.jsxs)(select_1.Select, { value: viewMode, onValueChange: (value) => setViewMode(value), children: [(0, jsx_runtime_1.jsx)(select_1.SelectTrigger, { className: 'w-32', children: (0, jsx_runtime_1.jsx)(select_1.SelectValue, {}) }), (0, jsx_runtime_1.jsxs)(select_1.SelectContent, { children: [(0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'month', children: language === 'fr' ? 'Mois' : 'Month' }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'week', children: language === 'fr' ? 'Semaine' : 'Week' })] })] }) }))] }), (0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center justify-between', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center gap-4', children: [(0, jsx_runtime_1.jsx)(button_1.Button, { variant: 'outline', size: 'sm', onClick: goToPrevMonth, "data-testid": 'prev-month', children: (0, jsx_runtime_1.jsx)(lucide_react_1.ChevronLeft, { className: 'h-4 w-4' }) }), (0, jsx_runtime_1.jsx)("h3", { className: 'text-lg font-semibold', "data-testid": 'current-month', children: (0, date_fns_1.format)(currentDate, 'MMMM yyyy', { locale: language === 'fr' ? locale_1.fr : undefined }) }), (0, jsx_runtime_1.jsx)(button_1.Button, { variant: 'outline', size: 'sm', onClick: goToNextMonth, "data-testid": 'next-month', children: (0, jsx_runtime_1.jsx)(lucide_react_1.ChevronRight, { className: 'h-4 w-4' }) })] }), data?.summary && ((0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center gap-4 text-sm text-muted-foreground', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center gap-1', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Clock, { className: 'h-4 w-4' }), (0, jsx_runtime_1.jsxs)("span", { children: [data.summary.totalBookings, " ", language === 'fr' ? 'réservations' : 'bookings'] })] }), data.summary.totalHours && ((0, jsx_runtime_1.jsx)("div", { className: 'flex items-center gap-1', children: (0, jsx_runtime_1.jsxs)("span", { children: [Math.round(data.summary.totalHours * 10) / 10, "h"] }) })), data.summary.uniqueUsers && ((0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center gap-1', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Users, { className: 'h-4 w-4' }), (0, jsx_runtime_1.jsxs)("span", { children: [data.summary.uniqueUsers, " ", language === 'fr' ? 'utilisateurs' : 'users'] })] }))] }))] })] }), (0, jsx_runtime_1.jsx)(card_1.CardContent, { children: isLoading ? ((0, jsx_runtime_1.jsx)("div", { className: 'flex items-center justify-center py-12', "data-testid": 'calendar-loading', children: (0, jsx_runtime_1.jsx)("div", { className: 'animate-spin rounded-full h-8 w-8 border-b-2 border-primary' }) })) : ((0, jsx_runtime_1.jsxs)("div", { className: 'space-y-4', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'grid grid-cols-7 gap-1', children: [['L', 'M', 'M', 'J', 'V', 'S', 'D'].map((day, index) => ((0, jsx_runtime_1.jsx)("div", { className: 'p-2 text-center text-sm font-medium text-muted-foreground border-b', children: day }, index))), monthDays.map((day, index) => {
                                        const dayEvents = getEventsForDay(day);
                                        const isCurrentDay = (0, date_fns_1.isToday)(day);
                                        return ((0, jsx_runtime_1.jsxs)("div", { className: `
                        min-h-[80px] p-1 border border-border/50 
                        ${isCurrentDay ? 'bg-primary/10 border-primary/30' : 'bg-card hover:bg-muted/50'}
                        transition-colors cursor-pointer
                      `, onClick: () => onDateClick?.(day), "data-testid": `calendar-day-${(0, date_fns_1.format)(day, 'yyyy-MM-dd')}`, children: [(0, jsx_runtime_1.jsx)("div", { className: `text-xs font-medium mb-1 ${isCurrentDay ? 'text-primary' : 'text-foreground'}`, children: (0, date_fns_1.format)(day, 'd') }), (0, jsx_runtime_1.jsxs)("div", { className: 'space-y-0.5', children: [dayEvents.slice(0, 2).map((event, eventIndex) => ((0, jsx_runtime_1.jsxs)(tooltip_1.Tooltip, { children: [(0, jsx_runtime_1.jsx)(tooltip_1.TooltipTrigger, { asChild: true, children: (0, jsx_runtime_1.jsx)("div", { className: `
                                  text-xs p-1 rounded truncate cursor-pointer
                                  ${event.isOwnBooking
                                                                            ? 'bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200 border border-green-200 dark:border-green-800'
                                                                            : data?.permissions?.canViewDetails
                                                                                ? 'bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200 border border-blue-200 dark:border-blue-800'
                                                                                : 'bg-gray-100 dark:bg-gray-900/30 text-gray-600 dark:text-gray-400 border border-gray-200 dark:border-gray-800'}
                                `, onClick: () => onEventClick?.(event), "data-testid": `calendar-event-${event.id}`, children: (0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center gap-1', children: [event.isOwnBooking && (0, jsx_runtime_1.jsx)(lucide_react_1.User, { className: 'h-3 w-3' }), data?.permissions?.canViewDetails && !event.isOwnBooking && ((0, jsx_runtime_1.jsx)(lucide_react_1.Eye, { className: 'h-3 w-3' })), !data?.permissions?.canViewDetails && !event.isOwnBooking && ((0, jsx_runtime_1.jsx)(lucide_react_1.EyeOff, { className: 'h-3 w-3' })), (0, jsx_runtime_1.jsx)("span", { className: 'truncate', children: getEventDisplayName(event) })] }) }) }), (0, jsx_runtime_1.jsx)(tooltip_1.TooltipContent, { children: (0, jsx_runtime_1.jsxs)("div", { className: 'space-y-1', children: [(0, jsx_runtime_1.jsx)("p", { className: 'font-medium', children: getEventDisplayName(event) }), (0, jsx_runtime_1.jsx)("p", { className: 'text-xs', children: formatEventTime(event.startTime, event.endTime) }), mode === 'user' && event.spaceName && ((0, jsx_runtime_1.jsx)("p", { className: 'text-xs opacity-80', children: event.spaceName })), mode === 'user' && event.buildingName && ((0, jsx_runtime_1.jsx)("p", { className: 'text-xs opacity-80', children: event.buildingName })), data?.permissions?.canViewDetails && event.userEmail && ((0, jsx_runtime_1.jsx)("p", { className: 'text-xs opacity-80', children: event.userEmail }))] }) })] }, eventIndex))), dayEvents.length > 2 && ((0, jsx_runtime_1.jsxs)("div", { className: 'text-xs text-muted-foreground', children: ["+", dayEvents.length - 2, " ", language === 'fr' ? 'autres' : 'more'] }))] })] }, index));
                                    })] }), (0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center justify-center gap-6 pt-4 border-t', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center gap-2', children: [(0, jsx_runtime_1.jsx)("div", { className: 'w-3 h-3 rounded bg-green-200 border border-green-300' }), (0, jsx_runtime_1.jsx)("span", { className: 'text-xs text-muted-foreground', children: language === 'fr' ? 'Mes réservations' : 'My bookings' })] }), data?.permissions?.canViewDetails ? ((0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center gap-2', children: [(0, jsx_runtime_1.jsx)("div", { className: 'w-3 h-3 rounded bg-blue-200 border border-blue-300' }), (0, jsx_runtime_1.jsx)("span", { className: 'text-xs text-muted-foreground', children: language === 'fr' ? 'Autres réservations' : 'Other bookings' })] })) : ((0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center gap-2', children: [(0, jsx_runtime_1.jsx)("div", { className: 'w-3 h-3 rounded bg-gray-200 border border-gray-300' }), (0, jsx_runtime_1.jsx)("span", { className: 'text-xs text-muted-foreground', children: language === 'fr' ? 'Déjà réservé' : 'Already reserved' })] }))] })] })) })] }) }));
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9jbGllbnQvc3JjL2NvbXBvbmVudHMvY29tbW9uLXNwYWNlcy9jYWxlbmRhci12aWV3LnRzeCIsIm1hcHBpbmdzIjoiOztBQXlIQSxvQ0EyV0M7O0FBcGVELGlDQUEwQztBQUMxQyx1REFBaUU7QUFDakUsdUNBU2tCO0FBQ2xCLDRDQUFxQztBQUNyQywrQ0FBZ0Y7QUFFaEYsbURBQWdEO0FBQ2hELG1EQU1nQztBQUVoQyxxREFBbUc7QUFDbkcsK0NBU3NCO0FBQ3RCLG1EQUErQztBQUMvQyx1REFBbUQ7QUFDbkQsK0NBQTJDO0FBeUUzQzs7Ozs7Ozs7OztHQVVHO0FBQ0gsU0FBZ0IsWUFBWSxDQUFDLEVBQzNCLE9BQU8sRUFDUCxVQUFVLEVBQ1YsSUFBSSxFQUNKLFlBQVksRUFDWixXQUFXLEVBQ1gsWUFBWSxHQUFHLElBQUksRUFDbkIsU0FBUyxHQUFHLEVBQUUsR0FDSTtJQUNsQixNQUFNLEVBQUUsQ0FBQyxFQUFFLFFBQVEsRUFBRSxHQUFHLElBQUEsMEJBQVcsR0FBRSxDQUFDO0lBQ3RDLE1BQU0sRUFBRSxJQUFJLEVBQUUsR0FBRyxJQUFBLGtCQUFPLEdBQUUsQ0FBQztJQUMzQixNQUFNLENBQUMsV0FBVyxFQUFFLGNBQWMsQ0FBQyxHQUFHLElBQUEsZ0JBQVEsRUFBQyxJQUFJLElBQUksRUFBRSxDQUFDLENBQUM7SUFDM0QsTUFBTSxDQUFDLFFBQVEsRUFBRSxXQUFXLENBQUMsR0FBRyxJQUFBLGdCQUFRLEVBQW1CLE9BQU8sQ0FBQyxDQUFDO0lBQ3BFLE1BQU0sV0FBVyxHQUFHLElBQUEsNEJBQWMsR0FBRSxDQUFDO0lBRXJDLE1BQU0sU0FBUyxHQUFHLElBQUEsdUJBQVksRUFBQyxXQUFXLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUMxRCxNQUFNLE9BQU8sR0FBRyxJQUFBLHFCQUFVLEVBQUMsV0FBVyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7SUFFdEQsOEJBQThCO0lBQzlCLE1BQU0sTUFBTSxHQUFHLElBQUEsZUFBTyxF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SyxTQUFTLEVBQUMseUJBQXlCLGFBQ3RDLGdDQUFLLFNBQVMsRUFBQyxvREFBb0QsR0FBTyxFQUMxRSxpQ0FBTSxTQUFTLEVBQUMsK0JBQStCLFlBQzVDLFFBQVEsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDLHFCQUFxQixDQUFDLENBQUMsQ0FBQyxnQkFBZ0IsR0FDeEQsSUFDSCxDQUNQLENBQUMsQ0FBQyxDQUFDLENBQ0YsaUNBQUssU0FBUyxFQUFDLHlCQUF5QixhQUN0QyxnQ0FBSyxTQUFTLEVBQUMsb0RBQW9ELEdBQU8sRUFDMUUsaUNBQU0sU0FBUyxFQUFDLCtCQUErQixZQUM1QyxRQUFRLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLGtCQUFrQixHQUNuRCxJQUNILENBQ1AsSUFDRyxJQUNGLENBQ1AsR0FDVyxJQUNULEdBQ1MsQ0FDbkIsQ0FBQztBQUNKLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9jbGllbnQvc3JjL2NvbXBvbmVudHMvY29tbW9uLXNwYWNlcy9jYWxlbmRhci12aWV3LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVF1ZXJ5LCB1c2VRdWVyeUNsaWVudCB9IGZyb20gJ0B0YW5zdGFjay9yZWFjdC1xdWVyeSc7XG5pbXBvcnQge1xuICBmb3JtYXQsXG4gIGFkZERheXMsXG4gIHN0YXJ0T2ZNb250aCxcbiAgZW5kT2ZNb250aCxcbiAgZWFjaERheU9mSW50ZXJ2YWwsXG4gIGlzU2FtZURheSxcbiAgcGFyc2VJU08sXG4gIGlzVG9kYXksXG59IGZyb20gJ2RhdGUtZm5zJztcbmltcG9ydCB7IGZyIH0gZnJvbSAnZGF0ZS1mbnMvbG9jYWxlJztcbmltcG9ydCB7IENhcmQsIENhcmRDb250ZW50LCBDYXJkSGVhZGVyLCBDYXJkVGl0bGUgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvY2FyZCc7XG5pbXBvcnQgeyBCYWRnZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9iYWRnZSc7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJztcbmltcG9ydCB7XG4gIFNlbGVjdCxcbiAgU2VsZWN0Q29udGVudCxcbiAgU2VsZWN0SXRlbSxcbiAgU2VsZWN0VHJpZ2dlcixcbiAgU2VsZWN0VmFsdWUsXG59IGZyb20gJ0AvY29tcG9uZW50cy91aS9zZWxlY3QnO1xuaW1wb3J0IHsgU2VwYXJhdG9yIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3NlcGFyYXRvcic7XG5pbXBvcnQgeyBUb29sdGlwLCBUb29sdGlwQ29udGVudCwgVG9vbHRpcFByb3ZpZGVyLCBUb29sdGlwVHJpZ2dlciB9IGZyb20gJ0AvY29tcG9uZW50cy91aS90b29sdGlwJztcbmltcG9ydCB7XG4gIENhbGVuZGFyIGFzIENhbGVuZGFySWNvbixcbiAgQ2hldnJvbkxlZnQsXG4gIENoZXZyb25SaWdodCxcbiAgQ2xvY2ssXG4gIFVzZXIsXG4gIFVzZXJzLFxuICBFeWUsXG4gIEV5ZU9mZixcbn0gZnJvbSAnbHVjaWRlLXJlYWN0JztcbmltcG9ydCB7IGFwaVJlcXVlc3QgfSBmcm9tICdAL2xpYi9xdWVyeUNsaWVudCc7XG5pbXBvcnQgeyB1c2VMYW5ndWFnZSB9IGZyb20gJ0AvaG9va3MvdXNlLWxhbmd1YWdlJztcbmltcG9ydCB7IHVzZUF1dGggfSBmcm9tICdAL2hvb2tzL3VzZS1hdXRoJztcblxuLyoqXG4gKlxuICovXG5pbnRlcmZhY2UgQ2FsZW5kYXJFdmVudCB7XG4gIGlkOiBzdHJpbmc7XG4gIHN0YXJ0VGltZTogc3RyaW5nO1xuICBlbmRUaW1lOiBzdHJpbmc7XG4gIHN0YXR1czogJ2NvbmZpcm1lZCcgfCAnY2FuY2VsbGVkJztcbiAgdXNlcklkPzogc3RyaW5nIHwgbnVsbDtcbiAgdXNlck5hbWU6IHN0cmluZztcbiAgdXNlckVtYWlsPzogc3RyaW5nIHwgbnVsbDtcbiAgaXNPd25Cb29raW5nPzogYm9vbGVhbjtcbiAgc3BhY2VOYW1lPzogc3RyaW5nO1xuICBzcGFjZUlkPzogc3RyaW5nO1xuICBidWlsZGluZ05hbWU/OiBzdHJpbmc7XG4gIHVzZXJSb2xlPzogc3RyaW5nO1xufVxuXG4vKipcbiAqXG4gKi9cbmludGVyZmFjZSBDYWxlbmRhclZpZXdQcm9wcyB7XG4gIHNwYWNlSWQ/OiBzdHJpbmc7XG4gIGJ1aWxkaW5nSWQ/OiBzdHJpbmc7XG4gIG1vZGU6ICdzcGFjZScgfCAndXNlcicgfCAnYnVpbGRpbmcnO1xuICBvbkV2ZW50Q2xpY2s/OiAoZXZlbnQ6IENhbGVuZGFyRXZlbnQpID0+IHZvaWQ7XG4gIG9uRGF0ZUNsaWNrPzogKGRhdGU6IERhdGUpID0+IHZvaWQ7XG4gIHNob3dDb250cm9scz86IGJvb2xlYW47XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbn1cblxuLyoqXG4gKlxuICovXG5pbnRlcmZhY2UgQ2FsZW5kYXJEYXRhIHtcbiAgc3BhY2U/OiB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgaXNSZXNlcnZhYmxlOiBib29sZWFuO1xuICAgIG9wZW5pbmdIb3Vycz86IGFueTtcbiAgfTtcbiAgdXNlcj86IHtcbiAgICBpZDogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICByb2xlOiBzdHJpbmc7XG4gIH07XG4gIGJ1aWxkaW5nPzoge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGFkZHJlc3M6IHN0cmluZztcbiAgfTtcbiAgY2FsZW5kYXI6IHtcbiAgICB2aWV3OiBzdHJpbmc7XG4gICAgc3RhcnREYXRlOiBzdHJpbmc7XG4gICAgZW5kRGF0ZTogc3RyaW5nO1xuICAgIGV2ZW50cz86IENhbGVuZGFyRXZlbnRbXTtcbiAgICBib29raW5ncz86IENhbGVuZGFyRXZlbnRbXTtcbiAgfTtcbiAgcGVybWlzc2lvbnM/OiB7XG4gICAgY2FuVmlld0RldGFpbHM6IGJvb2xlYW47XG4gICAgY2FuQ3JlYXRlQm9va2luZ3M6IGJvb2xlYW47XG4gIH07XG4gIHN1bW1hcnk/OiB7XG4gICAgdG90YWxCb29raW5nczogbnVtYmVyO1xuICAgIHRvdGFsSG91cnM/OiBudW1iZXI7XG4gICAgdG90YWxTcGFjZXM/OiBudW1iZXI7XG4gICAgYWN0aXZlU3BhY2VzPzogbnVtYmVyO1xuICAgIHVuaXF1ZVVzZXJzPzogbnVtYmVyO1xuICB9O1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0gcm9vdDBcbiAqIEBwYXJhbSByb290MC5zcGFjZUlkXG4gKiBAcGFyYW0gcm9vdDAuYnVpbGRpbmdJZFxuICogQHBhcmFtIHJvb3QwLm1vZGVcbiAqIEBwYXJhbSByb290MC5vbkV2ZW50Q2xpY2tcbiAqIEBwYXJhbSByb290MC5vbkRhdGVDbGlja1xuICogQHBhcmFtIHJvb3QwLnNob3dDb250cm9sc1xuICogQHBhcmFtIHJvb3QwLmNsYXNzTmFtZVxuICovXG5leHBvcnQgZnVuY3Rpb24gQ2FsZW5kYXJWaWV3KHtcbiAgc3BhY2VJZCxcbiAgYnVpbGRpbmdJZCxcbiAgbW9kZSxcbiAgb25FdmVudENsaWNrLFxuICBvbkRhdGVDbGljayxcbiAgc2hvd0NvbnRyb2xzID0gdHJ1ZSxcbiAgY2xhc3NOYW1lID0gJycsXG59OiBDYWxlbmRhclZpZXdQcm9wcykge1xuICBjb25zdCB7IHQsIGxhbmd1YWdlIH0gPSB1c2VMYW5ndWFnZSgpO1xuICBjb25zdCB7IHVzZXIgfSA9IHVzZUF1dGgoKTtcbiAgY29uc3QgW2N1cnJlbnREYXRlLCBzZXRDdXJyZW50RGF0ZV0gPSB1c2VTdGF0ZShuZXcgRGF0ZSgpKTtcbiAgY29uc3QgW3ZpZXdNb2RlLCBzZXRWaWV3TW9kZV0gPSB1c2VTdGF0ZTwnbW9udGgnIHwgJ3dlZWsnPignbW9udGgnKTtcbiAgY29uc3QgcXVlcnlDbGllbnQgPSB1c2VRdWVyeUNsaWVudCgpO1xuXG4gIGNvbnN0IHN0YXJ0RGF0ZSA9IHN0YXJ0T2ZNb250aChjdXJyZW50RGF0ZSkudG9JU09TdHJpbmcoKTtcbiAgY29uc3QgZW5kRGF0ZSA9IGVuZE9mTW9udGgoY3VycmVudERhdGUpLnRvSVNPU3RyaW5nKCk7XG5cbiAgLy8gQnVpbGQgQVBJIFVSTCBiYXNlZCBvbiBtb2RlXG4gIGNvbnN0IGFwaVVybCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoe1xuICAgICAgc3RhcnRfZGF0ZTogc3RhcnREYXRlLFxuICAgICAgZW5kX2RhdGU6IGVuZERhdGUsXG4gICAgICB2aWV3OiB2aWV3TW9kZSxcbiAgICB9KTtcblxuICAgIGlmIChtb2RlID09PSAnc3BhY2UnICYmIHNwYWNlSWQpIHtcbiAgICAgIHJldHVybiBgL2FwaS9jb21tb24tc3BhY2VzL2NhbGVuZGFyLyR7c3BhY2VJZH0/JHtwYXJhbXN9YDtcbiAgICB9IGVsc2UgaWYgKG1vZGUgPT09ICdidWlsZGluZycgJiYgYnVpbGRpbmdJZCkge1xuICAgICAgcmV0dXJuIGAvYXBpL2NvbW1vbi1zcGFjZXMvY2FsZW5kYXIvYnVpbGRpbmcvJHtidWlsZGluZ0lkfT8ke3BhcmFtc31gO1xuICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gJ3VzZXInKSB7XG4gICAgICByZXR1cm4gYC9hcGkvY29tbW9uLXNwYWNlcy91c2VyLWNhbGVuZGFyPyR7cGFyYW1zfWA7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9LCBbbW9kZSwgc3BhY2VJZCwgYnVpbGRpbmdJZCwgc3RhcnREYXRlLCBlbmREYXRlLCB2aWV3TW9kZV0pO1xuXG4gIGNvbnN0IHsgZGF0YSwgaXNMb2FkaW5nLCBlcnJvciB9ID0gdXNlUXVlcnk8Q2FsZW5kYXJEYXRhPih7XG4gICAgcXVlcnlLZXk6IFsnY2FsZW5kYXInLCBtb2RlLCBzcGFjZUlkLCBidWlsZGluZ0lkLCBzdGFydERhdGUsIGVuZERhdGUsIHZpZXdNb2RlXSxcbiAgICBxdWVyeUZuOiBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWFwaVVybCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlSZXF1ZXN0KCdHRVQnLCBhcGlVcmwpO1xuICAgICAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgICAvLyBIYW5kbGUgYXV0aGVudGljYXRpb24gZXJyb3JzIHNwZWNpZmljYWxseSAtIHN1cHByZXNzIGZvciB0aW1pbmcgaXNzdWVzXG4gICAgICAgIGlmIChlcnJvci5tZXNzYWdlPy5pbmNsdWRlcygnNDAxJykpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0F1dGhlbnRpY2F0aW9uIHJlcXVpcmVkIGZvciBjYWxlbmRhciBhY2Nlc3MnKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICB9LFxuICAgIGVuYWJsZWQ6ICEhYXBpVXJsICYmICEhdXNlciAmJiAhIXVzZXIuaWQsXG4gICAgcmV0cnk6IChmYWlsdXJlQ291bnQsIGVycm9yOiBhbnkpID0+IHtcbiAgICAgIC8vIERvbid0IHJldHJ5IG9uIGF1dGggZXJyb3JzXG4gICAgICBpZiAoZXJyb3I/Lm1lc3NhZ2U/LmluY2x1ZGVzKCdBdXRoZW50aWNhdGlvbiByZXF1aXJlZCcpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWlsdXJlQ291bnQgPCAyO1xuICAgIH0sXG4gIH0pO1xuXG4gIGNvbnN0IG1vbnRoRGF5cyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHN0YXJ0ID0gc3RhcnRPZk1vbnRoKGN1cnJlbnREYXRlKTtcbiAgICBjb25zdCBlbmQgPSBlbmRPZk1vbnRoKGN1cnJlbnREYXRlKTtcbiAgICByZXR1cm4gZWFjaERheU9mSW50ZXJ2YWwoeyBzdGFydCwgZW5kIH0pO1xuICB9LCBbY3VycmVudERhdGVdKTtcblxuICBjb25zdCBnZXRFdmVudHNGb3JEYXkgPSAoZGF5OiBEYXRlKSA9PiB7XG4gICAgaWYgKCFkYXRhPy5jYWxlbmRhcikge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIGNvbnN0IGV2ZW50cyA9IGRhdGEuY2FsZW5kYXIuZXZlbnRzIHx8IGRhdGEuY2FsZW5kYXIuYm9va2luZ3MgfHwgW107XG4gICAgcmV0dXJuIGV2ZW50cy5maWx0ZXIoXG4gICAgICAoZXZlbnQpID0+IGlzU2FtZURheShwYXJzZUlTTyhldmVudC5zdGFydFRpbWUpLCBkYXkpICYmIGV2ZW50LnN0YXR1cyA9PT0gJ2NvbmZpcm1lZCdcbiAgICApO1xuICB9O1xuXG4gIGNvbnN0IGZvcm1hdEV2ZW50VGltZSA9IChzdGFydFRpbWU6IHN0cmluZywgZW5kVGltZTogc3RyaW5nKSA9PiB7XG4gICAgY29uc3Qgc3RhcnQgPSBwYXJzZUlTTyhzdGFydFRpbWUpO1xuICAgIGNvbnN0IGVuZCA9IHBhcnNlSVNPKGVuZFRpbWUpO1xuICAgIGNvbnN0IGxvY2FsZSA9IGxhbmd1YWdlID09PSAnZnInID8gZnIgOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIGAke2Zvcm1hdChzdGFydCwgJ0hIOm1tJywgeyBsb2NhbGUgfSl9IC0gJHtmb3JtYXQoZW5kLCAnSEg6bW0nLCB7IGxvY2FsZSB9KX1gO1xuICB9O1xuXG4gIGNvbnN0IGdldEV2ZW50RGlzcGxheU5hbWUgPSAoZXZlbnQ6IENhbGVuZGFyRXZlbnQpID0+IHtcbiAgICBpZiAobW9kZSA9PT0gJ3VzZXInKSB7XG4gICAgICByZXR1cm4gZXZlbnQuc3BhY2VOYW1lIHx8IGV2ZW50LnVzZXJOYW1lO1xuICAgIH1cblxuICAgIGlmIChkYXRhPy5wZXJtaXNzaW9ucz8uY2FuVmlld0RldGFpbHMgfHwgZXZlbnQuaXNPd25Cb29raW5nKSB7XG4gICAgICByZXR1cm4gZXZlbnQudXNlck5hbWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGV2ZW50LnVzZXJOYW1lID09PSAnRMOpasOgIFLDqXNlcnbDqScgPyAnRMOpasOgIFLDqXNlcnbDqScgOiAnUsOpc2VydsOpJztcbiAgfTtcblxuICBjb25zdCBnb1RvUHJldk1vbnRoID0gKCkgPT4ge1xuICAgIHNldEN1cnJlbnREYXRlKChwcmV2KSA9PiB7XG4gICAgICBjb25zdCBuZXdEYXRlID0gbmV3IERhdGUocHJldik7XG4gICAgICBuZXdEYXRlLnNldE1vbnRoKHByZXYuZ2V0TW9udGgoKSAtIDEpO1xuICAgICAgcmV0dXJuIG5ld0RhdGU7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgZ29Ub05leHRNb250aCA9ICgpID0+IHtcbiAgICBzZXRDdXJyZW50RGF0ZSgocHJldikgPT4ge1xuICAgICAgY29uc3QgbmV3RGF0ZSA9IG5ldyBEYXRlKHByZXYpO1xuICAgICAgbmV3RGF0ZS5zZXRNb250aChwcmV2LmdldE1vbnRoKCkgKyAxKTtcbiAgICAgIHJldHVybiBuZXdEYXRlO1xuICAgIH0pO1xuICB9O1xuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnN0IGlzQXV0aEVycm9yID1cbiAgICAgIGVycm9yLm1lc3NhZ2U/LmluY2x1ZGVzKCdBdXRoZW50aWNhdGlvbiByZXF1aXJlZCcpIHx8IGVycm9yLm1lc3NhZ2U/LmluY2x1ZGVzKCc0MDEnKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8Q2FyZCBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9J3AtNic+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3RleHQtY2VudGVyIHNwYWNlLXktMycgZGF0YS10ZXN0aWQ9J2NhbGVuZGFyLWVycm9yJz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd0ZXh0LXJlZC02MDAnPlxuICAgICAgICAgICAgICB7aXNBdXRoRXJyb3JcbiAgICAgICAgICAgICAgICA/IGxhbmd1YWdlID09PSAnZnInXG4gICAgICAgICAgICAgICAgICA/ICdBdXRoZW50aWZpY2F0aW9uIHJlcXVpc2UgcG91ciBsZSBjYWxlbmRyaWVyJ1xuICAgICAgICAgICAgICAgICAgOiAnQXV0aGVudGljYXRpb24gcmVxdWlyZWQgZm9yIGNhbGVuZGFyJ1xuICAgICAgICAgICAgICAgIDogbGFuZ3VhZ2UgPT09ICdmcidcbiAgICAgICAgICAgICAgICAgID8gJ0VycmV1ciBsb3JzIGR1IGNoYXJnZW1lbnQgZHUgY2FsZW5kcmllcidcbiAgICAgICAgICAgICAgICAgIDogJ0Vycm9yIGxvYWRpbmcgY2FsZW5kYXInfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7aXNBdXRoRXJyb3IgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndGV4dC1zbSB0ZXh0LWdyYXktNjAwJz5cbiAgICAgICAgICAgICAgICB7bGFuZ3VhZ2UgPT09ICdmcidcbiAgICAgICAgICAgICAgICAgID8gJ1ZldWlsbGV6IHZvdXMgcmVjb25uZWN0ZXIgcG91ciBhY2PDqWRlciBhdSBjYWxlbmRyaWVyJ1xuICAgICAgICAgICAgICAgICAgOiAnUGxlYXNlIHNpZ24gaW4gYWdhaW4gdG8gYWNjZXNzIHRoZSBjYWxlbmRhcid9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgdmFyaWFudD0nb3V0bGluZSdcbiAgICAgICAgICAgICAgc2l6ZT0nc20nXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHF1ZXJ5Q2xpZW50LmludmFsaWRhdGVRdWVyaWVzKHsgcXVlcnlLZXk6IFsnY2FsZW5kYXInXSB9KX1cbiAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9J3JldHJ5LWNhbGVuZGFyJ1xuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7bGFuZ3VhZ2UgPT09ICdmcicgPyAnUsOpZXNzYXllcicgOiAnUmV0cnknfVxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICA8L0NhcmQ+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPFRvb2x0aXBQcm92aWRlcj5cbiAgICAgIDxDYXJkIGNsYXNzTmFtZT17Y2xhc3NOYW1lfSBkYXRhLXRlc3RpZD0nY2FsZW5kYXItdmlldyc+XG4gICAgICAgIDxDYXJkSGVhZGVyIGNsYXNzTmFtZT0ncGItNCc+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2Vlbic+XG4gICAgICAgICAgICA8Q2FyZFRpdGxlIGNsYXNzTmFtZT0nZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTInPlxuICAgICAgICAgICAgICA8Q2FsZW5kYXJJY29uIGNsYXNzTmFtZT0naC01IHctNScgLz5cbiAgICAgICAgICAgICAge21vZGUgPT09ICdzcGFjZScgJiYgZGF0YT8uc3BhY2U/Lm5hbWUgJiYgPHNwYW4+e2RhdGEuc3BhY2UubmFtZX08L3NwYW4+fVxuICAgICAgICAgICAgICB7bW9kZSA9PT0gJ3VzZXInICYmIChcbiAgICAgICAgICAgICAgICA8c3Bhbj57bGFuZ3VhZ2UgPT09ICdmcicgPyAnTW9uIENhbGVuZHJpZXInIDogJ015IENhbGVuZGFyJ308L3NwYW4+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIHttb2RlID09PSAnYnVpbGRpbmcnICYmIGRhdGE/LmJ1aWxkaW5nPy5uYW1lICYmIChcbiAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgIHtkYXRhLmJ1aWxkaW5nLm5hbWV9IC0ge2xhbmd1YWdlID09PSAnZnInID8gJ0NhbGVuZHJpZXInIDogJ0NhbGVuZGFyJ31cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L0NhcmRUaXRsZT5cblxuICAgICAgICAgICAge3Nob3dDb250cm9scyAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMic+XG4gICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3ZpZXdNb2RlfVxuICAgICAgICAgICAgICAgICAgb25WYWx1ZUNoYW5nZT17KHZhbHVlOiAnbW9udGgnIHwgJ3dlZWsnKSA9PiBzZXRWaWV3TW9kZSh2YWx1ZSl9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPFNlbGVjdFRyaWdnZXIgY2xhc3NOYW1lPSd3LTMyJz5cbiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFZhbHVlIC8+XG4gICAgICAgICAgICAgICAgICA8L1NlbGVjdFRyaWdnZXI+XG4gICAgICAgICAgICAgICAgICA8U2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9J21vbnRoJz57bGFuZ3VhZ2UgPT09ICdmcicgPyAnTW9pcycgOiAnTW9udGgnfTwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9J3dlZWsnPntsYW5ndWFnZSA9PT0gJ2ZyJyA/ICdTZW1haW5lJyA6ICdXZWVrJ308L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICA8L1NlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4nPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXggaXRlbXMtY2VudGVyIGdhcC00Jz5cbiAgICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PSdvdXRsaW5lJyBzaXplPSdzbScgb25DbGljaz17Z29Ub1ByZXZNb250aH0gZGF0YS10ZXN0aWQ9J3ByZXYtbW9udGgnPlxuICAgICAgICAgICAgICAgIDxDaGV2cm9uTGVmdCBjbGFzc05hbWU9J2gtNCB3LTQnIC8+XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9J3RleHQtbGcgZm9udC1zZW1pYm9sZCcgZGF0YS10ZXN0aWQ9J2N1cnJlbnQtbW9udGgnPlxuICAgICAgICAgICAgICAgIHtmb3JtYXQoY3VycmVudERhdGUsICdNTU1NIHl5eXknLCB7IGxvY2FsZTogbGFuZ3VhZ2UgPT09ICdmcicgPyBmciA6IHVuZGVmaW5lZCB9KX1cbiAgICAgICAgICAgICAgPC9oMz5cblxuICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9J291dGxpbmUnIHNpemU9J3NtJyBvbkNsaWNrPXtnb1RvTmV4dE1vbnRofSBkYXRhLXRlc3RpZD0nbmV4dC1tb250aCc+XG4gICAgICAgICAgICAgICAgPENoZXZyb25SaWdodCBjbGFzc05hbWU9J2gtNCB3LTQnIC8+XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIHtkYXRhPy5zdW1tYXJ5ICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXggaXRlbXMtY2VudGVyIGdhcC00IHRleHQtc20gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kJz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEnPlxuICAgICAgICAgICAgICAgICAgPENsb2NrIGNsYXNzTmFtZT0naC00IHctNCcgLz5cbiAgICAgICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgICAgICB7ZGF0YS5zdW1tYXJ5LnRvdGFsQm9va2luZ3N9IHtsYW5ndWFnZSA9PT0gJ2ZyJyA/ICdyw6lzZXJ2YXRpb25zJyA6ICdib29raW5ncyd9XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAge2RhdGEuc3VtbWFyeS50b3RhbEhvdXJzICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSc+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPntNYXRoLnJvdW5kKGRhdGEuc3VtbWFyeS50b3RhbEhvdXJzICogMTApIC8gMTB9aDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAge2RhdGEuc3VtbWFyeS51bmlxdWVVc2VycyAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEnPlxuICAgICAgICAgICAgICAgICAgICA8VXNlcnMgY2xhc3NOYW1lPSdoLTQgdy00JyAvPlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICB7ZGF0YS5zdW1tYXJ5LnVuaXF1ZVVzZXJzfSB7bGFuZ3VhZ2UgPT09ICdmcicgPyAndXRpbGlzYXRldXJzJyA6ICd1c2Vycyd9XG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9DYXJkSGVhZGVyPlxuXG4gICAgICAgIDxDYXJkQ29udGVudD5cbiAgICAgICAgICB7aXNMb2FkaW5nID8gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHB5LTEyJyBkYXRhLXRlc3RpZD0nY2FsZW5kYXItbG9hZGluZyc+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtOCB3LTggYm9yZGVyLWItMiBib3JkZXItcHJpbWFyeSc+PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3NwYWNlLXktNCc+XG4gICAgICAgICAgICAgIHsvKiBDYWxlbmRhciBHcmlkICovfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZ3JpZCBncmlkLWNvbHMtNyBnYXAtMSc+XG4gICAgICAgICAgICAgICAgey8qIFdlZWsgZGF5IGhlYWRlcnMgKi99XG4gICAgICAgICAgICAgICAge1snTCcsICdNJywgJ00nLCAnSicsICdWJywgJ1MnLCAnRCddLm1hcCgoZGF5LCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3AtMiB0ZXh0LWNlbnRlciB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBib3JkZXItYidcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge2RheX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkpfVxuXG4gICAgICAgICAgICAgICAgey8qIENhbGVuZGFyIGRheXMgKi99XG4gICAgICAgICAgICAgICAge21vbnRoRGF5cy5tYXAoKGRheSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGRheUV2ZW50cyA9IGdldEV2ZW50c0ZvckRheShkYXkpO1xuICAgICAgICAgICAgICAgICAgY29uc3QgaXNDdXJyZW50RGF5ID0gaXNUb2RheShkYXkpO1xuXG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbi1oLVs4MHB4XSBwLTEgYm9yZGVyIGJvcmRlci1ib3JkZXIvNTAgXG4gICAgICAgICAgICAgICAgICAgICAgICAke2lzQ3VycmVudERheSA/ICdiZy1wcmltYXJ5LzEwIGJvcmRlci1wcmltYXJ5LzMwJyA6ICdiZy1jYXJkIGhvdmVyOmJnLW11dGVkLzUwJ31cbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb24tY29sb3JzIGN1cnNvci1wb2ludGVyXG4gICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvbkRhdGVDbGljaz8uKGRheSl9XG4gICAgICAgICAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9e2BjYWxlbmRhci1kYXktJHtmb3JtYXQoZGF5LCAneXl5eS1NTS1kZCcpfWB9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B0ZXh0LXhzIGZvbnQtbWVkaXVtIG1iLTEgJHtpc0N1cnJlbnREYXkgPyAndGV4dC1wcmltYXJ5JyA6ICd0ZXh0LWZvcmVncm91bmQnfWB9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdChkYXksICdkJyl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc3BhY2UteS0wLjUnPlxuICAgICAgICAgICAgICAgICAgICAgICAge2RheUV2ZW50cy5zbGljZSgwLCAyKS5tYXAoKGV2ZW50LCBldmVudEluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxUb29sdGlwIGtleT17ZXZlbnRJbmRleH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRvb2x0aXBUcmlnZ2VyIGFzQ2hpbGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQteHMgcC0xIHJvdW5kZWQgdHJ1bmNhdGUgY3Vyc29yLXBvaW50ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuaXNPd25Cb29raW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLWdyZWVuLTEwMCBkYXJrOmJnLWdyZWVuLTkwMC8zMCB0ZXh0LWdyZWVuLTgwMCBkYXJrOnRleHQtZ3JlZW4tMjAwIGJvcmRlciBib3JkZXItZ3JlZW4tMjAwIGRhcms6Ym9yZGVyLWdyZWVuLTgwMCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkYXRhPy5wZXJtaXNzaW9ucz8uY2FuVmlld0RldGFpbHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdiZy1ibHVlLTEwMCBkYXJrOmJnLWJsdWUtOTAwLzMwIHRleHQtYmx1ZS04MDAgZGFyazp0ZXh0LWJsdWUtMjAwIGJvcmRlciBib3JkZXItYmx1ZS0yMDAgZGFyazpib3JkZXItYmx1ZS04MDAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnYmctZ3JheS0xMDAgZGFyazpiZy1ncmF5LTkwMC8zMCB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMCBib3JkZXIgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktODAwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gb25FdmVudENsaWNrPy4oZXZlbnQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD17YGNhbGVuZGFyLWV2ZW50LSR7ZXZlbnQuaWR9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXggaXRlbXMtY2VudGVyIGdhcC0xJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZXZlbnQuaXNPd25Cb29raW5nICYmIDxVc2VyIGNsYXNzTmFtZT0naC0zIHctMycgLz59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RhdGE/LnBlcm1pc3Npb25zPy5jYW5WaWV3RGV0YWlscyAmJiAhZXZlbnQuaXNPd25Cb29raW5nICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxFeWUgY2xhc3NOYW1lPSdoLTMgdy0zJyAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyFkYXRhPy5wZXJtaXNzaW9ucz8uY2FuVmlld0RldGFpbHMgJiYgIWV2ZW50LmlzT3duQm9va2luZyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RXllT2ZmIGNsYXNzTmFtZT0naC0zIHctMycgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0ndHJ1bmNhdGUnPntnZXRFdmVudERpc3BsYXlOYW1lKGV2ZW50KX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Ub29sdGlwVHJpZ2dlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VG9vbHRpcENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc3BhY2UteS0xJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSdmb250LW1lZGl1bSc+e2dldEV2ZW50RGlzcGxheU5hbWUoZXZlbnQpfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSd0ZXh0LXhzJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0RXZlbnRUaW1lKGV2ZW50LnN0YXJ0VGltZSwgZXZlbnQuZW5kVGltZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge21vZGUgPT09ICd1c2VyJyAmJiBldmVudC5zcGFjZU5hbWUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0ndGV4dC14cyBvcGFjaXR5LTgwJz57ZXZlbnQuc3BhY2VOYW1lfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge21vZGUgPT09ICd1c2VyJyAmJiBldmVudC5idWlsZGluZ05hbWUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0ndGV4dC14cyBvcGFjaXR5LTgwJz57ZXZlbnQuYnVpbGRpbmdOYW1lfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RhdGE/LnBlcm1pc3Npb25zPy5jYW5WaWV3RGV0YWlscyAmJiBldmVudC51c2VyRW1haWwgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0ndGV4dC14cyBvcGFjaXR5LTgwJz57ZXZlbnQudXNlckVtYWlsfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVG9vbHRpcENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvVG9vbHRpcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZGF5RXZlbnRzLmxlbmd0aCA+IDIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmQnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICt7ZGF5RXZlbnRzLmxlbmd0aCAtIDJ9IHtsYW5ndWFnZSA9PT0gJ2ZyJyA/ICdhdXRyZXMnIDogJ21vcmUnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgey8qIExlZ2VuZCAqL31cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC02IHB0LTQgYm9yZGVyLXQnPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMic+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndy0zIGgtMyByb3VuZGVkIGJnLWdyZWVuLTIwMCBib3JkZXIgYm9yZGVyLWdyZWVuLTMwMCc+PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3RleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kJz5cbiAgICAgICAgICAgICAgICAgICAge2xhbmd1YWdlID09PSAnZnInID8gJ01lcyByw6lzZXJ2YXRpb25zJyA6ICdNeSBib29raW5ncyd9XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAge2RhdGE/LnBlcm1pc3Npb25zPy5jYW5WaWV3RGV0YWlscyA/IChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMic+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LTMgaC0zIHJvdW5kZWQgYmctYmx1ZS0yMDAgYm9yZGVyIGJvcmRlci1ibHVlLTMwMCc+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0ndGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmQnPlxuICAgICAgICAgICAgICAgICAgICAgIHtsYW5ndWFnZSA9PT0gJ2ZyJyA/ICdBdXRyZXMgcsOpc2VydmF0aW9ucycgOiAnT3RoZXIgYm9va2luZ3MnfVxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXggaXRlbXMtY2VudGVyIGdhcC0yJz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMyBoLTMgcm91bmRlZCBiZy1ncmF5LTIwMCBib3JkZXIgYm9yZGVyLWdyYXktMzAwJz48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSd0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCc+XG4gICAgICAgICAgICAgICAgICAgICAge2xhbmd1YWdlID09PSAnZnInID8gJ0TDqWrDoCByw6lzZXJ2w6knIDogJ0FscmVhZHkgcmVzZXJ2ZWQnfVxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICA8L0NhcmQ+XG4gICAgPC9Ub29sdGlwUHJvdmlkZXI+XG4gICk7XG59XG4iXSwidmVyc2lvbiI6M30=