4e04b5301bdffbcf19a6ffbf403778c5
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = Buildings;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("react");
const react_query_1 = require("@tanstack/react-query");
const card_1 = require("@/components/ui/card");
const button_1 = require("@/components/ui/button");
const badge_1 = require("@/components/ui/badge");
const input_1 = require("@/components/ui/input");
const select_1 = require("@/components/ui/select");
const dialog_1 = require("@/components/ui/dialog");
const form_1 = require("@/components/ui/form");
const use_toast_1 = require("@/hooks/use-toast");
const use_language_1 = require("@/hooks/use-language");
const react_hook_form_1 = require("react-hook-form");
const zod_1 = require("@hookform/resolvers/zod");
const zod_2 = require("zod");
const queryClient_1 = require("@/lib/queryClient");
const lucide_react_1 = require("lucide-react");
const header_1 = require("@/components/layout/header");
const wouter_1 = require("wouter");
// Form schema for creating/editing buildings
const buildingFormSchema = zod_2.z.object({
    name: zod_2.z.string().min(1, 'Building name is required').max(255, 'Name too long'),
    address: zod_2.z.string().min(1, 'Address is required').max(500, 'Address too long'),
    city: zod_2.z.string().min(1, 'City is required').max(100, 'City too long'),
    province: zod_2.z.string().min(1, 'Province is required').max(100, 'Province too long'),
    postalCode: zod_2.z.string().min(1, 'Postal code is required').max(20, 'Postal code too long'),
    buildingType: zod_2.z.enum(['condo', 'apartment', 'townhouse', 'commercial', 'mixed_use', 'other']),
    totalUnits: zod_2.z
        .number()
        .int()
        .min(1, 'Must have at least 1 unit')
        .max(300, 'Maximum 300 units allowed'),
    organizationId: zod_2.z.string().min(1, 'Organization is required'),
});
/**
 *
 * @param root0
 * @param root0.building
 * @param root0.userRole
 * @param root0.onEdit
 * @param root0.onDelete
 */
function BuildingCard({ building, userRole, onEdit, onDelete }) {
    const isAdmin = userRole === 'admin';
    const canEdit = ['admin', 'manager'].includes(userRole || '');
    return ((0, jsx_runtime_1.jsxs)(card_1.Card, { className: 'h-full', children: [(0, jsx_runtime_1.jsx)(card_1.CardHeader, { children: (0, jsx_runtime_1.jsxs)("div", { className: 'flex items-start justify-between', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center space-x-2', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Building, { className: 'h-5 w-5 text-blue-600' }), (0, jsx_runtime_1.jsx)(card_1.CardTitle, { className: 'text-lg line-clamp-2 break-words', children: building.name })] }), canEdit && ((0, jsx_runtime_1.jsxs)("div", { className: 'flex gap-1', children: [(0, jsx_runtime_1.jsx)(button_1.Button, { size: 'sm', variant: 'ghost', onClick: () => onEdit(building), children: (0, jsx_runtime_1.jsx)(lucide_react_1.Edit, { className: 'h-3 w-3' }) }), isAdmin && ((0, jsx_runtime_1.jsx)(button_1.Button, { size: 'sm', variant: 'ghost', onClick: () => onDelete(building), className: 'text-red-600 hover:text-red-700', children: (0, jsx_runtime_1.jsx)(lucide_react_1.Trash2, { className: 'h-3 w-3' }) }))] }))] }) }), (0, jsx_runtime_1.jsx)(card_1.CardContent, { children: (0, jsx_runtime_1.jsxs)("div", { className: 'space-y-2', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center text-sm text-gray-600', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.MapPin, { className: 'h-4 w-4 mr-2' }), (0, jsx_runtime_1.jsx)("span", { className: 'line-clamp-2 break-words flex-1', children: building.address })] }), (0, jsx_runtime_1.jsx)("div", { className: 'flex items-center text-sm text-gray-600', children: (0, jsx_runtime_1.jsxs)("span", { children: [building.city, ", ", building.province, " ", building.postalCode] }) }), (0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center justify-between pt-2', children: [(0, jsx_runtime_1.jsxs)(badge_1.Badge, { variant: 'outline', children: [building.totalUnits, " units"] }), (0, jsx_runtime_1.jsx)(badge_1.Badge, { variant: 'secondary', children: building.buildingType })] }), (0, jsx_runtime_1.jsxs)("div", { className: 'pt-2 flex gap-2', children: [(0, jsx_runtime_1.jsx)(wouter_1.Link, { href: `/manager/buildings/${building.id}/documents`, children: (0, jsx_runtime_1.jsx)(button_1.Button, { size: 'sm', variant: 'outline', className: 'flex-1', children: "Documents" }) }), (0, jsx_runtime_1.jsx)(wouter_1.Link, { href: `/manager/residences?buildingId=${building.id}`, children: (0, jsx_runtime_1.jsx)(button_1.Button, { size: 'sm', variant: 'outline', className: 'flex-1', children: "Residences" }) })] })] }) })] }));
}
/**
 *
 * @param root0
 * @param root0.isOpen
 * @param root0.onOpenChange
 * @param root0.form
 * @param root0.onSubmit
 * @param root0.organizations
 * @param root0.isSubmitting
 * @param root0.title
 * @param root0.submitLabel
 */
function BuildingForm({ isOpen, onOpenChange, form, onSubmit, organizations, isSubmitting, title, submitLabel, }) {
    return ((0, jsx_runtime_1.jsx)(dialog_1.Dialog, { open: isOpen, onOpenChange: onOpenChange, children: (0, jsx_runtime_1.jsxs)(dialog_1.DialogContent, { className: 'max-w-2xl', children: [(0, jsx_runtime_1.jsxs)(dialog_1.DialogHeader, { children: [(0, jsx_runtime_1.jsx)(dialog_1.DialogTitle, { children: title }), (0, jsx_runtime_1.jsx)(dialog_1.DialogDescription, { children: "Fill in the building information below. All fields are required." })] }), (0, jsx_runtime_1.jsx)(form_1.Form, { ...form, children: (0, jsx_runtime_1.jsxs)("form", { onSubmit: form.handleSubmit(onSubmit), className: 'space-y-4', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'grid grid-cols-1 md:grid-cols-2 gap-4', children: [(0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'name', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { className: 'md:col-span-2', children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Building Name" }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(input_1.Input, { placeholder: 'Enter building name', ...field }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'address', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { className: 'md:col-span-2', children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Address" }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(input_1.Input, { placeholder: 'Enter street address', ...field }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'city', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "City" }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(input_1.Input, { placeholder: 'Enter city', ...field }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'province', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Province" }), (0, jsx_runtime_1.jsxs)(select_1.Select, { onValueChange: field.onChange, value: field.value, children: [(0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(select_1.SelectTrigger, { children: (0, jsx_runtime_1.jsx)(select_1.SelectValue, { placeholder: 'Select province' }) }) }), (0, jsx_runtime_1.jsxs)(select_1.SelectContent, { children: [(0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'QC', children: "Quebec" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'ON', children: "Ontario" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'BC', children: "British Columbia" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'AB', children: "Alberta" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'MB', children: "Manitoba" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'SK', children: "Saskatchewan" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'NS', children: "Nova Scotia" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'NB', children: "New Brunswick" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'PE', children: "Prince Edward Island" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'NL', children: "Newfoundland and Labrador" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'NT', children: "Northwest Territories" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'NU', children: "Nunavut" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'YT', children: "Yukon" })] })] }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'postalCode', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Postal Code" }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(input_1.Input, { placeholder: 'H1H 1H1', ...field }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'buildingType', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Building Type" }), (0, jsx_runtime_1.jsxs)(select_1.Select, { onValueChange: field.onChange, value: field.value, children: [(0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(select_1.SelectTrigger, { children: (0, jsx_runtime_1.jsx)(select_1.SelectValue, { placeholder: 'Select building type' }) }) }), (0, jsx_runtime_1.jsxs)(select_1.SelectContent, { children: [(0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'condo', children: "Condominium" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'apartment', children: "Apartment" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'townhouse', children: "Townhouse" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'commercial', children: "Commercial" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'mixed_use', children: "Mixed Use" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'other', children: "Other" })] })] }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'totalUnits', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Total Units" }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(input_1.Input, { type: 'number', placeholder: 'Enter total units', ...field, onChange: (e) => field.onChange(parseInt(e.target.value) || 0) }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'organizationId', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Organization" }), (0, jsx_runtime_1.jsxs)(select_1.Select, { onValueChange: field.onChange, value: field.value, children: [(0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(select_1.SelectTrigger, { children: (0, jsx_runtime_1.jsx)(select_1.SelectValue, { placeholder: 'Select organization' }) }) }), (0, jsx_runtime_1.jsx)(select_1.SelectContent, { children: organizations.map((org) => ((0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: org.id, children: org.name }, org.id))) })] }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) })] }), (0, jsx_runtime_1.jsxs)(dialog_1.DialogFooter, { children: [(0, jsx_runtime_1.jsx)(button_1.Button, { type: 'button', variant: 'outline', onClick: () => onOpenChange(false), children: "Cancel" }), (0, jsx_runtime_1.jsx)(button_1.Button, { type: 'submit', disabled: isSubmitting, children: isSubmitting ? 'Saving...' : submitLabel })] })] }) })] }) }));
}
/**
 *
 */
function Buildings() {
    const { toast } = (0, use_toast_1.useToast)();
    const queryClient = (0, react_query_1.useQueryClient)();
    const { t } = (0, use_language_1.useLanguage)();
    // State variables
    const [searchTerm, setSearchTerm] = (0, react_1.useState)('');
    const [isAddDialogOpen, setIsAddDialogOpen] = (0, react_1.useState)(false);
    const [isEditDialogOpen, setIsEditDialogOpen] = (0, react_1.useState)(false);
    const [editingBuilding, setEditingBuilding] = (0, react_1.useState)(null);
    const [deletingBuilding, setDeletingBuilding] = (0, react_1.useState)(null);
    // Get current user
    const { data: user } = (0, react_query_1.useQuery)({
        queryKey: ['/api/auth/user'],
        queryFn: () => (0, queryClient_1.apiRequest)('GET', '/api/auth/user'),
    });
    // Fetch organizations for form
    const { data: organizations = [] } = (0, react_query_1.useQuery)({
        queryKey: ['/api/organizations'],
        queryFn: async () => {
            const response = await (0, queryClient_1.apiRequest)('GET', '/api/organizations');
            return await response.json();
        },
    });
    // Fetch buildings using the working manager endpoint
    const { data: buildingsData, isLoading, error: _error, } = (0, react_query_1.useQuery)({
        queryKey: ['/api/manager/buildings'],
        queryFn: async () => {
            const response = await (0, queryClient_1.apiRequest)('GET', '/api/manager/buildings');
            return await response.json();
        },
    });
    // Extract buildings array from the wrapped response
    const buildings = buildingsData?.buildings || [];
    // Filter buildings based on search
    const filteredBuildings = (0, react_1.useMemo)(() => {
        if (!Array.isArray(buildings)) {
            return [];
        }
        return buildings.filter((building) => building.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
            building.address.toLowerCase().includes(searchTerm.toLowerCase()));
    }, [buildings, searchTerm]);
    // Form for creating buildings
    const form = (0, react_hook_form_1.useForm)({
        resolver: (0, zod_1.zodResolver)(buildingFormSchema),
        defaultValues: {
            name: '',
            address: '',
            city: '',
            province: 'QC',
            postalCode: '',
            buildingType: 'condo',
            totalUnits: 1,
            organizationId: '',
        },
    });
    // Form for editing buildings
    const editForm = (0, react_hook_form_1.useForm)({
        resolver: (0, zod_1.zodResolver)(buildingFormSchema),
    });
    // Mutations
    const createBuildingMutation = (0, react_query_1.useMutation)({
        mutationFn: (data) => (0, queryClient_1.apiRequest)('POST', '/api/admin/buildings', data),
        onSuccess: () => {
            queryClient.invalidateQueries({ queryKey: ['/api/manager/buildings'] });
            setIsAddDialogOpen(false);
            form.reset();
            toast({
                title: 'Success',
                description: 'Building created successfully',
            });
        },
        onError: (error) => {
            toast({
                title: 'Error',
                description: error.message || 'Failed to create building',
                variant: 'destructive',
            });
        },
    });
    const updateBuildingMutation = (0, react_query_1.useMutation)({
        mutationFn: ({ id, data }) => (0, queryClient_1.apiRequest)('PUT', `/api/admin/buildings/${id}`, data),
        onSuccess: () => {
            queryClient.invalidateQueries({ queryKey: ['/api/manager/buildings'] });
            setIsEditDialogOpen(false);
            setEditingBuilding(null);
            editForm.reset();
            toast({
                title: 'Success',
                description: 'Building updated successfully',
            });
        },
        onError: (error) => {
            toast({
                title: 'Error',
                description: error.message || 'Failed to update building',
                variant: 'destructive',
            });
        },
    });
    const deleteBuildingMutation = (0, react_query_1.useMutation)({
        mutationFn: (buildingId) => (0, queryClient_1.apiRequest)('DELETE', `/api/admin/buildings/${buildingId}`),
        onSuccess: () => {
            queryClient.invalidateQueries({ queryKey: ['/api/manager/buildings'] });
            queryClient.invalidateQueries({ queryKey: ['/api/buildings'] });
            setDeletingBuilding(null);
            toast({
                title: 'Success',
                description: 'Building deleted successfully',
            });
        },
        onError: (error) => {
            toast({
                title: 'Error',
                description: error.message || 'Failed to delete building',
                variant: 'destructive',
            });
        },
    });
    // Event handlers
    const handleCreateBuilding = async (data) => {
        createBuildingMutation.mutate(data);
    };
    const handleEditBuilding = (building) => {
        setEditingBuilding(building);
        editForm.reset({
            name: building.name,
            address: building.address,
            city: building.city,
            province: building.province,
            postalCode: building.postalCode,
            buildingType: building.buildingType,
            totalUnits: building.totalUnits,
            organizationId: building.organizationId,
        });
        setIsEditDialogOpen(true);
    };
    const handleUpdateBuilding = async (data) => {
        if (editingBuilding) {
            updateBuildingMutation.mutate({ id: editingBuilding.id, data });
        }
    };
    const handleDeleteBuilding = (building) => {
        setDeletingBuilding(building);
    };
    const confirmDeleteBuilding = () => {
        if (deletingBuilding) {
            deleteBuildingMutation.mutate(deletingBuilding.id);
        }
    };
    if (isLoading) {
        return ((0, jsx_runtime_1.jsxs)("div", { className: 'flex-1 flex flex-col overflow-hidden', children: [(0, jsx_runtime_1.jsx)(header_1.Header, { title: 'Buildings', subtitle: 'Loading buildings...' }), (0, jsx_runtime_1.jsx)("div", { className: 'flex-1 overflow-auto p-6', children: (0, jsx_runtime_1.jsx)("div", { className: 'text-center py-8', children: "Loading buildings..." }) })] }));
    }
    if (_error) {
        return ((0, jsx_runtime_1.jsxs)("div", { className: 'flex-1 flex flex-col overflow-hidden', children: [(0, jsx_runtime_1.jsx)(header_1.Header, { title: 'Buildings', subtitle: 'Error loading buildings' }), (0, jsx_runtime_1.jsx)("div", { className: 'flex-1 overflow-auto p-6', children: (0, jsx_runtime_1.jsx)("div", { className: 'max-w-4xl mx-auto', children: (0, jsx_runtime_1.jsx)(card_1.Card, { children: (0, jsx_runtime_1.jsxs)(card_1.CardContent, { className: 'p-8 text-center', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Building, { className: 'w-16 h-16 mx-auto text-red-400 mb-4' }), (0, jsx_runtime_1.jsx)("h3", { className: 'text-lg font-semibold text-red-600 mb-2', children: "Error Loading Buildings" }), (0, jsx_runtime_1.jsx)("p", { className: 'text-red-500 mb-4', children: "Failed to load buildings data. Please try again later." }), (0, jsx_runtime_1.jsx)(badge_1.Badge, { variant: 'destructive', children: "Error" })] }) }) }) })] }));
    }
    return ((0, jsx_runtime_1.jsxs)("div", { className: 'flex-1 flex flex-col overflow-hidden', children: [(0, jsx_runtime_1.jsx)(header_1.Header, { title: t('buildings'), subtitle: `Manage ${filteredBuildings.length} building${filteredBuildings.length !== 1 ? 's' : ''} in your organization` }), (0, jsx_runtime_1.jsx)("div", { className: 'flex-1 overflow-auto p-6', children: (0, jsx_runtime_1.jsxs)("div", { className: 'max-w-6xl mx-auto space-y-6', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'flex flex-col sm:flex-row gap-4 items-center justify-between', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'relative w-full sm:w-96', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Search, { className: 'absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4' }), (0, jsx_runtime_1.jsx)(input_1.Input, { placeholder: t('searchBuildingsAddress'), value: searchTerm, onChange: (e) => setSearchTerm(e.target.value), className: 'pl-10' })] }), user?.role === 'admin' && ((0, jsx_runtime_1.jsxs)(button_1.Button, { onClick: () => setIsAddDialogOpen(true), children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Plus, { className: 'w-4 h-4 mr-2' }), t('addBuilding')] }))] }), filteredBuildings.length > 0 ? ((0, jsx_runtime_1.jsx)("div", { className: 'grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6', children: filteredBuildings.map((building) => ((0, jsx_runtime_1.jsx)(BuildingCard, { building: building, userRole: user?.role, onEdit: handleEditBuilding, onDelete: handleDeleteBuilding }, building.id))) })) : ((0, jsx_runtime_1.jsx)(card_1.Card, { children: (0, jsx_runtime_1.jsxs)(card_1.CardContent, { className: 'p-8 text-center', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Building, { className: 'w-16 h-16 mx-auto text-gray-400 mb-4' }), (0, jsx_runtime_1.jsx)("h3", { className: 'text-lg font-semibold text-gray-600 mb-2', children: "No Buildings Found" }), (0, jsx_runtime_1.jsx)("p", { className: 'text-gray-500 mb-4', children: user?.role === 'admin'
                                            ? 'No buildings are currently registered in your organizations.'
                                            : "You don't have access to any buildings yet." }), (0, jsx_runtime_1.jsx)(badge_1.Badge, { variant: 'secondary', children: "No Data" })] }) })), (0, jsx_runtime_1.jsx)(BuildingForm, { isOpen: isAddDialogOpen, onOpenChange: setIsAddDialogOpen, form: form, onSubmit: handleCreateBuilding, organizations: organizations, isSubmitting: createBuildingMutation.isPending, title: 'Add New Building', submitLabel: 'Create Building' }), (0, jsx_runtime_1.jsx)(BuildingForm, { isOpen: isEditDialogOpen, onOpenChange: setIsEditDialogOpen, form: editForm, onSubmit: handleUpdateBuilding, organizations: organizations, isSubmitting: updateBuildingMutation.isPending, title: 'Edit Building', submitLabel: 'Update Building' }), (0, jsx_runtime_1.jsx)(dialog_1.Dialog, { open: !!deletingBuilding, onOpenChange: () => setDeletingBuilding(null), children: (0, jsx_runtime_1.jsxs)(dialog_1.DialogContent, { children: [(0, jsx_runtime_1.jsxs)(dialog_1.DialogHeader, { children: [(0, jsx_runtime_1.jsx)(dialog_1.DialogTitle, { children: "Delete Building" }), (0, jsx_runtime_1.jsxs)(dialog_1.DialogDescription, { children: ["Are you sure you want to delete \"", deletingBuilding?.name, "\"? This action cannot be undone."] })] }), (0, jsx_runtime_1.jsxs)(dialog_1.DialogFooter, { children: [(0, jsx_runtime_1.jsx)(button_1.Button, { variant: 'outline', onClick: () => setDeletingBuilding(null), children: "Cancel" }), (0, jsx_runtime_1.jsx)(button_1.Button, { variant: 'destructive', onClick: confirmDeleteBuilding, disabled: deleteBuildingMutation.isPending, children: deleteBuildingMutation.isPending ? 'Deleting...' : 'Delete' })] })] }) })] }) })] }));
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9jbGllbnQvc3JjL3BhZ2VzL21hbmFnZXIvYnVpbGRpbmdzLnRzeCIsIm1hcHBpbmdzIjoiOztBQWtaQSw0QkE2VEM7O0FBL3NCRCxpQ0FBMEM7QUFDMUMsdURBQThFO0FBQzlFLCtDQUFpRztBQUNqRyxtREFBZ0Q7QUFDaEQsaURBQThDO0FBQzlDLGlEQUE4QztBQUc5QyxtREFNZ0M7QUFDaEMsbURBUWdDO0FBQ2hDLCtDQVE4QjtBQUM5QixpREFBNkM7QUFDN0MsdURBQW1EO0FBQ25ELHFEQUEwQztBQUMxQyxpREFBc0Q7QUFDdEQsNkJBQXdCO0FBQ3hCLG1EQUErQztBQUMvQywrQ0FXc0I7QUFDdEIsdURBQW9EO0FBQ3BELG1DQUE4QjtBQUU5Qiw2Q0FBNkM7QUFDN0MsTUFBTSxrQkFBa0IsR0FBRyxPQUFDLENBQUMsTUFBTSxDQUFDO0lBQ2xDLElBQUksRUFBRSxPQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSwyQkFBMkIsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsZUFBZSxDQUFDO0lBQzlFLE9BQU8sRUFBRSxPQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxxQkFBcUIsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsa0JBQWtCLENBQUM7SUFDOUUsSUFBSSxFQUFFLE9BQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLGtCQUFrQixDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxlQUFlLENBQUM7SUFDckUsUUFBUSxFQUFFLE9BQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLHNCQUFzQixDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxtQkFBbUIsQ0FBQztJQUNqRixVQUFVLEVBQUUsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUseUJBQXlCLENBQUMs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SixDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3Jrc3BhY2UvY2xpZW50L3NyYy9wYWdlcy9tYW5hZ2VyL2J1aWxkaW5ncy50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VRdWVyeSwgdXNlTXV0YXRpb24sIHVzZVF1ZXJ5Q2xpZW50IH0gZnJvbSAnQHRhbnN0YWNrL3JlYWN0LXF1ZXJ5JztcbmltcG9ydCB7IENhcmQsIENhcmRDb250ZW50LCBDYXJkRGVzY3JpcHRpb24sIENhcmRIZWFkZXIsIENhcmRUaXRsZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9jYXJkJztcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9idXR0b24nO1xuaW1wb3J0IHsgQmFkZ2UgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYmFkZ2UnO1xuaW1wb3J0IHsgSW5wdXQgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvaW5wdXQnO1xuaW1wb3J0IHsgTGFiZWwgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvbGFiZWwnO1xuaW1wb3J0IHsgVGV4dGFyZWEgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvdGV4dGFyZWEnO1xuaW1wb3J0IHtcbiAgU2VsZWN0LFxuICBTZWxlY3RDb250ZW50LFxuICBTZWxlY3RJdGVtLFxuICBTZWxlY3RUcmlnZ2VyLFxuICBTZWxlY3RWYWx1ZSxcbn0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3NlbGVjdCc7XG5pbXBvcnQge1xuICBEaWFsb2csXG4gIERpYWxvZ0NvbnRlbnQsXG4gIERpYWxvZ0Rlc2NyaXB0aW9uLFxuICBEaWFsb2dGb290ZXIsXG4gIERpYWxvZ0hlYWRlcixcbiAgRGlhbG9nVGl0bGUsXG4gIERpYWxvZ1RyaWdnZXIsXG59IGZyb20gJ0AvY29tcG9uZW50cy91aS9kaWFsb2cnO1xuaW1wb3J0IHtcbiAgRm9ybSxcbiAgRm9ybUNvbnRyb2wsXG4gIEZvcm1EZXNjcmlwdGlvbixcbiAgRm9ybUZpZWxkLFxuICBGb3JtSXRlbSxcbiAgRm9ybUxhYmVsLFxuICBGb3JtTWVzc2FnZSxcbn0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2Zvcm0nO1xuaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tICdAL2hvb2tzL3VzZS10b2FzdCc7XG5pbXBvcnQgeyB1c2VMYW5ndWFnZSB9IGZyb20gJ0AvaG9va3MvdXNlLWxhbmd1YWdlJztcbmltcG9ydCB7IHVzZUZvcm0gfSBmcm9tICdyZWFjdC1ob29rLWZvcm0nO1xuaW1wb3J0IHsgem9kUmVzb2x2ZXIgfSBmcm9tICdAaG9va2Zvcm0vcmVzb2x2ZXJzL3pvZCc7XG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcbmltcG9ydCB7IGFwaVJlcXVlc3QgfSBmcm9tICdAL2xpYi9xdWVyeUNsaWVudCc7XG5pbXBvcnQge1xuICBCdWlsZGluZyxcbiAgU2VhcmNoLFxuICBQbHVzLFxuICBFZGl0LFxuICBUcmFzaDIsXG4gIE1hcFBpbixcbiAgUGhvbmUsXG4gIE1haWwsXG4gIENhbGVuZGFyLFxuICBVc2Vycyxcbn0gZnJvbSAnbHVjaWRlLXJlYWN0JztcbmltcG9ydCB7IEhlYWRlciB9IGZyb20gJ0AvY29tcG9uZW50cy9sYXlvdXQvaGVhZGVyJztcbmltcG9ydCB7IExpbmsgfSBmcm9tICd3b3V0ZXInO1xuXG4vLyBGb3JtIHNjaGVtYSBmb3IgY3JlYXRpbmcvZWRpdGluZyBidWlsZGluZ3NcbmNvbnN0IGJ1aWxkaW5nRm9ybVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgbmFtZTogei5zdHJpbmcoKS5taW4oMSwgJ0J1aWxkaW5nIG5hbWUgaXMgcmVxdWlyZWQnKS5tYXgoMjU1LCAnTmFtZSB0b28gbG9uZycpLFxuICBhZGRyZXNzOiB6LnN0cmluZygpLm1pbigxLCAnQWRkcmVzcyBpcyByZXF1aXJlZCcpLm1heCg1MDAsICdBZGRyZXNzIHRvbyBsb25nJyksXG4gIGNpdHk6IHouc3RyaW5nKCkubWluKDEsICdDaXR5IGlzIHJlcXVpcmVkJykubWF4KDEwMCwgJ0NpdHkgdG9vIGxvbmcnKSxcbiAgcHJvdmluY2U6IHouc3RyaW5nKCkubWluKDEsICdQcm92aW5jZSBpcyByZXF1aXJlZCcpLm1heCgxMDAsICdQcm92aW5jZSB0b28gbG9uZycpLFxuICBwb3N0YWxDb2RlOiB6LnN0cmluZygpLm1pbigxLCAnUG9zdGFsIGNvZGUgaXMgcmVxdWlyZWQnKS5tYXgoMjAsICdQb3N0YWwgY29kZSB0b28gbG9uZycpLFxuICBidWlsZGluZ1R5cGU6IHouZW51bShbJ2NvbmRvJywgJ2FwYXJ0bWVudCcsICd0b3duaG91c2UnLCAnY29tbWVyY2lhbCcsICdtaXhlZF91c2UnLCAnb3RoZXInXSksXG4gIHRvdGFsVW5pdHM6IHpcbiAgICAubnVtYmVyKClcbiAgICAuaW50KClcbiAgICAubWluKDEsICdNdXN0IGhhdmUgYXQgbGVhc3QgMSB1bml0JylcbiAgICAubWF4KDMwMCwgJ01heGltdW0gMzAwIHVuaXRzIGFsbG93ZWQnKSxcbiAgb3JnYW5pemF0aW9uSWQ6IHouc3RyaW5nKCkubWluKDEsICdPcmdhbml6YXRpb24gaXMgcmVxdWlyZWQnKSxcbn0pO1xuXG4vKipcbiAqXG4gKi9cbnR5cGUgQnVpbGRpbmdGb3JtRGF0YSA9IHouaW5mZXI8dHlwZW9mIGJ1aWxkaW5nRm9ybVNjaGVtYT47XG5cbi8qKlxuICpcbiAqL1xuaW50ZXJmYWNlIEJ1aWxkaW5nRGF0YSB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgYWRkcmVzczogc3RyaW5nO1xuICBjaXR5OiBzdHJpbmc7XG4gIHByb3ZpbmNlOiBzdHJpbmc7XG4gIHBvc3RhbENvZGU6IHN0cmluZztcbiAgYnVpbGRpbmdUeXBlOiBzdHJpbmc7XG4gIHRvdGFsVW5pdHM6IG51bWJlcjtcbiAgb3JnYW5pemF0aW9uSWQ6IHN0cmluZztcbiAgaXNBY3RpdmU6IGJvb2xlYW47XG4gIGNyZWF0ZWRBdDogRGF0ZTtcbiAgdXBkYXRlZEF0OiBEYXRlO1xufVxuXG4vKipcbiAqXG4gKi9cbmludGVyZmFjZSBCdWlsZGluZ0NhcmRQcm9wcyB7XG4gIGJ1aWxkaW5nOiBCdWlsZGluZ0RhdGE7XG4gIHVzZXJSb2xlPzogc3RyaW5nO1xuICBvbkVkaXQ6IChidWlsZGluZzogQnVpbGRpbmdEYXRhKSA9PiB2b2lkO1xuICBvbkRlbGV0ZTogKGJ1aWxkaW5nOiBCdWlsZGluZ0RhdGEpID0+IHZvaWQ7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSByb290MFxuICogQHBhcmFtIHJvb3QwLmJ1aWxkaW5nXG4gKiBAcGFyYW0gcm9vdDAudXNlclJvbGVcbiAqIEBwYXJhbSByb290MC5vbkVkaXRcbiAqIEBwYXJhbSByb290MC5vbkRlbGV0ZVxuICovXG5mdW5jdGlvbiBCdWlsZGluZ0NhcmQoeyBidWlsZGluZywgdXNlclJvbGUsIG9uRWRpdCwgb25EZWxldGUgfTogQnVpbGRpbmdDYXJkUHJvcHMpIHtcbiAgY29uc3QgaXNBZG1pbiA9IHVzZXJSb2xlID09PSAnYWRtaW4nO1xuICBjb25zdCBjYW5FZGl0ID0gWydhZG1pbicsICdtYW5hZ2VyJ10uaW5jbHVkZXModXNlclJvbGUgfHwgJycpO1xuXG4gIHJldHVybiAoXG4gICAgPENhcmQgY2xhc3NOYW1lPSdoLWZ1bGwnPlxuICAgICAgPENhcmRIZWFkZXI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLXN0YXJ0IGp1c3RpZnktYmV0d2Vlbic+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMic+XG4gICAgICAgICAgICA8QnVpbGRpbmcgY2xhc3NOYW1lPSdoLTUgdy01IHRleHQtYmx1ZS02MDAnIC8+XG4gICAgICAgICAgICA8Q2FyZFRpdGxlIGNsYXNzTmFtZT0ndGV4dC1sZyBsaW5lLWNsYW1wLTIgYnJlYWstd29yZHMnPntidWlsZGluZy5uYW1lfTwvQ2FyZFRpdGxlPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHtjYW5FZGl0ICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGdhcC0xJz5cbiAgICAgICAgICAgICAgPEJ1dHRvbiBzaXplPSdzbScgdmFyaWFudD0nZ2hvc3QnIG9uQ2xpY2s9eygpID0+IG9uRWRpdChidWlsZGluZyl9PlxuICAgICAgICAgICAgICAgIDxFZGl0IGNsYXNzTmFtZT0naC0zIHctMycgLz5cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIHtpc0FkbWluICYmIChcbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICBzaXplPSdzbSdcbiAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9J2dob3N0J1xuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gb25EZWxldGUoYnVpbGRpbmcpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSd0ZXh0LXJlZC02MDAgaG92ZXI6dGV4dC1yZWQtNzAwJ1xuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxUcmFzaDIgY2xhc3NOYW1lPSdoLTMgdy0zJyAvPlxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L0NhcmRIZWFkZXI+XG4gICAgICA8Q2FyZENvbnRlbnQ+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzcGFjZS15LTInPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLWNlbnRlciB0ZXh0LXNtIHRleHQtZ3JheS02MDAnPlxuICAgICAgICAgICAgPE1hcFBpbiBjbGFzc05hbWU9J2gtNCB3LTQgbXItMicgLz5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nbGluZS1jbGFtcC0yIGJyZWFrLXdvcmRzIGZsZXgtMSc+e2J1aWxkaW5nLmFkZHJlc3N9PC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLWNlbnRlciB0ZXh0LXNtIHRleHQtZ3JheS02MDAnPlxuICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgIHtidWlsZGluZy5jaXR5fSwge2J1aWxkaW5nLnByb3ZpbmNlfSB7YnVpbGRpbmcucG9zdGFsQ29kZX1cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHB0LTInPlxuICAgICAgICAgICAgPEJhZGdlIHZhcmlhbnQ9J291dGxpbmUnPntidWlsZGluZy50b3RhbFVuaXRzfSB1bml0czwvQmFkZ2U+XG4gICAgICAgICAgICA8QmFkZ2UgdmFyaWFudD0nc2Vjb25kYXJ5Jz57YnVpbGRpbmcuYnVpbGRpbmdUeXBlfTwvQmFkZ2U+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3B0LTIgZmxleCBnYXAtMic+XG4gICAgICAgICAgICA8TGluayBocmVmPXtgL21hbmFnZXIvYnVpbGRpbmdzLyR7YnVpbGRpbmcuaWR9L2RvY3VtZW50c2B9PlxuICAgICAgICAgICAgICA8QnV0dG9uIHNpemU9J3NtJyB2YXJpYW50PSdvdXRsaW5lJyBjbGFzc05hbWU9J2ZsZXgtMSc+XG4gICAgICAgICAgICAgICAgRG9jdW1lbnRzXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgPExpbmsgaHJlZj17YC9tYW5hZ2VyL3Jlc2lkZW5jZXM/YnVpbGRpbmdJZD0ke2J1aWxkaW5nLmlkfWB9PlxuICAgICAgICAgICAgICA8QnV0dG9uIHNpemU9J3NtJyB2YXJpYW50PSdvdXRsaW5lJyBjbGFzc05hbWU9J2ZsZXgtMSc+XG4gICAgICAgICAgICAgICAgUmVzaWRlbmNlc1xuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L0NhcmRDb250ZW50PlxuICAgIDwvQ2FyZD5cbiAgKTtcbn1cblxuLyoqXG4gKlxuICovXG5pbnRlcmZhY2UgQnVpbGRpbmdGb3JtUHJvcHMge1xuICBpc09wZW46IGJvb2xlYW47XG4gIG9uT3BlbkNoYW5nZTogKG9wZW46IGJvb2xlYW4pID0+IHZvaWQ7XG4gIGZvcm06IGFueTtcbiAgb25TdWJtaXQ6IChkYXRhOiBCdWlsZGluZ0Zvcm1EYXRhKSA9PiB2b2lkO1xuICBvcmdhbml6YXRpb25zOiBhbnlbXTtcbiAgaXNTdWJtaXR0aW5nOiBib29sZWFuO1xuICB0aXRsZTogc3RyaW5nO1xuICBzdWJtaXRMYWJlbDogc3RyaW5nO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0gcm9vdDBcbiAqIEBwYXJhbSByb290MC5pc09wZW5cbiAqIEBwYXJhbSByb290MC5vbk9wZW5DaGFuZ2VcbiAqIEBwYXJhbSByb290MC5mb3JtXG4gKiBAcGFyYW0gcm9vdDAub25TdWJtaXRcbiAqIEBwYXJhbSByb290MC5vcmdhbml6YXRpb25zXG4gKiBAcGFyYW0gcm9vdDAuaXNTdWJtaXR0aW5nXG4gKiBAcGFyYW0gcm9vdDAudGl0bGVcbiAqIEBwYXJhbSByb290MC5zdWJtaXRMYWJlbFxuICovXG5mdW5jdGlvbiBCdWlsZGluZ0Zvcm0oe1xuICBpc09wZW4sXG4gIG9uT3BlbkNoYW5nZSxcbiAgZm9ybSxcbiAgb25TdWJtaXQsXG4gIG9yZ2FuaXphdGlvbnMsXG4gIGlzU3VibWl0dGluZyxcbiAgdGl0bGUsXG4gIHN1Ym1pdExhYmVsLFxufTogQnVpbGRpbmdGb3JtUHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8RGlhbG9nIG9wZW49e2lzT3Blbn0gb25PcGVuQ2hhbmdlPXtvbk9wZW5DaGFuZ2V9PlxuICAgICAgPERpYWxvZ0NvbnRlbnQgY2xhc3NOYW1lPSdtYXgtdy0yeGwnPlxuICAgICAgICA8RGlhbG9nSGVhZGVyPlxuICAgICAgICAgIDxEaWFsb2dUaXRsZT57dGl0bGV9PC9EaWFsb2dUaXRsZT5cbiAgICAgICAgICA8RGlhbG9nRGVzY3JpcHRpb24+XG4gICAgICAgICAgICBGaWxsIGluIHRoZSBidWlsZGluZyBpbmZvcm1hdGlvbiBiZWxvdy4gQWxsIGZpZWxkcyBhcmUgcmVxdWlyZWQuXG4gICAgICAgICAgPC9EaWFsb2dEZXNjcmlwdGlvbj5cbiAgICAgICAgPC9EaWFsb2dIZWFkZXI+XG5cbiAgICAgICAgPEZvcm0gey4uLmZvcm19PlxuICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXtmb3JtLmhhbmRsZVN1Ym1pdChvblN1Ym1pdCl9IGNsYXNzTmFtZT0nc3BhY2UteS00Jz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIGdhcC00Jz5cbiAgICAgICAgICAgICAgPEZvcm1GaWVsZFxuICAgICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH1cbiAgICAgICAgICAgICAgICBuYW1lPSduYW1lJ1xuICAgICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKFxuICAgICAgICAgICAgICAgICAgPEZvcm1JdGVtIGNsYXNzTmFtZT0nbWQ6Y29sLXNwYW4tMic+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtTGFiZWw+QnVpbGRpbmcgTmFtZTwvRm9ybUxhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICAgICAgPElucHV0IHBsYWNlaG9sZGVyPSdFbnRlciBidWlsZGluZyBuYW1lJyB7Li4uZmllbGR9IC8+XG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPlxuICAgICAgICAgICAgICAgICAgPC9Gb3JtSXRlbT5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgIDxGb3JtRmllbGRcbiAgICAgICAgICAgICAgICBjb250cm9sPXtmb3JtLmNvbnRyb2x9XG4gICAgICAgICAgICAgICAgbmFtZT0nYWRkcmVzcydcbiAgICAgICAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+IChcbiAgICAgICAgICAgICAgICAgIDxGb3JtSXRlbSBjbGFzc05hbWU9J21kOmNvbC1zcGFuLTInPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsPkFkZHJlc3M8L0Zvcm1MYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBwbGFjZWhvbGRlcj0nRW50ZXIgc3RyZWV0IGFkZHJlc3MnIHsuLi5maWVsZH0gLz5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1NZXNzYWdlIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgICAgPEZvcm1GaWVsZFxuICAgICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH1cbiAgICAgICAgICAgICAgICBuYW1lPSdjaXR5J1xuICAgICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKFxuICAgICAgICAgICAgICAgICAgPEZvcm1JdGVtPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsPkNpdHk8L0Zvcm1MYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBwbGFjZWhvbGRlcj0nRW50ZXIgY2l0eScgey4uLmZpZWxkfSAvPlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybU1lc3NhZ2UgLz5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybUl0ZW0+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgICA8Rm9ybUZpZWxkXG4gICAgICAgICAgICAgICAgY29udHJvbD17Zm9ybS5jb250cm9sfVxuICAgICAgICAgICAgICAgIG5hbWU9J3Byb3ZpbmNlJ1xuICAgICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKFxuICAgICAgICAgICAgICAgICAgPEZvcm1JdGVtPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsPlByb3ZpbmNlPC9Gb3JtTGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxTZWxlY3Qgb25WYWx1ZUNoYW5nZT17ZmllbGQub25DaGFuZ2V9IHZhbHVlPXtmaWVsZC52YWx1ZX0+XG4gICAgICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFRyaWdnZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RWYWx1ZSBwbGFjZWhvbGRlcj0nU2VsZWN0IHByb3ZpbmNlJyAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RUcmlnZ2VyPlxuICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT0nUUMnPlF1ZWJlYzwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPSdPTic+T250YXJpbzwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPSdCQyc+QnJpdGlzaCBDb2x1bWJpYTwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPSdBQic+QWxiZXJ0YTwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPSdNQic+TWFuaXRvYmE8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT0nU0snPlNhc2thdGNoZXdhbjwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPSdOUyc+Tm92YSBTY290aWE8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT0nTkInPk5ldyBCcnVuc3dpY2s8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT0nUEUnPlByaW5jZSBFZHdhcmQgSXNsYW5kPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9J05MJz5OZXdmb3VuZGxhbmQgYW5kIExhYnJhZG9yPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9J05UJz5Ob3J0aHdlc3QgVGVycml0b3JpZXM8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT0nTlUnPk51bmF2dXQ8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT0nWVQnPll1a29uPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPlxuICAgICAgICAgICAgICAgICAgPC9Gb3JtSXRlbT5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgIDxGb3JtRmllbGRcbiAgICAgICAgICAgICAgICBjb250cm9sPXtmb3JtLmNvbnRyb2x9XG4gICAgICAgICAgICAgICAgbmFtZT0ncG9zdGFsQ29kZSdcbiAgICAgICAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+IChcbiAgICAgICAgICAgICAgICAgIDxGb3JtSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1MYWJlbD5Qb3N0YWwgQ29kZTwvRm9ybUxhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICAgICAgPElucHV0IHBsYWNlaG9sZGVyPSdIMUggMUgxJyB7Li4uZmllbGR9IC8+XG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPlxuICAgICAgICAgICAgICAgICAgPC9Gb3JtSXRlbT5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgIDxGb3JtRmllbGRcbiAgICAgICAgICAgICAgICBjb250cm9sPXtmb3JtLmNvbnRyb2x9XG4gICAgICAgICAgICAgICAgbmFtZT0nYnVpbGRpbmdUeXBlJ1xuICAgICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKFxuICAgICAgICAgICAgICAgICAgPEZvcm1JdGVtPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsPkJ1aWxkaW5nIFR5cGU8L0Zvcm1MYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdCBvblZhbHVlQ2hhbmdlPXtmaWVsZC5vbkNoYW5nZX0gdmFsdWU9e2ZpZWxkLnZhbHVlfT5cbiAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0VHJpZ2dlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFZhbHVlIHBsYWNlaG9sZGVyPSdTZWxlY3QgYnVpbGRpbmcgdHlwZScgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0VHJpZ2dlcj5cbiAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RDb250ZW50PlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9J2NvbmRvJz5Db25kb21pbml1bTwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPSdhcGFydG1lbnQnPkFwYXJ0bWVudDwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPSd0b3duaG91c2UnPlRvd25ob3VzZTwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPSdjb21tZXJjaWFsJz5Db21tZXJjaWFsPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9J21peGVkX3VzZSc+TWl4ZWQgVXNlPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9J290aGVyJz5PdGhlcjwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybU1lc3NhZ2UgLz5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybUl0ZW0+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgICA8Rm9ybUZpZWxkXG4gICAgICAgICAgICAgICAgY29udHJvbD17Zm9ybS5jb250cm9sfVxuICAgICAgICAgICAgICAgIG5hbWU9J3RvdGFsVW5pdHMnXG4gICAgICAgICAgICAgICAgcmVuZGVyPXsoeyBmaWVsZCB9KSA9PiAoXG4gICAgICAgICAgICAgICAgICA8Rm9ybUl0ZW0+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtTGFiZWw+VG90YWwgVW5pdHM8L0Zvcm1MYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT0nbnVtYmVyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9J0VudGVyIHRvdGFsIHVuaXRzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgey4uLmZpZWxkfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBmaWVsZC5vbkNoYW5nZShwYXJzZUludChlLnRhcmdldC52YWx1ZSkgfHwgMCl9XG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1NZXNzYWdlIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgICAgPEZvcm1GaWVsZFxuICAgICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH1cbiAgICAgICAgICAgICAgICBuYW1lPSdvcmdhbml6YXRpb25JZCdcbiAgICAgICAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+IChcbiAgICAgICAgICAgICAgICAgIDxGb3JtSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1MYWJlbD5Pcmdhbml6YXRpb248L0Zvcm1MYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdCBvblZhbHVlQ2hhbmdlPXtmaWVsZC5vbkNoYW5nZX0gdmFsdWU9e2ZpZWxkLnZhbHVlfT5cbiAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0VHJpZ2dlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFZhbHVlIHBsYWNlaG9sZGVyPSdTZWxlY3Qgb3JnYW5pemF0aW9uJyAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RUcmlnZ2VyPlxuICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgICAgICB7b3JnYW5pemF0aW9ucy5tYXAoKG9yZykgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSBrZXk9e29yZy5pZH0gdmFsdWU9e29yZy5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge29yZy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybU1lc3NhZ2UgLz5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybUl0ZW0+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8RGlhbG9nRm9vdGVyPlxuICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9J2J1dHRvbicgdmFyaWFudD0nb3V0bGluZScgb25DbGljaz17KCkgPT4gb25PcGVuQ2hhbmdlKGZhbHNlKX0+XG4gICAgICAgICAgICAgICAgQ2FuY2VsXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9J3N1Ym1pdCcgZGlzYWJsZWQ9e2lzU3VibWl0dGluZ30+XG4gICAgICAgICAgICAgICAge2lzU3VibWl0dGluZyA/ICdTYXZpbmcuLi4nIDogc3VibWl0TGFiZWx9XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9EaWFsb2dGb290ZXI+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICA8L0Zvcm0+XG4gICAgICA8L0RpYWxvZ0NvbnRlbnQ+XG4gICAgPC9EaWFsb2c+XG4gICk7XG59XG5cbi8qKlxuICpcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQnVpbGRpbmdzKCkge1xuICBjb25zdCB7IHRvYXN0IH0gPSB1c2VUb2FzdCgpO1xuICBjb25zdCBxdWVyeUNsaWVudCA9IHVzZVF1ZXJ5Q2xpZW50KCk7XG4gIGNvbnN0IHsgdCB9ID0gdXNlTGFuZ3VhZ2UoKTtcblxuICAvLyBTdGF0ZSB2YXJpYWJsZXNcbiAgY29uc3QgW3NlYXJjaFRlcm0sIHNldFNlYXJjaFRlcm1dID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbaXNBZGREaWFsb2dPcGVuLCBzZXRJc0FkZERpYWxvZ09wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNFZGl0RGlhbG9nT3Blbiwgc2V0SXNFZGl0RGlhbG9nT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlZGl0aW5nQnVpbGRpbmcsIHNldEVkaXRpbmdCdWlsZGluZ10gPSB1c2VTdGF0ZTxCdWlsZGluZ0RhdGEgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2RlbGV0aW5nQnVpbGRpbmcsIHNldERlbGV0aW5nQnVpbGRpbmddID0gdXNlU3RhdGU8QnVpbGRpbmdEYXRhIHwgbnVsbD4obnVsbCk7XG5cbiAgLy8gR2V0IGN1cnJlbnQgdXNlclxuICBjb25zdCB7IGRhdGE6IHVzZXIgfSA9IHVzZVF1ZXJ5KHtcbiAgICBxdWVyeUtleTogWycvYXBpL2F1dGgvdXNlciddLFxuICAgIHF1ZXJ5Rm46ICgpID0+IGFwaVJlcXVlc3QoJ0dFVCcsICcvYXBpL2F1dGgvdXNlcicpIGFzIFByb21pc2U8YW55PixcbiAgfSk7XG5cbiAgLy8gRmV0Y2ggb3JnYW5pemF0aW9ucyBmb3IgZm9ybVxuICBjb25zdCB7IGRhdGE6IG9yZ2FuaXphdGlvbnMgPSBbXSB9ID0gdXNlUXVlcnkoe1xuICAgIHF1ZXJ5S2V5OiBbJy9hcGkvb3JnYW5pemF0aW9ucyddLFxuICAgIHF1ZXJ5Rm46IGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpUmVxdWVzdCgnR0VUJywgJy9hcGkvb3JnYW5pemF0aW9ucycpO1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICB9LFxuICB9KTtcblxuICAvLyBGZXRjaCBidWlsZGluZ3MgdXNpbmcgdGhlIHdvcmtpbmcgbWFuYWdlciBlbmRwb2ludFxuICBjb25zdCB7XG4gICAgZGF0YTogYnVpbGRpbmdzRGF0YSxcbiAgICBpc0xvYWRpbmcsXG4gICAgZXJyb3I6IF9lcnJvcixcbiAgfSA9IHVzZVF1ZXJ5KHtcbiAgICBxdWVyeUtleTogWycvYXBpL21hbmFnZXIvYnVpbGRpbmdzJ10sXG4gICAgcXVlcnlGbjogYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlSZXF1ZXN0KCdHRVQnLCAnL2FwaS9tYW5hZ2VyL2J1aWxkaW5ncycpO1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICB9LFxuICB9KTtcblxuICAvLyBFeHRyYWN0IGJ1aWxkaW5ncyBhcnJheSBmcm9tIHRoZSB3cmFwcGVkIHJlc3BvbnNlXG4gIGNvbnN0IGJ1aWxkaW5ncyA9IChidWlsZGluZ3NEYXRhIGFzIGFueSk/LmJ1aWxkaW5ncyB8fCBbXTtcblxuICAvLyBGaWx0ZXIgYnVpbGRpbmdzIGJhc2VkIG9uIHNlYXJjaFxuICBjb25zdCBmaWx0ZXJlZEJ1aWxkaW5ncyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShidWlsZGluZ3MpKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIHJldHVybiBidWlsZGluZ3MuZmlsdGVyKFxuICAgICAgKGJ1aWxkaW5nKSA9PlxuICAgICAgICBidWlsZGluZy5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoVGVybS50b0xvd2VyQ2FzZSgpKSB8fFxuICAgICAgICBidWlsZGluZy5hZGRyZXNzLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoVGVybS50b0xvd2VyQ2FzZSgpKVxuICAgICk7XG4gIH0sIFtidWlsZGluZ3MsIHNlYXJjaFRlcm1dKTtcblxuICAvLyBGb3JtIGZvciBjcmVhdGluZyBidWlsZGluZ3NcbiAgY29uc3QgZm9ybSA9IHVzZUZvcm08QnVpbGRpbmdGb3JtRGF0YT4oe1xuICAgIHJlc29sdmVyOiB6b2RSZXNvbHZlcihidWlsZGluZ0Zvcm1TY2hlbWEpLFxuICAgIGRlZmF1bHRWYWx1ZXM6IHtcbiAgICAgIG5hbWU6ICcnLFxuICAgICAgYWRkcmVzczogJycsXG4gICAgICBjaXR5OiAnJyxcbiAgICAgIHByb3ZpbmNlOiAnUUMnLFxuICAgICAgcG9zdGFsQ29kZTogJycsXG4gICAgICBidWlsZGluZ1R5cGU6ICdjb25kbycsXG4gICAgICB0b3RhbFVuaXRzOiAxLFxuICAgICAgb3JnYW5pemF0aW9uSWQ6ICcnLFxuICAgIH0sXG4gIH0pO1xuXG4gIC8vIEZvcm0gZm9yIGVkaXRpbmcgYnVpbGRpbmdzXG4gIGNvbnN0IGVkaXRGb3JtID0gdXNlRm9ybTxCdWlsZGluZ0Zvcm1EYXRhPih7XG4gICAgcmVzb2x2ZXI6IHpvZFJlc29sdmVyKGJ1aWxkaW5nRm9ybVNjaGVtYSksXG4gIH0pO1xuXG4gIC8vIE11dGF0aW9uc1xuICBjb25zdCBjcmVhdGVCdWlsZGluZ011dGF0aW9uID0gdXNlTXV0YXRpb24oe1xuICAgIG11dGF0aW9uRm46IChkYXRhOiBCdWlsZGluZ0Zvcm1EYXRhKSA9PiBhcGlSZXF1ZXN0KCdQT1NUJywgJy9hcGkvYWRtaW4vYnVpbGRpbmdzJywgZGF0YSksXG4gICAgb25TdWNjZXNzOiAoKSA9PiB7XG4gICAgICBxdWVyeUNsaWVudC5pbnZhbGlkYXRlUXVlcmllcyh7IHF1ZXJ5S2V5OiBbJy9hcGkvbWFuYWdlci9idWlsZGluZ3MnXSB9KTtcbiAgICAgIHNldElzQWRkRGlhbG9nT3BlbihmYWxzZSk7XG4gICAgICBmb3JtLnJlc2V0KCk7XG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiAnU3VjY2VzcycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQnVpbGRpbmcgY3JlYXRlZCBzdWNjZXNzZnVsbHknLFxuICAgICAgfSk7XG4gICAgfSxcbiAgICBvbkVycm9yOiAoZXJyb3I6IGFueSkgPT4ge1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ0Vycm9yJyxcbiAgICAgICAgZGVzY3JpcHRpb246IGVycm9yLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBjcmVhdGUgYnVpbGRpbmcnLFxuICAgICAgICB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLFxuICAgICAgfSk7XG4gICAgfSxcbiAgfSk7XG5cbiAgY29uc3QgdXBkYXRlQnVpbGRpbmdNdXRhdGlvbiA9IHVzZU11dGF0aW9uKHtcbiAgICBtdXRhdGlvbkZuOiAoeyBpZCwgZGF0YSB9OiB7IGlkOiBzdHJpbmc7IGRhdGE6IEJ1aWxkaW5nRm9ybURhdGEgfSkgPT5cbiAgICAgIGFwaVJlcXVlc3QoJ1BVVCcsIGAvYXBpL2FkbWluL2J1aWxkaW5ncy8ke2lkfWAsIGRhdGEpLFxuICAgIG9uU3VjY2VzczogKCkgPT4ge1xuICAgICAgcXVlcnlDbGllbnQuaW52YWxpZGF0ZVF1ZXJpZXMoeyBxdWVyeUtleTogWycvYXBpL21hbmFnZXIvYnVpbGRpbmdzJ10gfSk7XG4gICAgICBzZXRJc0VkaXREaWFsb2dPcGVuKGZhbHNlKTtcbiAgICAgIHNldEVkaXRpbmdCdWlsZGluZyhudWxsKTtcbiAgICAgIGVkaXRGb3JtLnJlc2V0KCk7XG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiAnU3VjY2VzcycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQnVpbGRpbmcgdXBkYXRlZCBzdWNjZXNzZnVsbHknLFxuICAgICAgfSk7XG4gICAgfSxcbiAgICBvbkVycm9yOiAoZXJyb3I6IGFueSkgPT4ge1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ0Vycm9yJyxcbiAgICAgICAgZGVzY3JpcHRpb246IGVycm9yLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byB1cGRhdGUgYnVpbGRpbmcnLFxuICAgICAgICB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLFxuICAgICAgfSk7XG4gICAgfSxcbiAgfSk7XG5cbiAgY29uc3QgZGVsZXRlQnVpbGRpbmdNdXRhdGlvbiA9IHVzZU11dGF0aW9uKHtcbiAgICBtdXRhdGlvbkZuOiAoYnVpbGRpbmdJZDogc3RyaW5nKSA9PiBhcGlSZXF1ZXN0KCdERUxFVEUnLCBgL2FwaS9hZG1pbi9idWlsZGluZ3MvJHtidWlsZGluZ0lkfWApLFxuICAgIG9uU3VjY2VzczogKCkgPT4ge1xuICAgICAgcXVlcnlDbGllbnQuaW52YWxpZGF0ZVF1ZXJpZXMoeyBxdWVyeUtleTogWycvYXBpL21hbmFnZXIvYnVpbGRpbmdzJ10gfSk7XG4gICAgICBxdWVyeUNsaWVudC5pbnZhbGlkYXRlUXVlcmllcyh7IHF1ZXJ5S2V5OiBbJy9hcGkvYnVpbGRpbmdzJ10gfSk7XG4gICAgICBzZXREZWxldGluZ0J1aWxkaW5nKG51bGwpO1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ1N1Y2Nlc3MnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0J1aWxkaW5nIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5JyxcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgb25FcnJvcjogKGVycm9yOiBhbnkpID0+IHtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6ICdFcnJvcicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gZGVsZXRlIGJ1aWxkaW5nJyxcbiAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJyxcbiAgICAgIH0pO1xuICAgIH0sXG4gIH0pO1xuXG4gIC8vIEV2ZW50IGhhbmRsZXJzXG4gIGNvbnN0IGhhbmRsZUNyZWF0ZUJ1aWxkaW5nID0gYXN5bmMgKGRhdGE6IEJ1aWxkaW5nRm9ybURhdGEpID0+IHtcbiAgICBjcmVhdGVCdWlsZGluZ011dGF0aW9uLm11dGF0ZShkYXRhKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVFZGl0QnVpbGRpbmcgPSAoYnVpbGRpbmc6IEJ1aWxkaW5nRGF0YSkgPT4ge1xuICAgIHNldEVkaXRpbmdCdWlsZGluZyhidWlsZGluZyk7XG4gICAgZWRpdEZvcm0ucmVzZXQoe1xuICAgICAgbmFtZTogYnVpbGRpbmcubmFtZSxcbiAgICAgIGFkZHJlc3M6IGJ1aWxkaW5nLmFkZHJlc3MsXG4gICAgICBjaXR5OiBidWlsZGluZy5jaXR5LFxuICAgICAgcHJvdmluY2U6IGJ1aWxkaW5nLnByb3ZpbmNlLFxuICAgICAgcG9zdGFsQ29kZTogYnVpbGRpbmcucG9zdGFsQ29kZSxcbiAgICAgIGJ1aWxkaW5nVHlwZTogYnVpbGRpbmcuYnVpbGRpbmdUeXBlIGFzIGFueSxcbiAgICAgIHRvdGFsVW5pdHM6IGJ1aWxkaW5nLnRvdGFsVW5pdHMsXG4gICAgICBvcmdhbml6YXRpb25JZDogYnVpbGRpbmcub3JnYW5pemF0aW9uSWQsXG4gICAgfSk7XG4gICAgc2V0SXNFZGl0RGlhbG9nT3Blbih0cnVlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVVcGRhdGVCdWlsZGluZyA9IGFzeW5jIChkYXRhOiBCdWlsZGluZ0Zvcm1EYXRhKSA9PiB7XG4gICAgaWYgKGVkaXRpbmdCdWlsZGluZykge1xuICAgICAgdXBkYXRlQnVpbGRpbmdNdXRhdGlvbi5tdXRhdGUoeyBpZDogZWRpdGluZ0J1aWxkaW5nLmlkLCBkYXRhIH0pO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVEZWxldGVCdWlsZGluZyA9IChidWlsZGluZzogQnVpbGRpbmdEYXRhKSA9PiB7XG4gICAgc2V0RGVsZXRpbmdCdWlsZGluZyhidWlsZGluZyk7XG4gIH07XG5cbiAgY29uc3QgY29uZmlybURlbGV0ZUJ1aWxkaW5nID0gKCkgPT4ge1xuICAgIGlmIChkZWxldGluZ0J1aWxkaW5nKSB7XG4gICAgICBkZWxldGVCdWlsZGluZ011dGF0aW9uLm11dGF0ZShkZWxldGluZ0J1aWxkaW5nLmlkKTtcbiAgICB9XG4gIH07XG5cbiAgaWYgKGlzTG9hZGluZykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleC0xIGZsZXggZmxleC1jb2wgb3ZlcmZsb3ctaGlkZGVuJz5cbiAgICAgICAgPEhlYWRlciB0aXRsZT0nQnVpbGRpbmdzJyBzdWJ0aXRsZT0nTG9hZGluZyBidWlsZGluZ3MuLi4nIC8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4LTEgb3ZlcmZsb3ctYXV0byBwLTYnPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd0ZXh0LWNlbnRlciBweS04Jz5Mb2FkaW5nIGJ1aWxkaW5ncy4uLjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBpZiAoX2Vycm9yKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4LTEgZmxleCBmbGV4LWNvbCBvdmVyZmxvdy1oaWRkZW4nPlxuICAgICAgICA8SGVhZGVyIHRpdGxlPSdCdWlsZGluZ3MnIHN1YnRpdGxlPSdFcnJvciBsb2FkaW5nIGJ1aWxkaW5ncycgLz5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleC0xIG92ZXJmbG93LWF1dG8gcC02Jz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbWF4LXctNHhsIG14LWF1dG8nPlxuICAgICAgICAgICAgPENhcmQ+XG4gICAgICAgICAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9J3AtOCB0ZXh0LWNlbnRlcic+XG4gICAgICAgICAgICAgICAgPEJ1aWxkaW5nIGNsYXNzTmFtZT0ndy0xNiBoLTE2IG14LWF1dG8gdGV4dC1yZWQtNDAwIG1iLTQnIC8+XG4gICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT0ndGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtcmVkLTYwMCBtYi0yJz5FcnJvciBMb2FkaW5nIEJ1aWxkaW5nczwvaDM+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSd0ZXh0LXJlZC01MDAgbWItNCc+XG4gICAgICAgICAgICAgICAgICBGYWlsZWQgdG8gbG9hZCBidWlsZGluZ3MgZGF0YS4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci5cbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgPEJhZGdlIHZhcmlhbnQ9J2Rlc3RydWN0aXZlJz5FcnJvcjwvQmFkZ2U+XG4gICAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICAgICAgICA8L0NhcmQ+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9J2ZsZXgtMSBmbGV4IGZsZXgtY29sIG92ZXJmbG93LWhpZGRlbic+XG4gICAgICA8SGVhZGVyXG4gICAgICAgIHRpdGxlPXt0KCdidWlsZGluZ3MnKX1cbiAgICAgICAgc3VidGl0bGU9e2BNYW5hZ2UgJHtmaWx0ZXJlZEJ1aWxkaW5ncy5sZW5ndGh9IGJ1aWxkaW5nJHtmaWx0ZXJlZEJ1aWxkaW5ncy5sZW5ndGggIT09IDEgPyAncycgOiAnJ30gaW4geW91ciBvcmdhbml6YXRpb25gfVxuICAgICAgLz5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXgtMSBvdmVyZmxvdy1hdXRvIHAtNic+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdtYXgtdy02eGwgbXgtYXV0byBzcGFjZS15LTYnPlxuICAgICAgICAgIHsvKiBTZWFyY2ggYW5kIEFkZCBCdWlsZGluZyBDb250cm9scyAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBmbGV4LWNvbCBzbTpmbGV4LXJvdyBnYXAtNCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuJz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdyZWxhdGl2ZSB3LWZ1bGwgc206dy05Nic+XG4gICAgICAgICAgICAgIDxTZWFyY2ggY2xhc3NOYW1lPSdhYnNvbHV0ZSBsZWZ0LTMgdG9wLTEvMiB0cmFuc2Zvcm0gLXRyYW5zbGF0ZS15LTEvMiB0ZXh0LWdyYXktNDAwIHctNCBoLTQnIC8+XG4gICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXt0KCdzZWFyY2hCdWlsZGluZ3NBZGRyZXNzJyl9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3NlYXJjaFRlcm19XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTZWFyY2hUZXJtKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3BsLTEwJ1xuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIHt1c2VyPy5yb2xlID09PSAnYWRtaW4nICYmIChcbiAgICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRJc0FkZERpYWxvZ09wZW4odHJ1ZSl9PlxuICAgICAgICAgICAgICAgIDxQbHVzIGNsYXNzTmFtZT0ndy00IGgtNCBtci0yJyAvPlxuICAgICAgICAgICAgICAgIHt0KCdhZGRCdWlsZGluZycpfVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogQnVpbGRpbmdzIEdyaWQgKi99XG4gICAgICAgICAge2ZpbHRlcmVkQnVpbGRpbmdzLmxlbmd0aCA+IDAgPyAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZ3JpZCBncmlkLWNvbHMtMSBsZzpncmlkLWNvbHMtMiB4bDpncmlkLWNvbHMtMyBnYXAtNic+XG4gICAgICAgICAgICAgIHtmaWx0ZXJlZEJ1aWxkaW5ncy5tYXAoKGJ1aWxkaW5nKSA9PiAoXG4gICAgICAgICAgICAgICAgPEJ1aWxkaW5nQ2FyZFxuICAgICAgICAgICAgICAgICAga2V5PXtidWlsZGluZy5pZH1cbiAgICAgICAgICAgICAgICAgIGJ1aWxkaW5nPXtidWlsZGluZ31cbiAgICAgICAgICAgICAgICAgIHVzZXJSb2xlPXt1c2VyPy5yb2xlfVxuICAgICAgICAgICAgICAgICAgb25FZGl0PXtoYW5kbGVFZGl0QnVpbGRpbmd9XG4gICAgICAgICAgICAgICAgICBvbkRlbGV0ZT17aGFuZGxlRGVsZXRlQnVpbGRpbmd9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPENhcmQ+XG4gICAgICAgICAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9J3AtOCB0ZXh0LWNlbnRlcic+XG4gICAgICAgICAgICAgICAgPEJ1aWxkaW5nIGNsYXNzTmFtZT0ndy0xNiBoLTE2IG14LWF1dG8gdGV4dC1ncmF5LTQwMCBtYi00JyAvPlxuICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9J3RleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktNjAwIG1iLTInPk5vIEJ1aWxkaW5ncyBGb3VuZDwvaDM+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSd0ZXh0LWdyYXktNTAwIG1iLTQnPlxuICAgICAgICAgICAgICAgICAge3VzZXI/LnJvbGUgPT09ICdhZG1pbidcbiAgICAgICAgICAgICAgICAgICAgPyAnTm8gYnVpbGRpbmdzIGFyZSBjdXJyZW50bHkgcmVnaXN0ZXJlZCBpbiB5b3VyIG9yZ2FuaXphdGlvbnMuJ1xuICAgICAgICAgICAgICAgICAgICA6IFwiWW91IGRvbid0IGhhdmUgYWNjZXNzIHRvIGFueSBidWlsZGluZ3MgeWV0LlwifVxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8QmFkZ2UgdmFyaWFudD0nc2Vjb25kYXJ5Jz5ObyBEYXRhPC9CYWRnZT5cbiAgICAgICAgICAgICAgPC9DYXJkQ29udGVudD5cbiAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAgey8qIEFkZCBCdWlsZGluZyBEaWFsb2cgKi99XG4gICAgICAgICAgPEJ1aWxkaW5nRm9ybVxuICAgICAgICAgICAgaXNPcGVuPXtpc0FkZERpYWxvZ09wZW59XG4gICAgICAgICAgICBvbk9wZW5DaGFuZ2U9e3NldElzQWRkRGlhbG9nT3Blbn1cbiAgICAgICAgICAgIGZvcm09e2Zvcm19XG4gICAgICAgICAgICBvblN1Ym1pdD17aGFuZGxlQ3JlYXRlQnVpbGRpbmd9XG4gICAgICAgICAgICBvcmdhbml6YXRpb25zPXtvcmdhbml6YXRpb25zfVxuICAgICAgICAgICAgaXNTdWJtaXR0aW5nPXtjcmVhdGVCdWlsZGluZ011dGF0aW9uLmlzUGVuZGluZ31cbiAgICAgICAgICAgIHRpdGxlPSdBZGQgTmV3IEJ1aWxkaW5nJ1xuICAgICAgICAgICAgc3VibWl0TGFiZWw9J0NyZWF0ZSBCdWlsZGluZydcbiAgICAgICAgICAvPlxuXG4gICAgICAgICAgey8qIEVkaXQgQnVpbGRpbmcgRGlhbG9nICovfVxuICAgICAgICAgIDxCdWlsZGluZ0Zvcm1cbiAgICAgICAgICAgIGlzT3Blbj17aXNFZGl0RGlhbG9nT3Blbn1cbiAgICAgICAgICAgIG9uT3BlbkNoYW5nZT17c2V0SXNFZGl0RGlhbG9nT3Blbn1cbiAgICAgICAgICAgIGZvcm09e2VkaXRGb3JtfVxuICAgICAgICAgICAgb25TdWJtaXQ9e2hhbmRsZVVwZGF0ZUJ1aWxkaW5nfVxuICAgICAgICAgICAgb3JnYW5pemF0aW9ucz17b3JnYW5pemF0aW9uc31cbiAgICAgICAgICAgIGlzU3VibWl0dGluZz17dXBkYXRlQnVpbGRpbmdNdXRhdGlvbi5pc1BlbmRpbmd9XG4gICAgICAgICAgICB0aXRsZT0nRWRpdCBCdWlsZGluZydcbiAgICAgICAgICAgIHN1Ym1pdExhYmVsPSdVcGRhdGUgQnVpbGRpbmcnXG4gICAgICAgICAgLz5cblxuICAgICAgICAgIHsvKiBEZWxldGUgQ29uZmlybWF0aW9uIERpYWxvZyAqL31cbiAgICAgICAgICA8RGlhbG9nIG9wZW49eyEhZGVsZXRpbmdCdWlsZGluZ30gb25PcGVuQ2hhbmdlPXsoKSA9PiBzZXREZWxldGluZ0J1aWxkaW5nKG51bGwpfT5cbiAgICAgICAgICAgIDxEaWFsb2dDb250ZW50PlxuICAgICAgICAgICAgICA8RGlhbG9nSGVhZGVyPlxuICAgICAgICAgICAgICAgIDxEaWFsb2dUaXRsZT5EZWxldGUgQnVpbGRpbmc8L0RpYWxvZ1RpdGxlPlxuICAgICAgICAgICAgICAgIDxEaWFsb2dEZXNjcmlwdGlvbj5cbiAgICAgICAgICAgICAgICAgIEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgXCJ7ZGVsZXRpbmdCdWlsZGluZz8ubmFtZX1cIj8gVGhpcyBhY3Rpb24gY2Fubm90IGJlXG4gICAgICAgICAgICAgICAgICB1bmRvbmUuXG4gICAgICAgICAgICAgICAgPC9EaWFsb2dEZXNjcmlwdGlvbj5cbiAgICAgICAgICAgICAgPC9EaWFsb2dIZWFkZXI+XG4gICAgICAgICAgICAgIDxEaWFsb2dGb290ZXI+XG4gICAgICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PSdvdXRsaW5lJyBvbkNsaWNrPXsoKSA9PiBzZXREZWxldGluZ0J1aWxkaW5nKG51bGwpfT5cbiAgICAgICAgICAgICAgICAgIENhbmNlbFxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9J2Rlc3RydWN0aXZlJ1xuICAgICAgICAgICAgICAgICAgb25DbGljaz17Y29uZmlybURlbGV0ZUJ1aWxkaW5nfVxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2RlbGV0ZUJ1aWxkaW5nTXV0YXRpb24uaXNQZW5kaW5nfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtkZWxldGVCdWlsZGluZ011dGF0aW9uLmlzUGVuZGluZyA/ICdEZWxldGluZy4uLicgOiAnRGVsZXRlJ31cbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPC9EaWFsb2dGb290ZXI+XG4gICAgICAgICAgICA8L0RpYWxvZ0NvbnRlbnQ+XG4gICAgICAgICAgPC9EaWFsb2c+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwidmVyc2lvbiI6M30=