{"version":3,"names":["cov_1oc6d9h654","actualCoverage","s","exports","default","ForgotPasswordPage","react_1","require","wouter_1","react_hook_form_1","zod_1","zod_2","button_1","card_1","use_toast_1","queryClient_1","lucide_react_1","StandardForm_1","StandardFormField_1","form_validation_helpers_1","forgotPasswordSchema","z","object","email","ValidationTemplates","refine","val","f","length","emailSent","setEmailSent","useState","toast","useToast","isLoading","errorMessage","handleSubmit","useStandardForm","showSuccessMessage","form","useForm","resolver","zodResolver","defaultValues","onSubmit","data","submitFn","formData","apiRequest","title","description","b","jsx_runtime_1","jsx","className","children","jsxs","Card","CardHeader","Mail","CardTitle","CardDescription","CardContent","Button","asChild","Link","href","ArrowLeft","StandardForm","submitText","loadingText","formName","showCard","StandardFormField","control","name","label","type","placeholder","required","variant"],"sources":["/home/runner/workspace/client/src/pages/auth/forgot-password.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { Link } from 'wouter';\nimport { useForm } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { z } from 'zod';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { useToast } from '@/hooks/use-toast';\nimport { apiRequest } from '@/lib/queryClient';\nimport { ArrowLeft, Mail } from 'lucide-react';\nimport { StandardForm, useStandardForm } from '@/components/forms/StandardForm';\nimport { StandardFormField } from '@/components/forms/StandardFormField';\nimport { ValidationTemplates } from '@/utils/form-validation-helpers';\n\nconst forgotPasswordSchema = z.object({\n  email: ValidationTemplates.email()\n    .refine(val => val.length > 0, 'Adresse e-mail requise pour la réinitialisation'),\n});\n\n/**\n *\n */\ntype ForgotPasswordForm = z.infer<typeof forgotPasswordSchema>;\n\n/**\n *\n */\nexport default function ForgotPasswordPage() {\n  const [emailSent, setEmailSent] = useState(false);\n  const { toast } = useToast();\n  const { isLoading, errorMessage, handleSubmit } = useStandardForm({\n    showSuccessMessage: false\n  });\n\n  const form = useForm<ForgotPasswordForm>({\n    resolver: zodResolver(forgotPasswordSchema),\n    defaultValues: {\n      email: '',\n    },\n  });\n\n  const onSubmit = async (data: ForgotPasswordForm) => {\n    const submitFn = async (formData: ForgotPasswordForm) => {\n      await apiRequest('POST', '/api/auth/forgot-password', formData);\n      setEmailSent(true);\n      toast({\n        title: 'E-mail envoyé',\n        description: 'Si cette adresse e-mail existe, un lien de réinitialisation a été envoyé.',\n      });\n    };\n    \n    await handleSubmit(submitFn, form, 'E-mail de réinitialisation envoyé avec succès')(data);\n  };\n\n  if (emailSent) {\n    return (\n      <div className='min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800'>\n        <Card className='w-full max-w-md'>\n          <CardHeader className='text-center'>\n            <div className='mx-auto w-12 h-12 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mb-4'>\n              <Mail className='w-6 h-6 text-green-600 dark:text-green-400' />\n            </div>\n            <CardTitle className='text-2xl font-bold'>E-mail envoyé</CardTitle>\n            <CardDescription>\n              Si votre adresse e-mail est dans notre système, vous recevrez un lien de\n              réinitialisation du mot de passe dans quelques minutes.\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className='space-y-4'>\n              <p className='text-sm text-muted-foreground text-center'>\n                N'oubliez pas de vérifier votre dossier de courrier indésirable.\n              </p>\n              <Button asChild className='w-full'>\n                <Link href='/login'>\n                  <ArrowLeft className='w-4 h-4 mr-2' />\n                  Retour à la connexion\n                </Link>\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <div className='min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800'>\n      <Card className='w-full max-w-md'>\n        <CardHeader className='text-center'>\n          <CardTitle className='text-2xl font-bold'>Mot de passe oublié</CardTitle>\n          <CardDescription>\n            Entrez votre adresse e-mail pour recevoir un lien de réinitialisation du mot de passe\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <StandardForm\n            form={form}\n            onSubmit={onSubmit}\n            isLoading={isLoading}\n            errorMessage={errorMessage}\n            submitText=\"Envoyer le lien de réinitialisation\"\n            loadingText=\"Envoi en cours...\"\n            formName=\"forgot-password\"\n            showCard={false}\n          >\n            <StandardFormField\n              control={form.control}\n              name=\"email\"\n              label=\"Adresse e-mail\"\n              type=\"email\"\n              placeholder=\"votre@email.com\"\n              required\n              formName=\"forgot-password\"\n              description=\"Nous vous enverrons un lien sécurisé pour réinitialiser votre mot de passe\"\n            />\n          </StandardForm>\n\n          <div className='text-center mt-4'>\n            <Button variant='ghost' asChild>\n              <Link href='/login'>\n                <ArrowLeft className='w-4 h-4 mr-2' />\n                Retour à la connexion\n              </Link>\n            </Button>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]}