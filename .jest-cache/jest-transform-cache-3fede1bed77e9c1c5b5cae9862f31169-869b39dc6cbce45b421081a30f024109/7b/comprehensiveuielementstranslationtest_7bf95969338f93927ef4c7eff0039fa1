437acfc488193d19d271a4bc9c7e6db2
"use strict";
/**
 * Comprehensive UI Elements Translation Test Suite
 * Validates that ALL user interface elements are properly translated:
 * - Residence cards and all their labels
 * - Building cards and all their labels
 * - Titles and subtitles
 * - Pagination elements
 * - All buttons in cards
 * - All form labels and field names
 */
Object.defineProperty(exports, "__esModule", { value: true });
const globals_1 = require("@jest/globals");
const i18n_ts_1 = require("../../client/src/lib/i18n.ts");
(0, globals_1.describe)('Comprehensive UI Elements Translation Coverage', () => {
    const languages = ['en', 'fr'];
    (0, globals_1.describe)('Residence Card Elements Translation', () => {
        const residenceCardKeys = [
            'address',
            'floor',
            'sqFt',
            'bedrooms',
            'bathrooms',
            'parkingSpaces',
            'storageSpaces',
            'parking',
            'storage'
        ];
        (0, globals_1.it)('should have all residence card field labels translated', () => {
            residenceCardKeys.forEach(key => {
                languages.forEach(lang => {
                    const t = i18n_ts_1.translations[lang];
                    if (t[key]) {
                        (0, globals_1.expect)(t[key]).toBeDefined();
                        (0, globals_1.expect)(typeof t[key]).toBe('string');
                        (0, globals_1.expect)(t[key].length).toBeGreaterThan(0);
                    }
                });
            });
        });
        (0, globals_1.it)('should have proper French translations for residence fields', () => {
            const fr = i18n_ts_1.translations.fr;
            (0, globals_1.expect)(fr.address).toBe('Adresse');
            (0, globals_1.expect)(fr.floor).toBe('Étage');
            (0, globals_1.expect)(fr.bedrooms).toBe('Chambres');
            (0, globals_1.expect)(fr.bathrooms).toBe('Salles de bain');
        });
        (0, globals_1.it)('should have residence card buttons translated', () => {
            const residenceButtonKeys = [
                'viewDocuments',
                'viewDocuments2',
                'buildingDocuments'
            ];
            residenceButtonKeys.forEach(key => {
                languages.forEach(lang => {
                    const t = i18n_ts_1.translations[lang];
                    if (t[key]) {
                        (0, globals_1.expect)(typeof t[key]).toBe('string');
                        (0, globals_1.expect)(t[key].length).toBeGreaterThan(0);
                    }
                });
            });
        });
    });
    (0, globals_1.describe)('Building Card Elements Translation', () => {
        const buildingCardKeys = [
            'address',
            'buildingType',
            'yearBuilt',
            'totalUnits',
            'managementCompany',
            'occupancyStats',
            'occupancy'
        ];
        (0, globals_1.it)('should have all building card field labels translated', () => {
            buildingCardKeys.forEach(key => {
                languages.forEach(lang => {
                    const t = i18n_ts_1.translations[lang];
                    if (t[key]) {
                        (0, globals_1.expect)(t[key]).toBeDefined();
                        (0, globals_1.expect)(typeof t[key]).toBe('string');
                        (0, globals_1.expect)(t[key].length).toBeGreaterThan(0);
                    }
                });
            });
        });
        (0, globals_1.it)('should have building occupancy translations', () => {
            languages.forEach(lang => {
                const t = i18n_ts_1.translations[lang];
                if (t.occupancy) {
                    (0, globals_1.expect)(typeof t.occupancy).toBe('string');
                }
            });
        });
    });
    (0, globals_1.describe)('Page Titles and Subtitles Translation', () => {
        const titleSubtitleKeys = [
            'myResidence',
            'myResidenceInfo',
            'viewResidenceInfo',
            'myBuilding',
            'myBuildings',
            'viewBuildingsAccess',
            'noBuildingsFound',
            'noResidencesFound'
        ];
        (0, globals_1.it)('should have all page titles and subtitles translated', () => {
            titleSubtitleKeys.forEach(key => {
                languages.forEach(lang => {
                    const t = i18n_ts_1.translations[lang];
                    (0, globals_1.expect)(t[key]).toBeDefined();
                    (0, globals_1.expect)(typeof t[key]).toBe('string');
                    (0, globals_1.expect)(t[key].length).toBeGreaterThan(0);
                });
            });
        });
        (0, globals_1.it)('should have proper French page titles', () => {
            const fr = i18n_ts_1.translations.fr;
            (0, globals_1.expect)(fr.myResidence).toBe('Ma résidence');
            (0, globals_1.expect)(fr.myBuildings).toBe('Mes bâtiments');
        });
    });
    (0, globals_1.describe)('Pagination Elements Translation', () => {
        const paginationKeys = [
            'showing',
            'showingResults',
            'previous',
            'next',
            'page',
            'of',
            'total',
            'results',
            'residences',
            'buildings'
        ];
        (0, globals_1.it)('should have pagination text translations', () => {
            paginationKeys.forEach(key => {
                languages.forEach(lang => {
                    const t = i18n_ts_1.translations[lang];
                    if (t[key]) {
                        (0, globals_1.expect)(typeof t[key]).toBe('string');
                        (0, globals_1.expect)(t[key].length).toBeGreaterThan(0);
                    }
                });
            });
        });
        (0, globals_1.it)('should have pagination pattern support for dynamic text', () => {
            // Test patterns like "Showing X to Y of Z residences"
            const patterns = ['showingResults', 'showingXtoYofZ'];
            patterns.forEach(pattern => {
                languages.forEach(lang => {
                    const t = i18n_ts_1.translations[lang];
                    if (t[pattern]) {
                        (0, globals_1.expect)(typeof t[pattern]).toBe('string');
                    }
                });
            });
        });
    });
    (0, globals_1.describe)('Button Translation Coverage', () => {
        const cardButtonKeys = [
            'viewDocuments',
            'viewDocuments2',
            'buildingDocuments',
            'previous',
            'next',
            'close',
            'cancel',
            'save',
            'edit',
            'delete',
            'add',
            'create',
            'update'
        ];
        (0, globals_1.it)('should have all card buttons translated', () => {
            cardButtonKeys.forEach(key => {
                languages.forEach(lang => {
                    const t = i18n_ts_1.translations[lang];
                    if (t[key]) {
                        (0, globals_1.expect)(typeof t[key]).toBe('string');
                        (0, globals_1.expect)(t[key].length).toBeGreaterThan(0);
                    }
                });
            });
        });
        (0, globals_1.it)('should have French button translations using proper Quebec terminology', () => {
            const fr = i18n_ts_1.translations.fr;
            // Common button verbs in Quebec French
            if (fr.save)
                (0, globals_1.expect)(fr.save).toBe('Enregistrer');
            if (fr.cancel)
                (0, globals_1.expect)(fr.cancel).toBe('Annuler');
            if (fr.close)
                (0, globals_1.expect)(fr.close).toBe('Fermer');
            if (fr.edit)
                (0, globals_1.expect)(fr.edit).toBe('Modifier');
        });
    });
    (0, globals_1.describe)('Form Labels and Field Names Translation', () => {
        const formLabelKeys = [
            'firstName',
            'lastName',
            'email',
            'phone',
            'address',
            'city',
            'province',
            'postalCode',
            'unitNumber',
            'buildingName',
            'organization',
            'role',
            'type'
        ];
        (0, globals_1.it)('should have all form labels translated', () => {
            formLabelKeys.forEach(key => {
                languages.forEach(lang => {
                    const t = i18n_ts_1.translations[lang];
                    if (t[key]) {
                        (0, globals_1.expect)(typeof t[key]).toBe('string');
                        (0, globals_1.expect)(t[key].length).toBeGreaterThan(0);
                    }
                });
            });
        });
        (0, globals_1.it)('should use proper Quebec French form terminology', () => {
            const fr = i18n_ts_1.translations.fr;
            if (fr.email)
                (0, globals_1.expect)(fr.email).toBe('Courriel'); // Quebec French for email
            if (fr.phone)
                (0, globals_1.expect)(fr.phone).toBe('Téléphone');
            if (fr.address)
                (0, globals_1.expect)(fr.address).toBe('Adresse');
        });
    });
    (0, globals_1.describe)('Unit Measurements and Technical Terms', () => {
        const measurementKeys = [
            'sqFt',
            'units',
            'occupied',
            'vacant',
            'apartment',
            'condo',
            'house'
        ];
        (0, globals_1.it)('should have measurement and property type translations', () => {
            measurementKeys.forEach(key => {
                languages.forEach(lang => {
                    const t = i18n_ts_1.translations[lang];
                    if (t[key]) {
                        (0, globals_1.expect)(typeof t[key]).toBe('string');
                        (0, globals_1.expect)(t[key].length).toBeGreaterThan(0);
                    }
                });
            });
        });
    });
    (0, globals_1.describe)('Status and State Indicators Translation', () => {
        const statusKeys = [
            'active',
            'inactive',
            'occupied',
            'vacant',
            'available',
            'unavailable',
            'pending',
            'approved',
            'rejected',
            'complete',
            'loading'
        ];
        (0, globals_1.it)('should have all status indicators translated', () => {
            statusKeys.forEach(key => {
                languages.forEach(lang => {
                    const t = i18n_ts_1.translations[lang];
                    if (t[key]) {
                        (0, globals_1.expect)(typeof t[key]).toBe('string');
                        (0, globals_1.expect)(t[key].length).toBeGreaterThan(0);
                    }
                });
            });
        });
        (0, globals_1.it)('should have proper Quebec French status terms', () => {
            const fr = i18n_ts_1.translations.fr;
            if (fr.loading)
                (0, globals_1.expect)(fr.loading).toBe('Chargement...');
            if (fr.complete)
                (0, globals_1.expect)(fr.complete).toBe('Terminé');
            if (fr.pending)
                (0, globals_1.expect)(fr.pending).toBe('En attente');
        });
    });
    (0, globals_1.describe)('Card Content and Labels Translation', () => {
        (0, globals_1.it)('should translate all residence card content labels', () => {
            const residenceLabels = [
                'unit',
                'building2', // "Building" label
                'residence',
                'floor',
                'bedrooms',
                'bathrooms',
                'parkingSpaces',
                'storageSpaces'
            ];
            residenceLabels.forEach(key => {
                languages.forEach(lang => {
                    const t = i18n_ts_1.translations[lang];
                    (0, globals_1.expect)(t[key]).toBeDefined();
                    (0, globals_1.expect)(typeof t[key]).toBe('string');
                    (0, globals_1.expect)(t[key].length).toBeGreaterThan(0);
                });
            });
        });
        (0, globals_1.it)('should translate all building card content labels', () => {
            const buildingLabels = [
                'address',
                'buildingType',
                'totalUnits',
                'occupancy',
                'managementCompany'
            ];
            buildingLabels.forEach(key => {
                languages.forEach(lang => {
                    const t = i18n_ts_1.translations[lang];
                    if (t[key]) {
                        (0, globals_1.expect)(typeof t[key]).toBe('string');
                        (0, globals_1.expect)(t[key].length).toBeGreaterThan(0);
                    }
                });
            });
        });
    });
    (0, globals_1.describe)('Missing Translation Detection', () => {
        (0, globals_1.it)('should identify any UI elements that might be missing translations', () => {
            // Common UI patterns that should be translated
            const commonUIPatterns = [
                'viewDocuments',
                'buildingDocuments',
                'showingResults',
                'loading',
                'noDataFound',
                'errorLoading'
            ];
            commonUIPatterns.forEach(pattern => {
                languages.forEach(lang => {
                    const t = i18n_ts_1.translations[lang];
                    if (t[pattern]) {
                        (0, globals_1.expect)(typeof t[pattern]).toBe('string');
                        (0, globals_1.expect)(t[pattern].length).toBeGreaterThan(0);
                        // Should not contain placeholder brackets
                        (0, globals_1.expect)(t[pattern]).not.toMatch(/\{[^}]*\}/);
                    }
                });
            });
        });
        (0, globals_1.it)('should ensure no hardcoded English text in common UI patterns', () => {
            // These are patterns that commonly appear untranslated
            const problematicPatterns = [
                /^View Documents?$/i,
                /^Building Documents?$/i,
                /^Address$/i,
                /^Sq Ft$/i,
                /^Bedrooms?$/i,
                /^Bathrooms?$/i,
                /^Parking$/i,
                /^Storage$/i,
                /^Showing \d+ to \d+ of \d+ /i,
                /^Previous$/i,
                /^Next$/i
            ];
            // This test documents patterns to watch for - would need actual component scanning
            // to detect hardcoded text, but serves as a reminder of what to look for
            (0, globals_1.expect)(problematicPatterns.length).toBeGreaterThan(0);
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS90ZXN0cy91bml0L2NvbXByZWhlbnNpdmUtdWktZWxlbWVudHMtdHJhbnNsYXRpb24udGVzdC50cyIsIm1hcHBpbmdzIjoiO0FBQUE7Ozs7Ozs7OztHQVNHOztBQUVILDJDQUFxRDtBQUNyRCwwREFBMkU7QUFFM0UsSUFBQSxrQkFBUSxFQUFDLGdEQUFnRCxFQUFFLEdBQUcsRUFBRTtJQUM5RCxNQUFNLFNBQVMsR0FBZSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztJQUUzQyxJQUFBLGtCQUFRLEVBQUMscUNBQXFDLEVBQUUsR0FBRyxFQUFFO1FBQ25ELE1BQU0saUJBQWlCLEdBQUc7WUFDeEIsU0FBUztZQUNULE9BQU87WUFDUCxNQUFNO1lBQ04sVUFBVTtZQUNWLFdBQVc7WUFDWCxlQUFlO1lBQ2YsZUFBZTtZQUNmLFNBQVM7WUFDVCxTQUFTO1NBQ1YsQ0FBQztRQUVGLElBQUEsWUFBRSxFQUFDLHdEQUF3RCxFQUFFLEdBQUcsRUFBRTtZQUNoRSxpQkFBaUIsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUU7Z0JBQzlCLFNBQVMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUU7b0JBQ3ZCLE1BQU0sQ0FBQyxHQUFHLHNCQUFZLENBQUMsSUFBSSxDQUFRLENBQUM7b0JBQ3BDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7d0JBQ1gsSUFBQSxnQkFBTSxFQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO3dCQUM3QixJQUFBLGdCQUFNLEVBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7d0JBQ3JDLElBQUEsZ0JBQU0sRUFBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUMzQyxDQUFDO2dCQUNILENBQUMsQ0FBQyxDQUFDO1lB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Q0FBQyxDQUFDLENBQUM7UUFFSCxJQUFBLFlBQUUsRUFBQywrREFBK0QsRUFBRSxHQUFHLEVBQUU7WUFDdkUsdURBQXVEO1lBQ3ZELE1BQU0sbUJBQW1CLEdBQUc7Z0JBQzFCLG9CQUFvQjtnQkFDcEIsd0JBQXdCO2dCQUN4QixZQUFZO2dCQUNaLFVBQVU7Z0JBQ1YsY0FBYztnQkFDZCxlQUFlO2dCQUNmLFlBQVk7Z0JBQ1osWUFBWTtnQkFDWiw4QkFBOEI7Z0JBQzlCLGFBQWE7Z0JBQ2IsU0FBUzthQUNWLENBQUM7WUFFRixtRkFBbUY7WUFDbkYseUVBQXlFO1lBQ3pFLElBQUEsZ0JBQU0sRUFBQyxtQkFBbUIsQ0FBQyxNQUFNLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDeEQsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3Jrc3BhY2UvdGVzdHMvdW5pdC9jb21wcmVoZW5zaXZlLXVpLWVsZW1lbnRzLXRyYW5zbGF0aW9uLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb21wcmVoZW5zaXZlIFVJIEVsZW1lbnRzIFRyYW5zbGF0aW9uIFRlc3QgU3VpdGVcbiAqIFZhbGlkYXRlcyB0aGF0IEFMTCB1c2VyIGludGVyZmFjZSBlbGVtZW50cyBhcmUgcHJvcGVybHkgdHJhbnNsYXRlZDpcbiAqIC0gUmVzaWRlbmNlIGNhcmRzIGFuZCBhbGwgdGhlaXIgbGFiZWxzXG4gKiAtIEJ1aWxkaW5nIGNhcmRzIGFuZCBhbGwgdGhlaXIgbGFiZWxzICBcbiAqIC0gVGl0bGVzIGFuZCBzdWJ0aXRsZXNcbiAqIC0gUGFnaW5hdGlvbiBlbGVtZW50c1xuICogLSBBbGwgYnV0dG9ucyBpbiBjYXJkc1xuICogLSBBbGwgZm9ybSBsYWJlbHMgYW5kIGZpZWxkIG5hbWVzXG4gKi9cblxuaW1wb3J0IHsgZGVzY3JpYmUsIGl0LCBleHBlY3QgfSBmcm9tICdAamVzdC9nbG9iYWxzJztcbmltcG9ydCB7IHRyYW5zbGF0aW9ucywgdHlwZSBMYW5ndWFnZSB9IGZyb20gJy4uLy4uL2NsaWVudC9zcmMvbGliL2kxOG4udHMnO1xuXG5kZXNjcmliZSgnQ29tcHJlaGVuc2l2ZSBVSSBFbGVtZW50cyBUcmFuc2xhdGlvbiBDb3ZlcmFnZScsICgpID0+IHtcbiAgY29uc3QgbGFuZ3VhZ2VzOiBMYW5ndWFnZVtdID0gWydlbicsICdmciddO1xuXG4gIGRlc2NyaWJlKCdSZXNpZGVuY2UgQ2FyZCBFbGVtZW50cyBUcmFuc2xhdGlvbicsICgpID0+IHtcbiAgICBjb25zdCByZXNpZGVuY2VDYXJkS2V5cyA9IFtcbiAgICAgICdhZGRyZXNzJyxcbiAgICAgICdmbG9vcicsXG4gICAgICAnc3FGdCcsXG4gICAgICAnYmVkcm9vbXMnLCBcbiAgICAgICdiYXRocm9vbXMnLFxuICAgICAgJ3BhcmtpbmdTcGFjZXMnLFxuICAgICAgJ3N0b3JhZ2VTcGFjZXMnLFxuICAgICAgJ3BhcmtpbmcnLFxuICAgICAgJ3N0b3JhZ2UnXG4gICAgXTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSBhbGwgcmVzaWRlbmNlIGNhcmQgZmllbGQgbGFiZWxzIHRyYW5zbGF0ZWQnLCAoKSA9PiB7XG4gICAgICByZXNpZGVuY2VDYXJkS2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIGxhbmd1YWdlcy5mb3JFYWNoKGxhbmcgPT4ge1xuICAgICAgICAgIGNvbnN0IHQgPSB0cmFuc2xhdGlvbnNbbGFuZ10gYXMgYW55O1xuICAgICAgICAgIGlmICh0W2tleV0pIHtcbiAgICAgICAgICAgIGV4cGVjdCh0W2tleV0pLnRvQmVEZWZpbmVkKCk7XG4gICAgICAgICAgICBleHBlY3QodHlwZW9mIHRba2V5XSkudG9CZSgnc3RyaW5nJyk7XG4gICAgICAgICAgICBleHBlY3QodFtrZXldLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSBwcm9wZXIgRnJlbmNoIHRyYW5zbGF0aW9ucyBmb3IgcmVzaWRlbmNlIGZpZWxkcycsICgpID0+IHtcbiAgICAgIGNvbnN0IGZyID0gdHJhbnNsYXRpb25zLmZyO1xuICAgICAgZXhwZWN0KGZyLmFkZHJlc3MpLnRvQmUoJ0FkcmVzc2UnKTtcbiAgICAgIGV4cGVjdChmci5mbG9vcikudG9CZSgnw4l0YWdlJyk7IFxuICAgICAgZXhwZWN0KGZyLmJlZHJvb21zKS50b0JlKCdDaGFtYnJlcycpO1xuICAgICAgZXhwZWN0KGZyLmJhdGhyb29tcykudG9CZSgnU2FsbGVzIGRlIGJhaW4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSByZXNpZGVuY2UgY2FyZCBidXR0b25zIHRyYW5zbGF0ZWQnLCAoKSA9PiB7XG4gICAgICBjb25zdCByZXNpZGVuY2VCdXR0b25LZXlzID0gW1xuICAgICAgICAndmlld0RvY3VtZW50cycsXG4gICAgICAgICd2aWV3RG9jdW1lbnRzMicsXG4gICAgICAgICdidWlsZGluZ0RvY3VtZW50cydcbiAgICAgIF07XG5cbiAgICAgIHJlc2lkZW5jZUJ1dHRvbktleXMuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICBsYW5ndWFnZXMuZm9yRWFjaChsYW5nID0+IHtcbiAgICAgICAgICBjb25zdCB0ID0gdHJhbnNsYXRpb25zW2xhbmddIGFzIGFueTtcbiAgICAgICAgICBpZiAodFtrZXldKSB7XG4gICAgICAgICAgICBleHBlY3QodHlwZW9mIHRba2V5XSkudG9CZSgnc3RyaW5nJyk7XG4gICAgICAgICAgICBleHBlY3QodFtrZXldLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0J1aWxkaW5nIENhcmQgRWxlbWVudHMgVHJhbnNsYXRpb24nLCAoKSA9PiB7XG4gICAgY29uc3QgYnVpbGRpbmdDYXJkS2V5cyA9IFtcbiAgICAgICdhZGRyZXNzJyxcbiAgICAgICdidWlsZGluZ1R5cGUnLFxuICAgICAgJ3llYXJCdWlsdCcsXG4gICAgICAndG90YWxVbml0cycsXG4gICAgICAnbWFuYWdlbWVudENvbXBhbnknLFxuICAgICAgJ29jY3VwYW5jeVN0YXRzJyxcbiAgICAgICdvY2N1cGFuY3knXG4gICAgXTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSBhbGwgYnVpbGRpbmcgY2FyZCBmaWVsZCBsYWJlbHMgdHJhbnNsYXRlZCcsICgpID0+IHtcbiAgICAgIGJ1aWxkaW5nQ2FyZEtleXMuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICBsYW5ndWFnZXMuZm9yRWFjaChsYW5nID0+IHtcbiAgICAgICAgICBjb25zdCB0ID0gdHJhbnNsYXRpb25zW2xhbmddIGFzIGFueTtcbiAgICAgICAgICBpZiAodFtrZXldKSB7XG4gICAgICAgICAgICBleHBlY3QodFtrZXldKS50b0JlRGVmaW5lZCgpO1xuICAgICAgICAgICAgZXhwZWN0KHR5cGVvZiB0W2tleV0pLnRvQmUoJ3N0cmluZycpO1xuICAgICAgICAgICAgZXhwZWN0KHRba2V5XS5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhdmUgYnVpbGRpbmcgb2NjdXBhbmN5IHRyYW5zbGF0aW9ucycsICgpID0+IHtcbiAgICAgIGxhbmd1YWdlcy5mb3JFYWNoKGxhbmcgPT4ge1xuICAgICAgICBjb25zdCB0ID0gdHJhbnNsYXRpb25zW2xhbmddIGFzIGFueTtcbiAgICAgICAgaWYgKHQub2NjdXBhbmN5KSB7XG4gICAgICAgICAgZXhwZWN0KHR5cGVvZiB0Lm9jY3VwYW5jeSkudG9CZSgnc3RyaW5nJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUGFnZSBUaXRsZXMgYW5kIFN1YnRpdGxlcyBUcmFuc2xhdGlvbicsICgpID0+IHtcbiAgICBjb25zdCB0aXRsZVN1YnRpdGxlS2V5cyA9IFtcbiAgICAgICdteVJlc2lkZW5jZScsXG4gICAgICAnbXlSZXNpZGVuY2VJbmZvJyxcbiAgICAgICd2aWV3UmVzaWRlbmNlSW5mbycsXG4gICAgICAnbXlCdWlsZGluZycsXG4gICAgICAnbXlCdWlsZGluZ3MnLFxuICAgICAgJ3ZpZXdCdWlsZGluZ3NBY2Nlc3MnLFxuICAgICAgJ25vQnVpbGRpbmdzRm91bmQnLFxuICAgICAgJ25vUmVzaWRlbmNlc0ZvdW5kJ1xuICAgIF07XG5cbiAgICBpdCgnc2hvdWxkIGhhdmUgYWxsIHBhZ2UgdGl0bGVzIGFuZCBzdWJ0aXRsZXMgdHJhbnNsYXRlZCcsICgpID0+IHtcbiAgICAgIHRpdGxlU3VidGl0bGVLZXlzLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgbGFuZ3VhZ2VzLmZvckVhY2gobGFuZyA9PiB7XG4gICAgICAgICAgY29uc3QgdCA9IHRyYW5zbGF0aW9uc1tsYW5nXSBhcyBhbnk7XG4gICAgICAgICAgZXhwZWN0KHRba2V5XSkudG9CZURlZmluZWQoKTtcbiAgICAgICAgICBleHBlY3QodHlwZW9mIHRba2V5XSkudG9CZSgnc3RyaW5nJyk7XG4gICAgICAgICAgZXhwZWN0KHRba2V5XS5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSBwcm9wZXIgRnJlbmNoIHBhZ2UgdGl0bGVzJywgKCkgPT4ge1xuICAgICAgY29uc3QgZnIgPSB0cmFuc2xhdGlvbnMuZnI7XG4gICAgICBleHBlY3QoZnIubXlSZXNpZGVuY2UpLnRvQmUoJ01hIHLDqXNpZGVuY2UnKTtcbiAgICAgIGV4cGVjdChmci5teUJ1aWxkaW5ncykudG9CZSgnTWVzIGLDonRpbWVudHMnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1BhZ2luYXRpb24gRWxlbWVudHMgVHJhbnNsYXRpb24nLCAoKSA9PiB7XG4gICAgY29uc3QgcGFnaW5hdGlvbktleXMgPSBbXG4gICAgICAnc2hvd2luZycsXG4gICAgICAnc2hvd2luZ1Jlc3VsdHMnLFxuICAgICAgJ3ByZXZpb3VzJyxcbiAgICAgICduZXh0JyxcbiAgICAgICdwYWdlJyxcbiAgICAgICdvZicsXG4gICAgICAndG90YWwnLFxuICAgICAgJ3Jlc3VsdHMnLFxuICAgICAgJ3Jlc2lkZW5jZXMnLFxuICAgICAgJ2J1aWxkaW5ncydcbiAgICBdO1xuXG4gICAgaXQoJ3Nob3VsZCBoYXZlIHBhZ2luYXRpb24gdGV4dCB0cmFuc2xhdGlvbnMnLCAoKSA9PiB7XG4gICAgICBwYWdpbmF0aW9uS2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIGxhbmd1YWdlcy5mb3JFYWNoKGxhbmcgPT4ge1xuICAgICAgICAgIGNvbnN0IHQgPSB0cmFuc2xhdGlvbnNbbGFuZ10gYXMgYW55O1xuICAgICAgICAgIGlmICh0W2tleV0pIHtcbiAgICAgICAgICAgIGV4cGVjdCh0eXBlb2YgdFtrZXldKS50b0JlKCdzdHJpbmcnKTtcbiAgICAgICAgICAgIGV4cGVjdCh0W2tleV0ubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYXZlIHBhZ2luYXRpb24gcGF0dGVybiBzdXBwb3J0IGZvciBkeW5hbWljIHRleHQnLCAoKSA9PiB7XG4gICAgICAvLyBUZXN0IHBhdHRlcm5zIGxpa2UgXCJTaG93aW5nIFggdG8gWSBvZiBaIHJlc2lkZW5jZXNcIlxuICAgICAgY29uc3QgcGF0dGVybnMgPSBbJ3Nob3dpbmdSZXN1bHRzJywgJ3Nob3dpbmdYdG9Zb2ZaJ107XG4gICAgICBcbiAgICAgIHBhdHRlcm5zLmZvckVhY2gocGF0dGVybiA9PiB7XG4gICAgICAgIGxhbmd1YWdlcy5mb3JFYWNoKGxhbmcgPT4ge1xuICAgICAgICAgIGNvbnN0IHQgPSB0cmFuc2xhdGlvbnNbbGFuZ10gYXMgYW55O1xuICAgICAgICAgIGlmICh0W3BhdHRlcm5dKSB7XG4gICAgICAgICAgICBleHBlY3QodHlwZW9mIHRbcGF0dGVybl0pLnRvQmUoJ3N0cmluZycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0J1dHRvbiBUcmFuc2xhdGlvbiBDb3ZlcmFnZScsICgpID0+IHtcbiAgICBjb25zdCBjYXJkQnV0dG9uS2V5cyA9IFtcbiAgICAgICd2aWV3RG9jdW1lbnRzJyxcbiAgICAgICd2aWV3RG9jdW1lbnRzMicsIFxuICAgICAgJ2J1aWxkaW5nRG9jdW1lbnRzJyxcbiAgICAgICdwcmV2aW91cycsXG4gICAgICAnbmV4dCcsXG4gICAgICAnY2xvc2UnLFxuICAgICAgJ2NhbmNlbCcsXG4gICAgICAnc2F2ZScsXG4gICAgICAnZWRpdCcsXG4gICAgICAnZGVsZXRlJyxcbiAgICAgICdhZGQnLFxuICAgICAgJ2NyZWF0ZScsXG4gICAgICAndXBkYXRlJ1xuICAgIF07XG5cbiAgICBpdCgnc2hvdWxkIGhhdmUgYWxsIGNhcmQgYnV0dG9ucyB0cmFuc2xhdGVkJywgKCkgPT4ge1xuICAgICAgY2FyZEJ1dHRvbktleXMuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICBsYW5ndWFnZXMuZm9yRWFjaChsYW5nID0+IHtcbiAgICAgICAgICBjb25zdCB0ID0gdHJhbnNsYXRpb25zW2xhbmddIGFzIGFueTtcbiAgICAgICAgICBpZiAodFtrZXldKSB7XG4gICAgICAgICAgICBleHBlY3QodHlwZW9mIHRba2V5XSkudG9CZSgnc3RyaW5nJyk7XG4gICAgICAgICAgICBleHBlY3QodFtrZXldLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSBGcmVuY2ggYnV0dG9uIHRyYW5zbGF0aW9ucyB1c2luZyBwcm9wZXIgUXVlYmVjIHRlcm1pbm9sb2d5JywgKCkgPT4ge1xuICAgICAgY29uc3QgZnIgPSB0cmFuc2xhdGlvbnMuZnI7XG4gICAgICBcbiAgICAgIC8vIENvbW1vbiBidXR0b24gdmVyYnMgaW4gUXVlYmVjIEZyZW5jaFxuICAgICAgaWYgKGZyLnNhdmUpIGV4cGVjdChmci5zYXZlKS50b0JlKCdFbnJlZ2lzdHJlcicpO1xuICAgICAgaWYgKGZyLmNhbmNlbCkgZXhwZWN0KGZyLmNhbmNlbCkudG9CZSgnQW5udWxlcicpO1xuICAgICAgaWYgKGZyLmNsb3NlKSBleHBlY3QoZnIuY2xvc2UpLnRvQmUoJ0Zlcm1lcicpO1xuICAgICAgaWYgKGZyLmVkaXQpIGV4cGVjdChmci5lZGl0KS50b0JlKCdNb2RpZmllcicpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRm9ybSBMYWJlbHMgYW5kIEZpZWxkIE5hbWVzIFRyYW5zbGF0aW9uJywgKCkgPT4ge1xuICAgIGNvbnN0IGZvcm1MYWJlbEtleXMgPSBbXG4gICAgICAnZmlyc3ROYW1lJyxcbiAgICAgICdsYXN0TmFtZScsIFxuICAgICAgJ2VtYWlsJyxcbiAgICAgICdwaG9uZScsXG4gICAgICAnYWRkcmVzcycsXG4gICAgICAnY2l0eScsXG4gICAgICAncHJvdmluY2UnLFxuICAgICAgJ3Bvc3RhbENvZGUnLFxuICAgICAgJ3VuaXROdW1iZXInLFxuICAgICAgJ2J1aWxkaW5nTmFtZScsXG4gICAgICAnb3JnYW5pemF0aW9uJyxcbiAgICAgICdyb2xlJyxcbiAgICAgICd0eXBlJ1xuICAgIF07XG5cbiAgICBpdCgnc2hvdWxkIGhhdmUgYWxsIGZvcm0gbGFiZWxzIHRyYW5zbGF0ZWQnLCAoKSA9PiB7XG4gICAgICBmb3JtTGFiZWxLZXlzLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgbGFuZ3VhZ2VzLmZvckVhY2gobGFuZyA9PiB7XG4gICAgICAgICAgY29uc3QgdCA9IHRyYW5zbGF0aW9uc1tsYW5nXSBhcyBhbnk7XG4gICAgICAgICAgaWYgKHRba2V5XSkge1xuICAgICAgICAgICAgZXhwZWN0KHR5cGVvZiB0W2tleV0pLnRvQmUoJ3N0cmluZycpO1xuICAgICAgICAgICAgZXhwZWN0KHRba2V5XS5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHVzZSBwcm9wZXIgUXVlYmVjIEZyZW5jaCBmb3JtIHRlcm1pbm9sb2d5JywgKCkgPT4ge1xuICAgICAgY29uc3QgZnIgPSB0cmFuc2xhdGlvbnMuZnI7XG4gICAgICBcbiAgICAgIGlmIChmci5lbWFpbCkgZXhwZWN0KGZyLmVtYWlsKS50b0JlKCdDb3VycmllbCcpOyAvLyBRdWViZWMgRnJlbmNoIGZvciBlbWFpbFxuICAgICAgaWYgKGZyLnBob25lKSBleHBlY3QoZnIucGhvbmUpLnRvQmUoJ1TDqWzDqXBob25lJyk7XG4gICAgICBpZiAoZnIuYWRkcmVzcykgZXhwZWN0KGZyLmFkZHJlc3MpLnRvQmUoJ0FkcmVzc2UnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1VuaXQgTWVhc3VyZW1lbnRzIGFuZCBUZWNobmljYWwgVGVybXMnLCAoKSA9PiB7XG4gICAgY29uc3QgbWVhc3VyZW1lbnRLZXlzID0gW1xuICAgICAgJ3NxRnQnLFxuICAgICAgJ3VuaXRzJyxcbiAgICAgICdvY2N1cGllZCcsXG4gICAgICAndmFjYW50JyxcbiAgICAgICdhcGFydG1lbnQnLFxuICAgICAgJ2NvbmRvJyxcbiAgICAgICdob3VzZSdcbiAgICBdO1xuXG4gICAgaXQoJ3Nob3VsZCBoYXZlIG1lYXN1cmVtZW50IGFuZCBwcm9wZXJ0eSB0eXBlIHRyYW5zbGF0aW9ucycsICgpID0+IHtcbiAgICAgIG1lYXN1cmVtZW50S2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIGxhbmd1YWdlcy5mb3JFYWNoKGxhbmcgPT4ge1xuICAgICAgICAgIGNvbnN0IHQgPSB0cmFuc2xhdGlvbnNbbGFuZ10gYXMgYW55O1xuICAgICAgICAgIGlmICh0W2tleV0pIHtcbiAgICAgICAgICAgIGV4cGVjdCh0eXBlb2YgdFtrZXldKS50b0JlKCdzdHJpbmcnKTtcbiAgICAgICAgICAgIGV4cGVjdCh0W2tleV0ubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnU3RhdHVzIGFuZCBTdGF0ZSBJbmRpY2F0b3JzIFRyYW5zbGF0aW9uJywgKCkgPT4ge1xuICAgIGNvbnN0IHN0YXR1c0tleXMgPSBbXG4gICAgICAnYWN0aXZlJyxcbiAgICAgICdpbmFjdGl2ZScsIFxuICAgICAgJ29jY3VwaWVkJyxcbiAgICAgICd2YWNhbnQnLFxuICAgICAgJ2F2YWlsYWJsZScsXG4gICAgICAndW5hdmFpbGFibGUnLFxuICAgICAgJ3BlbmRpbmcnLFxuICAgICAgJ2FwcHJvdmVkJyxcbiAgICAgICdyZWplY3RlZCcsXG4gICAgICAnY29tcGxldGUnLFxuICAgICAgJ2xvYWRpbmcnXG4gICAgXTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSBhbGwgc3RhdHVzIGluZGljYXRvcnMgdHJhbnNsYXRlZCcsICgpID0+IHtcbiAgICAgIHN0YXR1c0tleXMuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICBsYW5ndWFnZXMuZm9yRWFjaChsYW5nID0+IHtcbiAgICAgICAgICBjb25zdCB0ID0gdHJhbnNsYXRpb25zW2xhbmddIGFzIGFueTtcbiAgICAgICAgICBpZiAodFtrZXldKSB7XG4gICAgICAgICAgICBleHBlY3QodHlwZW9mIHRba2V5XSkudG9CZSgnc3RyaW5nJyk7XG4gICAgICAgICAgICBleHBlY3QodFtrZXldLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSBwcm9wZXIgUXVlYmVjIEZyZW5jaCBzdGF0dXMgdGVybXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBmciA9IHRyYW5zbGF0aW9ucy5mcjtcbiAgICAgIFxuICAgICAgaWYgKGZyLmxvYWRpbmcpIGV4cGVjdChmci5sb2FkaW5nKS50b0JlKCdDaGFyZ2VtZW50Li4uJyk7XG4gICAgICBpZiAoZnIuY29tcGxldGUpIGV4cGVjdChmci5jb21wbGV0ZSkudG9CZSgnVGVybWluw6knKTtcbiAgICAgIGlmIChmci5wZW5kaW5nKSBleHBlY3QoZnIucGVuZGluZykudG9CZSgnRW4gYXR0ZW50ZScpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ2FyZCBDb250ZW50IGFuZCBMYWJlbHMgVHJhbnNsYXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCB0cmFuc2xhdGUgYWxsIHJlc2lkZW5jZSBjYXJkIGNvbnRlbnQgbGFiZWxzJywgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzaWRlbmNlTGFiZWxzID0gW1xuICAgICAgICAndW5pdCcsXG4gICAgICAgICdidWlsZGluZzInLCAvLyBcIkJ1aWxkaW5nXCIgbGFiZWxcbiAgICAgICAgJ3Jlc2lkZW5jZScsXG4gICAgICAgICdmbG9vcicsXG4gICAgICAgICdiZWRyb29tcycsXG4gICAgICAgICdiYXRocm9vbXMnLCBcbiAgICAgICAgJ3BhcmtpbmdTcGFjZXMnLFxuICAgICAgICAnc3RvcmFnZVNwYWNlcydcbiAgICAgIF07XG5cbiAgICAgIHJlc2lkZW5jZUxhYmVscy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIGxhbmd1YWdlcy5mb3JFYWNoKGxhbmcgPT4ge1xuICAgICAgICAgIGNvbnN0IHQgPSB0cmFuc2xhdGlvbnNbbGFuZ10gYXMgYW55O1xuICAgICAgICAgIGV4cGVjdCh0W2tleV0pLnRvQmVEZWZpbmVkKCk7XG4gICAgICAgICAgZXhwZWN0KHR5cGVvZiB0W2tleV0pLnRvQmUoJ3N0cmluZycpO1xuICAgICAgICAgIGV4cGVjdCh0W2tleV0ubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHRyYW5zbGF0ZSBhbGwgYnVpbGRpbmcgY2FyZCBjb250ZW50IGxhYmVscycsICgpID0+IHtcbiAgICAgIGNvbnN0IGJ1aWxkaW5nTGFiZWxzID0gW1xuICAgICAgICAnYWRkcmVzcycsXG4gICAgICAgICdidWlsZGluZ1R5cGUnLFxuICAgICAgICAndG90YWxVbml0cycsXG4gICAgICAgICdvY2N1cGFuY3knLFxuICAgICAgICAnbWFuYWdlbWVudENvbXBhbnknXG4gICAgICBdO1xuXG4gICAgICBidWlsZGluZ0xhYmVscy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIGxhbmd1YWdlcy5mb3JFYWNoKGxhbmcgPT4ge1xuICAgICAgICAgIGNvbnN0IHQgPSB0cmFuc2xhdGlvbnNbbGFuZ10gYXMgYW55O1xuICAgICAgICAgIGlmICh0W2tleV0pIHtcbiAgICAgICAgICAgIGV4cGVjdCh0eXBlb2YgdFtrZXldKS50b0JlKCdzdHJpbmcnKTtcbiAgICAgICAgICAgIGV4cGVjdCh0W2tleV0ubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnTWlzc2luZyBUcmFuc2xhdGlvbiBEZXRlY3Rpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBpZGVudGlmeSBhbnkgVUkgZWxlbWVudHMgdGhhdCBtaWdodCBiZSBtaXNzaW5nIHRyYW5zbGF0aW9ucycsICgpID0+IHtcbiAgICAgIC8vIENvbW1vbiBVSSBwYXR0ZXJucyB0aGF0IHNob3VsZCBiZSB0cmFuc2xhdGVkXG4gICAgICBjb25zdCBjb21tb25VSVBhdHRlcm5zID0gW1xuICAgICAgICAndmlld0RvY3VtZW50cycsXG4gICAgICAgICdidWlsZGluZ0RvY3VtZW50cycsIFxuICAgICAgICAnc2hvd2luZ1Jlc3VsdHMnLFxuICAgICAgICAnbG9hZGluZycsXG4gICAgICAgICdub0RhdGFGb3VuZCcsXG4gICAgICAgICdlcnJvckxvYWRpbmcnXG4gICAgICBdO1xuXG4gICAgICBjb21tb25VSVBhdHRlcm5zLmZvckVhY2gocGF0dGVybiA9PiB7XG4gICAgICAgIGxhbmd1YWdlcy5mb3JFYWNoKGxhbmcgPT4ge1xuICAgICAgICAgIGNvbnN0IHQgPSB0cmFuc2xhdGlvbnNbbGFuZ10gYXMgYW55O1xuICAgICAgICAgIGlmICh0W3BhdHRlcm5dKSB7XG4gICAgICAgICAgICBleHBlY3QodHlwZW9mIHRbcGF0dGVybl0pLnRvQmUoJ3N0cmluZycpO1xuICAgICAgICAgICAgZXhwZWN0KHRbcGF0dGVybl0ubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICAgICAgICAvLyBTaG91bGQgbm90IGNvbnRhaW4gcGxhY2Vob2xkZXIgYnJhY2tldHNcbiAgICAgICAgICAgIGV4cGVjdCh0W3BhdHRlcm5dKS5ub3QudG9NYXRjaCgvXFx7W159XSpcXH0vKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGVuc3VyZSBubyBoYXJkY29kZWQgRW5nbGlzaCB0ZXh0IGluIGNvbW1vbiBVSSBwYXR0ZXJucycsICgpID0+IHtcbiAgICAgIC8vIFRoZXNlIGFyZSBwYXR0ZXJucyB0aGF0IGNvbW1vbmx5IGFwcGVhciB1bnRyYW5zbGF0ZWRcbiAgICAgIGNvbnN0IHByb2JsZW1hdGljUGF0dGVybnMgPSBbXG4gICAgICAgIC9eVmlldyBEb2N1bWVudHM/JC9pLFxuICAgICAgICAvXkJ1aWxkaW5nIERvY3VtZW50cz8kL2ksXG4gICAgICAgIC9eQWRkcmVzcyQvaSxcbiAgICAgICAgL15TcSBGdCQvaSxcbiAgICAgICAgL15CZWRyb29tcz8kL2ksXG4gICAgICAgIC9eQmF0aHJvb21zPyQvaSxcbiAgICAgICAgL15QYXJraW5nJC9pLFxuICAgICAgICAvXlN0b3JhZ2UkL2ksXG4gICAgICAgIC9eU2hvd2luZyBcXGQrIHRvIFxcZCsgb2YgXFxkKyAvaSxcbiAgICAgICAgL15QcmV2aW91cyQvaSxcbiAgICAgICAgL15OZXh0JC9pXG4gICAgICBdO1xuXG4gICAgICAvLyBUaGlzIHRlc3QgZG9jdW1lbnRzIHBhdHRlcm5zIHRvIHdhdGNoIGZvciAtIHdvdWxkIG5lZWQgYWN0dWFsIGNvbXBvbmVudCBzY2FubmluZ1xuICAgICAgLy8gdG8gZGV0ZWN0IGhhcmRjb2RlZCB0ZXh0LCBidXQgc2VydmVzIGFzIGEgcmVtaW5kZXIgb2Ygd2hhdCB0byBsb29rIGZvclxuICAgICAgZXhwZWN0KHByb2JsZW1hdGljUGF0dGVybnMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sInZlcnNpb24iOjN9