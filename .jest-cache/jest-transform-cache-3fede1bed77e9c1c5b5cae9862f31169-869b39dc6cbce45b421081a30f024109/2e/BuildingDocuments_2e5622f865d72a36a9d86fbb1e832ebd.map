{"file":"/home/runner/workspace/client/src/pages/manager/BuildingDocuments.tsx","mappings":";;;;;AAOA,oCA+DC;;AAtED,uDAAiD;AACjD,mCAAgD;AAChD,mDAA+C;AAC/C,0FAAkE;AAClE,mDAAgD;AAChD,+CAAyC;AAEzC,SAAwB,iBAAiB;IACvC,MAAM,CAAC,EAAE,QAAQ,CAAC,GAAG,IAAA,oBAAW,GAAE,CAAC;IACnC,MAAM,MAAM,GAAG,IAAA,kBAAS,GAAE,CAAC;IAE3B,4DAA4D;IAC5D,MAAM,SAAS,GAAG,IAAI,eAAe,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;IAC9D,MAAM,UAAU,GAAI,MAAc,CAAC,UAAU,IAAI,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;IAE7E,mBAAmB;IACnB,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,IAAA,sBAAQ,EAAC;QAC9B,QAAQ,EAAE,CAAC,gBAAgB,CAAC;QAC5B,OAAO,EAAE,GAAG,EAAE,CAAC,IAAA,wBAAU,EAAC,KAAK,EAAE,gBAAgB,CAAiB;KACnE,CAAC,CAAC;IAEH,oBAAoB;IACpB,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,IAAA,sBAAQ,EAAC;QAClC,QAAQ,EAAE,CAAC,wBAAwB,EAAE,UAAU,CAAC;QAChD,OAAO,EAAE,GAAG,EAAE,CAAC,IAAA,wBAAU,EAAC,KAAK,EAAE,0BAA0B,UAAU,EAAE,CAAiB;QACxF,OAAO,EAAE,CAAC,CAAC,UAAU;KACtB,CAAC,CAAC;IAEH,IAAI,CAAC,UAAU,EAAE,CAAC;QAChB,OAAO,CACL,gCAAK,SAAS,EAAC,sCAAsC,YACnD,gCAAK,SAAS,EAAC,yCAAyC,YACtD,8BAAG,SAAS,EAAC,eAAe,wCAA4B,GACpD,GACF,CACP,CAAC;IACJ,CAAC;IAED,MAAM,SAAS,GAAG,IAAI,EAAE,IAAI,KAAK,SAAS,IAAI,IAAI,EAAE,IAAI,KAAK,OAAO,CAAC;IAErE,OAAO,CACL,iCAAK,SAAS,EAAC,sCAAsC,aAEnD,gCAAK,SAAS,EAAC,UAAU,YACvB,wBAAC,eAAM,IACL,OAAO,EAAC,SAAS,EACjB,OAAO,EAAE,GAAG,EAAE,CAAC,QAAQ,CAAC,oBAAoB,CAAC,EAC7C,SAAS,EAAC,MAAM,iBACJ,aAAa,aAEzB,uBAAC,wBAAS,IAAC,SAAS,EAAC,cAAc,GAAG,yBAE/B,GACL,EAEN,uBAAC,yBAAe,IACd,MAAM,EAAE;oBACN,IAAI,EAAE,UAAU;oBAChB,QAAQ,EAAE,SAAS;oBACnB,QAAQ,EAAE,UAAU;oBACpB,UAAU,EAAE,QAAQ,EAAE,IAAI;oBAC1B,aAAa,EAAE,QAAQ,EAAE,OAAO;oBAChC,WAAW,EAAE,SAAS;oBACtB,SAAS,EAAE,SAAS;oBACpB,WAAW,EAAE,SAAS;oBACtB,oBAAoB,EAAE,SAAS;iBAChC,GACD,IACE,CACP,CAAC;AACJ,CAAC","names":[],"sources":["/home/runner/workspace/client/src/pages/manager/BuildingDocuments.tsx"],"sourcesContent":["import { useQuery } from '@tanstack/react-query';\nimport { useLocation, useParams } from 'wouter';\nimport { apiRequest } from '@/lib/queryClient';\nimport DocumentManager from '@/components/common/DocumentManager';\nimport { Button } from '@/components/ui/button';\nimport { ArrowLeft } from 'lucide-react';\n\nexport default function BuildingDocuments() {\n  const [, navigate] = useLocation();\n  const params = useParams();\n\n  // Get buildingId from URL (both path param and query param)\n  const urlParams = new URLSearchParams(window.location.search);\n  const buildingId = (params as any).buildingId || urlParams.get('buildingId');\n\n  // Get current user\n  const { data: user } = useQuery({\n    queryKey: ['/api/auth/user'],\n    queryFn: () => apiRequest('GET', '/api/auth/user') as Promise<any>,\n  });\n\n  // Get building info\n  const { data: building } = useQuery({\n    queryKey: ['/api/manager/buildings', buildingId],\n    queryFn: () => apiRequest('GET', `/api/manager/buildings/${buildingId}`) as Promise<any>,\n    enabled: !!buildingId,\n  });\n\n  if (!buildingId) {\n    return (\n      <div className='flex-1 flex flex-col overflow-hidden'>\n        <div className='flex-1 flex items-center justify-center'>\n          <p className='text-gray-500'>Building ID is required</p>\n        </div>\n      </div>\n    );\n  }\n\n  const isManager = user?.role === 'manager' || user?.role === 'admin';\n\n  return (\n    <div className='flex-1 flex flex-col overflow-hidden'>\n      {/* Back button */}\n      <div className='p-6 pb-0'>\n        <Button\n          variant='outline'\n          onClick={() => navigate('/manager/buildings')}\n          className='mb-4'\n          data-testid='button-back'\n        >\n          <ArrowLeft className='w-4 h-4 mr-2' />\n          Back to Buildings\n        </Button>\n      </div>\n\n      <DocumentManager\n        config={{\n          type: 'building',\n          userRole: 'manager',\n          entityId: buildingId,\n          entityName: building?.name,\n          entityAddress: building?.address,\n          allowCreate: isManager,\n          allowEdit: isManager,\n          allowDelete: isManager,\n          showVisibilityToggle: isManager,\n        }}\n      />\n    </div>\n  );\n}\n"],"version":3}