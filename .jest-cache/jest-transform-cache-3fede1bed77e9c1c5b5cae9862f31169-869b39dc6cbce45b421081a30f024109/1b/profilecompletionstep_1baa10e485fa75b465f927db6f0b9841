e6606554ec3c8a3f397f9d96dc01d028
"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
exports.ProfileCompletionStep = ProfileCompletionStep;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = __importStar(require("react"));
const card_1 = require("@/components/ui/card");
const input_1 = require("@/components/ui/input");
const label_1 = require("@/components/ui/label");
const select_1 = require("@/components/ui/select");
const alert_1 = require("@/components/ui/alert");
const lucide_react_1 = require("lucide-react");
const use_language_1 = require("@/hooks/use-language");
/**
 * Profile Completion Step Component.
 *
 * Collects user profile information required for Quebec property management.
 * Includes address validation and bilingual support.
 * @param root0 - The wizard step props.
 * @param root0.data - Current step data.
 * @param root0.onDataChange - Callback when step data changes.
 * @param root0.onValidationChange - Callback when validation status changes.
 * @returns JSX element for the profile completion step.
 */
/**
 * ProfileCompletionStep function.
 * @param root0
 * @param root0.data
 * @param root0.onDataChange
 * @param root0.onValidationChange
 * @param root0._data
 * @returns Function result.
 */
function ProfileCompletionStep({ _data, onDataChange, onValidationChange, }) {
    const { t: _t } = (0, use_language_1.useLanguage)();
    const [formData, setFormData] = (0, react_1.useState)({
        firstName: '',
        lastName: '',
        phone: '',
        language: 'fr',
        dateOfBirth: '',
        isValid: false,
        ..._data,
    });
    const [touched, setTouched] = (0, react_1.useState)({});
    // Phone validation function - moved before useEffect to avoid hoisting issues
    const validatePhone = (phone) => {
        if (!phone) {
            return false;
        }
        // Quebec phone number format validation
        const phoneRegex = /^(\+1[-.\s]?)?(\(?\d{3}\)?[-.\s]?)?\d{3}[-.\s]?\d{4}$/;
        return phoneRegex.test(phone);
    };
    // Validate form whenever relevant fields change
    (0, react_1.useEffect)(() => {
        const requiredFields = ['firstName', 'lastName', 'language'];
        const hasRequiredFields = requiredFields.every((field) => formData[field] &&
            String(formData[field]).trim().length > 0);
        // Phone is optional, but if provided must be valid
        const isValidPhone = !formData.phone || validatePhone(formData.phone);
        const isValid = hasRequiredFields && isValidPhone;
        // Only update if validation state actually changed
        if (formData.isValid !== isValid) {
            const updatedData = { ...formData, isValid };
            onDataChange(updatedData);
            onValidationChange(isValid);
        }
    }, [formData.firstName, formData.lastName, formData.language, formData.phone, formData.isValid]);
    const handleInputChange = (field, _value) => {
        setFormData((prev) => ({
            ...prev,
            [field]: _value,
            _error: undefined,
        }));
    };
    const handleBlur = (field) => {
        setTouched((prev) => ({ ...prev, [field]: true }));
    };
    const getFieldError = (field, label) => {
        if (!touched[field]) {
            return null;
        }
        const value = formData[field];
        if (['firstName', 'lastName', 'language'].includes(field)) {
            if (!value || String(value).trim().length === 0) {
                return `${label} est requis`;
            }
        }
        if (field === 'phone' && value && !validatePhone(String(value))) {
            return 'Format de téléphone invalide (ex: 514-123-4567)';
        }
        return null;
    };
    return ((0, jsx_runtime_1.jsxs)("div", { className: 'space-y-6 max-w-2xl mx-auto', children: [(0, jsx_runtime_1.jsxs)(alert_1.Alert, { className: 'border-blue-200 bg-blue-50', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.User, { className: 'h-4 w-4 text-blue-600' }), (0, jsx_runtime_1.jsxs)(alert_1.AlertDescription, { className: 'text-blue-800', children: [(0, jsx_runtime_1.jsx)("strong", { children: "Profil utilisateur:" }), " Compl\u00E9tez votre profil pour finaliser votre inscription et acc\u00E9der aux services de gestion immobili\u00E8re."] })] }), (0, jsx_runtime_1.jsx)(card_1.Card, { children: (0, jsx_runtime_1.jsxs)(card_1.CardContent, { className: 'pt-6 space-y-6', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'space-y-4', children: [(0, jsx_runtime_1.jsxs)("h3", { className: 'text-lg font-medium text-gray-900 flex items-center', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.User, { className: 'h-5 w-5 mr-2' }), "Informations personnelles"] }), (0, jsx_runtime_1.jsxs)("div", { className: 'grid grid-cols-1 md:grid-cols-2 gap-4', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'space-y-2', children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: 'firstName', className: 'text-sm font-medium text-gray-700', children: "Pr\u00E9nom *" }), (0, jsx_runtime_1.jsx)(input_1.Input, { id: 'firstName', type: 'text', value: formData.firstName, onChange: (e) => handleInputChange('firstName', e.target.value), onBlur: () => handleBlur('firstName'), placeholder: 'Votre pr\u00E9nom', className: getFieldError('firstName', 'Prénom') ? 'border-red-500' : '' }), getFieldError('firstName', 'Prénom') && ((0, jsx_runtime_1.jsx)("p", { className: 'text-sm text-red-600', children: getFieldError('firstName', 'Prénom') }))] }), (0, jsx_runtime_1.jsxs)("div", { className: 'space-y-2', children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: 'lastName', className: 'text-sm font-medium text-gray-700', children: "Nom de famille *" }), (0, jsx_runtime_1.jsx)(input_1.Input, { id: 'lastName', type: 'text', value: formData.lastName, onChange: (e) => handleInputChange('lastName', e.target.value), onBlur: () => handleBlur('lastName'), placeholder: 'Votre nom de famille', className: getFieldError('lastName', 'Nom de famille') ? 'border-red-500' : '' }), getFieldError('lastName', 'Nom de famille') && ((0, jsx_runtime_1.jsx)("p", { className: 'text-sm text-red-600', children: getFieldError('lastName', 'Nom de famille') }))] })] }), (0, jsx_runtime_1.jsxs)("div", { className: 'grid grid-cols-1 md:grid-cols-2 gap-4', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'space-y-2', children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: 'phone', className: 'text-sm font-medium text-gray-700', children: "T\u00E9l\u00E9phone (optionnel)" }), (0, jsx_runtime_1.jsxs)("div", { className: 'relative', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Phone, { className: 'absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4' }), (0, jsx_runtime_1.jsx)(input_1.Input, { id: 'phone', type: 'tel', value: formData.phone, onChange: (e) => handleInputChange('phone', e.target.value), onBlur: () => handleBlur('phone'), placeholder: '514-123-4567', className: `pl-10 ${getFieldError('phone', 'Téléphone') ? 'border-red-500' : ''}` })] }), getFieldError('phone', 'Téléphone') && ((0, jsx_runtime_1.jsx)("p", { className: 'text-sm text-red-600', children: getFieldError('phone', 'Téléphone') }))] }), (0, jsx_runtime_1.jsxs)("div", { className: 'space-y-2', children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: 'language', className: 'text-sm font-medium text-gray-700', children: "Langue pr\u00E9f\u00E9r\u00E9e *" }), (0, jsx_runtime_1.jsxs)(select_1.Select, { value: formData.language, onValueChange: (_value) => handleInputChange('language', _value), children: [(0, jsx_runtime_1.jsxs)(select_1.SelectTrigger, { className: 'w-full', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Globe, { className: 'h-4 w-4 mr-2 text-gray-400' }), (0, jsx_runtime_1.jsx)(select_1.SelectValue, { placeholder: 'Choisir une langue' })] }), (0, jsx_runtime_1.jsxs)(select_1.SelectContent, { children: [(0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'fr', children: "Fran\u00E7ais" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'en', children: "English" })] })] })] })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: 'bg-blue-50 border border-blue-200 p-4 rounded-lg', children: [(0, jsx_runtime_1.jsx)("h4", { className: 'text-sm font-medium text-blue-900 mb-2', children: "\uD83D\uDEE1\uFE0F Protection de la vie priv\u00E9e" }), (0, jsx_runtime_1.jsx)("p", { className: 'text-xs text-blue-800', children: "Vos informations personnelles sont collect\u00E9es et utilis\u00E9es uniquement pour les services de gestion immobili\u00E8re, conform\u00E9ment \u00E0 la Loi 25 du Qu\u00E9bec. Vous pouvez demander l'acc\u00E8s, la correction ou la suppression de vos donn\u00E9es \u00E0 tout moment en contactant l'administrateur." })] })] }) })] }));
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9jbGllbnQvc3JjL2NvbXBvbmVudHMvYXV0aC9zdGVwcy9wcm9maWxlLWNvbXBsZXRpb24tc3RlcC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFtREEsc0RBMk1DOztBQTlQRCwrQ0FBbUQ7QUFDbkQsK0NBQXlEO0FBQ3pELGlEQUE4QztBQUM5QyxpREFBOEM7QUFDOUMsbURBTWdDO0FBQ2hDLGlEQUFnRTtBQUNoRSwrQ0FBa0Q7QUFDbEQsdURBQW1EO0FBa0JuRDs7Ozs7Ozs7OztHQVVHO0FBQ0g7Ozs7Ozs7O0dBUUc7QUFDSCxTQUFnQixxQkFBcUIsQ0FBQyxFQUNwQyxLQUFLLEVBQ0wsWUFBWSxFQUNaLGtCQUFrQixHQUNGO0lBQ2hCLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEdBQUcsSUFBQSwwQkFBVyxHQUFFLENBQUM7SUFDaEMsTUFBTSxDQUFDLFFBQVEsRUFBRSxXQUFXLENBQUMsR0FBRyxJQUFBLGdCQUFRLEVBQXdCO1FBQzlELFNBQVMsRUFBRSxFQUFFO1FBQ2IsUUFBUSxFQUFFLEVBQUU7UUFDWixLQUFLLEVBQUUsRUFBRTtRQUNULFFBQVEsRUFBRSxJQUFJO1FBQ2QsV0FBVyxFQUFFLEVBQUU7UUFDZixPQUFPLEVBQUUsS0FBSztRQUNkLEdBQUcsS0FBSztLQUNULENBQUMsQ0FBQztJQUVILE1BQU0sQ0FBQyxPQUFPLEVBQUUsVUFBVSxDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUE4QixFQUFFLENBQUMsQ0FBQztJQUV4RSw4RUFBOEU7SUFDOUUsTUFBTSxhQUFhLEdBQUcsQ0FBQyxLQUFhLEVBQUUsRUFBRTtRQUN0QyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7WUFDWCxPQUFPLEtBQUssQ0FBQztRQUNmLENBQUM7UUFDRCx3Q0FBd0M7UUFDeEMsTUFBTSxVQUFVLEdBQUcsdURBQXVELENBQUM7UUFDM0UsT0FBTyxVQUFVLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FB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ZXMiOlsiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9jbGllbnQvc3JjL2NvbXBvbmVudHMvYXV0aC9zdGVwcy9wcm9maWxlLWNvbXBsZXRpb24tc3RlcC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBDYXJkLCBDYXJkQ29udGVudCB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9jYXJkJztcbmltcG9ydCB7IElucHV0IH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2lucHV0JztcbmltcG9ydCB7IExhYmVsIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2xhYmVsJztcbmltcG9ydCB7XG4gIFNlbGVjdCxcbiAgU2VsZWN0Q29udGVudCxcbiAgU2VsZWN0SXRlbSxcbiAgU2VsZWN0VHJpZ2dlcixcbiAgU2VsZWN0VmFsdWUsXG59IGZyb20gJ0AvY29tcG9uZW50cy91aS9zZWxlY3QnO1xuaW1wb3J0IHsgQWxlcnQsIEFsZXJ0RGVzY3JpcHRpb24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYWxlcnQnO1xuaW1wb3J0IHsgVXNlciwgUGhvbmUsIEdsb2JlIH0gZnJvbSAnbHVjaWRlLXJlYWN0JztcbmltcG9ydCB7IHVzZUxhbmd1YWdlIH0gZnJvbSAnQC9ob29rcy91c2UtbGFuZ3VhZ2UnO1xuaW1wb3J0IHR5cGUgeyBXaXphcmRTdGVwUHJvcHMgfSBmcm9tICcuLi9yZWdpc3RyYXRpb24td2l6YXJkJztcblxuLyoqXG4gKiBJbnRlcmZhY2UgZm9yIHByb2ZpbGUgY29tcGxldGlvbiBzdGVwIGRhdGEuXG4gKiBDb250YWlucyB1c2VyIHByb2ZpbGUgaW5mb3JtYXRpb24gZm9yIHJlZ2lzdHJhdGlvbi5cbiAqIE5vdGU6IEFkZHJlc3MgY29tZXMgZnJvbSBhc3NpZ25lZCBidWlsZGluZy9yZXNpZGVuY2UsIG5vdCB1c2VyIHByb2ZpbGUuXG4gKi9cbmludGVyZmFjZSBQcm9maWxlQ29tcGxldGlvbkRhdGEge1xuICBmaXJzdE5hbWU6IHN0cmluZztcbiAgbGFzdE5hbWU6IHN0cmluZztcbiAgcGhvbmU6IHN0cmluZztcbiAgbGFuZ3VhZ2U6IHN0cmluZztcbiAgZGF0ZU9mQmlydGg6IHN0cmluZztcbiAgaXNWYWxpZDogYm9vbGVhbjtcbiAgZXJyb3I/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogUHJvZmlsZSBDb21wbGV0aW9uIFN0ZXAgQ29tcG9uZW50LlxuICpcbiAqIENvbGxlY3RzIHVzZXIgcHJvZmlsZSBpbmZvcm1hdGlvbiByZXF1aXJlZCBmb3IgUXVlYmVjIHByb3BlcnR5IG1hbmFnZW1lbnQuXG4gKiBJbmNsdWRlcyBhZGRyZXNzIHZhbGlkYXRpb24gYW5kIGJpbGluZ3VhbCBzdXBwb3J0LlxuICogQHBhcmFtIHJvb3QwIC0gVGhlIHdpemFyZCBzdGVwIHByb3BzLlxuICogQHBhcmFtIHJvb3QwLmRhdGEgLSBDdXJyZW50IHN0ZXAgZGF0YS5cbiAqIEBwYXJhbSByb290MC5vbkRhdGFDaGFuZ2UgLSBDYWxsYmFjayB3aGVuIHN0ZXAgZGF0YSBjaGFuZ2VzLlxuICogQHBhcmFtIHJvb3QwLm9uVmFsaWRhdGlvbkNoYW5nZSAtIENhbGxiYWNrIHdoZW4gdmFsaWRhdGlvbiBzdGF0dXMgY2hhbmdlcy5cbiAqIEByZXR1cm5zIEpTWCBlbGVtZW50IGZvciB0aGUgcHJvZmlsZSBjb21wbGV0aW9uIHN0ZXAuXG4gKi9cbi8qKlxuICogUHJvZmlsZUNvbXBsZXRpb25TdGVwIGZ1bmN0aW9uLlxuICogQHBhcmFtIHJvb3QwXG4gKiBAcGFyYW0gcm9vdDAuZGF0YVxuICogQHBhcmFtIHJvb3QwLm9uRGF0YUNoYW5nZVxuICogQHBhcmFtIHJvb3QwLm9uVmFsaWRhdGlvbkNoYW5nZVxuICogQHBhcmFtIHJvb3QwLl9kYXRhXG4gKiBAcmV0dXJucyBGdW5jdGlvbiByZXN1bHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBQcm9maWxlQ29tcGxldGlvblN0ZXAoe1xuICBfZGF0YSxcbiAgb25EYXRhQ2hhbmdlLFxuICBvblZhbGlkYXRpb25DaGFuZ2UsXG59OiBXaXphcmRTdGVwUHJvcHMpIHtcbiAgY29uc3QgeyB0OiBfdCB9ID0gdXNlTGFuZ3VhZ2UoKTtcbiAgY29uc3QgW2Zvcm1EYXRhLCBzZXRGb3JtRGF0YV0gPSB1c2VTdGF0ZTxQcm9maWxlQ29tcGxldGlvbkRhdGE+KHtcbiAgICBmaXJzdE5hbWU6ICcnLFxuICAgIGxhc3ROYW1lOiAnJyxcbiAgICBwaG9uZTogJycsXG4gICAgbGFuZ3VhZ2U6ICdmcicsXG4gICAgZGF0ZU9mQmlydGg6ICcnLFxuICAgIGlzVmFsaWQ6IGZhbHNlLFxuICAgIC4uLl9kYXRhLFxuICB9KTtcblxuICBjb25zdCBbdG91Y2hlZCwgc2V0VG91Y2hlZF0gPSB1c2VTdGF0ZTx7IFtfa2V5OiBzdHJpbmddOiBib29sZWFuIH0+KHt9KTtcblxuICAvLyBQaG9uZSB2YWxpZGF0aW9uIGZ1bmN0aW9uIC0gbW92ZWQgYmVmb3JlIHVzZUVmZmVjdCB0byBhdm9pZCBob2lzdGluZyBpc3N1ZXNcbiAgY29uc3QgdmFsaWRhdGVQaG9uZSA9IChwaG9uZTogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCFwaG9uZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyBRdWViZWMgcGhvbmUgbnVtYmVyIGZvcm1hdCB2YWxpZGF0aW9uXG4gICAgY29uc3QgcGhvbmVSZWdleCA9IC9eKFxcKzFbLS5cXHNdPyk/KFxcKD9cXGR7M31cXCk/Wy0uXFxzXT8pP1xcZHszfVstLlxcc10/XFxkezR9JC87XG4gICAgcmV0dXJuIHBob25lUmVnZXgudGVzdChwaG9uZSk7XG4gIH07XG5cbiAgLy8gVmFsaWRhdGUgZm9ybSB3aGVuZXZlciByZWxldmFudCBmaWVsZHMgY2hhbmdlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgcmVxdWlyZWRGaWVsZHMgPSBbJ2ZpcnN0TmFtZScsICdsYXN0TmFtZScsICdsYW5ndWFnZSddO1xuICAgIGNvbnN0IGhhc1JlcXVpcmVkRmllbGRzID0gcmVxdWlyZWRGaWVsZHMuZXZlcnkoXG4gICAgICAoZmllbGQpID0+XG4gICAgICAgIGZvcm1EYXRhW2ZpZWxkIGFzIGtleW9mIFByb2ZpbGVDb21wbGV0aW9uRGF0YV0gJiZcbiAgICAgICAgU3RyaW5nKGZvcm1EYXRhW2ZpZWxkIGFzIGtleW9mIFByb2ZpbGVDb21wbGV0aW9uRGF0YV0pLnRyaW0oKS5sZW5ndGggPiAwXG4gICAgKTtcblxuICAgIC8vIFBob25lIGlzIG9wdGlvbmFsLCBidXQgaWYgcHJvdmlkZWQgbXVzdCBiZSB2YWxpZFxuICAgIGNvbnN0IGlzVmFsaWRQaG9uZSA9ICFmb3JtRGF0YS5waG9uZSB8fCB2YWxpZGF0ZVBob25lKGZvcm1EYXRhLnBob25lKTtcbiAgICBjb25zdCBpc1ZhbGlkID0gaGFzUmVxdWlyZWRGaWVsZHMgJiYgaXNWYWxpZFBob25lO1xuXG4gICAgLy8gT25seSB1cGRhdGUgaWYgdmFsaWRhdGlvbiBzdGF0ZSBhY3R1YWxseSBjaGFuZ2VkXG4gICAgaWYgKGZvcm1EYXRhLmlzVmFsaWQgIT09IGlzVmFsaWQpIHtcbiAgICAgIGNvbnN0IHVwZGF0ZWREYXRhID0geyAuLi5mb3JtRGF0YSwgaXNWYWxpZCB9O1xuICAgICAgb25EYXRhQ2hhbmdlKHVwZGF0ZWREYXRhKTtcbiAgICAgIG9uVmFsaWRhdGlvbkNoYW5nZShpc1ZhbGlkKTtcbiAgICB9XG4gIH0sIFtmb3JtRGF0YS5maXJzdE5hbWUsIGZvcm1EYXRhLmxhc3ROYW1lLCBmb3JtRGF0YS5sYW5ndWFnZSwgZm9ybURhdGEucGhvbmUsIGZvcm1EYXRhLmlzVmFsaWRdKTtcblxuICBjb25zdCBoYW5kbGVJbnB1dENoYW5nZSA9IChmaWVsZDoga2V5b2YgUHJvZmlsZUNvbXBsZXRpb25EYXRhLCBfdmFsdWU6IHN0cmluZykgPT4ge1xuICAgIHNldEZvcm1EYXRhKChwcmV2KSA9PiAoe1xuICAgICAgLi4ucHJldixcbiAgICAgIFtmaWVsZF06IF92YWx1ZSxcbiAgICAgIF9lcnJvcjogdW5kZWZpbmVkLFxuICAgIH0pKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVCbHVyID0gKGZpZWxkOiBzdHJpbmcpID0+IHtcbiAgICBzZXRUb3VjaGVkKChwcmV2KSA9PiAoeyAuLi5wcmV2LCBbZmllbGRdOiB0cnVlIH0pKTtcbiAgfTtcblxuICBjb25zdCBnZXRGaWVsZEVycm9yID0gKGZpZWxkOiBrZXlvZiBQcm9maWxlQ29tcGxldGlvbkRhdGEsIGxhYmVsOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoIXRvdWNoZWRbZmllbGRdKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCB2YWx1ZSA9IGZvcm1EYXRhW2ZpZWxkXTtcblxuICAgIGlmIChbJ2ZpcnN0TmFtZScsICdsYXN0TmFtZScsICdsYW5ndWFnZSddLmluY2x1ZGVzKGZpZWxkKSkge1xuICAgICAgaWYgKCF2YWx1ZSB8fCBTdHJpbmcodmFsdWUpLnRyaW0oKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGAke2xhYmVsfSBlc3QgcmVxdWlzYDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZmllbGQgPT09ICdwaG9uZScgJiYgdmFsdWUgJiYgIXZhbGlkYXRlUGhvbmUoU3RyaW5nKHZhbHVlKSkpIHtcbiAgICAgIHJldHVybiAnRm9ybWF0IGRlIHTDqWzDqXBob25lIGludmFsaWRlIChleDogNTE0LTEyMy00NTY3KSc7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT0nc3BhY2UteS02IG1heC13LTJ4bCBteC1hdXRvJz5cbiAgICAgIDxBbGVydCBjbGFzc05hbWU9J2JvcmRlci1ibHVlLTIwMCBiZy1ibHVlLTUwJz5cbiAgICAgICAgPFVzZXIgY2xhc3NOYW1lPSdoLTQgdy00IHRleHQtYmx1ZS02MDAnIC8+XG4gICAgICAgIDxBbGVydERlc2NyaXB0aW9uIGNsYXNzTmFtZT0ndGV4dC1ibHVlLTgwMCc+XG4gICAgICAgICAgPHN0cm9uZz5Qcm9maWwgdXRpbGlzYXRldXI6PC9zdHJvbmc+IENvbXBsw6l0ZXogdm90cmUgcHJvZmlsIHBvdXIgZmluYWxpc2VyIHZvdHJlXG4gICAgICAgICAgaW5zY3JpcHRpb24gZXQgYWNjw6lkZXIgYXV4IHNlcnZpY2VzIGRlIGdlc3Rpb24gaW1tb2JpbGnDqHJlLlxuICAgICAgICA8L0FsZXJ0RGVzY3JpcHRpb24+XG4gICAgICA8L0FsZXJ0PlxuXG4gICAgICA8Q2FyZD5cbiAgICAgICAgPENhcmRDb250ZW50IGNsYXNzTmFtZT0ncHQtNiBzcGFjZS15LTYnPlxuICAgICAgICAgIHsvKiBQZXJzb25hbCBJbmZvcm1hdGlvbiAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc3BhY2UteS00Jz5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9J3RleHQtbGcgZm9udC1tZWRpdW0gdGV4dC1ncmF5LTkwMCBmbGV4IGl0ZW1zLWNlbnRlcic+XG4gICAgICAgICAgICAgIDxVc2VyIGNsYXNzTmFtZT0naC01IHctNSBtci0yJyAvPlxuICAgICAgICAgICAgICBJbmZvcm1hdGlvbnMgcGVyc29ubmVsbGVzXG4gICAgICAgICAgICA8L2gzPlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBnYXAtNCc+XG4gICAgICAgICAgICAgIHsvKiBGaXJzdCBOYW1lICovfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc3BhY2UteS0yJz5cbiAgICAgICAgICAgICAgICA8TGFiZWwgaHRtbEZvcj0nZmlyc3ROYW1lJyBjbGFzc05hbWU9J3RleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCc+XG4gICAgICAgICAgICAgICAgICBQcsOpbm9tICpcbiAgICAgICAgICAgICAgICA8L0xhYmVsPlxuICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgaWQ9J2ZpcnN0TmFtZSdcbiAgICAgICAgICAgICAgICAgIHR5cGU9J3RleHQnXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17Zm9ybURhdGEuZmlyc3ROYW1lfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVJbnB1dENoYW5nZSgnZmlyc3ROYW1lJywgZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgb25CbHVyPXsoKSA9PiBoYW5kbGVCbHVyKCdmaXJzdE5hbWUnKX1cbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPSdWb3RyZSBwcsOpbm9tJ1xuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtnZXRGaWVsZEVycm9yKCdmaXJzdE5hbWUnLCAnUHLDqW5vbScpID8gJ2JvcmRlci1yZWQtNTAwJyA6ICcnfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAge2dldEZpZWxkRXJyb3IoJ2ZpcnN0TmFtZScsICdQcsOpbm9tJykgJiYgKFxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSd0ZXh0LXNtIHRleHQtcmVkLTYwMCc+e2dldEZpZWxkRXJyb3IoJ2ZpcnN0TmFtZScsICdQcsOpbm9tJyl9PC9wPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIHsvKiBMYXN0IE5hbWUgKi99XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzcGFjZS15LTInPlxuICAgICAgICAgICAgICAgIDxMYWJlbCBodG1sRm9yPSdsYXN0TmFtZScgY2xhc3NOYW1lPSd0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAnPlxuICAgICAgICAgICAgICAgICAgTm9tIGRlIGZhbWlsbGUgKlxuICAgICAgICAgICAgICAgIDwvTGFiZWw+XG4gICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICBpZD0nbGFzdE5hbWUnXG4gICAgICAgICAgICAgICAgICB0eXBlPSd0ZXh0J1xuICAgICAgICAgICAgICAgICAgdmFsdWU9e2Zvcm1EYXRhLmxhc3ROYW1lfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVJbnB1dENoYW5nZSgnbGFzdE5hbWUnLCBlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICBvbkJsdXI9eygpID0+IGhhbmRsZUJsdXIoJ2xhc3ROYW1lJyl9XG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj0nVm90cmUgbm9tIGRlIGZhbWlsbGUnXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2dldEZpZWxkRXJyb3IoJ2xhc3ROYW1lJywgJ05vbSBkZSBmYW1pbGxlJykgPyAnYm9yZGVyLXJlZC01MDAnIDogJyd9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICB7Z2V0RmllbGRFcnJvcignbGFzdE5hbWUnLCAnTm9tIGRlIGZhbWlsbGUnKSAmJiAoXG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3RleHQtc20gdGV4dC1yZWQtNjAwJz5cbiAgICAgICAgICAgICAgICAgICAge2dldEZpZWxkRXJyb3IoJ2xhc3ROYW1lJywgJ05vbSBkZSBmYW1pbGxlJyl9XG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2dyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgZ2FwLTQnPlxuICAgICAgICAgICAgICB7LyogUGhvbmUgKi99XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzcGFjZS15LTInPlxuICAgICAgICAgICAgICAgIDxMYWJlbCBodG1sRm9yPSdwaG9uZScgY2xhc3NOYW1lPSd0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAnPlxuICAgICAgICAgICAgICAgICAgVMOpbMOpcGhvbmUgKG9wdGlvbm5lbClcbiAgICAgICAgICAgICAgICA8L0xhYmVsPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdyZWxhdGl2ZSc+XG4gICAgICAgICAgICAgICAgICA8UGhvbmUgY2xhc3NOYW1lPSdhYnNvbHV0ZSBsZWZ0LTMgdG9wLTEvMiB0cmFuc2Zvcm0gLXRyYW5zbGF0ZS15LTEvMiB0ZXh0LWdyYXktNDAwIGgtNCB3LTQnIC8+XG4gICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgaWQ9J3Bob25lJ1xuICAgICAgICAgICAgICAgICAgICB0eXBlPSd0ZWwnXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtmb3JtRGF0YS5waG9uZX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVJbnB1dENoYW5nZSgncGhvbmUnLCBlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgIG9uQmx1cj17KCkgPT4gaGFuZGxlQmx1cigncGhvbmUnKX1cbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9JzUxNC0xMjMtNDU2NydcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcGwtMTAgJHtnZXRGaWVsZEVycm9yKCdwaG9uZScsICdUw6lsw6lwaG9uZScpID8gJ2JvcmRlci1yZWQtNTAwJyA6ICcnfWB9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIHtnZXRGaWVsZEVycm9yKCdwaG9uZScsICdUw6lsw6lwaG9uZScpICYmIChcbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0ndGV4dC1zbSB0ZXh0LXJlZC02MDAnPntnZXRGaWVsZEVycm9yKCdwaG9uZScsICdUw6lsw6lwaG9uZScpfTwvcD5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICB7LyogTGFuZ3VhZ2UgKi99XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzcGFjZS15LTInPlxuICAgICAgICAgICAgICAgIDxMYWJlbCBodG1sRm9yPSdsYW5ndWFnZScgY2xhc3NOYW1lPSd0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAnPlxuICAgICAgICAgICAgICAgICAgTGFuZ3VlIHByw6lmw6lyw6llICpcbiAgICAgICAgICAgICAgICA8L0xhYmVsPlxuICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtmb3JtRGF0YS5sYW5ndWFnZX1cbiAgICAgICAgICAgICAgICAgIG9uVmFsdWVDaGFuZ2U9eyhfdmFsdWUpID0+IGhhbmRsZUlucHV0Q2hhbmdlKCdsYW5ndWFnZScsIF92YWx1ZSl9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPFNlbGVjdFRyaWdnZXIgY2xhc3NOYW1lPSd3LWZ1bGwnPlxuICAgICAgICAgICAgICAgICAgICA8R2xvYmUgY2xhc3NOYW1lPSdoLTQgdy00IG1yLTIgdGV4dC1ncmF5LTQwMCcgLz5cbiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFZhbHVlIHBsYWNlaG9sZGVyPSdDaG9pc2lyIHVuZSBsYW5ndWUnIC8+XG4gICAgICAgICAgICAgICAgICA8L1NlbGVjdFRyaWdnZXI+XG4gICAgICAgICAgICAgICAgICA8U2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9J2ZyJz5GcmFuw6dhaXM8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPSdlbic+RW5nbGlzaDwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiBRdWViZWMgQ29tcGxpYW5jZSBOb3RpY2UgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2JnLWJsdWUtNTAgYm9yZGVyIGJvcmRlci1ibHVlLTIwMCBwLTQgcm91bmRlZC1sZyc+XG4gICAgICAgICAgICA8aDQgY2xhc3NOYW1lPSd0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtYmx1ZS05MDAgbWItMic+XG4gICAgICAgICAgICAgIPCfm6HvuI8gUHJvdGVjdGlvbiBkZSBsYSB2aWUgcHJpdsOpZVxuICAgICAgICAgICAgPC9oND5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0ndGV4dC14cyB0ZXh0LWJsdWUtODAwJz5cbiAgICAgICAgICAgICAgVm9zIGluZm9ybWF0aW9ucyBwZXJzb25uZWxsZXMgc29udCBjb2xsZWN0w6llcyBldCB1dGlsaXPDqWVzIHVuaXF1ZW1lbnQgcG91ciBsZXNcbiAgICAgICAgICAgICAgc2VydmljZXMgZGUgZ2VzdGlvbiBpbW1vYmlsacOocmUsIGNvbmZvcm3DqW1lbnQgw6AgbGEgTG9pIDI1IGR1IFF1w6liZWMuIFZvdXMgcG91dmV6XG4gICAgICAgICAgICAgIGRlbWFuZGVyIGwnYWNjw6hzLCBsYSBjb3JyZWN0aW9uIG91IGxhIHN1cHByZXNzaW9uIGRlIHZvcyBkb25uw6llcyDDoCB0b3V0IG1vbWVudCBlblxuICAgICAgICAgICAgICBjb250YWN0YW50IGwnYWRtaW5pc3RyYXRldXIuXG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICA8L0NhcmQ+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwidmVyc2lvbiI6M30=