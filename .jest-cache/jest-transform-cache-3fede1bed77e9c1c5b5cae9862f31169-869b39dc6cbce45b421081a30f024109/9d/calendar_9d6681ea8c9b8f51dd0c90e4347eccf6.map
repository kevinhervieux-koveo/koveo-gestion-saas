{"file":"/home/runner/workspace/client/src/pages/dashboard/calendar.tsx","mappings":"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","names":[],"sources":["/home/runner/workspace/client/src/pages/dashboard/calendar.tsx"],"sourcesContent":["import { useState, useMemo } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { useAuth } from '@/hooks/use-auth';\nimport { useLanguage } from '@/hooks/use-language';\nimport { Header } from '@/components/layout/header';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from '@/components/ui/dialog';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Badge } from '@/components/ui/badge';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport {\n  Calendar as CalendarIcon,\n  Building,\n  ExternalLink,\n  Download,\n  Filter,\n  Eye,\n  EyeOff,\n  MapPin,\n  Check,\n} from 'lucide-react';\nimport { CalendarView } from '@/components/common-spaces/calendar-view';\n\n/**\n *\n */\ninterface Building {\n  id: string;\n  name: string;\n  address: string;\n  city: string;\n}\n\n/**\n *\n */\ninterface CommonSpace {\n  id: string;\n  name: string;\n  description?: string;\n  buildingId: string;\n  buildingName?: string;\n  isReservable: boolean;\n  capacity?: number;\n}\n\n/**\n *\n */\nexport default function DashboardCalendarPage() {\n  const { user } = useAuth();\n  const { language } = useLanguage();\n  const [selectedBuildingId, setSelectedBuildingId] = useState<string>('all');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [viewMode, setViewMode] = useState<'month' | 'week'>('month');\n  const [visibleSpaces, setVisibleSpaces] = useState<Set<string>>(new Set());\n  const [isLinkDialogOpen, setIsLinkDialogOpen] = useState(false);\n  const [selectedCalendarType, setSelectedCalendarType] = useState<string | null>(null);\n  const [showProviderStep, setShowProviderStep] = useState(false);\n  const [selectedProvider, setSelectedProvider] = useState<string | null>(null);\n\n  // Fetch buildings accessible to the user\n  const { data: buildingsResponse, isLoading: buildingsLoading } = useQuery<{\n    buildings: Building[];\n  }>({\n    queryKey: ['/api/manager/buildings'],\n    enabled: !!user,\n  });\n\n  const buildings = buildingsResponse?.buildings || [];\n\n  // Fetch all common spaces\n  const { data: allSpaces = [], isLoading: spacesLoading } = useQuery<CommonSpace[]>({\n    queryKey: ['/api/common-spaces'],\n    enabled: !!user,\n  });\n\n  // Filter spaces based on building and search\n  const filteredSpaces = useMemo(() => {\n    let spaces = allSpaces;\n\n    // Filter by building\n    if (selectedBuildingId !== 'all') {\n      spaces = spaces.filter((space) => space.buildingId === selectedBuildingId);\n    }\n\n    // Filter by search query\n    if (searchQuery) {\n      const query = searchQuery.toLowerCase();\n      spaces = spaces.filter(\n        (space) =>\n          space.name.toLowerCase().includes(query) ||\n          space.description?.toLowerCase().includes(query) ||\n          space.buildingName?.toLowerCase().includes(query)\n      );\n    }\n\n    return spaces;\n  }, [allSpaces, selectedBuildingId, searchQuery]);\n\n  const toggleSpaceVisibility = (spaceId: string) => {\n    setVisibleSpaces((prev) => {\n      const newSet = new Set(prev);\n      if (newSet.has(spaceId)) {\n        newSet.delete(spaceId);\n      } else {\n        newSet.add(spaceId);\n      }\n      return newSet;\n    });\n  };\n\n  const showAllSpaces = () => {\n    setVisibleSpaces(new Set(filteredSpaces.map((space) => space.id)));\n  };\n\n  const hideAllSpaces = () => {\n    setVisibleSpaces(new Set());\n  };\n\n  const handleLinkCalendar = () => {\n    // Get all visible spaces\n    const visibleSpaceIds = Array.from(visibleSpaces);\n    if (visibleSpaceIds.length === 0) {\n      alert(\n        language === 'fr'\n          ? 'Veuillez sélectionner au moins un espace à inclure dans le calendrier.'\n          : 'Please select at least one space to include in the calendar.'\n      );\n      return;\n    }\n\n    // Create calendar link parameters\n    const params = new URLSearchParams({\n      spaces: visibleSpaceIds.join(','),\n      view: viewMode,\n      building: selectedBuildingId === 'all' ? '' : selectedBuildingId,\n    });\n\n    const calendarUrl = `${window.location.origin}/dashboard/calendar?${params}`;\n\n    // Copy to clipboard\n    navigator.clipboard\n      .writeText(calendarUrl)\n      .then(() => {\n        alert(\n          language === 'fr'\n            ? 'Lien du calendrier copié dans le presse-papiers!'\n            : 'Calendar link copied to clipboard!'\n        );\n      })\n      .catch(() => {\n        // Fallback: show the URL in a prompt\n        prompt(\n          language === 'fr' ? 'Copiez ce lien de calendrier:' : 'Copy this calendar link:',\n          calendarUrl\n        );\n      });\n  };\n\n  const handleExportCalendar = () => {\n    const visibleSpaceIds = Array.from(visibleSpaces);\n    if (visibleSpaceIds.length === 0) {\n      alert(\n        language === 'fr'\n          ? 'Veuillez sélectionner au moins un espace à exporter.'\n          : 'Please select at least one space to export.'\n      );\n      return;\n    }\n\n    // Create export URL\n    const params = new URLSearchParams({\n      spaces: visibleSpaceIds.join(','),\n      format: 'ics',\n    });\n\n    const exportUrl = `/api/common-spaces/export?${params}`;\n    window.open(exportUrl, '_blank');\n  };\n\n  return (\n    <div className='flex-1 flex flex-col overflow-hidden' data-testid='dashboard-calendar-page'>\n      <Header\n        title={language === 'fr' ? 'Calendrier des Espaces Communs' : 'Common Spaces Calendar'}\n        subtitle={\n          language === 'fr' ? \"Vue d'ensemble de tous les calendriers\" : 'Overview of all calendars'\n        }\n      />\n\n      <div className='flex-1 overflow-auto p-6'>\n        <div className='max-w-7xl mx-auto space-y-6'>\n        {/* Filters and Controls */}\n        <Card className='mb-6'>\n          <CardHeader>\n            <CardTitle className='flex items-center justify-between'>\n              <div className='flex items-center gap-2'>\n                <Filter className='w-5 h-5' />\n                {language === 'fr' ? 'Filtres et Options' : 'Filters and Options'}\n              </div>\n              <div className='flex items-center gap-2'>\n                <Dialog open={isLinkDialogOpen} onOpenChange={setIsLinkDialogOpen}>\n                  <DialogTrigger asChild>\n                    <Button\n                      variant='outline'\n                      size='sm'\n                      className='flex items-center gap-2'\n                      data-testid='button-link-calendar'\n                    >\n                      <ExternalLink className='w-4 h-4' />\n                      {language === 'fr' ? 'Lier calendrier' : 'Link calendar'}\n                    </Button>\n                  </DialogTrigger>\n                  <DialogContent className='sm:max-w-[500px]'>\n                    <DialogHeader>\n                      <DialogTitle>\n                        {!showProviderStep\n                          ? language === 'fr'\n                            ? 'Que souhaitez-vous lier ?'\n                            : 'What do you want to link?'\n                          : language === 'fr'\n                            ? 'Choisir le fournisseur de calendrier'\n                            : 'Choose calendar provider'}\n                      </DialogTitle>\n                    </DialogHeader>\n                    <div className='grid gap-4 py-4'>\n                      {!showProviderStep && (\n                        <>\n                          <div className='text-sm text-gray-600'>\n                            {language === 'fr'\n                              ? 'Sélectionnez quel type de calendrier vous souhaitez synchroniser:'\n                              : 'Select which type of calendar you want to sync:'}\n                          </div>\n\n                          {/* Link Everything Option */}\n                          <div\n                            className={`flex items-center justify-between p-4 border rounded-lg cursor-pointer transition-colors ${\n                              selectedCalendarType === 'everything'\n                                ? 'border-koveo-navy bg-koveo-navy/5'\n                                : 'border-gray-200 hover:border-gray-300'\n                            }`}\n                            onClick={() => setSelectedCalendarType('everything')}\n                            data-testid='option-everything-calendar'\n                          >\n                            <div>\n                              <div className='font-medium'>\n                                {language === 'fr' ? 'Tout lier' : 'Link everything'}\n                              </div>\n                              <div className='text-sm text-gray-500'>\n                                {language === 'fr'\n                                  ? `Synchroniser tous les espaces sélectionnés (${visibleSpaces.size} espaces)`\n                                  : `Sync all selected spaces (${visibleSpaces.size} spaces)`}\n                              </div>\n                            </div>\n                            {selectedCalendarType === 'everything' && (\n                              <Check className='w-5 h-5 text-koveo-navy' />\n                            )}\n                          </div>\n\n                          {/* Individual Spaces Option */}\n                          <div\n                            className={`flex items-center justify-between p-4 border rounded-lg cursor-pointer transition-colors ${\n                              selectedCalendarType === 'individual'\n                                ? 'border-koveo-navy bg-koveo-navy/5'\n                                : 'border-gray-200 hover:border-gray-300'\n                            }`}\n                            onClick={() => setSelectedCalendarType('individual')}\n                            data-testid='option-individual-spaces'\n                          >\n                            <div>\n                              <div className='font-medium'>\n                                {language === 'fr' ? 'Espaces individuels' : 'Individual spaces'}\n                              </div>\n                              <div className='text-sm text-gray-500'>\n                                {language === 'fr'\n                                  ? 'Choisir des espaces spécifiques à synchroniser'\n                                  : 'Choose specific spaces to sync'}\n                              </div>\n                            </div>\n                            {selectedCalendarType === 'individual' && (\n                              <Check className='w-5 h-5 text-koveo-navy' />\n                            )}\n                          </div>\n\n                          {selectedCalendarType === 'everything' && (\n                            <div className='mt-4 p-4 bg-green-50 rounded-lg border border-green-200'>\n                              <div className='text-sm font-medium text-green-900 mb-2'>\n                                {language === 'fr'\n                                  ? 'Configuration complète'\n                                  : 'Complete configuration'}\n                              </div>\n                              <div className='text-sm text-green-700'>\n                                {visibleSpaces.size > 0\n                                  ? language === 'fr'\n                                    ? `Cette option synchronisera tous les ${visibleSpaces.size} espaces actuellement sélectionnés avec votre calendrier externe.`\n                                    : `This option will sync all ${visibleSpaces.size} currently selected spaces with your external calendar.`\n                                  : language === 'fr'\n                                    ? 'Aucun espace sélectionné. Veuillez en sélectionner au moins un avant de continuer.'\n                                    : 'No spaces selected. Please select at least one before continuing.'}\n                              </div>\n                            </div>\n                          )}\n\n                          {selectedCalendarType === 'individual' && (\n                            <div className='mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200'>\n                              <div className='text-sm font-medium text-blue-900 mb-2'>\n                                {language === 'fr'\n                                  ? 'Configuration individuelle'\n                                  : 'Individual configuration'}\n                              </div>\n                              <div className='text-sm text-blue-700'>\n                                {language === 'fr'\n                                  ? \"Vous pourrez choisir précisément quels espaces synchroniser à l'étape suivante.\"\n                                  : 'You will be able to choose precisely which spaces to sync in the next step.'}\n                              </div>\n                            </div>\n                          )}\n\n                          <div className='flex justify-end gap-2 mt-4'>\n                            <Button\n                              variant='outline'\n                              onClick={() => {\n                                setIsLinkDialogOpen(false);\n                                setSelectedCalendarType(null);\n                                setShowProviderStep(false);\n                                setSelectedProvider(null);\n                              }}\n                              data-testid='button-cancel-link'\n                            >\n                              {language === 'fr' ? 'Annuler' : 'Cancel'}\n                            </Button>\n                            <Button\n                              onClick={() => {\n                                if (\n                                  selectedCalendarType === 'everything' &&\n                                  visibleSpaces.size === 0\n                                ) {\n                                  return; // Don't proceed if no spaces selected\n                                }\n                                if (selectedCalendarType) {\n                                  setShowProviderStep(true);\n                                }\n                              }}\n                              disabled={\n                                !selectedCalendarType ||\n                                (selectedCalendarType === 'everything' && visibleSpaces.size === 0)\n                              }\n                              data-testid='button-next-step'\n                            >\n                              {language === 'fr' ? 'Suivant' : 'Next'}\n                            </Button>\n                          </div>\n                        </>\n                      )}\n\n                      {showProviderStep && (\n                        <>\n                          <div className='text-sm text-gray-600 mb-4'>\n                            {language === 'fr'\n                              ? 'Sélectionnez le fournisseur de calendrier où vous souhaitez synchroniser :'\n                              : 'Select the calendar provider where you want to sync:'}\n                          </div>\n\n                          {/* Google Calendar Option */}\n                          <div\n                            className={`flex items-center justify-between p-4 border rounded-lg cursor-pointer transition-colors ${\n                              selectedProvider === 'google'\n                                ? 'border-koveo-navy bg-koveo-navy/5'\n                                : 'border-gray-200 hover:border-gray-300'\n                            }`}\n                            onClick={() => setSelectedProvider('google')}\n                            data-testid='option-google-calendar'\n                          >\n                            <div className='flex items-center gap-3'>\n                              <div className='w-10 h-10 bg-red-500 rounded-full flex items-center justify-center text-white font-bold'>\n                                G\n                              </div>\n                              <div>\n                                <div className='font-medium'>Google Calendar</div>\n                                <div className='text-sm text-gray-500'>\n                                  {language === 'fr'\n                                    ? 'Synchroniser avec Google Calendar'\n                                    : 'Sync with Google Calendar'}\n                                </div>\n                              </div>\n                            </div>\n                            {selectedProvider === 'google' && (\n                              <Check className='w-5 h-5 text-koveo-navy' />\n                            )}\n                          </div>\n\n                          {/* Outlook Calendar Option */}\n                          <div\n                            className={`flex items-center justify-between p-4 border rounded-lg cursor-pointer transition-colors ${\n                              selectedProvider === 'outlook'\n                                ? 'border-koveo-navy bg-koveo-navy/5'\n                                : 'border-gray-200 hover:border-gray-300'\n                            }`}\n                            onClick={() => setSelectedProvider('outlook')}\n                            data-testid='option-outlook-calendar'\n                          >\n                            <div className='flex items-center gap-3'>\n                              <div className='w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold'>\n                                O\n                              </div>\n                              <div>\n                                <div className='font-medium'>Outlook Calendar</div>\n                                <div className='text-sm text-gray-500'>\n                                  {language === 'fr'\n                                    ? 'Synchroniser avec Outlook Calendar'\n                                    : 'Sync with Outlook Calendar'}\n                                </div>\n                              </div>\n                            </div>\n                            {selectedProvider === 'outlook' && (\n                              <Check className='w-5 h-5 text-koveo-navy' />\n                            )}\n                          </div>\n\n                          {/* Apple Calendar Option */}\n                          <div\n                            className={`flex items-center justify-between p-4 border rounded-lg cursor-pointer transition-colors ${\n                              selectedProvider === 'apple'\n                                ? 'border-koveo-navy bg-koveo-navy/5'\n                                : 'border-gray-200 hover:border-gray-300'\n                            }`}\n                            onClick={() => setSelectedProvider('apple')}\n                            data-testid='option-apple-calendar'\n                          >\n                            <div className='flex items-center gap-3'>\n                              <div className='w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center text-white font-bold'></div>\n                              <div>\n                                <div className='font-medium'>Apple Calendar</div>\n                                <div className='text-sm text-gray-500'>\n                                  {language === 'fr'\n                                    ? 'Synchroniser avec Apple Calendar'\n                                    : 'Sync with Apple Calendar'}\n                                </div>\n                              </div>\n                            </div>\n                            {selectedProvider === 'apple' && (\n                              <Check className='w-5 h-5 text-koveo-navy' />\n                            )}\n                          </div>\n\n                          {/* Other Calendar Option */}\n                          <div\n                            className={`flex items-center justify-between p-4 border rounded-lg cursor-pointer transition-colors ${\n                              selectedProvider === 'other'\n                                ? 'border-koveo-navy bg-koveo-navy/5'\n                                : 'border-gray-200 hover:border-gray-300'\n                            }`}\n                            onClick={() => setSelectedProvider('other')}\n                            data-testid='option-other-calendar'\n                          >\n                            <div className='flex items-center gap-3'>\n                              <div className='w-10 h-10 bg-gray-500 rounded-full flex items-center justify-center text-white font-bold'>\n                                ...\n                              </div>\n                              <div>\n                                <div className='font-medium'>\n                                  {language === 'fr' ? 'Autre calendrier' : 'Other calendar'}\n                                </div>\n                                <div className='text-sm text-gray-500'>\n                                  {language === 'fr'\n                                    ? 'Utiliser un fichier ICS ou autre'\n                                    : 'Use ICS file or other'}\n                                </div>\n                              </div>\n                            </div>\n                            {selectedProvider === 'other' && (\n                              <Check className='w-5 h-5 text-koveo-navy' />\n                            )}\n                          </div>\n\n                          {selectedProvider && (\n                            <div className='mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200'>\n                              <div className='text-sm font-medium text-blue-900 mb-2'>\n                                {language === 'fr' ? 'Configuration finale' : 'Final configuration'}\n                              </div>\n                              <div className='text-sm text-blue-700'>\n                                {language === 'fr'\n                                  ? `Prêt à lier ${selectedCalendarType === 'everything' ? `tous les ${visibleSpaces.size} espaces sélectionnés` : 'les espaces individuels'} avec ${\n                                      selectedProvider === 'google'\n                                        ? 'Google Calendar'\n                                        : selectedProvider === 'outlook'\n                                          ? 'Outlook Calendar'\n                                          : selectedProvider === 'apple'\n                                            ? 'Apple Calendar'\n                                            : 'votre calendrier'\n                                    }.`\n                                  : `Ready to link ${selectedCalendarType === 'everything' ? `all ${visibleSpaces.size} selected spaces` : 'individual spaces'} with ${\n                                      selectedProvider === 'google'\n                                        ? 'Google Calendar'\n                                        : selectedProvider === 'outlook'\n                                          ? 'Outlook Calendar'\n                                          : selectedProvider === 'apple'\n                                            ? 'Apple Calendar'\n                                            : 'your calendar'\n                                    }.`}\n                              </div>\n                            </div>\n                          )}\n\n                          <div className='flex justify-between gap-2 mt-4'>\n                            <Button\n                              variant='outline'\n                              onClick={() => {\n                                setShowProviderStep(false);\n                                setSelectedProvider(null);\n                              }}\n                              data-testid='button-back-step'\n                            >\n                              {language === 'fr' ? 'Retour' : 'Back'}\n                            </Button>\n                            <div className='flex gap-2'>\n                              <Button\n                                variant='outline'\n                                onClick={() => {\n                                  setIsLinkDialogOpen(false);\n                                  setSelectedCalendarType(null);\n                                  setShowProviderStep(false);\n                                  setSelectedProvider(null);\n                                }}\n                                data-testid='button-cancel-provider'\n                              >\n                                {language === 'fr' ? 'Annuler' : 'Cancel'}\n                              </Button>\n                              <Button\n                                onClick={() => {\n                                  // Handle final calendar linking here\n                                  // Link calendar logic\n                                  handleLinkCalendar();\n                                  setIsLinkDialogOpen(false);\n                                  setSelectedCalendarType(null);\n                                  setShowProviderStep(false);\n                                  setSelectedProvider(null);\n                                }}\n                                disabled={!selectedProvider}\n                                data-testid='button-confirm-final-link'\n                              >\n                                {language === 'fr' ? 'Lier calendrier' : 'Link calendar'}\n                              </Button>\n                            </div>\n                          </div>\n                        </>\n                      )}\n                    </div>\n                  </DialogContent>\n                </Dialog>\n                <Button\n                  variant='outline'\n                  size='sm'\n                  onClick={handleExportCalendar}\n                  className='flex items-center gap-2'\n                  data-testid='button-export-calendar'\n                >\n                  <Download className='w-4 h-4' />\n                  {language === 'fr' ? 'Exporter' : 'Export'}\n                </Button>\n              </div>\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className='grid grid-cols-1 md:grid-cols-3 gap-4 mb-4'>\n              {/* Building Filter */}\n              <div className='space-y-2'>\n                <Label>{language === 'fr' ? 'Bâtiment' : 'Building'}</Label>\n                <Select value={selectedBuildingId} onValueChange={setSelectedBuildingId}>\n                  <SelectTrigger data-testid='select-building-filter'>\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value='all'>\n                      {language === 'fr' ? 'Tous les bâtiments' : 'All buildings'}\n                    </SelectItem>\n                    {buildings.map((building) => (\n                      <SelectItem key={building.id} value={building.id}>\n                        {building.name} - {building.address}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n\n              {/* Search */}\n              <div className='space-y-2'>\n                <Label>{language === 'fr' ? 'Rechercher un espace' : 'Search spaces'}</Label>\n                <Input\n                  type='text'\n                  placeholder={language === 'fr' ? \"Nom de l'espace...\" : 'Space name...'}\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  data-testid='input-search-spaces'\n                />\n              </div>\n\n              {/* View Mode */}\n              <div className='space-y-2'>\n                <Label>{language === 'fr' ? 'Vue' : 'View'}</Label>\n                <Select\n                  value={viewMode}\n                  onValueChange={(value: 'month' | 'week') => setViewMode(value)}\n                >\n                  <SelectTrigger data-testid='select-view-mode'>\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value='month'>\n                      {language === 'fr' ? 'Mensuelle' : 'Monthly'}\n                    </SelectItem>\n                    <SelectItem value='week'>\n                      {language === 'fr' ? 'Hebdomadaire' : 'Weekly'}\n                    </SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n            </div>\n\n            {/* Space Visibility Controls */}\n            <div className='flex items-center justify-between border-t pt-4'>\n              <div className='flex items-center gap-2'>\n                <Button\n                  variant='outline'\n                  size='sm'\n                  onClick={showAllSpaces}\n                  className='flex items-center gap-2'\n                  data-testid='button-show-all'\n                >\n                  <Eye className='w-4 h-4' />\n                  {language === 'fr' ? 'Tout afficher' : 'Show all'}\n                </Button>\n                <Button\n                  variant='outline'\n                  size='sm'\n                  onClick={hideAllSpaces}\n                  className='flex items-center gap-2'\n                  data-testid='button-hide-all'\n                >\n                  <EyeOff className='w-4 h-4' />\n                  {language === 'fr' ? 'Tout masquer' : 'Hide all'}\n                </Button>\n              </div>\n              <div className='text-sm text-gray-600'>\n                {language === 'fr'\n                  ? `${visibleSpaces.size} espace(s) affiché(s) sur ${filteredSpaces.length}`\n                  : `${visibleSpaces.size} space(s) shown out of ${filteredSpaces.length}`}\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Spaces List */}\n        <Card className='mb-6'>\n          <CardHeader>\n            <CardTitle className='flex items-center gap-2'>\n              <Building className='w-5 h-5' />\n              {language === 'fr' ? 'Espaces Communs' : 'Common Spaces'}\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className='grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3'>\n              {filteredSpaces.map((space) => {\n                const isVisible = visibleSpaces.has(space.id);\n                const building = buildings.find((b) => b.id === space.buildingId);\n\n                return (\n                  <div\n                    key={space.id}\n                    className={`p-3 rounded-lg border cursor-pointer transition-all ${\n                      isVisible\n                        ? 'border-blue-200 bg-blue-50 shadow-sm'\n                        : 'border-gray-200 hover:border-gray-300'\n                    }`}\n                    onClick={() => toggleSpaceVisibility(space.id)}\n                    data-testid={`space-card-${space.id}`}\n                  >\n                    <div className='flex items-start justify-between'>\n                      <div className='flex-1'>\n                        <h3 className='font-medium text-gray-900'>{space.name}</h3>\n                        {building && (\n                          <p className='text-xs text-gray-500 flex items-center gap-1 mt-1'>\n                            <MapPin className='w-3 h-3' />\n                            {building.name}\n                          </p>\n                        )}\n                        {space.description && (\n                          <p className='text-xs text-gray-600 mt-1'>{space.description}</p>\n                        )}\n                      </div>\n                      <div className='flex items-center gap-2'>\n                        {!space.isReservable && (\n                          <Badge variant='secondary' className='text-xs'>\n                            {language === 'fr' ? 'Non réservable' : 'Not bookable'}\n                          </Badge>\n                        )}\n                        {isVisible ? (\n                          <Eye className='w-4 h-4 text-blue-600' />\n                        ) : (\n                          <EyeOff className='w-4 h-4 text-gray-400' />\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n\n            {filteredSpaces.length === 0 && (\n              <div className='text-center py-8 text-gray-500'>\n                {language === 'fr'\n                  ? 'Aucun espace trouvé avec les filtres sélectionnés.'\n                  : 'No spaces found with the selected filters.'}\n              </div>\n            )}\n          </CardContent>\n        </Card>\n\n        {/* Calendar Views */}\n        {visibleSpaces.size > 0 && (\n          <div className='space-y-6'>\n            {Array.from(visibleSpaces).map((spaceId) => {\n              const space = filteredSpaces.find((s) => s.id === spaceId);\n              if (!space) {\n                return null;\n              }\n\n              const building = buildings.find((b) => b.id === space.buildingId);\n\n              return (\n                <Card key={spaceId}>\n                  <CardHeader>\n                    <CardTitle className='flex items-center justify-between'>\n                      <div className='flex items-center gap-2'>\n                        <CalendarIcon className='w-5 h-5' />\n                        <div>\n                          <span>{space.name}</span>\n                          {building && (\n                            <span className='text-sm font-normal text-gray-500 ml-2'>\n                              • {building.name}\n                            </span>\n                          )}\n                        </div>\n                      </div>\n                      {!space.isReservable && (\n                        <Badge variant='secondary'>\n                          {language === 'fr' ? 'Non réservable' : 'Not bookable'}\n                        </Badge>\n                      )}\n                    </CardTitle>\n                  </CardHeader>\n                  <CardContent>\n                    <CalendarView mode='space' spaceId={spaceId} buildingId={space.buildingId} />\n                  </CardContent>\n                </Card>\n              );\n            })}\n          </div>\n        )}\n\n        {visibleSpaces.size === 0 && (\n          <Card>\n            <CardContent className='text-center py-12'>\n              <CalendarIcon className='w-16 h-16 mx-auto mb-4 text-gray-300' />\n              <h3 className='text-lg font-medium text-gray-900 mb-2'>\n                {language === 'fr' ? 'Aucun calendrier sélectionné' : 'No calendars selected'}\n              </h3>\n              <p className='text-gray-600 mb-4'>\n                {language === 'fr'\n                  ? 'Sélectionnez des espaces ci-dessus pour afficher leurs calendriers.'\n                  : 'Select spaces above to display their calendars.'}\n              </p>\n              <Button\n                onClick={showAllSpaces}\n                disabled={filteredSpaces.length === 0}\n                className='flex items-center gap-2'\n                data-testid='button-show-all-bottom'\n              >\n                <Eye className='w-4 h-4' />\n                {language === 'fr' ? 'Afficher tous les calendriers' : 'Show all calendars'}\n              </Button>\n            </CardContent>\n          </Card>\n        )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"version":3}