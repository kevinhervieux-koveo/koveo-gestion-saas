b8ae6ea2b893d7f6b739a6b8c5afadac
"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
exports.SharedUploader = SharedUploader;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = __importStar(require("react"));
const lucide_react_1 = require("lucide-react");
const utils_1 = require("@/lib/utils");
const tabs_1 = require("@/components/ui/tabs");
const textarea_1 = require("@/components/ui/textarea");
const label_1 = require("@/components/ui/label");
const button_1 = require("@/components/ui/button");
const upload_config_1 = require("@shared/config/upload-config");
const DEFAULT_ALLOWED_TYPES = [
    'application/pdf',
    'application/msword',
    'application/vnd.openxmlformats-officedocument.wordprocessingml.document',
    'application/vnd.ms-excel',
    'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',
    'image/jpeg',
    'image/jpg',
    'image/png'
];
/**
 * SharedUploader - A reusable component for file uploads and text creation
 * Features mobile camera integration, drag-and-drop, clipboard paste, and text input
 */
function SharedUploader({ onDocumentChange, allowedFileTypes, maxFileSize, disabled = false, className, defaultTab = 'file', 
// AI Enhancement Props
formType = 'documents', uploadContext, aiAnalysisEnabled: propAiEnabled, onAiToggle, onAiAnalysisComplete, showAiToggle = true, contextFields }) {
    // Get configuration from upload config
    const config = (0, upload_config_1.getUploadConfig)(formType);
    const finalAllowedTypes = allowedFileTypes || config.allowedFileTypes;
    const finalMaxFileSize = maxFileSize || config.maxFileSize;
    const finalAiEnabled = propAiEnabled ?? config.aiAnalysisEnabled;
    // State management
    const [activeTab, setActiveTab] = (0, react_1.useState)(defaultTab);
    const [isDragOver, setIsDragOver] = (0, react_1.useState)(false);
    const [selectedFile, setSelectedFile] = (0, react_1.useState)(null);
    const [textContent, setTextContent] = (0, react_1.useState)('');
    const [validationError, setValidationError] = (0, react_1.useState)(null);
    const [aiEnabled, setAiEnabled] = (0, react_1.useState)(finalAiEnabled);
    const [isAnalyzing, setIsAnalyzing] = (0, react_1.useState)(false);
    const [showMobileMenu, setShowMobileMenu] = (0, react_1.useState)(false);
    // Refs
    const fileInputRef = (0, react_1.useRef)(null);
    const cameraInputRef = (0, react_1.useRef)(null);
    const uploadAreaRef = (0, react_1.useRef)(null);
    // Mobile detection
    const isMobile = /Mobi|Android/i.test(navigator.userAgent);
    // Handle AI toggle
    const handleAiToggle = (0, react_1.useCallback)((enabled) => {
        setAiEnabled(enabled);
        onAiToggle?.(enabled);
    }, [onAiToggle]);
    // File validation function
    const validateFile = (0, react_1.useCallback)((file) => {
        // Check file size
        if (file.size > finalMaxFileSize * 1024 * 1024) {
            return `File size exceeds ${finalMaxFileSize}MB limit`;
        }
        // Check file type
        const isAllowed = finalAllowedTypes.some(type => {
            if (type.includes('*')) {
                return file.type.startsWith(type.replace('*', ''));
            }
            return file.type === type;
        });
        if (!isAllowed) {
            return `File type "${file.type}" is not supported`;
        }
        // Check filename for security
        if (file.name.includes('..') || file.name.includes('/') || file.name.includes('\\')) {
            return 'Invalid filename detected';
        }
        return null;
    }, [finalAllowedTypes, finalMaxFileSize]);
    // AI Analysis function
    const performAiAnalysis = (0, react_1.useCallback)(async (file) => {
        if (!aiEnabled || !onAiAnalysisComplete)
            return;
        setIsAnalyzing(true);
        try {
            // Create FormData for AI analysis
            const formData = new FormData();
            formData.append('document', file);
            formData.append('formType', formType);
            if (uploadContext) {
                formData.append('uploadContext', JSON.stringify(uploadContext));
            }
            // Make AI analysis request
            const response = await fetch('/api/ai/analyze-document', {
                method: 'POST',
                body: formData,
                credentials: 'include'
            });
            if (response.ok) {
                const result = await response.json();
                onAiAnalysisComplete(result);
            }
        }
        catch (error) {
            console.error('AI analysis failed:', error);
        }
        finally {
            setIsAnalyzing(false);
        }
    }, [aiEnabled, onAiAnalysisComplete, formType, uploadContext]);
    // Process and validate file
    const processFile = (0, react_1.useCallback)((file) => {
        const error = validateFile(file);
        if (error) {
            setValidationError(error);
            return;
        }
        setValidationError(null);
        const isImage = file.type.startsWith('image/');
        const filePreview = {
            file,
            type: isImage ? 'image' : 'document'
        };
        if (isImage) {
            filePreview.preview = URL.createObjectURL(file);
        }
        setSelectedFile(filePreview);
        onDocumentChange(file, null);
        // Trigger AI analysis if enabled
        if (aiEnabled) {
            performAiAnalysis(file);
        }
    }, [validateFile, onDocumentChange, aiEnabled, performAiAnalysis]);
    // Handle file selection from input
    const handleFileSelect = (0, react_1.useCallback)((e) => {
        const file = e.target.files?.[0];
        if (file) {
            processFile(file);
        }
        // Reset input to allow selecting the same file again
        e.target.value = '';
    }, [processFile]);
    // Handle drag and drop
    const handleDragOver = (0, react_1.useCallback)((e) => {
        e.preventDefault();
        e.stopPropagation();
        if (!disabled) {
            setIsDragOver(true);
        }
    }, [disabled]);
    const handleDragLeave = (0, react_1.useCallback)((e) => {
        e.preventDefault();
        e.stopPropagation();
        setIsDragOver(false);
    }, []);
    const handleDrop = (0, react_1.useCallback)((e) => {
        e.preventDefault();
        e.stopPropagation();
        setIsDragOver(false);
        if (disabled)
            return;
        const files = Array.from(e.dataTransfer.files);
        if (files.length > 0) {
            processFile(files[0]); // Only handle first file
        }
    }, [disabled, processFile]);
    // Handle clipboard paste for screenshots
    const handlePaste = (0, react_1.useCallback)((e) => {
        if (disabled || activeTab !== 'file')
            return;
        const items = e.clipboardData?.items;
        if (!items)
            return;
        for (let i = 0; i < items.length; i++) {
            const item = items[i];
            if (item.type.indexOf('image') !== -1) {
                const blob = item.getAsFile();
                if (blob) {
                    e.preventDefault();
                    // Create proper File object for pasted images
                    const timestamp = new Date().toISOString().replace(/[:.]/g, '-');
                    const file = new lucide_react_1.File([blob], `screenshot-${timestamp}.png`, {
                        type: 'image/png'
                    });
                    processFile(file);
                    break;
                }
            }
        }
    }, [disabled, activeTab, processFile]);
    // Set up paste event listener
    (0, react_1.useEffect)(() => {
        if (activeTab === 'file' && !disabled) {
            document.addEventListener('paste', handlePaste);
            return () => document.removeEventListener('paste', handlePaste);
        }
    }, [activeTab, disabled, handlePaste]);
    // Handle text content changes
    const handleTextChange = (0, react_1.useCallback)((e) => {
        const text = e.target.value;
        setTextContent(text);
        onDocumentChange(null, text || null);
    }, [onDocumentChange]);
    // Remove selected file
    const handleRemoveFile = (0, react_1.useCallback)(() => {
        if (selectedFile?.preview) {
            URL.revokeObjectURL(selectedFile.preview);
        }
        setSelectedFile(null);
        setValidationError(null);
        onDocumentChange(null, null);
    }, [selectedFile, onDocumentChange]);
    // Open file dialog
    const openFileDialog = (0, react_1.useCallback)(() => {
        if (!disabled && fileInputRef.current) {
            fileInputRef.current.click();
        }
    }, [disabled]);
    // Open camera (mobile)
    const openCamera = (0, react_1.useCallback)((e) => {
        e.preventDefault();
        e.stopPropagation();
        setShowMobileMenu(false);
        // Use setTimeout to ensure the modal is closed before triggering the input
        setTimeout(() => {
            if (!disabled && cameraInputRef.current) {
                cameraInputRef.current.click();
            }
        }, 100);
    }, [disabled]);
    // Open gallery/files (mobile)
    const openGallery = (0, react_1.useCallback)((e) => {
        e.preventDefault();
        e.stopPropagation();
        setShowMobileMenu(false);
        // Use setTimeout to ensure the modal is closed before triggering the input
        setTimeout(() => {
            if (!disabled && fileInputRef.current) {
                fileInputRef.current.click();
            }
        }, 100);
    }, [disabled]);
    // Handle upload area click
    const handleUploadAreaClick = (0, react_1.useCallback)(() => {
        if (disabled)
            return;
        if (isMobile) {
            setShowMobileMenu(true);
        }
        else {
            openFileDialog();
        }
    }, [disabled, isMobile, openFileDialog]);
    // Tab change handler
    const handleTabChange = (0, react_1.useCallback)((value) => {
        setActiveTab(value);
        // Clear current selection when switching tabs
        if (selectedFile) {
            handleRemoveFile();
        }
        if (textContent) {
            setTextContent('');
            onDocumentChange(null, null);
        }
    }, [selectedFile, textContent, handleRemoveFile, onDocumentChange]);
    // Clean up preview URLs on unmount
    (0, react_1.useEffect)(() => {
        return () => {
            if (selectedFile?.preview) {
                URL.revokeObjectURL(selectedFile.preview);
            }
        };
    }, [selectedFile]);
    const formatFileSize = (bytes) => {
        const kb = bytes / 1024;
        if (kb < 1024)
            return `${kb.toFixed(1)} KB`;
        const mb = kb / 1024;
        return `${mb.toFixed(1)} MB`;
    };
    return ((0, jsx_runtime_1.jsxs)("div", { className: (0, utils_1.cn)("w-full", className), children: [isAnalyzing && ((0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2 p-3 bg-blue-50 dark:bg-blue-950 rounded-lg mb-4", children: [(0, jsx_runtime_1.jsx)("div", { className: "animate-spin rounded-full h-3 w-3 border-b-2 border-blue-600" }), (0, jsx_runtime_1.jsx)("span", { className: "text-sm text-blue-600 dark:text-blue-400", children: "AI analyzing document..." })] })), (0, jsx_runtime_1.jsxs)(tabs_1.Tabs, { value: activeTab, onValueChange: handleTabChange, className: "w-full", children: [(0, jsx_runtime_1.jsxs)(tabs_1.TabsList, { className: "grid w-full grid-cols-2", children: [(0, jsx_runtime_1.jsx)(tabs_1.TabsTrigger, { value: "file", "data-testid": "tab-upload-file", children: "\uD83D\uDCC1 Upload File" }), (0, jsx_runtime_1.jsx)(tabs_1.TabsTrigger, { value: "text", "data-testid": "tab-text-document", children: "\uD83D\uDCDD Text Document" })] }), (0, jsx_runtime_1.jsxs)(tabs_1.TabsContent, { value: "file", className: "space-y-4", children: [(0, jsx_runtime_1.jsx)("input", { ref: fileInputRef, type: "file", accept: finalAllowedTypes.join(','), onChange: handleFileSelect, className: "hidden", disabled: disabled, "data-testid": "file-input-gallery" }), (0, jsx_runtime_1.jsx)("input", { ref: cameraInputRef, type: "file", accept: "image/*", capture: "environment", onChange: handleFileSelect, className: "hidden", disabled: disabled, "data-testid": "file-input-camera" }), (0, jsx_runtime_1.jsx)("div", { ref: uploadAreaRef, onDragOver: handleDragOver, onDragLeave: handleDragLeave, onDrop: handleDrop, onClick: handleUploadAreaClick, className: (0, utils_1.cn)("relative border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors min-h-[120px] flex flex-col justify-center items-center", isDragOver
                                    ? "border-blue-500 bg-blue-50 dark:bg-blue-950"
                                    : "border-gray-300 hover:border-gray-400 dark:border-gray-600 dark:hover:border-gray-500", disabled && "cursor-not-allowed opacity-50"), "data-testid": "upload-area", children: selectedFile ? (
                                // File preview
                                (0, jsx_runtime_1.jsxs)("div", { className: "w-full space-y-3", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg", children: [selectedFile.type === 'image' && selectedFile.preview ? ((0, jsx_runtime_1.jsx)("img", { src: selectedFile.preview, alt: "Preview", className: "w-12 h-12 object-cover rounded" })) : selectedFile.type === 'image' ? ((0, jsx_runtime_1.jsx)(lucide_react_1.Image, { className: "w-12 h-12 text-gray-400" })) : ((0, jsx_runtime_1.jsx)(lucide_react_1.File, { className: "w-12 h-12 text-gray-400" })), (0, jsx_runtime_1.jsxs)("div", { className: "flex-1 min-w-0 text-left", children: [(0, jsx_runtime_1.jsx)("p", { className: "text-sm font-medium text-gray-900 dark:text-gray-100 truncate", children: selectedFile.file.name }), (0, jsx_runtime_1.jsx)("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: formatFileSize(selectedFile.file.size) })] }), (0, jsx_runtime_1.jsx)("button", { onClick: (e) => {
                                                        e.stopPropagation();
                                                        handleRemoveFile();
                                                    }, className: "p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded", disabled: disabled, "data-testid": "remove-file-button", children: (0, jsx_runtime_1.jsx)(lucide_react_1.X, { className: "w-4 h-4 text-gray-500" }) })] }), (0, jsx_runtime_1.jsx)("p", { className: "text-xs text-green-600 dark:text-green-400", children: "\u2713 File ready for upload" })] })) : (
                                // Upload prompt
                                (0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-center space-x-2 mb-3", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Upload, { className: "h-8 w-8 text-gray-400" }), (0, jsx_runtime_1.jsx)(lucide_react_1.Camera, { className: "h-6 w-6 text-blue-500" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)("p", { className: "text-lg font-medium text-gray-900 dark:text-gray-100", children: "Drop files here or click to browse" }), (0, jsx_runtime_1.jsx)("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: "\uD83D\uDCF1 On mobile: Tap to use camera or select from gallery" }), (0, jsx_runtime_1.jsx)("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: "\uD83D\uDCBB On desktop: Drag & drop, click to browse, or paste screenshots (Ctrl+V)" }), (0, jsx_runtime_1.jsxs)("p", { className: "text-xs text-gray-400 dark:text-gray-500", children: ["Maximum ", finalMaxFileSize, "MB \u2022 ", finalAllowedTypes.map(type => {
                                                            if (type.includes('image'))
                                                                return 'Images';
                                                            if (type.includes('pdf'))
                                                                return 'PDF';
                                                            if (type.includes('word'))
                                                                return 'DOCX';
                                                            if (type.includes('excel') || type.includes('sheet'))
                                                                return 'XLSX';
                                                            return type.split('/').pop()?.toUpperCase();
                                                        }).filter(Boolean).join(', ')] }), aiEnabled && ((0, jsx_runtime_1.jsx)("p", { className: "text-xs text-purple-500 dark:text-purple-400 mt-1", children: "\u2728 AI analysis will extract key information automatically" }))] })] })) }), showMobileMenu && isMobile && ((0, jsx_runtime_1.jsx)("div", { className: "fixed inset-0 bg-black bg-opacity-50 flex items-end justify-center z-50", onClick: () => setShowMobileMenu(false), children: (0, jsx_runtime_1.jsxs)("div", { className: "bg-white dark:bg-gray-800 w-full max-w-md rounded-t-2xl p-6 space-y-4", onClick: (e) => e.stopPropagation(), children: [(0, jsx_runtime_1.jsxs)("div", { className: "text-center", children: [(0, jsx_runtime_1.jsx)("h3", { className: "text-lg font-semibold text-gray-900 dark:text-gray-100", children: "Choose File Source" }), (0, jsx_runtime_1.jsx)("p", { className: "text-sm text-gray-500 dark:text-gray-400 mt-1", children: "Select how you'd like to add your file" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-3", children: [(0, jsx_runtime_1.jsxs)(button_1.Button, { onClick: openCamera, className: "w-full flex items-center justify-center gap-3 py-4", variant: "outline", disabled: disabled, "data-testid": "mobile-menu-camera", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Camera, { className: "h-5 w-5" }), "Take Photo with Camera"] }), (0, jsx_runtime_1.jsxs)(button_1.Button, { onClick: openGallery, className: "w-full flex items-center justify-center gap-3 py-4", variant: "outline", disabled: disabled, "data-testid": "mobile-menu-gallery", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Folder, { className: "h-5 w-5" }), "Choose from Gallery/Files"] })] }), (0, jsx_runtime_1.jsx)(button_1.Button, { onClick: () => setShowMobileMenu(false), variant: "ghost", className: "w-full mt-4", "data-testid": "mobile-menu-cancel", children: "Cancel" })] }) })), validationError && ((0, jsx_runtime_1.jsx)("div", { className: "p-3 bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800 rounded-lg", children: (0, jsx_runtime_1.jsxs)("p", { className: "text-sm text-red-600 dark:text-red-400", children: ["\u274C ", validationError] }) }))] }), (0, jsx_runtime_1.jsx)(tabs_1.TabsContent, { value: "text", className: "space-y-4", children: (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: "text-content", className: "text-sm font-medium", children: "Document Content" }), (0, jsx_runtime_1.jsx)(textarea_1.Textarea, { id: "text-content", placeholder: "Enter your document content here...", value: textContent, onChange: handleTextChange, disabled: disabled, rows: 8, className: "resize-none", "data-testid": "textarea-document-content" }), (0, jsx_runtime_1.jsx)("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: "Create a text-only document entry. You can add formatting and additional details later." })] }) })] })] }));
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9jbGllbnQvc3JjL2NvbXBvbmVudHMvZG9jdW1lbnQtbWFuYWdlbWVudC9TaGFyZWRVcGxvYWRlci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFpREEsd0NBOGdCQzs7QUEvakJELCtDQUF3RTtBQUN4RSwrQ0FBMEY7QUFDMUYsdUNBQWlDO0FBQ2pDLCtDQUFnRjtBQUNoRix1REFBb0Q7QUFDcEQsaURBQThDO0FBRzlDLG1EQUFnRDtBQUNoRCxnRUFBd0c7QUF5QnhHLE1BQU0scUJBQXFCLEdBQUc7SUFDNUIsaUJBQWlCO0lBQ2pCLG9CQUFvQjtJQUNwQix5RUFBeUU7SUFDekUsMEJBQTBCO0lBQzFCLG1FQUFtRTtJQUNuRSxZQUFZO0lBQ1osV0FBVztJQUNYLFdBQVc7Q0FDWixDQUFDO0FBRUY7OztHQUdHO0FBQ0gsU0FBZ0IsY0FBYyxDQUFDLEVBQzdCLGdCQUFnQixFQUNoQixnQkFBZ0IsRUFDaEIsV0FBVyxFQUNYLFFBQVEsR0FBRyxLQUFLLEVBQ2hCLFNBQVMsRUFDVCxVQUFVLEdBQUcsTUFBTTtBQUNuQix1QkFBdUI7QUFDdkIsUUFBUSxHQUFHLFdBQVcsRUFDdEIsYUFBYSxFQUNiLGlCQUFpQixFQUFFLGFBQWEsRUFDaEMsVUFBVSxFQUNWLG9CQUFvQixFQUNwQixZQUFZLEdBQUcsSUFBSSxFQUNuQixhQUFhLEVBQ087SUFDcEIsdUNBQXVDO0lBQ3ZDLE1BQU0sTUFBTSxHQUFHLElBQUEsK0JBQWUsRUFBQyxRQUFRLENBQUMsQ0FBQztJQUN6QyxNQUFNLGlCQUFpQixHQUFHLGdCQUFnQixJQUFJLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQztJQUN0RSxNQUFNLGdCQUFnQixHQUFHLFdBQVcsSUFBSSxNQUFNLENBQUMsV0FBVyxDQUFDO0lBQzNELE1BQU0sY0FBYyxHQUFHLGFBQWEsSUFBSSxNQUFNLENBQUMsaUJBQWlCLENBQUM7SUFFakUsbUJBQW1CO0lBQ25CLE1BQU0sQ0FBQyxTQUFT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c291cmNlcyI6WyIvaG9tZS9ydW5uZXIvd29ya3NwYWNlL2NsaWVudC9zcmMvY29tcG9uZW50cy9kb2N1bWVudC1tYW5hZ2VtZW50L1NoYXJlZFVwbG9hZGVyLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZVJlZiwgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFVwbG9hZCwgWCwgRmlsZSwgSW1hZ2UsIEZpbGVUZXh0LCBDYW1lcmEsIFNwYXJrbGVzLCBGb2xkZXIgfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7XG5pbXBvcnQgeyBUYWJzLCBUYWJzQ29udGVudCwgVGFic0xpc3QsIFRhYnNUcmlnZ2VyIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3RhYnMnO1xuaW1wb3J0IHsgVGV4dGFyZWEgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvdGV4dGFyZWEnO1xuaW1wb3J0IHsgTGFiZWwgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvbGFiZWwnO1xuaW1wb3J0IHsgU3dpdGNoIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3N3aXRjaCc7XG5pbXBvcnQgeyBCYWRnZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9iYWRnZSc7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJztcbmltcG9ydCB7IGdldFVwbG9hZENvbmZpZywgaXNBaUFuYWx5c2lzRW5hYmxlZCwgdHlwZSBVcGxvYWRDb250ZXh0IH0gZnJvbSAnQHNoYXJlZC9jb25maWcvdXBsb2FkLWNvbmZpZyc7XG5cbmludGVyZmFjZSBTaGFyZWRVcGxvYWRlclByb3BzIHtcbiAgb25Eb2N1bWVudENoYW5nZTogKGZpbGU6IEZpbGUgfCBudWxsLCB0ZXh0OiBzdHJpbmcgfCBudWxsKSA9PiB2b2lkO1xuICBhbGxvd2VkRmlsZVR5cGVzPzogc3RyaW5nW107XG4gIG1heEZpbGVTaXplPzogbnVtYmVyOyAvLyBpbiBNQlxuICBkaXNhYmxlZD86IGJvb2xlYW47XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbiAgZGVmYXVsdFRhYj86ICdmaWxlJyB8ICd0ZXh0JztcbiAgLy8gQUkgRW5oYW5jZW1lbnQgUHJvcHNcbiAgZm9ybVR5cGU/OiBzdHJpbmc7XG4gIHVwbG9hZENvbnRleHQ/OiBVcGxvYWRDb250ZXh0O1xuICBhaUFuYWx5c2lzRW5hYmxlZD86IGJvb2xlYW47XG4gIG9uQWlUb2dnbGU/OiAoZW5hYmxlZDogYm9vbGVhbikgPT4gdm9pZDtcbiAgb25BaUFuYWx5c2lzQ29tcGxldGU/OiAoZGF0YTogYW55KSA9PiB2b2lkO1xuICBzaG93QWlUb2dnbGU/OiBib29sZWFuO1xuICBjb250ZXh0RmllbGRzPzogUmVjb3JkPHN0cmluZywgYW55Pjtcbn1cblxuaW50ZXJmYWNlIEZpbGVQcmV2aWV3IHtcbiAgZmlsZTogRmlsZTtcbiAgcHJldmlldz86IHN0cmluZztcbiAgdHlwZTogJ2ltYWdlJyB8ICdkb2N1bWVudCc7XG59XG5cbmNvbnN0IERFRkFVTFRfQUxMT1dFRF9UWVBFUyA9IFtcbiAgJ2FwcGxpY2F0aW9uL3BkZicsXG4gICdhcHBsaWNhdGlvbi9tc3dvcmQnLFxuICAnYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LndvcmRwcm9jZXNzaW5nbWwuZG9jdW1lbnQnLFxuICAnYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsJyxcbiAgJ2FwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLnNoZWV0JyxcbiAgJ2ltYWdlL2pwZWcnLFxuICAnaW1hZ2UvanBnJyxcbiAgJ2ltYWdlL3BuZydcbl07XG5cbi8qKlxuICogU2hhcmVkVXBsb2FkZXIgLSBBIHJldXNhYmxlIGNvbXBvbmVudCBmb3IgZmlsZSB1cGxvYWRzIGFuZCB0ZXh0IGNyZWF0aW9uXG4gKiBGZWF0dXJlcyBtb2JpbGUgY2FtZXJhIGludGVncmF0aW9uLCBkcmFnLWFuZC1kcm9wLCBjbGlwYm9hcmQgcGFzdGUsIGFuZCB0ZXh0IGlucHV0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBTaGFyZWRVcGxvYWRlcih7XG4gIG9uRG9jdW1lbnRDaGFuZ2UsXG4gIGFsbG93ZWRGaWxlVHlwZXMsXG4gIG1heEZpbGVTaXplLFxuICBkaXNhYmxlZCA9IGZhbHNlLFxuICBjbGFzc05hbWUsXG4gIGRlZmF1bHRUYWIgPSAnZmlsZScsXG4gIC8vIEFJIEVuaGFuY2VtZW50IFByb3BzXG4gIGZvcm1UeXBlID0gJ2RvY3VtZW50cycsXG4gIHVwbG9hZENvbnRleHQsXG4gIGFpQW5hbHlzaXNFbmFibGVkOiBwcm9wQWlFbmFibGVkLFxuICBvbkFpVG9nZ2xlLFxuICBvbkFpQW5hbHlzaXNDb21wbGV0ZSxcbiAgc2hvd0FpVG9nZ2xlID0gdHJ1ZSxcbiAgY29udGV4dEZpZWxkc1xufTogU2hhcmVkVXBsb2FkZXJQcm9wcykge1xuICAvLyBHZXQgY29uZmlndXJhdGlvbiBmcm9tIHVwbG9hZCBjb25maWdcbiAgY29uc3QgY29uZmlnID0gZ2V0VXBsb2FkQ29uZmlnKGZvcm1UeXBlKTtcbiAgY29uc3QgZmluYWxBbGxvd2VkVHlwZXMgPSBhbGxvd2VkRmlsZVR5cGVzIHx8IGNvbmZpZy5hbGxvd2VkRmlsZVR5cGVzO1xuICBjb25zdCBmaW5hbE1heEZpbGVTaXplID0gbWF4RmlsZVNpemUgfHwgY29uZmlnLm1heEZpbGVTaXplO1xuICBjb25zdCBmaW5hbEFpRW5hYmxlZCA9IHByb3BBaUVuYWJsZWQgPz8gY29uZmlnLmFpQW5hbHlzaXNFbmFibGVkO1xuXG4gIC8vIFN0YXRlIG1hbmFnZW1lbnRcbiAgY29uc3QgW2FjdGl2ZVRhYiwgc2V0QWN0aXZlVGFiXSA9IHVzZVN0YXRlKGRlZmF1bHRUYWIpO1xuICBjb25zdCBbaXNEcmFnT3Zlciwgc2V0SXNEcmFnT3Zlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzZWxlY3RlZEZpbGUsIHNldFNlbGVjdGVkRmlsZV0gPSB1c2VTdGF0ZTxGaWxlUHJldmlldyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbdGV4dENvbnRlbnQsIHNldFRleHRDb250ZW50XSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW3ZhbGlkYXRpb25FcnJvciwgc2V0VmFsaWRhdGlvbkVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbYWlFbmFibGVkLCBzZXRBaUVuYWJsZWRdID0gdXNlU3RhdGUoZmluYWxBaUVuYWJsZWQpO1xuICBjb25zdCBbaXNBbmFseXppbmcsIHNldElzQW5hbHl6aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dNb2JpbGVNZW51LCBzZXRTaG93TW9iaWxlTWVudV0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgLy8gUmVmc1xuICBjb25zdCBmaWxlSW5wdXRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IGNhbWVyYUlucHV0UmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCB1cGxvYWRBcmVhUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcblxuICAvLyBNb2JpbGUgZGV0ZWN0aW9uXG4gIGNvbnN0IGlzTW9iaWxlID0gL01vYml8QW5kcm9pZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cbiAgLy8gSGFuZGxlIEFJIHRvZ2dsZVxuICBjb25zdCBoYW5kbGVBaVRvZ2dsZSA9IHVzZUNhbGxiYWNrKChlbmFibGVkOiBib29sZWFuKSA9PiB7XG4gICAgc2V0QWlFbmFibGVkKGVuYWJsZWQpO1xuICAgIG9uQWlUb2dnbGU/LihlbmFibGVkKTtcbiAgfSwgW29uQWlUb2dnbGVdKTtcblxuICAvLyBGaWxlIHZhbGlkYXRpb24gZnVuY3Rpb25cbiAgY29uc3QgdmFsaWRhdGVGaWxlID0gdXNlQ2FsbGJhY2soKGZpbGU6IEZpbGUpOiBzdHJpbmcgfCBudWxsID0+IHtcbiAgICAvLyBDaGVjayBmaWxlIHNpemVcbiAgICBpZiAoZmlsZS5zaXplID4gZmluYWxNYXhGaWxlU2l6ZSAqIDEwMjQgKiAxMDI0KSB7XG4gICAgICByZXR1cm4gYEZpbGUgc2l6ZSBleGNlZWRzICR7ZmluYWxNYXhGaWxlU2l6ZX1NQiBsaW1pdGA7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZmlsZSB0eXBlXG4gICAgY29uc3QgaXNBbGxvd2VkID0gZmluYWxBbGxvd2VkVHlwZXMuc29tZSh0eXBlID0+IHtcbiAgICAgIGlmICh0eXBlLmluY2x1ZGVzKCcqJykpIHtcbiAgICAgICAgcmV0dXJuIGZpbGUudHlwZS5zdGFydHNXaXRoKHR5cGUucmVwbGFjZSgnKicsICcnKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmlsZS50eXBlID09PSB0eXBlO1xuICAgIH0pO1xuXG4gICAgaWYgKCFpc0FsbG93ZWQpIHtcbiAgICAgIHJldHVybiBgRmlsZSB0eXBlIFwiJHtmaWxlLnR5cGV9XCIgaXMgbm90IHN1cHBvcnRlZGA7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZmlsZW5hbWUgZm9yIHNlY3VyaXR5XG4gICAgaWYgKGZpbGUubmFtZS5pbmNsdWRlcygnLi4nKSB8fCBmaWxlLm5hbWUuaW5jbHVkZXMoJy8nKSB8fCBmaWxlLm5hbWUuaW5jbHVkZXMoJ1xcXFwnKSkge1xuICAgICAgcmV0dXJuICdJbnZhbGlkIGZpbGVuYW1lIGRldGVjdGVkJztcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfSwgW2ZpbmFsQWxsb3dlZFR5cGVzLCBmaW5hbE1heEZpbGVTaXplXSk7XG5cbiAgLy8gQUkgQW5hbHlzaXMgZnVuY3Rpb25cbiAgY29uc3QgcGVyZm9ybUFpQW5hbHlzaXMgPSB1c2VDYWxsYmFjayhhc3luYyAoZmlsZTogRmlsZSkgPT4ge1xuICAgIGlmICghYWlFbmFibGVkIHx8ICFvbkFpQW5hbHlzaXNDb21wbGV0ZSkgcmV0dXJuO1xuICAgIFxuICAgIHNldElzQW5hbHl6aW5nKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICAvLyBDcmVhdGUgRm9ybURhdGEgZm9yIEFJIGFuYWx5c2lzXG4gICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgZm9ybURhdGEuYXBwZW5kKCdkb2N1bWVudCcsIGZpbGUpO1xuICAgICAgZm9ybURhdGEuYXBwZW5kKCdmb3JtVHlwZScsIGZvcm1UeXBlKTtcbiAgICAgIFxuICAgICAgaWYgKHVwbG9hZENvbnRleHQpIHtcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCd1cGxvYWRDb250ZXh0JywgSlNPTi5zdHJpbmdpZnkodXBsb2FkQ29udGV4dCkpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBNYWtlIEFJIGFuYWx5c2lzIHJlcXVlc3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvYWkvYW5hbHl6ZS1kb2N1bWVudCcsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IGZvcm1EYXRhLFxuICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgb25BaUFuYWx5c2lzQ29tcGxldGUocmVzdWx0KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignQUkgYW5hbHlzaXMgZmFpbGVkOicsIGVycm9yKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNBbmFseXppbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW2FpRW5hYmxlZCwgb25BaUFuYWx5c2lzQ29tcGxldGUsIGZvcm1UeXBlLCB1cGxvYWRDb250ZXh0XSk7XG5cbiAgLy8gUHJvY2VzcyBhbmQgdmFsaWRhdGUgZmlsZVxuICBjb25zdCBwcm9jZXNzRmlsZSA9IHVzZUNhbGxiYWNrKChmaWxlOiBGaWxlKTogdm9pZCA9PiB7XG4gICAgY29uc3QgZXJyb3IgPSB2YWxpZGF0ZUZpbGUoZmlsZSk7XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBzZXRWYWxpZGF0aW9uRXJyb3IoZXJyb3IpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNldFZhbGlkYXRpb25FcnJvcihudWxsKTtcbiAgICBjb25zdCBpc0ltYWdlID0gZmlsZS50eXBlLnN0YXJ0c1dpdGgoJ2ltYWdlLycpO1xuICAgIFxuICAgIGNvbnN0IGZpbGVQcmV2aWV3OiBGaWxlUHJldmlldyA9IHtcbiAgICAgIGZpbGUsXG4gICAgICB0eXBlOiBpc0ltYWdlID8gJ2ltYWdlJyA6ICdkb2N1bWVudCdcbiAgICB9O1xuXG4gICAgaWYgKGlzSW1hZ2UpIHtcbiAgICAgIGZpbGVQcmV2aWV3LnByZXZpZXcgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xuICAgIH1cblxuICAgIHNldFNlbGVjdGVkRmlsZShmaWxlUHJldmlldyk7XG4gICAgb25Eb2N1bWVudENoYW5nZShmaWxlLCBudWxsKTtcbiAgICBcbiAgICAvLyBUcmlnZ2VyIEFJIGFuYWx5c2lzIGlmIGVuYWJsZWRcbiAgICBpZiAoYWlFbmFibGVkKSB7XG4gICAgICBwZXJmb3JtQWlBbmFseXNpcyhmaWxlKTtcbiAgICB9XG4gIH0sIFt2YWxpZGF0ZUZpbGUsIG9uRG9jdW1lbnRDaGFuZ2UsIGFpRW5hYmxlZCwgcGVyZm9ybUFpQW5hbHlzaXNdKTtcblxuICAvLyBIYW5kbGUgZmlsZSBzZWxlY3Rpb24gZnJvbSBpbnB1dFxuICBjb25zdCBoYW5kbGVGaWxlU2VsZWN0ID0gdXNlQ2FsbGJhY2soKGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgY29uc3QgZmlsZSA9IGUudGFyZ2V0LmZpbGVzPy5bMF07XG4gICAgaWYgKGZpbGUpIHtcbiAgICAgIHByb2Nlc3NGaWxlKGZpbGUpO1xuICAgIH1cbiAgICAvLyBSZXNldCBpbnB1dCB0byBhbGxvdyBzZWxlY3RpbmcgdGhlIHNhbWUgZmlsZSBhZ2FpblxuICAgIGUudGFyZ2V0LnZhbHVlID0gJyc7XG4gIH0sIFtwcm9jZXNzRmlsZV0pO1xuXG4gIC8vIEhhbmRsZSBkcmFnIGFuZCBkcm9wXG4gIGNvbnN0IGhhbmRsZURyYWdPdmVyID0gdXNlQ2FsbGJhY2soKGU6IFJlYWN0LkRyYWdFdmVudCkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGlmICghZGlzYWJsZWQpIHtcbiAgICAgIHNldElzRHJhZ092ZXIodHJ1ZSk7XG4gICAgfVxuICB9LCBbZGlzYWJsZWRdKTtcblxuICBjb25zdCBoYW5kbGVEcmFnTGVhdmUgPSB1c2VDYWxsYmFjaygoZTogUmVhY3QuRHJhZ0V2ZW50KSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgc2V0SXNEcmFnT3ZlcihmYWxzZSk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBoYW5kbGVEcm9wID0gdXNlQ2FsbGJhY2soKGU6IFJlYWN0LkRyYWdFdmVudCkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIHNldElzRHJhZ092ZXIoZmFsc2UpO1xuXG4gICAgaWYgKGRpc2FibGVkKSByZXR1cm47XG5cbiAgICBjb25zdCBmaWxlcyA9IEFycmF5LmZyb20oZS5kYXRhVHJhbnNmZXIuZmlsZXMpO1xuICAgIGlmIChmaWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICBwcm9jZXNzRmlsZShmaWxlc1swXSk7IC8vIE9ubHkgaGFuZGxlIGZpcnN0IGZpbGVcbiAgICB9XG4gIH0sIFtkaXNhYmxlZCwgcHJvY2Vzc0ZpbGVdKTtcblxuICAvLyBIYW5kbGUgY2xpcGJvYXJkIHBhc3RlIGZvciBzY3JlZW5zaG90c1xuICBjb25zdCBoYW5kbGVQYXN0ZSA9IHVzZUNhbGxiYWNrKChlOiBDbGlwYm9hcmRFdmVudCkgPT4ge1xuICAgIGlmIChkaXNhYmxlZCB8fCBhY3RpdmVUYWIgIT09ICdmaWxlJykgcmV0dXJuO1xuXG4gICAgY29uc3QgaXRlbXMgPSBlLmNsaXBib2FyZERhdGE/Lml0ZW1zO1xuICAgIGlmICghaXRlbXMpIHJldHVybjtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBpdGVtc1tpXTtcbiAgICAgIGlmIChpdGVtLnR5cGUuaW5kZXhPZignaW1hZ2UnKSAhPT0gLTEpIHtcbiAgICAgICAgY29uc3QgYmxvYiA9IGl0ZW0uZ2V0QXNGaWxlKCk7XG4gICAgICAgIGlmIChibG9iKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIC8vIENyZWF0ZSBwcm9wZXIgRmlsZSBvYmplY3QgZm9yIHBhc3RlZCBpbWFnZXNcbiAgICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkucmVwbGFjZSgvWzouXS9nLCAnLScpO1xuICAgICAgICAgIGNvbnN0IGZpbGUgPSBuZXcgKEZpbGUgYXMgYW55KShbYmxvYl0sIGBzY3JlZW5zaG90LSR7dGltZXN0YW1wfS5wbmdgLCB7XG4gICAgICAgICAgICB0eXBlOiAnaW1hZ2UvcG5nJ1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHByb2Nlc3NGaWxlKGZpbGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCBbZGlzYWJsZWQsIGFjdGl2ZVRhYiwgcHJvY2Vzc0ZpbGVdKTtcblxuICAvLyBTZXQgdXAgcGFzdGUgZXZlbnQgbGlzdGVuZXJcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWN0aXZlVGFiID09PSAnZmlsZScgJiYgIWRpc2FibGVkKSB7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwYXN0ZScsIGhhbmRsZVBhc3RlKTtcbiAgICAgIHJldHVybiAoKSA9PiBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwYXN0ZScsIGhhbmRsZVBhc3RlKTtcbiAgICB9XG4gIH0sIFthY3RpdmVUYWIsIGRpc2FibGVkLCBoYW5kbGVQYXN0ZV0pO1xuXG4gIC8vIEhhbmRsZSB0ZXh0IGNvbnRlbnQgY2hhbmdlc1xuICBjb25zdCBoYW5kbGVUZXh0Q2hhbmdlID0gdXNlQ2FsbGJhY2soKGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxUZXh0QXJlYUVsZW1lbnQ+KSA9PiB7XG4gICAgY29uc3QgdGV4dCA9IGUudGFyZ2V0LnZhbHVlO1xuICAgIHNldFRleHRDb250ZW50KHRleHQpO1xuICAgIG9uRG9jdW1lbnRDaGFuZ2UobnVsbCwgdGV4dCB8fCBudWxsKTtcbiAgfSwgW29uRG9jdW1lbnRDaGFuZ2VdKTtcblxuICAvLyBSZW1vdmUgc2VsZWN0ZWQgZmlsZVxuICBjb25zdCBoYW5kbGVSZW1vdmVGaWxlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmIChzZWxlY3RlZEZpbGU/LnByZXZpZXcpIHtcbiAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwoc2VsZWN0ZWRGaWxlLnByZXZpZXcpO1xuICAgIH1cbiAgICBzZXRTZWxlY3RlZEZpbGUobnVsbCk7XG4gICAgc2V0VmFsaWRhdGlvbkVycm9yKG51bGwpO1xuICAgIG9uRG9jdW1lbnRDaGFuZ2UobnVsbCwgbnVsbCk7XG4gIH0sIFtzZWxlY3RlZEZpbGUsIG9uRG9jdW1lbnRDaGFuZ2VdKTtcblxuICAvLyBPcGVuIGZpbGUgZGlhbG9nXG4gIGNvbnN0IG9wZW5GaWxlRGlhbG9nID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmICghZGlzYWJsZWQgJiYgZmlsZUlucHV0UmVmLmN1cnJlbnQpIHtcbiAgICAgIGZpbGVJbnB1dFJlZi5jdXJyZW50LmNsaWNrKCk7XG4gICAgfVxuICB9LCBbZGlzYWJsZWRdKTtcblxuICAvLyBPcGVuIGNhbWVyYSAobW9iaWxlKVxuICBjb25zdCBvcGVuQ2FtZXJhID0gdXNlQ2FsbGJhY2soKGU6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBzZXRTaG93TW9iaWxlTWVudShmYWxzZSk7XG4gICAgXG4gICAgLy8gVXNlIHNldFRpbWVvdXQgdG8gZW5zdXJlIHRoZSBtb2RhbCBpcyBjbG9zZWQgYmVmb3JlIHRyaWdnZXJpbmcgdGhlIGlucHV0XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAoIWRpc2FibGVkICYmIGNhbWVyYUlucHV0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY2FtZXJhSW5wdXRSZWYuY3VycmVudC5jbGljaygpO1xuICAgICAgfVxuICAgIH0sIDEwMCk7XG4gIH0sIFtkaXNhYmxlZF0pO1xuXG4gIC8vIE9wZW4gZ2FsbGVyeS9maWxlcyAobW9iaWxlKVxuICBjb25zdCBvcGVuR2FsbGVyeSA9IHVzZUNhbGxiYWNrKChlOiBSZWFjdC5Nb3VzZUV2ZW50KSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgc2V0U2hvd01vYmlsZU1lbnUoZmFsc2UpO1xuICAgIFxuICAgIC8vIFVzZSBzZXRUaW1lb3V0IHRvIGVuc3VyZSB0aGUgbW9kYWwgaXMgY2xvc2VkIGJlZm9yZSB0cmlnZ2VyaW5nIHRoZSBpbnB1dFxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKCFkaXNhYmxlZCAmJiBmaWxlSW5wdXRSZWYuY3VycmVudCkge1xuICAgICAgICBmaWxlSW5wdXRSZWYuY3VycmVudC5jbGljaygpO1xuICAgICAgfVxuICAgIH0sIDEwMCk7XG4gIH0sIFtkaXNhYmxlZF0pO1xuXG4gIC8vIEhhbmRsZSB1cGxvYWQgYXJlYSBjbGlja1xuICBjb25zdCBoYW5kbGVVcGxvYWRBcmVhQ2xpY2sgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKGRpc2FibGVkKSByZXR1cm47XG4gICAgXG4gICAgaWYgKGlzTW9iaWxlKSB7XG4gICAgICBzZXRTaG93TW9iaWxlTWVudSh0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3BlbkZpbGVEaWFsb2coKTtcbiAgICB9XG4gIH0sIFtkaXNhYmxlZCwgaXNNb2JpbGUsIG9wZW5GaWxlRGlhbG9nXSk7XG5cbiAgLy8gVGFiIGNoYW5nZSBoYW5kbGVyXG4gIGNvbnN0IGhhbmRsZVRhYkNoYW5nZSA9IHVzZUNhbGxiYWNrKCh2YWx1ZTogc3RyaW5nKSA9PiB7XG4gICAgc2V0QWN0aXZlVGFiKHZhbHVlIGFzICdmaWxlJyB8ICd0ZXh0Jyk7XG4gICAgXG4gICAgLy8gQ2xlYXIgY3VycmVudCBzZWxlY3Rpb24gd2hlbiBzd2l0Y2hpbmcgdGFic1xuICAgIGlmIChzZWxlY3RlZEZpbGUpIHtcbiAgICAgIGhhbmRsZVJlbW92ZUZpbGUoKTtcbiAgICB9XG4gICAgaWYgKHRleHRDb250ZW50KSB7XG4gICAgICBzZXRUZXh0Q29udGVudCgnJyk7XG4gICAgICBvbkRvY3VtZW50Q2hhbmdlKG51bGwsIG51bGwpO1xuICAgIH1cbiAgfSwgW3NlbGVjdGVkRmlsZSwgdGV4dENvbnRlbnQsIGhhbmRsZVJlbW92ZUZpbGUsIG9uRG9jdW1lbnRDaGFuZ2VdKTtcblxuICAvLyBDbGVhbiB1cCBwcmV2aWV3IFVSTHMgb24gdW5tb3VudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAoc2VsZWN0ZWRGaWxlPy5wcmV2aWV3KSB7XG4gICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwoc2VsZWN0ZWRGaWxlLnByZXZpZXcpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtzZWxlY3RlZEZpbGVdKTtcblxuICBjb25zdCBmb3JtYXRGaWxlU2l6ZSA9IChieXRlczogbnVtYmVyKSA9PiB7XG4gICAgY29uc3Qga2IgPSBieXRlcyAvIDEwMjQ7XG4gICAgaWYgKGtiIDwgMTAyNCkgcmV0dXJuIGAke2tiLnRvRml4ZWQoMSl9IEtCYDtcbiAgICBjb25zdCBtYiA9IGtiIC8gMTAyNDtcbiAgICByZXR1cm4gYCR7bWIudG9GaXhlZCgxKX0gTUJgO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2NuKFwidy1mdWxsXCIsIGNsYXNzTmFtZSl9PlxuICAgICAgey8qIEFJIEFuYWx5c2lzIFN0YXR1cyAob25seSBzaG93IHdoZW4gYW5hbHl6aW5nLCBubyB0b2dnbGUpICovfVxuICAgICAge2lzQW5hbHl6aW5nICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBwLTMgYmctYmx1ZS01MCBkYXJrOmJnLWJsdWUtOTUwIHJvdW5kZWQtbGcgbWItNFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBoLTMgdy0zIGJvcmRlci1iLTIgYm9yZGVyLWJsdWUtNjAwXCI+PC9kaXY+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWJsdWUtNjAwIGRhcms6dGV4dC1ibHVlLTQwMFwiPlxuICAgICAgICAgICAgQUkgYW5hbHl6aW5nIGRvY3VtZW50Li4uXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIDxUYWJzIHZhbHVlPXthY3RpdmVUYWJ9IG9uVmFsdWVDaGFuZ2U9e2hhbmRsZVRhYkNoYW5nZX0gY2xhc3NOYW1lPVwidy1mdWxsXCI+XG4gICAgICAgIDxUYWJzTGlzdCBjbGFzc05hbWU9XCJncmlkIHctZnVsbCBncmlkLWNvbHMtMlwiPlxuICAgICAgICAgIDxUYWJzVHJpZ2dlciB2YWx1ZT1cImZpbGVcIiBkYXRhLXRlc3RpZD1cInRhYi11cGxvYWQtZmlsZVwiPlxuICAgICAgICAgICAg8J+TgSBVcGxvYWQgRmlsZVxuICAgICAgICAgIDwvVGFic1RyaWdnZXI+XG4gICAgICAgICAgPFRhYnNUcmlnZ2VyIHZhbHVlPVwidGV4dFwiIGRhdGEtdGVzdGlkPVwidGFiLXRleHQtZG9jdW1lbnRcIj5cbiAgICAgICAgICAgIPCfk50gVGV4dCBEb2N1bWVudFxuICAgICAgICAgIDwvVGFic1RyaWdnZXI+XG4gICAgICAgIDwvVGFic0xpc3Q+XG5cbiAgICAgICAgey8qIEZpbGUgVXBsb2FkIFRhYiAqL31cbiAgICAgICAgPFRhYnNDb250ZW50IHZhbHVlPVwiZmlsZVwiIGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgIHsvKiBIaWRkZW4gZmlsZSBpbnB1dHMgKi99XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICByZWY9e2ZpbGVJbnB1dFJlZn1cbiAgICAgICAgICAgIHR5cGU9XCJmaWxlXCJcbiAgICAgICAgICAgIGFjY2VwdD17ZmluYWxBbGxvd2VkVHlwZXMuam9pbignLCcpfVxuICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUZpbGVTZWxlY3R9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJoaWRkZW5cIlxuICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgICAgICAgZGF0YS10ZXN0aWQ9XCJmaWxlLWlucHV0LWdhbGxlcnlcIlxuICAgICAgICAgIC8+XG4gICAgICAgICAgXG4gICAgICAgICAgey8qIEhpZGRlbiBjYW1lcmEgaW5wdXQgZm9yIG1vYmlsZSAqL31cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHJlZj17Y2FtZXJhSW5wdXRSZWZ9XG4gICAgICAgICAgICB0eXBlPVwiZmlsZVwiXG4gICAgICAgICAgICBhY2NlcHQ9XCJpbWFnZS8qXCJcbiAgICAgICAgICAgIGNhcHR1cmU9XCJlbnZpcm9ubWVudFwiXG4gICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlRmlsZVNlbGVjdH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImhpZGRlblwiXG4gICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9XG4gICAgICAgICAgICBkYXRhLXRlc3RpZD1cImZpbGUtaW5wdXQtY2FtZXJhXCJcbiAgICAgICAgICAvPlxuXG4gICAgICAgICAgey8qIFVwbG9hZCBhcmVhIHdpdGggZHJhZy1hbmQtZHJvcCAqL31cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICByZWY9e3VwbG9hZEFyZWFSZWZ9XG4gICAgICAgICAgICBvbkRyYWdPdmVyPXtoYW5kbGVEcmFnT3Zlcn1cbiAgICAgICAgICAgIG9uRHJhZ0xlYXZlPXtoYW5kbGVEcmFnTGVhdmV9XG4gICAgICAgICAgICBvbkRyb3A9e2hhbmRsZURyb3B9XG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVVcGxvYWRBcmVhQ2xpY2t9XG4gICAgICAgICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICAgICAgICBcInJlbGF0aXZlIGJvcmRlci0yIGJvcmRlci1kYXNoZWQgcm91bmRlZC1sZyBwLTYgdGV4dC1jZW50ZXIgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1jb2xvcnMgbWluLWgtWzEyMHB4XSBmbGV4IGZsZXgtY29sIGp1c3RpZnktY2VudGVyIGl0ZW1zLWNlbnRlclwiLFxuICAgICAgICAgICAgICBpc0RyYWdPdmVyXG4gICAgICAgICAgICAgICAgPyBcImJvcmRlci1ibHVlLTUwMCBiZy1ibHVlLTUwIGRhcms6YmctYmx1ZS05NTBcIlxuICAgICAgICAgICAgICAgIDogXCJib3JkZXItZ3JheS0zMDAgaG92ZXI6Ym9yZGVyLWdyYXktNDAwIGRhcms6Ym9yZGVyLWdyYXktNjAwIGRhcms6aG92ZXI6Ym9yZGVyLWdyYXktNTAwXCIsXG4gICAgICAgICAgICAgIGRpc2FibGVkICYmIFwiY3Vyc29yLW5vdC1hbGxvd2VkIG9wYWNpdHktNTBcIlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIGRhdGEtdGVzdGlkPVwidXBsb2FkLWFyZWFcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtzZWxlY3RlZEZpbGUgPyAoXG4gICAgICAgICAgICAgIC8vIEZpbGUgcHJldmlld1xuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHAtMyBiZy1ncmF5LTUwIGRhcms6YmctZ3JheS04MDAgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgICAgICAgICAge3NlbGVjdGVkRmlsZS50eXBlID09PSAnaW1hZ2UnICYmIHNlbGVjdGVkRmlsZS5wcmV2aWV3ID8gKFxuICAgICAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgICAgc3JjPXtzZWxlY3RlZEZpbGUucHJldmlld31cbiAgICAgICAgICAgICAgICAgICAgICBhbHQ9XCJQcmV2aWV3XCJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEyIGgtMTIgb2JqZWN0LWNvdmVyIHJvdW5kZWRcIlxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgKSA6IHNlbGVjdGVkRmlsZS50eXBlID09PSAnaW1hZ2UnID8gKFxuICAgICAgICAgICAgICAgICAgICA8SW1hZ2UgY2xhc3NOYW1lPVwidy0xMiBoLTEyIHRleHQtZ3JheS00MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgPEZpbGUgY2xhc3NOYW1lPVwidy0xMiBoLTEyIHRleHQtZ3JheS00MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgbWluLXctMCB0ZXh0LWxlZnRcIj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC1ncmF5LTEwMCB0cnVuY2F0ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZEZpbGUuZmlsZS5uYW1lfVxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0RmlsZVNpemUoc2VsZWN0ZWRGaWxlLmZpbGUuc2l6ZSl9XG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVSZW1vdmVGaWxlKCk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMSBob3ZlcjpiZy1ncmF5LTIwMCBkYXJrOmhvdmVyOmJnLWdyYXktNzAwIHJvdW5kZWRcIlxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9XG4gICAgICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPVwicmVtb3ZlLWZpbGUtYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPFggY2xhc3NOYW1lPVwidy00IGgtNCB0ZXh0LWdyYXktNTAwXCIgLz5cbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmVlbi02MDAgZGFyazp0ZXh0LWdyZWVuLTQwMFwiPlxuICAgICAgICAgICAgICAgICAg4pyTIEZpbGUgcmVhZHkgZm9yIHVwbG9hZFxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAvLyBVcGxvYWQgcHJvbXB0XG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBzcGFjZS14LTIgbWItM1wiPlxuICAgICAgICAgICAgICAgICAgPFVwbG9hZCBjbGFzc05hbWU9XCJoLTggdy04IHRleHQtZ3JheS00MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgPENhbWVyYSBjbGFzc05hbWU9XCJoLTYgdy02IHRleHQtYmx1ZS01MDBcIiAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LWdyYXktMTAwXCI+XG4gICAgICAgICAgICAgICAgICAgIERyb3AgZmlsZXMgaGVyZSBvciBjbGljayB0byBicm93c2VcbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAg8J+TsSBPbiBtb2JpbGU6IFRhcCB0byB1c2UgY2FtZXJhIG9yIHNlbGVjdCBmcm9tIGdhbGxlcnlcbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAg8J+SuyBPbiBkZXNrdG9wOiBEcmFnICYgZHJvcCwgY2xpY2sgdG8gYnJvd3NlLCBvciBwYXN0ZSBzY3JlZW5zaG90cyAoQ3RybCtWKVxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNDAwIGRhcms6dGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgICAgICBNYXhpbXVtIHtmaW5hbE1heEZpbGVTaXplfU1CIOKAoiB7ZmluYWxBbGxvd2VkVHlwZXMubWFwKHR5cGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlLmluY2x1ZGVzKCdpbWFnZScpKSByZXR1cm4gJ0ltYWdlcyc7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUuaW5jbHVkZXMoJ3BkZicpKSByZXR1cm4gJ1BERic7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUuaW5jbHVkZXMoJ3dvcmQnKSkgcmV0dXJuICdET0NYJztcbiAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZS5pbmNsdWRlcygnZXhjZWwnKSB8fCB0eXBlLmluY2x1ZGVzKCdzaGVldCcpKSByZXR1cm4gJ1hMU1gnO1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlLnNwbGl0KCcvJykucG9wKCk/LnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pLmZpbHRlcihCb29sZWFuKS5qb2luKCcsICcpfVxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAge2FpRW5hYmxlZCAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1wdXJwbGUtNTAwIGRhcms6dGV4dC1wdXJwbGUtNDAwIG10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICDinKggQUkgYW5hbHlzaXMgd2lsbCBleHRyYWN0IGtleSBpbmZvcm1hdGlvbiBhdXRvbWF0aWNhbGx5XG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiBNb2JpbGUgTWVudSAqL31cbiAgICAgICAgICB7c2hvd01vYmlsZU1lbnUgJiYgaXNNb2JpbGUgJiYgKFxuICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCBiZy1ibGFjayBiZy1vcGFjaXR5LTUwIGZsZXggaXRlbXMtZW5kIGp1c3RpZnktY2VudGVyIHotNTBcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93TW9iaWxlTWVudShmYWxzZSl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctd2hpdGUgZGFyazpiZy1ncmF5LTgwMCB3LWZ1bGwgbWF4LXctbWQgcm91bmRlZC10LTJ4bCBwLTYgc3BhY2UteS00XCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCBkYXJrOnRleHQtZ3JheS0xMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgQ2hvb3NlIEZpbGUgU291cmNlXG4gICAgICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMCBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgIFNlbGVjdCBob3cgeW91J2QgbGlrZSB0byBhZGQgeW91ciBmaWxlXG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17b3BlbkNhbWVyYX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0zIHB5LTRcIlxuICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgICAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9XCJtb2JpbGUtbWVudS1jYW1lcmFcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8Q2FtZXJhIGNsYXNzTmFtZT1cImgtNSB3LTVcIiAvPlxuICAgICAgICAgICAgICAgICAgICBUYWtlIFBob3RvIHdpdGggQ2FtZXJhXG4gICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtvcGVuR2FsbGVyeX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0zIHB5LTRcIlxuICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgICAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9XCJtb2JpbGUtbWVudS1nYWxsZXJ5XCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPEZvbGRlciBjbGFzc05hbWU9XCJoLTUgdy01XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgQ2hvb3NlIGZyb20gR2FsbGVyeS9GaWxlc1xuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd01vYmlsZU1lbnUoZmFsc2UpfVxuICAgICAgICAgICAgICAgICAgdmFyaWFudD1cImdob3N0XCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBtdC00XCJcbiAgICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPVwibW9iaWxlLW1lbnUtY2FuY2VsXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBDYW5jZWxcbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAgey8qIFZhbGlkYXRpb24gZXJyb3IgKi99XG4gICAgICAgICAge3ZhbGlkYXRpb25FcnJvciAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMyBiZy1yZWQtNTAgZGFyazpiZy1yZWQtOTUwIGJvcmRlciBib3JkZXItcmVkLTIwMCBkYXJrOmJvcmRlci1yZWQtODAwIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXJlZC02MDAgZGFyazp0ZXh0LXJlZC00MDBcIj7inYwge3ZhbGlkYXRpb25FcnJvcn08L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L1RhYnNDb250ZW50PlxuXG4gICAgICAgIHsvKiBUZXh0IERvY3VtZW50IFRhYiAqL31cbiAgICAgICAgPFRhYnNDb250ZW50IHZhbHVlPVwidGV4dFwiIGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICA8TGFiZWwgaHRtbEZvcj1cInRleHQtY29udGVudFwiIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW1cIj5cbiAgICAgICAgICAgICAgRG9jdW1lbnQgQ29udGVudFxuICAgICAgICAgICAgPC9MYWJlbD5cbiAgICAgICAgICAgIDxUZXh0YXJlYVxuICAgICAgICAgICAgICBpZD1cInRleHQtY29udGVudFwiXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRW50ZXIgeW91ciBkb2N1bWVudCBjb250ZW50IGhlcmUuLi5cIlxuICAgICAgICAgICAgICB2YWx1ZT17dGV4dENvbnRlbnR9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVUZXh0Q2hhbmdlfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9XG4gICAgICAgICAgICAgIHJvd3M9ezh9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJlc2l6ZS1ub25lXCJcbiAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9XCJ0ZXh0YXJlYS1kb2N1bWVudC1jb250ZW50XCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgIENyZWF0ZSBhIHRleHQtb25seSBkb2N1bWVudCBlbnRyeS4gWW91IGNhbiBhZGQgZm9ybWF0dGluZyBhbmQgYWRkaXRpb25hbCBkZXRhaWxzIGxhdGVyLlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L1RhYnNDb250ZW50PlxuICAgICAgPC9UYWJzPlxuICAgIDwvZGl2PlxuICApO1xufSJdLCJ2ZXJzaW9uIjozfQ==