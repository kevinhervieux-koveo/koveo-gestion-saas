67db7ce6376fbb96dad83bc35941f1c8
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.OptimizedDatabaseStorage = exports.storage = exports.MemStorage = void 0;
const crypto_1 = require("crypto");
class MemStorage {
    constructor() {
        this.users = new Map();
        this.organizations = new Map();
        this.buildings = new Map();
        this.residences = new Map();
        this.pillars = new Map();
        this.workspaceStatuses = new Map();
        this.qualityMetrics = new Map();
        this.frameworkConfigs = new Map();
        this.improvementSuggestions = new Map();
        this.features = new Map();
        this.actionableItems = new Map();
        this.invitations = new Map();
        this.invitationAuditLogs = new Map();
        this.bugs = new Map();
        this.featureRequests = new Map();
        this.featureRequestUpvotes = new Map();
        // Initialize test user asynchronously
        this.initializeTestUser().catch(console.error);
    }
    async initializeTestUser() {
        // Use known admin123 password for demo mode
        const bcrypt = require('bcryptjs');
        const securePassword = await bcrypt.hash('admin123', 12);
        const user = {
            id: '550e8400-e29b-41d4-a716-446655440000',
            username: 'kevin.hervieux@koveo-gestion.com',
            email: 'kevin.hervieux@koveo-gestion.com',
            password: securePassword,
            firstName: 'Kevin',
            lastName: 'Hervieux',
            phone: '',
            profileImage: '',
            language: 'fr',
            role: 'admin',
            isActive: true,
            lastLoginAt: null,
            createdAt: new Date(),
            updatedAt: new Date(),
        };
        this.users.set(user.id, user);
    }
    // User operations
    async getUsers() {
        return Array.from(this.users.values());
    }
    async getUsersWithAssignments() {
        // For MemStorage, just return users with empty assignments arrays
        const users = Array.from(this.users.values());
        return users.map(user => ({
            ...user,
            organizations: [],
            buildings: [],
            residences: []
        }));
    }
    async getUsersByOrganizations(_userId) {
        return [];
    }
    async getUser(id) {
        return this.users.get(id);
    }
    async getUserOrganizations(_userId) {
        return [];
    }
    async getUserResidences(_userId) {
        return [];
    }
    async getUserByEmail(email) {
        return Array.from(this.users.values()).find((user) => user.email === email);
    }
    async createUser(insertUser) {
        const id = (0, crypto_1.randomUUID)();
        const user = {
            ...insertUser,
            id,
            phone: insertUser.phone || null,
            profileImage: insertUser.profileImage || '',
            role: insertUser.role || 'tenant',
            language: insertUser.language || 'fr',
            isActive: true,
            lastLoginAt: null,
            createdAt: new Date(),
            updatedAt: new Date(),
        };
        this.users.set(id, user);
        return user;
    }
    async updateUser(id, updates) {
        const existingUser = this.users.get(id);
        if (!existingUser) {
            return undefined;
        }
        const updatedUser = {
            ...existingUser,
            ...updates,
            updatedAt: new Date(),
        };
        this.users.set(id, updatedUser);
        return updatedUser;
    }
    // Minimal implementations for other required methods
    async createPasswordResetToken(_token) {
        return {
            ..._token,
            id: (0, crypto_1.randomUUID)(),
            createdAt: new Date(),
            usedAt: null,
            isUsed: false,
            ipAddress: _token.ipAddress || '',
            userAgent: _token.userAgent || '',
        };
    }
    async getPasswordResetToken(_token) {
        return undefined;
    }
    async markPasswordResetTokenAsUsed(_tokenId) {
        return undefined;
    }
    async cleanupExpiredPasswordResetTokens() {
        return 0;
    }
    async getOrganizations() {
        return Array.from(this.organizations.values());
    }
    async getOrganization(id) {
        return this.organizations.get(id);
    }
    async getOrganizationByName(name) {
        return Array.from(this.organizations.values()).find((org) => org.name === name);
    }
    async createOrganization(org) {
        const id = (0, crypto_1.randomUUID)();
        const organization = {
            ...org,
            id,
            phone: org.phone || '',
            email: org.email || '',
            website: org.website || '',
            registrationNumber: org.registrationNumber || '',
            isActive: true,
            createdAt: new Date(),
            updatedAt: new Date(),
        };
        this.organizations.set(id, organization);
        return organization;
    }
    async updateOrganization(id, updates) {
        const existing = this.organizations.get(id);
        if (!existing)
            return undefined;
        const updated = { ...existing, ...updates, updatedAt: new Date() };
        this.organizations.set(id, updated);
        return updated;
    }
    async getBuildingsByOrganization(orgId) {
        return Array.from(this.buildings.values()).filter((b) => b.organizationId === orgId);
    }
    async getBuildings() {
        return Array.from(this.buildings.values());
    }
    async getBuilding(id) {
        return this.buildings.get(id);
    }
    async createBuilding(building) {
        const id = (0, crypto_1.randomUUID)();
        const newBuilding = {
            ...building,
            id,
            isActive: true,
            createdAt: new Date(),
            updatedAt: new Date(),
            totalUnits: building.totalUnits || 0,
            totalFloors: building.totalFloors || 0,
            yearBuilt: building.yearBuilt || 0,
            buildingType: building.buildingType,
            bankAccountNumber: building.bankAccountNumber || '',
            bankAccountMinimums: building.bankAccountMinimums ? JSON.stringify(building.bankAccountMinimums) : '',
            bankAccountUpdatedAt: new Date(),
            inflationSettings: '',
            parkingSpaces: building.parkingSpaces || 0,
            storageSpaces: building.storageSpaces || 0,
            amenities: building.amenities || null,
            managementCompany: building.managementCompany || null,
            bankAccountNotes: null,
            bankAccountStartDate: null,
            bankAccountStartAmount: null,
        };
        this.buildings.set(id, newBuilding);
        return newBuilding;
    }
    async updateBuilding(id, updates) {
        const existing = this.buildings.get(id);
        if (!existing)
            return undefined;
        const updated = { ...existing, ...updates, updatedAt: new Date() };
        this.buildings.set(id, updated);
        return updated;
    }
    async deleteBuilding(id) {
        const building = this.buildings.get(id);
        if (!building) {
            return false;
        }
        // Soft delete by setting isActive to false
        const updatedBuilding = {
            ...building,
            isActive: false,
            updatedAt: new Date(),
        };
        this.buildings.set(id, updatedBuilding);
        return true;
    }
    async getResidences() {
        return Array.from(this.residences.values());
    }
    async getResidence(id) {
        return this.residences.get(id);
    }
    async getResidencesByBuilding(buildingId) {
        return Array.from(this.residences.values()).filter((r) => r.buildingId === buildingId);
    }
    async createResidence(residence) {
        const id = (0, crypto_1.randomUUID)();
        const newResidence = {
            ...residence,
            id,
            isActive: true,
            createdAt: new Date(),
            updatedAt: new Date(),
            floor: residence.floor || 0,
            squareFootage: residence.squareFootage?.toString() || '0',
            bedrooms: residence.bedrooms || 0,
            bathrooms: residence.bathrooms?.toString() || '0',
            balcony: residence.balcony || false,
            parkingSpaceNumbers: residence.parkingSpaceNumbers || [],
            storageSpaceNumbers: residence.storageSpaceNumbers || [],
            ownershipPercentage: residence.ownershipPercentage?.toString() || '0',
            monthlyFees: residence.monthlyFees?.toString() || '0',
        };
        this.residences.set(id, newResidence);
        return newResidence;
    }
    async updateResidence(id, updates) {
        const existing = this.residences.get(id);
        if (!existing)
            return undefined;
        const updated = { ...existing, ...updates, updatedAt: new Date() };
        this.residences.set(id, updated);
        return updated;
    }
    async deleteResidence(id) {
        return this.residences.delete(id);
    }
    async getContacts() {
        return [];
    }
    async getContactsByEntity() {
        return [];
    }
    async getContactsForResidence() {
        return [];
    }
    async createContact(contact) {
        const id = (0, crypto_1.randomUUID)();
        return {
            ...contact,
            id,
            name: contact.name,
            email: contact.email || '',
            phone: contact.phone || '',
            entity: contact.entity,
            entityId: contact.entityId,
            contactCategory: contact.contactCategory,
            isActive: true,
            createdAt: new Date(),
            updatedAt: new Date(),
        };
    }
    async updateContact() {
        return undefined;
    }
    async deleteContact() {
        return false;
    }
    async getDocuments(_filters) {
        return [];
    }
    async getDocument(_id) {
        return undefined;
    }
    async createDocument(doc) {
        const id = (0, crypto_1.randomUUID)();
        return {
            ...doc,
            id,
            description: doc.description || '',
            buildingId: doc.buildingId || '',
            residenceId: doc.residenceId || '',
            createdAt: new Date(),
            updatedAt: new Date(),
        };
    }
    async updateDocument(_id, _updates) {
        return undefined;
    }
    async deleteDocument(_id) {
        return false;
    }
    async getPermissions() {
        return [];
    }
    async getRolePermissions() {
        return [];
    }
    async getUserPermissions() {
        return [];
    }
    async getPillars() {
        return Array.from(this.pillars.values()).sort((a, b) => parseInt(a.order) - parseInt(b.order));
    }
    async getPillar(id) {
        return this.pillars.get(id);
    }
    async createPillar(pillar) {
        const id = (0, crypto_1.randomUUID)();
        const newPillar = {
            ...pillar,
            id,
            name: pillar.name,
            description: pillar.description || '',
            status: pillar.status || 'pending',
            order: pillar.order.toString(),
            configuration: pillar.configuration || null,
            createdAt: new Date(),
            updatedAt: new Date(),
        };
        this.pillars.set(id, newPillar);
        return newPillar;
    }
    async updatePillar(id, updates) {
        const existing = this.pillars.get(id);
        if (!existing)
            return undefined;
        const updated = { ...existing, ...updates, updatedAt: new Date() };
        this.pillars.set(id, updated);
        return updated;
    }
    async getWorkspaceStatuses() {
        return Array.from(this.workspaceStatuses.values());
    }
    async getWorkspaceStatus(component) {
        return this.workspaceStatuses.get(component);
    }
    async createWorkspaceStatus(status) {
        const id = (0, crypto_1.randomUUID)();
        const newStatus = {
            ...status,
            id,
            status: status.status,
            component: status.component,
            lastUpdated: new Date(),
        };
        this.workspaceStatuses.set(status.component, newStatus);
        return newStatus;
    }
    async updateWorkspaceStatus(component, updates) {
        const existing = this.workspaceStatuses.get(component);
        if (!existing)
            return undefined;
        const updated = { ...existing, ...updates, updatedAt: new Date() };
        this.workspaceStatuses.set(component, updated);
        return updated;
    }
    async getQualityMetrics() {
        return Array.from(this.qualityMetrics.values());
    }
    async createQualityMetric(metric) {
        const id = (0, crypto_1.randomUUID)();
        const newMetric = {
            ...metric,
            id,
            timestamp: new Date(),
        };
        this.qualityMetrics.set(id, newMetric);
        return newMetric;
    }
    async getFrameworkConfigurations() {
        return Array.from(this.frameworkConfigs.values());
    }
    async createFrameworkConfiguration(config) {
        const id = (0, crypto_1.randomUUID)();
        const newConfig = {
            ...config,
            id,
            description: config.description || '',
            createdAt: new Date(),
            updatedAt: new Date(),
        };
        this.frameworkConfigs.set(config._key, newConfig);
        return newConfig;
    }
    async updateFrameworkConfiguration(key, updates) {
        const existing = this.frameworkConfigs.get(key);
        if (!existing)
            return undefined;
        const updated = { ...existing, ...updates, updatedAt: new Date() };
        this.frameworkConfigs.set(key, updated);
        return updated;
    }
    async getImprovementSuggestions() {
        return Array.from(this.improvementSuggestions.values());
    }
    async createImprovementSuggestion(suggestion) {
        const id = (0, crypto_1.randomUUID)();
        const newSuggestion = {
            ...suggestion,
            id,
            filePath: suggestion.filePath || null,
            status: suggestion.status,
            category: suggestion.category,
            priority: suggestion.priority || 'Medium',
            assignedTo: suggestion.assignedTo || null,
            createdAt: new Date(),
            updatedAt: new Date(),
            acknowledgedAt: null,
            completedAt: null,
        };
        this.improvementSuggestions.set(id, newSuggestion);
        return newSuggestion;
    }
    async updateImprovementSuggestion(id, updates) {
        const existing = this.improvementSuggestions.get(id);
        if (!existing)
            return undefined;
        const updated = { ...existing, ...updates, updatedAt: new Date() };
        this.improvementSuggestions.set(id, updated);
        return updated;
    }
    async getTopImprovementSuggestions(limit) {
        const suggestions = Array.from(this.improvementSuggestions.values());
        // Sort by priority (Critical > High > Medium > Low) then by creation date
        const priorityOrder = { 'Critical': 0, 'High': 1, 'Medium': 2, 'Low': 3 };
        return suggestions
            .sort((a, b) => {
            const priorityA = priorityOrder[a.priority] ?? 999;
            const priorityB = priorityOrder[b.priority] ?? 999;
            const priorityDiff = priorityA - priorityB;
            if (priorityDiff !== 0)
                return priorityDiff;
            return new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime();
        })
            .slice(0, limit);
    }
    async clearNewSuggestions() {
        for (const [id, suggestion] of this.improvementSuggestions.entries()) {
            if (suggestion.status === 'New') {
                this.improvementSuggestions.delete(id);
            }
        }
    }
    async updateSuggestionStatus(id, status) {
        const suggestion = this.improvementSuggestions.get(id);
        if (!suggestion)
            return undefined;
        const updatedSuggestion = {
            ...suggestion,
            status,
            updatedAt: new Date(),
        };
        this.improvementSuggestions.set(id, updatedSuggestion);
        return updatedSuggestion;
    }
    async getFeatures() {
        return Array.from(this.features.values());
    }
    async getFeature(id) {
        return this.features.get(id);
    }
    async createFeature(feature) {
        const id = (0, crypto_1.randomUUID)();
        const newFeature = {
            ...feature,
            id,
            isPublicRoadmap: feature.isPublicRoadmap ?? true,
            createdAt: new Date(),
            updatedAt: new Date(),
            requestedBy: feature.requestedBy || null,
            assignedTo: feature.assignedTo || null,
            estimatedHours: feature.estimatedHours || 0,
            businessObjective: feature.businessObjective || '',
            targetUsers: feature.targetUsers || '',
            successMetrics: feature.successMetrics || '',
            technicalComplexity: feature.technicalComplexity || '',
            dependencies: feature.dependencies?.join(',') || '',
            userFlow: feature.userFlow || '',
            actualHours: null,
            startDate: null,
            completedDate: null,
            tags: [],
            metadata: {},
            syncedAt: new Date(),
        };
        this.features.set(id, newFeature);
        return newFeature;
    }
    async updateFeature(id, updates) {
        const existing = this.features.get(id);
        if (!existing)
            return undefined;
        const updated = { ...existing, ...updates, updatedAt: new Date() };
        this.features.set(id, updated);
        return updated;
    }
    async getFeaturesByStatus(status) {
        return Array.from(this.features.values()).filter((f) => f.status === status);
    }
    async getPublicRoadmapFeatures() {
        return Array.from(this.features.values()).filter((f) => f.isPublicRoadmap);
    }
    async getActionableItems() {
        return Array.from(this.actionableItems.values());
    }
    async createActionableItem(item) {
        const id = (0, crypto_1.randomUUID)();
        const newItem = {
            ...item,
            id,
            createdAt: new Date(),
            updatedAt: new Date(),
            estimatedHours: item.estimatedHours || 0,
            dependencies: item.dependencies || [],
            completedAt: null,
            startedAt: null,
        };
        this.actionableItems.set(id, newItem);
        return newItem;
    }
    async updateActionableItem(id, updates) {
        const existing = this.actionableItems.get(id);
        if (!existing)
            return undefined;
        const updated = { ...existing, ...updates, updatedAt: new Date() };
        this.actionableItems.set(id, updated);
        return updated;
    }
    async deleteActionableItem(id) {
        return this.actionableItems.delete(id);
    }
    async getInvitations() {
        return Array.from(this.invitations.values());
    }
    async createInvitation(invitation) {
        const id = (0, crypto_1.randomUUID)();
        const newInvitation = {
            ...invitation,
            id,
            token: (0, crypto_1.randomUUID)(),
            createdAt: new Date(),
            updatedAt: new Date(),
            status: 'pending',
            ipAddress: '',
            userAgent: '',
            isUsed: false,
            usedAt: null,
            createdByUserId: invitation.invitedByUserId,
            acceptedByUserId: null,
            acceptedAt: null,
            revokedAt: null,
            revokedByUserId: null,
            lastAccessedAt: null,
        };
        this.invitations.set(id, newInvitation);
        return newInvitation;
    }
    async getInvitationByToken(token) {
        return Array.from(this.invitations.values()).find((inv) => inv.token === token);
    }
    async updateInvitation(id, updates) {
        const existing = this.invitations.get(id);
        if (!existing)
            return undefined;
        const updated = { ...existing, ...updates, updatedAt: new Date() };
        this.invitations.set(id, updated);
        return updated;
    }
    async getInvitationAuditLogs() {
        return Array.from(this.invitationAuditLogs.values());
    }
    async createInvitationAuditLog(log) {
        const id = (0, crypto_1.randomUUID)();
        const newLog = {
            ...log,
            id,
            createdAt: new Date(),
            ipAddress: log.ipAddress || '',
            userAgent: log.userAgent || '',
            details: log.details || {},
            previousStatus: log.previousStatus || 'pending',
            newStatus: log.newStatus || 'pending'
        };
        this.invitationAuditLogs.set(id, newLog);
        return newLog;
    }
    async getCommentsByDemand() {
        return [];
    }
    async createDemandComment(comment) {
        const id = (0, crypto_1.randomUUID)();
        return {
            ...comment,
            id,
            createdAt: new Date(),
            updatedAt: new Date(),
        };
    }
    async getBugs() {
        return Array.from(this.bugs.values());
    }
    async getBug(id) {
        return this.bugs.get(id);
    }
    async createBug(bug) {
        const id = (0, crypto_1.randomUUID)();
        const newBug = {
            ...bug,
            id,
            status: 'new',
            createdAt: new Date(),
            updatedAt: new Date(),
            reproductionSteps: bug.reproductionSteps || '',
            assignedTo: null,
            resolvedAt: null,
            resolvedBy: null,
            notes: null,
            environment: bug.environment || '',
        };
        this.bugs.set(id, newBug);
        return newBug;
    }
    async updateBug(id, updates) {
        const existing = this.bugs.get(id);
        if (!existing)
            return undefined;
        const updated = { ...existing, ...updates, updatedAt: new Date() };
        this.bugs.set(id, updated);
        return updated;
    }
    async getFeatureRequests() {
        return Array.from(this.featureRequests.values());
    }
    async getFeatureRequest(id) {
        return this.featureRequests.get(id);
    }
    async createFeatureRequest(request) {
        const id = (0, crypto_1.randomUUID)();
        const newRequest = {
            ...request,
            id,
            status: 'submitted',
            createdAt: new Date(),
            updatedAt: new Date(),
            upvoteCount: 0,
            assignedTo: null,
            reviewedBy: null,
            reviewedAt: null,
            estimatedHours: null,
            mergedIntoId: null,
        };
        this.featureRequests.set(id, newRequest);
        return newRequest;
    }
    async updateFeatureRequest(id, updates) {
        const existing = this.featureRequests.get(id);
        if (!existing)
            return undefined;
        const updated = { ...existing, ...updates, updatedAt: new Date() };
        this.featureRequests.set(id, updated);
        return updated;
    }
    async addFeatureRequestUpvote() {
        return { success: true, message: 'Upvote added' };
    }
    async removeFeatureRequestUpvote() {
        return { success: true, message: 'Upvote removed' };
    }
}
exports.MemStorage = MemStorage;
// Import the database storage implementation
const optimized_db_storage_1 = require("./optimized-db-storage");
// Production fallback storage - try database first, fall back to memory if authentication fails
class ProductionFallbackStorage {
    constructor() {
        this.usingFallback = false;
        this.dbStorage = new optimized_db_storage_1.OptimizedDatabaseStorage();
        this.memStorage = new MemStorage();
    }
    async safeDbOperation(operation) {
        if (this.usingFallback) {
            throw new Error('Database unavailable, using memory storage');
        }
        try {
            return await operation();
        }
        catch (error) {
            // Check if it's a database authentication error
            if (error.message?.includes('password authentication failed') ||
                error.message?.includes('neondb_owner') ||
                error.cause?.message?.includes('password authentication failed')) {
                // Database authentication failed, switching to memory storage for production stability
                this.usingFallback = true;
                // Initialize memory storage with production admin user
                await this.initializeFallbackData();
                throw new Error('Database unavailable, using memory storage');
            }
            throw error;
        }
    }
    async initializeFallbackData() {
        // Create the production admin user in memory storage
        const adminUser = {
            id: 'f35647de-5f16-46f2-b30b-09e0469356b1',
            username: 'kevin.hervieux',
            email: 'kevin.hervieux@koveo-gestion.com',
            password: '$2b$12$sAJXEcITZg5ItQou312JsucLyzByPC6lF7CLvrrLkhxKd1EyfSxda', // admin123
            firstName: 'Kevin',
            lastName: 'Hervieux',
            phone: '',
            profileImage: '',
            language: 'fr',
            role: 'admin',
            isActive: true,
            lastLoginAt: null,
            createdAt: new Date(),
            updatedAt: new Date(),
        };
        await this.memStorage.createUser(adminUser);
        // Create default organization for admin user
        const defaultOrg = {
            id: 'koveo-org-main',
            name: 'Koveo Gestion',
            type: 'property_management',
            address: '123 Quebec Street',
            city: 'Montreal',
            province: 'QC',
            postalCode: 'H1A 1A1',
            phone: '+1-514-555-0100',
            email: 'contact@koveo-gestion.com',
            website: 'https://koveo-gestion.com',
            description: 'Main Koveo property management organization',
            isActive: true,
            createdAt: new Date(),
            updatedAt: new Date(),
        };
        await this.memStorage.createOrganization(defaultOrg);
        // Associate admin user with the organization
        // For memory storage, we'll just ensure the user has access to the organization
        // This is handled by the user's role being 'admin' which gives access to all organizations
        // Production fallback initialized successfully
    }
    // User operations with fallback
    async getUserByEmail(email) {
        // Debug logging removed
        try {
            const user = await this.safeDbOperation(() => this.dbStorage.getUserByEmail(email));
            // Debug logging removed
            return user;
        }
        catch (error) {
            // Error handling maintained without debug logging
            throw error;
        }
    }
    async getUsers() {
        return await this.safeDbOperation(() => this.dbStorage.getUsers());
    }
    async getUsersWithAssignments() {
        return await this.safeDbOperation(() => this.dbStorage.getUsersWithAssignments());
    }
    async getUsersByOrganizations(userId) {
        try {
            return await this.safeDbOperation(() => this.dbStorage.getUsersByOrganizations(userId));
        }
        catch {
            return this.memStorage.getUsersByOrganizations(userId);
        }
    }
    async getUser(id) {
        return await this.safeDbOperation(() => this.dbStorage.getUser(id));
    }
    async getUserOrganizations(userId) {
        try {
            return await this.safeDbOperation(() => this.dbStorage.getUserOrganizations(userId));
        }
        catch {
            return this.memStorage.getUserOrganizations(userId);
        }
    }
    async getUserResidences(userId) {
        try {
            return await this.safeDbOperation(() => this.dbStorage.getUserResidences(userId));
        }
        catch {
            return this.memStorage.getUserResidences(userId);
        }
    }
    async createUser(user) {
        try {
            return await this.safeDbOperation(() => this.dbStorage.createUser(user));
        }
        catch {
            return this.memStorage.createUser(user);
        }
    }
    async updateUser(id, updates) {
        return await this.safeDbOperation(() => this.dbStorage.updateUser(id, updates));
    }
    // Password reset operations
    async createPasswordResetToken(token) {
        try {
            return await this.safeDbOperation(() => this.dbStorage.createPasswordResetToken(token));
        }
        catch {
            return this.memStorage.createPasswordResetToken(token);
        }
    }
    async getPasswordResetToken(token) {
        try {
            return await this.safeDbOperation(() => this.dbStorage.getPasswordResetToken(token));
        }
        catch {
            return this.memStorage.getPasswordResetToken(token);
        }
    }
    async markPasswordResetTokenAsUsed(tokenId) {
        try {
            return await this.safeDbOperation(() => this.dbStorage.markPasswordResetTokenAsUsed(tokenId));
        }
        catch {
            return this.memStorage.markPasswordResetTokenAsUsed(tokenId);
        }
    }
    async cleanupExpiredPasswordResetTokens() {
        try {
            return await this.safeDbOperation(() => this.dbStorage.cleanupExpiredPasswordResetTokens());
        }
        catch {
            return this.memStorage.cleanupExpiredPasswordResetTokens();
        }
    }
    // Delegate all other methods to the appropriate storage
    async getOrganizations() {
        try {
            return await this.safeDbOperation(() => this.dbStorage.getOrganizations());
        }
        catch {
            return this.memStorage.getOrganizations();
        }
    }
    async getOrganization(id) {
        try {
            return await this.safeDbOperation(() => this.dbStorage.getOrganization(id));
        }
        catch {
            return this.memStorage.getOrganization(id);
        }
    }
    async createOrganization(org) {
        try {
            return await this.safeDbOperation(() => this.dbStorage.createOrganization(org));
        }
        catch {
            return this.memStorage.createOrganization(org);
        }
    }
    async updateOrganization(id, updates) {
        try {
            return await this.safeDbOperation(() => this.dbStorage.updateOrganization(id, updates));
        }
        catch {
            return this.memStorage.updateOrganization(id, updates);
        }
    }
    async deleteOrganization(id) {
        try {
            return await this.safeDbOperation(() => this.dbStorage.deleteOrganization(id));
        }
        catch {
            return this.memStorage.deleteOrganization(id);
        }
    }
    // Buildings
    async getBuildings() {
        try {
            return await this.safeDbOperation(() => this.dbStorage.getBuildings());
        }
        catch {
            return this.memStorage.getBuildings();
        }
    }
    async getBuildingsByOrganization(organizationId) {
        try {
            return await this.safeDbOperation(() => this.dbStorage.getBuildingsByOrganization(organizationId));
        }
        catch {
            return this.memStorage.getBuildingsByOrganization(organizationId);
        }
    }
    async getBuilding(id) {
        try {
            return await this.safeDbOperation(() => this.dbStorage.getBuilding(id));
        }
        catch {
            return this.memStorage.getBuilding(id);
        }
    }
    async createBuilding(building) {
        try {
            return await this.safeDbOperation(() => this.dbStorage.createBuilding(building));
        }
        catch {
            return this.memStorage.createBuilding(building);
        }
    }
    async updateBuilding(id, updates) {
        try {
            return await this.safeDbOperation(() => this.dbStorage.updateBuilding(id, updates));
        }
        catch {
            return this.memStorage.updateBuilding(id, updates);
        }
    }
    async deleteBuilding(id) {
        try {
            return await this.safeDbOperation(() => this.dbStorage.deleteBuilding(id));
        }
        catch {
            return this.memStorage.deleteBuilding(id);
        }
    }
    // Residences
    async getResidences() {
        try {
            return await this.safeDbOperation(() => this.dbStorage.getResidences());
        }
        catch {
            return this.memStorage.getResidences();
        }
    }
    async getResidencesByBuilding(buildingId) {
        try {
            return await this.safeDbOperation(() => this.dbStorage.getResidencesByBuilding(buildingId));
        }
        catch {
            return this.memStorage.getResidencesByBuilding(buildingId);
        }
    }
    async getResidence(id) {
        try {
            return await this.safeDbOperation(() => this.dbStorage.getResidence(id));
        }
        catch {
            return this.memStorage.getResidence(id);
        }
    }
    async createResidence(residence) {
        try {
            return await this.safeDbOperation(() => this.dbStorage.createResidence(residence));
        }
        catch {
            return this.memStorage.createResidence(residence);
        }
    }
    async updateResidence(id, updates) {
        try {
            return await this.safeDbOperation(() => this.dbStorage.updateResidence(id, updates));
        }
        catch {
            return this.memStorage.updateResidence(id, updates);
        }
    }
    async deleteResidence(id) {
        try {
            return await this.safeDbOperation(() => this.dbStorage.deleteResidence(id));
        }
        catch {
            return this.memStorage.deleteResidence(id);
        }
    }
    // All other methods - implement fallback pattern for remaining interface methods
    async getContacts() {
        try {
            return await this.safeDbOperation(() => this.dbStorage.getContacts());
        }
        catch {
            return this.memStorage.getContacts();
        }
    }
    async getContact(id) {
        try {
            return await this.safeDbOperation(() => this.dbStorage.getContact(id));
        }
        catch {
            return this.memStorage.getContact(id);
        }
    }
    async createContact(contact) {
        try {
            return await this.safeDbOperation(() => this.dbStorage.createContact(contact));
        }
        catch {
            return this.memStorage.createContact(contact);
        }
    }
    async updateContact(id, updates) {
        try {
            return await this.safeDbOperation(() => this.dbStorage.updateContact(id, updates));
        }
        catch {
            return this.memStorage.updateContact(id, updates);
        }
    }
    async deleteContact(id) {
        try {
            return await this.safeDbOperation(() => this.dbStorage.deleteContact(id));
        }
        catch {
            return this.memStorage.deleteContact(id);
        }
    }
    // Stub implementations for remaining interface methods - add all other required methods
    async getDocuments() {
        return [];
    }
    async getDocument(id) {
        return undefined;
    }
    async createDocument(doc) {
        throw new Error('Not implemented in fallback');
    }
    async updateDocument(id, updates) {
        return undefined;
    }
    async deleteDocument(id) {
        return false;
    }
    async getDocumentsByBuilding(buildingId) {
        return [];
    }
    async createDocumentBuilding(doc) {
        // Note: External storage integration removed
        const id = (0, crypto_1.randomUUID)();
        return {
            ...doc,
            id,
            createdAt: new Date(),
            updatedAt: new Date(),
        };
    }
    async deleteDocumentBuilding(documentId, buildingId) {
        return false;
    }
    async getDocumentsByResident(residentId) {
        return [];
    }
    async createDocumentResident(doc) {
        // Note: External storage integration removed
        const id = (0, crypto_1.randomUUID)();
        return {
            ...doc,
            id,
            createdAt: new Date(),
            updatedAt: new Date(),
        };
    }
    async deleteDocumentResident(documentId, residentId) {
        return false;
    }
    async getPillars() {
        return [];
    }
    async getPillar(id) {
        return undefined;
    }
    async createPillar(pillar) {
        throw new Error('Not implemented in fallback');
    }
    async updatePillar(id, updates) {
        return undefined;
    }
    async getWorkspaceStatuses() {
        return [];
    }
    async getWorkspaceStatus(id) {
        return undefined;
    }
    async createWorkspaceStatus(status) {
        throw new Error('Not implemented in fallback');
    }
    async updateWorkspaceStatus(id, updates) {
        return undefined;
    }
    async getQualityMetrics() {
        return [];
    }
    async getQualityMetric(id) {
        return undefined;
    }
    async createQualityMetric(metric) {
        throw new Error('Not implemented in fallback');
    }
    async updateQualityMetric(id, updates) {
        return undefined;
    }
    async getFrameworkConfigurations() {
        return [];
    }
    async getFrameworkConfiguration(id) {
        return undefined;
    }
    async createFrameworkConfiguration(config) {
        throw new Error('Not implemented in fallback');
    }
    async updateFrameworkConfiguration(id, updates) {
        return undefined;
    }
    async getImprovementSuggestions() {
        return [];
    }
    async getImprovementSuggestion(id) {
        return undefined;
    }
    async createImprovementSuggestion(suggestion) {
        throw new Error('Not implemented in fallback');
    }
    async updateImprovementSuggestion(id, updates) {
        return undefined;
    }
    async getFeatures() {
        return [];
    }
    async getFeature(id) {
        return undefined;
    }
    async createFeature(feature) {
        throw new Error('Not implemented in fallback');
    }
    async updateFeature(id, updates) {
        return undefined;
    }
    async getActionableItems() {
        return [];
    }
    async getActionableItem(id) {
        return undefined;
    }
    async createActionableItem(item) {
        throw new Error('Not implemented in fallback');
    }
    async updateActionableItem(id, updates) {
        return undefined;
    }
    async getInvitations() {
        return [];
    }
    async getInvitation(id) {
        return undefined;
    }
    async getInvitationByToken(token) {
        return undefined;
    }
    async createInvitation(invitation) {
        throw new Error('Not implemented in fallback');
    }
    async updateInvitation(id, updates) {
        return undefined;
    }
    async deleteInvitation(id) {
        return false;
    }
    async getPermissions() {
        return [];
    }
    async getPermission(id) {
        return undefined;
    }
    async getRolePermissions(role) {
        return [];
    }
    async getUserPermissions(userId) {
        return [];
    }
    async hasPermission(userId, permission) {
        return true;
    } // Admin fallback
    async getBugs() {
        return [];
    }
    async getBug(id) {
        return undefined;
    }
    async createBug(bug) {
        throw new Error('Not implemented in fallback');
    }
    async updateBug(id, updates) {
        return undefined;
    }
    async getFeatureRequests() {
        return [];
    }
    async getFeatureRequest(id) {
        return undefined;
    }
    async createFeatureRequest(request) {
        throw new Error('Not implemented in fallback');
    }
    async updateFeatureRequest(id, updates) {
        return undefined;
    }
    async addFeatureRequestUpvote(featureRequestId, userId) {
        return { success: true, message: 'Fallback mode' };
    }
    async removeFeatureRequestUpvote(featureRequestId, userId) {
        return { success: true, message: 'Fallback mode' };
    }
}
// Use optimized database storage for production
exports.storage = new optimized_db_storage_1.OptimizedDatabaseStorage();
// Export the OptimizedDatabaseStorage class for direct usage
var optimized_db_storage_2 = require("./optimized-db-storage");
Object.defineProperty(exports, "OptimizedDatabaseStorage", { enumerable: true, get: function () { return optimized_db_storage_2.OptimizedDatabaseStorage; } });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIHR5cGUgVXNlcixcbiAgdHlwZSBJbnNlcnRVc2VyLFxuICB0eXBlIE9yZ2FuaXphdGlvbixcbiAgdHlwZSBJbnNlcnRPcmdhbml6YXRpb24sXG4gIHR5cGUgQnVpbGRpbmcsXG4gIHR5cGUgSW5zZXJ0QnVpbGRpbmcsXG4gIHR5cGUgUmVzaWRlbmNlLFxuICB0eXBlIEluc2VydFJlc2lkZW5jZSxcbiAgdHlwZSBDb250YWN0LFxuICB0eXBlIEluc2VydENvbnRhY3QsXG4gIHR5cGUgRG9jdW1lbnQsXG4gIHR5cGUgSW5zZXJ0RG9jdW1lbnQsXG4gIHR5cGUgUGlsbGFyLFxuICB0eXBlIEluc2VydFBpbGxhcixcbiAgdHlwZSBXb3Jrc3BhY2VTdGF0dXMsXG4gIHR5cGUgSW5zZXJ0V29ya3NwYWNlU3RhdHVzLFxuICB0eXBlIFF1YWxpdHlNZXRyaWMsXG4gIHR5cGUgSW5zZXJ0UXVhbGl0eU1ldHJpYyxcbiAgdHlwZSBGcmFtZXdvcmtDb25maWd1cmF0aW9uLFxuICB0eXBlIEluc2VydEZyYW1ld29ya0NvbmZpZ3VyYXRpb24sXG4gIHR5cGUgSW1wcm92ZW1lbnRTdWdnZXN0aW9uLFxuICB0eXBlIEluc2VydEltcHJvdmVtZW50U3VnZ2VzdGlvbixcbiAgdHlwZSBGZWF0dXJlLFxuICB0eXBlIEluc2VydEZlYXR1cmUsXG4gIHR5cGUgQWN0aW9uYWJsZUl0ZW0sXG4gIHR5cGUgSW5zZXJ0QWN0aW9uYWJsZUl0ZW0sXG4gIHR5cGUgSW52aXRhdGlvbixcbiAgdHlwZSBJbnNlcnRJbnZpdGF0aW9uLFxuICB0eXBlIEludml0YXRpb25BdWRpdExvZyxcbiAgdHlwZSBJbnNlcnRJbnZpdGF0aW9uQXVkaXRMb2csXG4gIHR5cGUgUGVybWlzc2lvbixcbiAgdHlwZSBSb2xlUGVybWlzc2lvbixcbiAgdHlwZSBVc2VyUGVybWlzc2lvbixcbiAgdHlwZSBQYXNzd29yZFJlc2V0VG9rZW4sXG4gIHR5cGUgSW5zZXJ0UGFzc3dvcmRSZXNldFRva2VuLFxuICB0eXBlIEJ1ZyxcbiAgdHlwZSBJbnNlcnRCdWcsXG4gIHR5cGUgRmVhdHVyZVJlcXVlc3QsXG4gIHR5cGUgSW5zZXJ0RmVhdHVyZVJlcXVlc3QsXG4gIHR5cGUgRmVhdHVyZVJlcXVlc3RVcHZvdGUsXG4gIHR5cGUgSW5zZXJ0RmVhdHVyZVJlcXVlc3RVcHZvdGUsXG59IGZyb20gJ0BzaGFyZWQvc2NoZW1hJztcbmltcG9ydCB7XG4gIHR5cGUgRGVtYW5kLFxuICB0eXBlIEluc2VydERlbWFuZCxcbiAgdHlwZSBEZW1hbmRDb21tZW50LFxuICB0eXBlIEluc2VydERlbWFuZENvbW1lbnQsXG59IGZyb20gJ0BzaGFyZWQvc2NoZW1hcy9vcGVyYXRpb25zJztcbmltcG9ydCB7IHJhbmRvbVVVSUQgfSBmcm9tICdjcnlwdG8nO1xuXG5leHBvcnQgaW50ZXJmYWNlIElTdG9yYWdlIHtcbiAgLy8gVXNlciBvcGVyYXRpb25zXG4gIGdldFVzZXJzKCk6IFByb21pc2U8VXNlcltdPjtcbiAgZ2V0VXNlcnNXaXRoQXNzaWdubWVudHMoKTogUHJvbWlzZTxBcnJheTxVc2VyICYgeyBvcmdhbml6YXRpb25zOiBBcnJheTx7IGlkOiBzdHJpbmc7IG5hbWU6IHN0cmluZzsgdHlwZTogc3RyaW5nIH0+OyBidWlsZGluZ3M6IEFycmF5PHsgaWQ6IHN0cmluZzsgbmFtZTogc3RyaW5nIH0+OyByZXNpZGVuY2VzOiBBcnJheTx7IGlkOiBzdHJpbmc7IHVuaXROdW1iZXI6IHN0cmluZzsgYnVpbGRpbmdJZDogc3RyaW5nOyBidWlsZGluZ05hbWU6IHN0cmluZyB9PiB9Pj47XG4gIGdldFVzZXJzQnlPcmdhbml6YXRpb25zKF91c2VySWQ6IHN0cmluZyk6IFByb21pc2U8VXNlcltdPjtcbiAgZ2V0VXNlcihfaWQ6IHN0cmluZyk6IFByb21pc2U8VXNlciB8IHVuZGVmaW5lZD47XG4gIGdldFVzZXJPcmdhbml6YXRpb25zKF91c2VySWQ6IHN0cmluZyk6IFByb21pc2U8QXJyYXk8eyBvcmdhbml6YXRpb25JZDogc3RyaW5nIH0+PjtcbiAgZ2V0VXNlclJlc2lkZW5jZXMoX3VzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxBcnJheTx7IHJlc2lkZW5jZUlkOiBzdHJpbmcgfT4+O1xuICBnZXRVc2VyQnlFbWFpbChfZW1haWw6IHN0cmluZyk6IFByb21pc2U8VXNlciB8IHVuZGVmaW5lZD47XG4gIGNyZWF0ZVVzZXIoX3VzZXI6IEluc2VydFVzZXIpOiBQcm9taXNlPFVzZXI+O1xuICB1cGRhdGVVc2VyKF9pZDogc3RyaW5nLCBfdXBkYXRlczogUGFydGlhbDxVc2VyPik6IFByb21pc2U8VXNlciB8IHVuZGVmaW5lZD47XG5cbiAgLy8gUGFzc3dvcmQgcmVzZXQgb3BlcmF0aW9uc1xuICBjcmVhdGVQYXNzd29yZFJlc2V0VG9rZW4oX3Rva2VuOiBJbnNlcnRQYXNzd29yZFJlc2V0VG9rZW4pOiBQcm9taXNlPFBhc3N3b3JkUmVzZXRUb2tlbj47XG4gIGdldFBhc3N3b3JkUmVzZXRUb2tlbihfdG9rZW46IHN0cmluZyk6IFByb21pc2U8UGFzc3dvcmRSZXNldFRva2VuIHwgdW5kZWZpbmVkPjtcbiAgbWFya1Bhc3N3b3JkUmVzZXRUb2tlbkFzVXNlZChfdG9rZW5JZDogc3RyaW5nKTogUHJvbWlzZTxQYXNzd29yZFJlc2V0VG9rZW4gfCB1bmRlZmluZWQ+O1xuICBjbGVhbnVwRXhwaXJlZFBhc3N3b3JkUmVzZXRUb2tlbnMoKTogUHJvbWlzZTxudW1iZXI+O1xuXG4gIC8vIE9yZ2FuaXphdGlvbiBvcGVyYXRpb25zXG4gIGdldE9yZ2FuaXphdGlvbnMoKTogUHJvbWlzZTxPcmdhbml6YXRpb25bXT47XG4gIGdldE9yZ2FuaXphdGlvbihfaWQ6IHN0cmluZyk6IFByb21pc2U8T3JnYW5pemF0aW9uIHwgdW5kZWZpbmVkPjtcbiAgZ2V0T3JnYW5pemF0aW9uQnlOYW1lKF9uYW1lOiBzdHJpbmcpOiBQcm9taXNlPE9yZ2FuaXphdGlvbiB8IHVuZGVmaW5lZD47XG4gIGNyZWF0ZU9yZ2FuaXphdGlvbihfb3JnYW5pemF0aW9uOiBJbnNlcnRPcmdhbml6YXRpb24pOiBQcm9taXNlPE9yZ2FuaXphdGlvbj47XG4gIHVwZGF0ZU9yZ2FuaXphdGlvbihcbiAgICBfaWQ6IHN0cmluZyxcbiAgICBfdXBkYXRlczogUGFydGlhbDxPcmdhbml6YXRpb24+XG4gICk6IFByb21pc2U8T3JnYW5pemF0aW9uIHwgdW5kZWZpbmVkPjtcbiAgZ2V0QnVpbGRpbmdzQnlPcmdhbml6YXRpb24oX29yZ2FuaXphdGlvbklkOiBzdHJpbmcpOiBQcm9taXNlPEJ1aWxkaW5nW10+O1xuXG4gIC8vIEJ1aWxkaW5nIG9wZXJhdGlvbnNcbiAgZ2V0QnVpbGRpbmdzKCk6IFByb21pc2U8QnVpbGRpbmdbXT47XG4gIGdldEJ1aWxkaW5nKF9pZDogc3RyaW5nKTogUHJvbWlzZTxCdWlsZGluZyB8IHVuZGVmaW5lZD47XG4gIGNyZWF0ZUJ1aWxkaW5nKF9idWlsZGluZzogSW5zZXJ0QnVpbGRpbmcpOiBQcm9taXNlPEJ1aWxkaW5nPjtcbiAgdXBkYXRlQnVpbGRpbmcoX2lkOiBzdHJpbmcsIF91cGRhdGVzOiBQYXJ0aWFsPEJ1aWxkaW5nPik6IFByb21pc2U8QnVpbGRpbmcgfCB1bmRlZmluZWQ+O1xuICBkZWxldGVCdWlsZGluZyhfaWQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj47XG5cbiAgLy8gUmVzaWRlbmNlIG9wZXJhdGlvbnNcbiAgZ2V0UmVzaWRlbmNlcygpOiBQcm9taXNlPFJlc2lkZW5jZVtdPjtcbiAgZ2V0UmVzaWRlbmNlKF9pZDogc3RyaW5nKTogUHJvbWlzZTxSZXNpZGVuY2UgfCB1bmRlZmluZWQ+O1xuICBnZXRSZXNpZGVuY2VzQnlCdWlsZGluZyhfYnVpbGRpbmdJZDogc3RyaW5nKTogUHJvbWlzZTxSZXNpZGVuY2VbXT47XG4gIGNyZWF0ZVJlc2lkZW5jZShfcmVzaWRlbmNlOiBJbnNlcnRSZXNpZGVuY2UpOiBQcm9taXNlPFJlc2lkZW5jZT47XG4gIHVwZGF0ZVJlc2lkZW5jZShfaWQ6IHN0cmluZywgX3VwZGF0ZXM6IFBhcnRpYWw8UmVzaWRlbmNlPik6IFByb21pc2U8UmVzaWRlbmNlIHwgdW5kZWZpbmVkPjtcbiAgZGVsZXRlUmVzaWRlbmNlKF9pZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPjtcblxuICAvLyBDb250YWN0IG9wZXJhdGlvbnNcbiAgZ2V0Q29udGFjdHMoKTogUHJvbWlzZTxDb250YWN0W10+O1xuICBnZXRDb250YWN0c0J5RW50aXR5KFxuICAgIF9lbnRpdHlJZDogc3RyaW5nLFxuICAgIF9lbnRpdHk6ICdvcmdhbml6YXRpb24nIHwgJ2J1aWxkaW5nJyB8ICdyZXNpZGVuY2UnXG4gICk6IFByb21pc2U8Q29udGFjdFtdPjtcbiAgZ2V0Q29udGFjdHNGb3JSZXNpZGVuY2UoX3Jlc2lkZW5jZUlkOiBzdHJpbmcpOiBQcm9taXNlPEFycmF5PENvbnRhY3QgJiB7IHVzZXI6IFVzZXIgfT4+O1xuICBjcmVhdGVDb250YWN0KF9jb250YWN0OiBJbnNlcnRDb250YWN0KTogUHJvbWlzZTxDb250YWN0PjtcbiAgdXBkYXRlQ29udGFjdChfaWQ6IHN0cmluZywgX3VwZGF0ZXM6IFBhcnRpYWw8Q29udGFjdD4pOiBQcm9taXNlPENvbnRhY3QgfCB1bmRlZmluZWQ+O1xuICBkZWxldGVDb250YWN0KF9pZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPjtcblxuICAvLyBEb2N1bWVudCBvcGVyYXRpb25zXG4gIGdldERvY3VtZW50cyhfZmlsdGVycz86IHtcbiAgICBidWlsZGluZ0lkPzogc3RyaW5nO1xuICAgIHJlc2lkZW5jZUlkPzogc3RyaW5nO1xuICAgIGRvY3VtZW50VHlwZT86IHN0cmluZztcbiAgICB1c2VySWQ/OiBzdHJpbmc7XG4gICAgdXNlclJvbGU/OiBzdHJpbmc7XG4gIH0pOiBQcm9taXNlPERvY3VtZW50W10+O1xuICBnZXREb2N1bWVudChfaWQ6IHN0cmluZyk6IFByb21pc2U8RG9jdW1lbnQgfCB1bmRlZmluZWQ+O1xuICBjcmVhdGVEb2N1bWVudChfZG9jdW1lbnQ6IEluc2VydERvY3VtZW50KTogUHJvbWlzZTxEb2N1bWVudD47XG4gIHVwZGF0ZURvY3VtZW50KF9pZDogc3RyaW5nLCBfdXBkYXRlczogUGFydGlhbDxEb2N1bWVudD4pOiBQcm9taXNlPERvY3VtZW50IHwgdW5kZWZpbmVkPjtcbiAgZGVsZXRlRG9jdW1lbnQoX2lkOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+O1xuXG4gIC8vIFBlcm1pc3Npb24gb3BlcmF0aW9uc1xuICBnZXRQZXJtaXNzaW9ucygpOiBQcm9taXNlPFBlcm1pc3Npb25bXT47XG4gIGdldFJvbGVQZXJtaXNzaW9ucygpOiBQcm9taXNlPFJvbGVQZXJtaXNzaW9uW10+O1xuICBnZXRVc2VyUGVybWlzc2lvbnMoKTogUHJvbWlzZTxVc2VyUGVybWlzc2lvbltdPjtcblxuICAvLyBEZXZlbG9wbWVudCBvcGVyYXRpb25zXG4gIGdldFBpbGxhcnMoKTogUHJvbWlzZTxQaWxsYXJbXT47XG4gIGdldFBpbGxhcihfaWQ6IHN0cmluZyk6IFByb21pc2U8UGlsbGFyIHwgdW5kZWZpbmVkPjtcbiAgY3JlYXRlUGlsbGFyKF9waWxsYXI6IEluc2VydFBpbGxhcik6IFByb21pc2U8UGlsbGFyPjtcbiAgdXBkYXRlUGlsbGFyKF9pZDogc3RyaW5nLCBfcGlsbGFyOiBQYXJ0aWFsPFBpbGxhcj4pOiBQcm9taXNlPFBpbGxhciB8IHVuZGVmaW5lZD47XG4gIGdldFdvcmtzcGFjZVN0YXR1c2VzKCk6IFByb21pc2U8V29ya3NwYWNlU3RhdHVzW10+O1xuICBnZXRXb3Jrc3BhY2VTdGF0dXMoX2NvbXBvbmVudDogc3RyaW5nKTogUHJvbWlzZTxXb3Jrc3BhY2VTdGF0dXMgfCB1bmRlZmluZWQ+O1xuICBjcmVhdGVXb3Jrc3BhY2VTdGF0dXMoX3N0YXR1czogSW5zZXJ0V29ya3NwYWNlU3RhdHVzKTogUHJvbWlzZTxXb3Jrc3BhY2VTdGF0dXM+O1xuICB1cGRhdGVXb3Jrc3BhY2VTdGF0dXMoXG4gICAgX2NvbXBvbmVudDogc3RyaW5nLFxuICAgIF9zdGF0dXM6IFBhcnRpYWw8V29ya3NwYWNlU3RhdHVzPlxuICApOiBQcm9taXNlPFdvcmtzcGFjZVN0YXR1cyB8IHVuZGVmaW5lZD47XG4gIGdldFF1YWxpdHlNZXRyaWNzKCk6IFByb21pc2U8UXVhbGl0eU1ldHJpY1tdPjtcbiAgY3JlYXRlUXVhbGl0eU1ldHJpYyhfbWV0cmljOiBJbnNlcnRRdWFsaXR5TWV0cmljKTogUHJvbWlzZTxRdWFsaXR5TWV0cmljPjtcbiAgZ2V0RnJhbWV3b3JrQ29uZmlndXJhdGlvbnMoKTogUHJvbWlzZTxGcmFtZXdvcmtDb25maWd1cmF0aW9uW10+O1xuICBjcmVhdGVGcmFtZXdvcmtDb25maWd1cmF0aW9uKFxuICAgIF9jb25maWc6IEluc2VydEZyYW1ld29ya0NvbmZpZ3VyYXRpb25cbiAgKTogUHJvbWlzZTxGcmFtZXdvcmtDb25maWd1cmF0aW9uPjtcbiAgdXBkYXRlRnJhbWV3b3JrQ29uZmlndXJhdGlvbihcbiAgICBfa2V5OiBzdHJpbmcsXG4gICAgX2NvbmZpZzogUGFydGlhbDxGcmFtZXdvcmtDb25maWd1cmF0aW9uPlxuICApOiBQcm9taXNlPEZyYW1ld29ya0NvbmZpZ3VyYXRpb24gfCB1bmRlZmluZWQ+O1xuICBnZXRJbXByb3ZlbWVudFN1Z2dlc3Rpb25zKCk6IFByb21pc2U8SW1wcm92ZW1lbnRTdWdnZXN0aW9uW10+O1xuICBjcmVhdGVJbXByb3ZlbWVudFN1Z2dlc3Rpb24oXG4gICAgX3N1Z2dlc3Rpb246IEluc2VydEltcHJvdmVtZW50U3VnZ2VzdGlvblxuICApOiBQcm9taXNlPEltcHJvdmVtZW50U3VnZ2VzdGlvbj47XG4gIHVwZGF0ZUltcHJvdmVtZW50U3VnZ2VzdGlvbihcbiAgICBfaWQ6IHN0cmluZyxcbiAgICBfdXBkYXRlczogUGFydGlhbDxJbXByb3ZlbWVudFN1Z2dlc3Rpb24+XG4gICk6IFByb21pc2U8SW1wcm92ZW1lbnRTdWdnZXN0aW9uIHwgdW5kZWZpbmVkPjtcbiAgZ2V0RmVhdHVyZXMoKTogUHJvbWlzZTxGZWF0dXJlW10+O1xuICBnZXRGZWF0dXJlKF9pZDogc3RyaW5nKTogUHJvbWlzZTxGZWF0dXJlIHwgdW5kZWZpbmVkPjtcbiAgY3JlYXRlRmVhdHVyZShfZmVhdHVyZTogSW5zZXJ0RmVhdHVyZSk6IFByb21pc2U8RmVhdHVyZT47XG4gIHVwZGF0ZUZlYXR1cmUoX2lkOiBzdHJpbmcsIF91cGRhdGVzOiBQYXJ0aWFsPEZlYXR1cmU+KTogUHJvbWlzZTxGZWF0dXJlIHwgdW5kZWZpbmVkPjtcbiAgZ2V0QWN0aW9uYWJsZUl0ZW1zKCk6IFByb21pc2U8QWN0aW9uYWJsZUl0ZW1bXT47XG4gIGNyZWF0ZUFjdGlvbmFibGVJdGVtKF9pdGVtOiBJbnNlcnRBY3Rpb25hYmxlSXRlbSk6IFByb21pc2U8QWN0aW9uYWJsZUl0ZW0+O1xuICB1cGRhdGVBY3Rpb25hYmxlSXRlbShcbiAgICBfaWQ6IHN0cmluZyxcbiAgICBfdXBkYXRlczogUGFydGlhbDxBY3Rpb25hYmxlSXRlbT5cbiAgKTogUHJvbWlzZTxBY3Rpb25hYmxlSXRlbSB8IHVuZGVmaW5lZD47XG4gIGRlbGV0ZUFjdGlvbmFibGVJdGVtKF9pZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPjtcbiAgZ2V0SW52aXRhdGlvbnMoKTogUHJvbWlzZTxJbnZpdGF0aW9uW10+O1xuICBjcmVhdGVJbnZpdGF0aW9uKF9pbnZpdGF0aW9uOiBJbnNlcnRJbnZpdGF0aW9uKTogUHJvbWlzZTxJbnZpdGF0aW9uPjtcbiAgZ2V0SW52aXRhdGlvbkJ5VG9rZW4oX3Rva2VuOiBzdHJpbmcpOiBQcm9taXNlPEludml0YXRpb24gfCB1bmRlZmluZWQ+O1xuICB1cGRhdGVJbnZpdGF0aW9uKF9pZDogc3RyaW5nLCBfdXBkYXRlczogUGFydGlhbDxJbnZpdGF0aW9uPik6IFByb21pc2U8SW52aXRhdGlvbiB8IHVuZGVmaW5lZD47XG4gIGdldEludml0YXRpb25BdWRpdExvZ3MoKTogUHJvbWlzZTxJbnZpdGF0aW9uQXVkaXRMb2dbXT47XG4gIGNyZWF0ZUludml0YXRpb25BdWRpdExvZyhfbG9nOiBJbnNlcnRJbnZpdGF0aW9uQXVkaXRMb2cpOiBQcm9taXNlPEludml0YXRpb25BdWRpdExvZz47XG4gIGdldENvbW1lbnRzQnlEZW1hbmQoX2RlbWFuZElkOiBzdHJpbmcpOiBQcm9taXNlPERlbWFuZENvbW1lbnRbXT47XG4gIGNyZWF0ZURlbWFuZENvbW1lbnQoX2NvbW1lbnQ6IEluc2VydERlbWFuZENvbW1lbnQpOiBQcm9taXNlPERlbWFuZENvbW1lbnQ+O1xuICBnZXRCdWdzKCk6IFByb21pc2U8QnVnW10+O1xuICBnZXRCdWcoX2lkOiBzdHJpbmcpOiBQcm9taXNlPEJ1ZyB8IHVuZGVmaW5lZD47XG4gIGNyZWF0ZUJ1ZyhfYnVnOiBJbnNlcnRCdWcpOiBQcm9taXNlPEJ1Zz47XG4gIHVwZGF0ZUJ1ZyhfaWQ6IHN0cmluZywgX3VwZGF0ZXM6IFBhcnRpYWw8QnVnPik6IFByb21pc2U8QnVnIHwgdW5kZWZpbmVkPjtcbiAgZ2V0RmVhdHVyZVJlcXVlc3RzKCk6IFByb21pc2U8RmVhdHVyZVJlcXVlc3RbXT47XG4gIGdldEZlYXR1cmVSZXF1ZXN0KF9pZDogc3RyaW5nKTogUHJvbWlzZTxGZWF0dXJlUmVxdWVzdCB8IHVuZGVmaW5lZD47XG4gIGNyZWF0ZUZlYXR1cmVSZXF1ZXN0KF9yZXF1ZXN0OiBJbnNlcnRGZWF0dXJlUmVxdWVzdCk6IFByb21pc2U8RmVhdHVyZVJlcXVlc3Q+O1xuICB1cGRhdGVGZWF0dXJlUmVxdWVzdChcbiAgICBfaWQ6IHN0cmluZyxcbiAgICBfdXBkYXRlczogUGFydGlhbDxGZWF0dXJlUmVxdWVzdD5cbiAgKTogUHJvbWlzZTxGZWF0dXJlUmVxdWVzdCB8IHVuZGVmaW5lZD47XG4gIGFkZEZlYXR1cmVSZXF1ZXN0VXB2b3RlKFxuICAgIF9mZWF0dXJlUmVxdWVzdElkOiBzdHJpbmcsXG4gICAgX3VzZXJJZDogc3RyaW5nXG4gICk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlOiBzdHJpbmc7IGRhdGE/OiBhbnkgfT47XG4gIHJlbW92ZUZlYXR1cmVSZXF1ZXN0VXB2b3RlKFxuICAgIF9mZWF0dXJlUmVxdWVzdElkOiBzdHJpbmcsXG4gICAgX3VzZXJJZDogc3RyaW5nXG4gICk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlOiBzdHJpbmc7IGRhdGE/OiBhbnkgfT47XG4gIFxuICAvLyBJbXByb3ZlbWVudCBzdWdnZXN0aW9uIG9wZXJhdGlvbnNcbiAgY2xlYXJOZXdTdWdnZXN0aW9ucygpOiBQcm9taXNlPHZvaWQ+O1xuICB1cGRhdGVTdWdnZXN0aW9uU3RhdHVzKF9pZDogc3RyaW5nLCBfc3RhdHVzOiBzdHJpbmcpOiBQcm9taXNlPEltcHJvdmVtZW50U3VnZ2VzdGlvbiB8IHVuZGVmaW5lZD47XG4gIGdldFRvcEltcHJvdmVtZW50U3VnZ2VzdGlvbnMoX2xpbWl0OiBudW1iZXIpOiBQcm9taXNlPEltcHJvdmVtZW50U3VnZ2VzdGlvbltdPjtcbiAgXG4gIC8vIEZlYXR1cmUgb3BlcmF0aW9ucyAgXG4gIGdldEZlYXR1cmVzQnlTdGF0dXMoX3N0YXR1czogc3RyaW5nKTogUHJvbWlzZTxGZWF0dXJlW10+O1xuICBnZXRQdWJsaWNSb2FkbWFwRmVhdHVyZXMoKTogUHJvbWlzZTxGZWF0dXJlW10+O1xufVxuXG5leHBvcnQgY2xhc3MgTWVtU3RvcmFnZSBpbXBsZW1lbnRzIElTdG9yYWdlIHtcbiAgcHJpdmF0ZSB1c2VyczogTWFwPHN0cmluZywgVXNlcj47XG4gIHByaXZhdGUgb3JnYW5pemF0aW9uczogTWFwPHN0cmluZywgT3JnYW5pemF0aW9uPjtcbiAgcHJpdmF0ZSBidWlsZGluZ3M6IE1hcDxzdHJpbmcsIEJ1aWxkaW5nPjtcbiAgcHJpdmF0ZSByZXNpZGVuY2VzOiBNYXA8c3RyaW5nLCBSZXNpZGVuY2U+O1xuICBwcml2YXRlIHBpbGxhcnM6IE1hcDxzdHJpbmcsIFBpbGxhcj47XG4gIHByaXZhdGUgd29ya3NwYWNlU3RhdHVzZXM6IE1hcDxzdHJpbmcsIFdvcmtzcGFjZVN0YXR1cz47XG4gIHByaXZhdGUgcXVhbGl0eU1ldHJpY3M6IE1hcDxzdHJpbmcsIFF1YWxpdHlNZXRyaWM+O1xuICBwcml2YXRlIGZyYW1ld29ya0NvbmZpZ3M6IE1hcDxzdHJpbmcsIEZyYW1ld29ya0NvbmZpZ3VyYXRpb24+O1xuICBwcml2YXRlIGltcHJvdmVtZW50U3VnZ2VzdGlvbnM6IE1hcDxzdHJpbmcsIEltcHJvdmVtZW50U3VnZ2VzdGlvbj47XG4gIHByaXZhdGUgZmVhdHVyZXM6IE1hcDxzdHJpbmcsIEZlYXR1cmU+O1xuICBwcml2YXRlIGFjdGlvbmFibGVJdGVtczogTWFwPHN0cmluZywgQWN0aW9uYWJsZUl0ZW0+O1xuICBwcml2YXRlIGludml0YXRpb25zOiBNYXA8c3RyaW5nLCBJbnZpdGF0aW9uPjtcbiAgcHJpdmF0ZSBpbnZpdGF0aW9uQXVkaXRMb2dzOiBNYXA8c3RyaW5nLCBJbnZpdGF0aW9uQXVkaXRMb2c+O1xuICBwcml2YXRlIGJ1Z3M6IE1hcDxzdHJpbmcsIEJ1Zz47XG4gIHByaXZhdGUgZmVhdHVyZVJlcXVlc3RzOiBNYXA8c3RyaW5nLCBGZWF0dXJlUmVxdWVzdD47XG4gIHByaXZhdGUgZmVhdHVyZVJlcXVlc3RVcHZvdGVzOiBNYXA8c3RyaW5nLCBGZWF0dXJlUmVxdWVzdFVwdm90ZT47XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy51c2VycyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLm9yZ2FuaXphdGlvbnMgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5idWlsZGluZ3MgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5yZXNpZGVuY2VzID0gbmV3IE1hcCgpO1xuICAgIHRoaXMucGlsbGFycyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLndvcmtzcGFjZVN0YXR1c2VzID0gbmV3IE1hcCgpO1xuICAgIHRoaXMucXVhbGl0eU1ldHJpY3MgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5mcmFtZXdvcmtDb25maWdzID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuaW1wcm92ZW1lbnRTdWdnZXN0aW9ucyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLmZlYXR1cmVzID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuYWN0aW9uYWJsZUl0ZW1zID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuaW52aXRhdGlvbnMgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5pbnZpdGF0aW9uQXVkaXRMb2dzID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuYnVncyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLmZlYXR1cmVSZXF1ZXN0cyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLmZlYXR1cmVSZXF1ZXN0VXB2b3RlcyA9IG5ldyBNYXAoKTtcblxuICAgIC8vIEluaXRpYWxpemUgdGVzdCB1c2VyIGFzeW5jaHJvbm91c2x5XG4gICAgdGhpcy5pbml0aWFsaXplVGVzdFVzZXIoKS5jYXRjaChjb25zb2xlLmVycm9yKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgaW5pdGlhbGl6ZVRlc3RVc2VyKCkge1xuICAgIC8vIFVzZSBrbm93biBhZG1pbjEyMyBwYXNzd29yZCBmb3IgZGVtbyBtb2RlXG4gICAgY29uc3QgYmNyeXB0ID0gcmVxdWlyZSgnYmNyeXB0anMnKTtcbiAgICBjb25zdCBzZWN1cmVQYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKCdhZG1pbjEyMycsIDEyKTtcblxuICAgIGNvbnN0IHVzZXI6IFVzZXIgPSB7XG4gICAgICBpZDogJzU1MGU4NDAwLWUyOWItNDFkNC1hNzE2LTQ0NjY1NTQ0MDAwMCcsXG4gICAgICB1c2VybmFtZTogJ2tldmluLmhlcnZpZXV4QGtvdmVvLWdlc3Rpb24uY29tJyxcbiAgICAgIGVtYWlsOiAna2V2aW4uaGVydmlldXhAa292ZW8tZ2VzdGlvbi5jb20nLFxuICAgICAgcGFzc3dvcmQ6IHNlY3VyZVBhc3N3b3JkLFxuICAgICAgZmlyc3ROYW1lOiAnS2V2aW4nLFxuICAgICAgbGFzdE5hbWU6ICdIZXJ2aWV1eCcsXG4gICAgICBwaG9uZTogJycsXG4gICAgICBwcm9maWxlSW1hZ2U6ICcnLFxuICAgICAgbGFuZ3VhZ2U6ICdmcicsXG4gICAgICByb2xlOiAnYWRtaW4nLFxuICAgICAgaXNBY3RpdmU6IHRydWUsXG4gICAgICBsYXN0TG9naW5BdDogbnVsbCxcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICB9O1xuXG4gICAgdGhpcy51c2Vycy5zZXQodXNlci5pZCwgdXNlcik7XG4gIH1cblxuICAvLyBVc2VyIG9wZXJhdGlvbnNcbiAgYXN5bmMgZ2V0VXNlcnMoKTogUHJvbWlzZTxVc2VyW10+IHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnVzZXJzLnZhbHVlcygpKTtcbiAgfVxuXG4gIGFzeW5jIGdldFVzZXJzV2l0aEFzc2lnbm1lbnRzKCk6IFByb21pc2U8QXJyYXk8VXNlciAmIHsgb3JnYW5pemF0aW9uczogQXJyYXk8eyBpZDogc3RyaW5nOyBuYW1lOiBzdHJpbmc7IHR5cGU6IHN0cmluZyB9PjsgYnVpbGRpbmdzOiBBcnJheTx7IGlkOiBzdHJpbmc7IG5hbWU6IHN0cmluZyB9PjsgcmVzaWRlbmNlczogQXJyYXk8eyBpZDogc3RyaW5nOyB1bml0TnVtYmVyOiBzdHJpbmc7IGJ1aWxkaW5nSWQ6IHN0cmluZzsgYnVpbGRpbmdOYW1lOiBzdHJpbmcgfT4gfT4+IHtcbiAgICAvLyBGb3IgTWVtU3RvcmFnZSwganVzdCByZXR1cm4gdXNlcnMgd2l0aCBlbXB0eSBhc3NpZ25tZW50cyBhcnJheXNcbiAgICBjb25zdCB1c2VycyA9IEFycmF5LmZyb20odGhpcy51c2Vycy52YWx1ZXMoKSk7XG4gICAgcmV0dXJuIHVzZXJzLm1hcCh1c2VyID0+ICh7XG4gICAgICAuLi51c2VyLFxuICAgICAgb3JnYW5pemF0aW9uczogW10sXG4gICAgICBidWlsZGluZ3M6IFtdLFxuICAgICAgcmVzaWRlbmNlczogW11cbiAgICB9KSk7XG4gIH1cblxuICBhc3luYyBnZXRVc2Vyc0J5T3JnYW5pemF0aW9ucyhfdXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPFVzZXJbXT4ge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIGFzeW5jIGdldFVzZXIoaWQ6IHN0cmluZyk6IFByb21pc2U8VXNlciB8IHVuZGVmaW5lZD4ge1xuICAgIHJldHVybiB0aGlzLnVzZXJzLmdldChpZCk7XG4gIH1cblxuICBhc3luYyBnZXRVc2VyT3JnYW5pemF0aW9ucyhfdXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPEFycmF5PHsgb3JnYW5pemF0aW9uSWQ6IHN0cmluZyB9Pj4ge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIGFzeW5jIGdldFVzZXJSZXNpZGVuY2VzKF91c2VySWQ6IHN0cmluZyk6IFByb21pc2U8QXJyYXk8eyByZXNpZGVuY2VJZDogc3RyaW5nIH0+PiB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgYXN5bmMgZ2V0VXNlckJ5RW1haWwoZW1haWw6IHN0cmluZyk6IFByb21pc2U8VXNlciB8IHVuZGVmaW5lZD4ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMudXNlcnMudmFsdWVzKCkpLmZpbmQoKHVzZXIpID0+IHVzZXIuZW1haWwgPT09IGVtYWlsKTtcbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZVVzZXIoaW5zZXJ0VXNlcjogSW5zZXJ0VXNlcik6IFByb21pc2U8VXNlcj4ge1xuICAgIGNvbnN0IGlkID0gcmFuZG9tVVVJRCgpO1xuICAgIGNvbnN0IHVzZXI6IFVzZXIgPSB7XG4gICAgICAuLi5pbnNlcnRVc2VyLFxuICAgICAgaWQsXG4gICAgICBwaG9uZTogaW5zZXJ0VXNlci5waG9uZSB8fCBudWxsLFxuICAgICAgcHJvZmlsZUltYWdlOiBpbnNlcnRVc2VyLnByb2ZpbGVJbWFnZSB8fCAnJyxcbiAgICAgIHJvbGU6IGluc2VydFVzZXIucm9sZSB8fCAndGVuYW50JyxcbiAgICAgIGxhbmd1YWdlOiBpbnNlcnRVc2VyLmxhbmd1YWdlIHx8ICdmcicsXG4gICAgICBpc0FjdGl2ZTogdHJ1ZSxcbiAgICAgIGxhc3RMb2dpbkF0OiBudWxsLFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgIH07XG4gICAgdGhpcy51c2Vycy5zZXQoaWQsIHVzZXIpO1xuICAgIHJldHVybiB1c2VyO1xuICB9XG5cbiAgYXN5bmMgdXBkYXRlVXNlcihpZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPFVzZXI+KTogUHJvbWlzZTxVc2VyIHwgdW5kZWZpbmVkPiB7XG4gICAgY29uc3QgZXhpc3RpbmdVc2VyID0gdGhpcy51c2Vycy5nZXQoaWQpO1xuICAgIGlmICghZXhpc3RpbmdVc2VyKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGNvbnN0IHVwZGF0ZWRVc2VyID0ge1xuICAgICAgLi4uZXhpc3RpbmdVc2VyLFxuICAgICAgLi4udXBkYXRlcyxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICB9O1xuICAgIHRoaXMudXNlcnMuc2V0KGlkLCB1cGRhdGVkVXNlcik7XG4gICAgcmV0dXJuIHVwZGF0ZWRVc2VyO1xuICB9XG5cbiAgLy8gTWluaW1hbCBpbXBsZW1lbnRhdGlvbnMgZm9yIG90aGVyIHJlcXVpcmVkIG1ldGhvZHNcbiAgYXN5bmMgY3JlYXRlUGFzc3dvcmRSZXNldFRva2VuKF90b2tlbjogSW5zZXJ0UGFzc3dvcmRSZXNldFRva2VuKTogUHJvbWlzZTxQYXNzd29yZFJlc2V0VG9rZW4+IHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uX3Rva2VuLFxuICAgICAgaWQ6IHJhbmRvbVVVSUQoKSxcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIHVzZWRBdDogbnVsbCxcbiAgICAgIGlzVXNlZDogZmFsc2UsXG4gICAgICBpcEFkZHJlc3M6IF90b2tlbi5pcEFkZHJlc3MgfHwgJycsXG4gICAgICB1c2VyQWdlbnQ6IF90b2tlbi51c2VyQWdlbnQgfHwgJycsXG4gICAgfTtcbiAgfVxuICBhc3luYyBnZXRQYXNzd29yZFJlc2V0VG9rZW4oX3Rva2VuOiBzdHJpbmcpOiBQcm9taXNlPFBhc3N3b3JkUmVzZXRUb2tlbiB8IHVuZGVmaW5lZD4ge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgYXN5bmMgbWFya1Bhc3N3b3JkUmVzZXRUb2tlbkFzVXNlZChfdG9rZW5JZDogc3RyaW5nKTogUHJvbWlzZTxQYXNzd29yZFJlc2V0VG9rZW4gfCB1bmRlZmluZWQ+IHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIGFzeW5jIGNsZWFudXBFeHBpcmVkUGFzc3dvcmRSZXNldFRva2VucygpOiBQcm9taXNlPG51bWJlcj4ge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgYXN5bmMgZ2V0T3JnYW5pemF0aW9ucygpOiBQcm9taXNlPE9yZ2FuaXphdGlvbltdPiB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5vcmdhbml6YXRpb25zLnZhbHVlcygpKTtcbiAgfVxuICBhc3luYyBnZXRPcmdhbml6YXRpb24oaWQ6IHN0cmluZyk6IFByb21pc2U8T3JnYW5pemF0aW9uIHwgdW5kZWZpbmVkPiB7XG4gICAgcmV0dXJuIHRoaXMub3JnYW5pemF0aW9ucy5nZXQoaWQpO1xuICB9XG4gIGFzeW5jIGdldE9yZ2FuaXphdGlvbkJ5TmFtZShuYW1lOiBzdHJpbmcpOiBQcm9taXNlPE9yZ2FuaXphdGlvbiB8IHVuZGVmaW5lZD4ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMub3JnYW5pemF0aW9ucy52YWx1ZXMoKSkuZmluZCgob3JnKSA9PiBvcmcubmFtZSA9PT0gbmFtZSk7XG4gIH1cbiAgYXN5bmMgY3JlYXRlT3JnYW5pemF0aW9uKG9yZzogSW5zZXJ0T3JnYW5pemF0aW9uKTogUHJvbWlzZTxPcmdhbml6YXRpb24+IHtcbiAgICBjb25zdCBpZCA9IHJhbmRvbVVVSUQoKTtcbiAgICBjb25zdCBvcmdhbml6YXRpb246IE9yZ2FuaXphdGlvbiA9IHtcbiAgICAgIC4uLm9yZyxcbiAgICAgIGlkLFxuICAgICAgcGhvbmU6IG9yZy5waG9uZSB8fCAnJyxcbiAgICAgIGVtYWlsOiBvcmcuZW1haWwgfHwgJycsXG4gICAgICB3ZWJzaXRlOiBvcmcud2Vic2l0ZSB8fCAnJyxcbiAgICAgIHJlZ2lzdHJhdGlvbk51bWJlcjogb3JnLnJlZ2lzdHJhdGlvbk51bWJlciB8fCAnJyxcbiAgICAgIGlzQWN0aXZlOiB0cnVlLFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgIH07XG4gICAgdGhpcy5vcmdhbml6YXRpb25zLnNldChpZCwgb3JnYW5pemF0aW9uKTtcbiAgICByZXR1cm4gb3JnYW5pemF0aW9uO1xuICB9XG4gIGFzeW5jIHVwZGF0ZU9yZ2FuaXphdGlvbihcbiAgICBpZDogc3RyaW5nLFxuICAgIHVwZGF0ZXM6IFBhcnRpYWw8T3JnYW5pemF0aW9uPlxuICApOiBQcm9taXNlPE9yZ2FuaXphdGlvbiB8IHVuZGVmaW5lZD4ge1xuICAgIGNvbnN0IGV4aXN0aW5nID0gdGhpcy5vcmdhbml6YXRpb25zLmdldChpZCk7XG4gICAgaWYgKCFleGlzdGluZykgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBjb25zdCB1cGRhdGVkID0geyAuLi5leGlzdGluZywgLi4udXBkYXRlcywgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpIH07XG4gICAgdGhpcy5vcmdhbml6YXRpb25zLnNldChpZCwgdXBkYXRlZCk7XG4gICAgcmV0dXJuIHVwZGF0ZWQ7XG4gIH1cbiAgYXN5bmMgZ2V0QnVpbGRpbmdzQnlPcmdhbml6YXRpb24ob3JnSWQ6IHN0cmluZyk6IFByb21pc2U8QnVpbGRpbmdbXT4ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuYnVpbGRpbmdzLnZhbHVlcygpKS5maWx0ZXIoKGIpID0+IGIub3JnYW5pemF0aW9uSWQgPT09IG9yZ0lkKTtcbiAgfVxuXG4gIGFzeW5jIGdldEJ1aWxkaW5ncygpOiBQcm9taXNlPEJ1aWxkaW5nW10+IHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmJ1aWxkaW5ncy52YWx1ZXMoKSk7XG4gIH1cbiAgYXN5bmMgZ2V0QnVpbGRpbmcoaWQ6IHN0cmluZyk6IFByb21pc2U8QnVpbGRpbmcgfCB1bmRlZmluZWQ+IHtcbiAgICByZXR1cm4gdGhpcy5idWlsZGluZ3MuZ2V0KGlkKTtcbiAgfVxuICBhc3luYyBjcmVhdGVCdWlsZGluZyhidWlsZGluZzogSW5zZXJ0QnVpbGRpbmcpOiBQcm9taXNlPEJ1aWxkaW5nPiB7XG4gICAgY29uc3QgaWQgPSByYW5kb21VVUlEKCk7XG4gICAgY29uc3QgbmV3QnVpbGRpbmc6IEJ1aWxkaW5nID0ge1xuICAgICAgLi4uYnVpbGRpbmcsXG4gICAgICBpZCxcbiAgICAgIGlzQWN0aXZlOiB0cnVlLFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgdG90YWxVbml0czogYnVpbGRpbmcudG90YWxVbml0cyB8fCAwLFxuICAgICAgdG90YWxGbG9vcnM6IGJ1aWxkaW5nLnRvdGFsRmxvb3JzIHx8IDAsXG4gICAgICB5ZWFyQnVpbHQ6IGJ1aWxkaW5nLnllYXJCdWlsdCB8fCAwLFxuICAgICAgYnVpbGRpbmdUeXBlOiBidWlsZGluZy5idWlsZGluZ1R5cGUgYXMgJ2FwYXJ0bWVudCcgfCAnY29uZG8nIHwgJ3JlbnRhbCcsXG4gICAgICBiYW5rQWNjb3VudE51bWJlcjogYnVpbGRpbmcuYmFua0FjY291bnROdW1iZXIgfHwgJycsXG4gICAgICBiYW5rQWNjb3VudE1pbmltdW1zOiBidWlsZGluZy5iYW5rQWNjb3VudE1pbmltdW1zID8gSlNPTi5zdHJpbmdpZnkoYnVpbGRpbmcuYmFua0FjY291bnRNaW5pbXVtcykgOiAnJyxcbiAgICAgIGJhbmtBY2NvdW50VXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgaW5mbGF0aW9uU2V0dGluZ3M6ICcnLFxuICAgICAgcGFya2luZ1NwYWNlczogYnVpbGRpbmcucGFya2luZ1NwYWNlcyB8fCAwLFxuICAgICAgc3RvcmFnZVNwYWNlczogYnVpbGRpbmcuc3RvcmFnZVNwYWNlcyB8fCAwLFxuICAgICAgYW1lbml0aWVzOiBidWlsZGluZy5hbWVuaXRpZXMgfHwgbnVsbCxcbiAgICAgIG1hbmFnZW1lbnRDb21wYW55OiBidWlsZGluZy5tYW5hZ2VtZW50Q29tcGFueSB8fCBudWxsLFxuICAgICAgYmFua0FjY291bnROb3RlczogbnVsbCxcbiAgICAgIGJhbmtBY2NvdW50U3RhcnREYXRlOiBudWxsLFxuICAgICAgYmFua0FjY291bnRTdGFydEFtb3VudDogbnVsbCxcbiAgICB9O1xuICAgIHRoaXMuYnVpbGRpbmdzLnNldChpZCwgbmV3QnVpbGRpbmcpO1xuICAgIHJldHVybiBuZXdCdWlsZGluZztcbiAgfVxuICBhc3luYyB1cGRhdGVCdWlsZGluZyhpZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPEJ1aWxkaW5nPik6IFByb21pc2U8QnVpbGRpbmcgfCB1bmRlZmluZWQ+IHtcbiAgICBjb25zdCBleGlzdGluZyA9IHRoaXMuYnVpbGRpbmdzLmdldChpZCk7XG4gICAgaWYgKCFleGlzdGluZykgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBjb25zdCB1cGRhdGVkID0geyAuLi5leGlzdGluZywgLi4udXBkYXRlcywgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpIH07XG4gICAgdGhpcy5idWlsZGluZ3Muc2V0KGlkLCB1cGRhdGVkKTtcbiAgICByZXR1cm4gdXBkYXRlZDtcbiAgfVxuICBhc3luYyBkZWxldGVCdWlsZGluZyhpZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgY29uc3QgYnVpbGRpbmcgPSB0aGlzLmJ1aWxkaW5ncy5nZXQoaWQpO1xuICAgIGlmICghYnVpbGRpbmcpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgXG4gICAgLy8gU29mdCBkZWxldGUgYnkgc2V0dGluZyBpc0FjdGl2ZSB0byBmYWxzZVxuICAgIGNvbnN0IHVwZGF0ZWRCdWlsZGluZyA9IHtcbiAgICAgIC4uLmJ1aWxkaW5nLFxuICAgICAgaXNBY3RpdmU6IGZhbHNlLFxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgIH07XG4gICAgXG4gICAgdGhpcy5idWlsZGluZ3Muc2V0KGlkLCB1cGRhdGVkQnVpbGRpbmcpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgYXN5bmMgZ2V0UmVzaWRlbmNlcygpOiBQcm9taXNlPFJlc2lkZW5jZVtdPiB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5yZXNpZGVuY2VzLnZhbHVlcygpKTtcbiAgfVxuICBhc3luYyBnZXRSZXNpZGVuY2UoaWQ6IHN0cmluZyk6IFByb21pc2U8UmVzaWRlbmNlIHwgdW5kZWZpbmVkPiB7XG4gICAgcmV0dXJuIHRoaXMucmVzaWRlbmNlcy5nZXQoaWQpO1xuICB9XG4gIGFzeW5jIGdldFJlc2lkZW5jZXNCeUJ1aWxkaW5nKGJ1aWxkaW5nSWQ6IHN0cmluZyk6IFByb21pc2U8UmVzaWRlbmNlW10+IHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnJlc2lkZW5jZXMudmFsdWVzKCkpLmZpbHRlcigocikgPT4gci5idWlsZGluZ0lkID09PSBidWlsZGluZ0lkKTtcbiAgfVxuICBhc3luYyBjcmVhdGVSZXNpZGVuY2UocmVzaWRlbmNlOiBJbnNlcnRSZXNpZGVuY2UpOiBQcm9taXNlPFJlc2lkZW5jZT4ge1xuICAgIGNvbnN0IGlkID0gcmFuZG9tVVVJRCgpO1xuICAgIGNvbnN0IG5ld1Jlc2lkZW5jZTogUmVzaWRlbmNlID0ge1xuICAgICAgLi4ucmVzaWRlbmNlLFxuICAgICAgaWQsXG4gICAgICBpc0FjdGl2ZTogdHJ1ZSxcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIGZsb29yOiByZXNpZGVuY2UuZmxvb3IgfHwgMCxcbiAgICAgIHNxdWFyZUZvb3RhZ2U6IHJlc2lkZW5jZS5zcXVhcmVGb290YWdlPy50b1N0cmluZygpIHx8ICcwJyxcbiAgICAgIGJlZHJvb21zOiByZXNpZGVuY2UuYmVkcm9vbXMgfHwgMCxcbiAgICAgIGJhdGhyb29tczogcmVzaWRlbmNlLmJhdGhyb29tcz8udG9TdHJpbmcoKSB8fCAnMCcsXG4gICAgICBiYWxjb255OiByZXNpZGVuY2UuYmFsY29ueSB8fCBmYWxzZSxcbiAgICAgIHBhcmtpbmdTcGFjZU51bWJlcnM6IHJlc2lkZW5jZS5wYXJraW5nU3BhY2VOdW1iZXJzIHx8IFtdLFxuICAgICAgc3RvcmFnZVNwYWNlTnVtYmVyczogcmVzaWRlbmNlLnN0b3JhZ2VTcGFjZU51bWJlcnMgfHwgW10sXG4gICAgICBvd25lcnNoaXBQZXJjZW50YWdlOiByZXNpZGVuY2Uub3duZXJzaGlwUGVyY2VudGFnZT8udG9TdHJpbmcoKSB8fCAnMCcsXG4gICAgICBtb250aGx5RmVlczogcmVzaWRlbmNlLm1vbnRobHlGZWVzPy50b1N0cmluZygpIHx8ICcwJyxcbiAgICB9O1xuICAgIHRoaXMucmVzaWRlbmNlcy5zZXQoaWQsIG5ld1Jlc2lkZW5jZSk7XG4gICAgcmV0dXJuIG5ld1Jlc2lkZW5jZTtcbiAgfVxuICBhc3luYyB1cGRhdGVSZXNpZGVuY2UoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxSZXNpZGVuY2U+KTogUHJvbWlzZTxSZXNpZGVuY2UgfCB1bmRlZmluZWQ+IHtcbiAgICBjb25zdCBleGlzdGluZyA9IHRoaXMucmVzaWRlbmNlcy5nZXQoaWQpO1xuICAgIGlmICghZXhpc3RpbmcpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgY29uc3QgdXBkYXRlZCA9IHsgLi4uZXhpc3RpbmcsIC4uLnVwZGF0ZXMsIHVwZGF0ZWRBdDogbmV3IERhdGUoKSB9O1xuICAgIHRoaXMucmVzaWRlbmNlcy5zZXQoaWQsIHVwZGF0ZWQpO1xuICAgIHJldHVybiB1cGRhdGVkO1xuICB9XG4gIGFzeW5jIGRlbGV0ZVJlc2lkZW5jZShpZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgcmV0dXJuIHRoaXMucmVzaWRlbmNlcy5kZWxldGUoaWQpO1xuICB9XG5cbiAgYXN5bmMgZ2V0Q29udGFjdHMoKTogUHJvbWlzZTxDb250YWN0W10+IHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgYXN5bmMgZ2V0Q29udGFjdHNCeUVudGl0eSgpOiBQcm9taXNlPENvbnRhY3RbXT4ge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBhc3luYyBnZXRDb250YWN0c0ZvclJlc2lkZW5jZSgpOiBQcm9taXNlPEFycmF5PENvbnRhY3QgJiB7IHVzZXI6IFVzZXIgfT4+IHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgYXN5bmMgY3JlYXRlQ29udGFjdChjb250YWN0OiBJbnNlcnRDb250YWN0KTogUHJvbWlzZTxDb250YWN0PiB7XG4gICAgY29uc3QgaWQgPSByYW5kb21VVUlEKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmNvbnRhY3QsXG4gICAgICBpZCxcbiAgICAgIG5hbWU6IGNvbnRhY3QubmFtZSxcbiAgICAgIGVtYWlsOiBjb250YWN0LmVtYWlsIHx8ICcnLFxuICAgICAgcGhvbmU6IGNvbnRhY3QucGhvbmUgfHwgJycsXG4gICAgICBlbnRpdHk6IGNvbnRhY3QuZW50aXR5IGFzICdvcmdhbml6YXRpb24nIHwgJ2J1aWxkaW5nJyB8ICdyZXNpZGVuY2UnLFxuICAgICAgZW50aXR5SWQ6IGNvbnRhY3QuZW50aXR5SWQsXG4gICAgICBjb250YWN0Q2F0ZWdvcnk6IGNvbnRhY3QuY29udGFjdENhdGVnb3J5IGFzICdyZXNpZGVudCcgfCAnbWFuYWdlcicgfCAndGVuYW50JyB8ICdtYWludGVuYW5jZScgfCAnZW1lcmdlbmN5JyB8ICdvdGhlcicsXG4gICAgICBpc0FjdGl2ZTogdHJ1ZSxcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICB9O1xuICB9XG4gIGFzeW5jIHVwZGF0ZUNvbnRhY3QoKTogUHJvbWlzZTxDb250YWN0IHwgdW5kZWZpbmVkPiB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICBhc3luYyBkZWxldGVDb250YWN0KCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGFzeW5jIGdldERvY3VtZW50cyhfZmlsdGVycz86IHtcbiAgICBidWlsZGluZ0lkPzogc3RyaW5nO1xuICAgIHJlc2lkZW5jZUlkPzogc3RyaW5nO1xuICAgIGRvY3VtZW50VHlwZT86IHN0cmluZztcbiAgICB1c2VySWQ/OiBzdHJpbmc7XG4gICAgdXNlclJvbGU/OiBzdHJpbmc7XG4gIH0pOiBQcm9taXNlPERvY3VtZW50W10+IHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICBhc3luYyBnZXREb2N1bWVudChfaWQ6IHN0cmluZyk6IFByb21pc2U8RG9jdW1lbnQgfCB1bmRlZmluZWQ+IHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgYXN5bmMgY3JlYXRlRG9jdW1lbnQoZG9jOiBJbnNlcnREb2N1bWVudCk6IFByb21pc2U8RG9jdW1lbnQ+IHtcbiAgICBjb25zdCBpZCA9IHJhbmRvbVVVSUQoKTtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uZG9jLFxuICAgICAgaWQsXG4gICAgICBkZXNjcmlwdGlvbjogZG9jLmRlc2NyaXB0aW9uIHx8ICcnLFxuICAgICAgYnVpbGRpbmdJZDogZG9jLmJ1aWxkaW5nSWQgfHwgJycsXG4gICAgICByZXNpZGVuY2VJZDogZG9jLnJlc2lkZW5jZUlkIHx8ICcnLFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgIH07XG4gIH1cblxuICBhc3luYyB1cGRhdGVEb2N1bWVudChfaWQ6IHN0cmluZywgX3VwZGF0ZXM6IFBhcnRpYWw8RG9jdW1lbnQ+KTogUHJvbWlzZTxEb2N1bWVudCB8IHVuZGVmaW5lZD4ge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBhc3luYyBkZWxldGVEb2N1bWVudChfaWQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGFzeW5jIGdldFBlcm1pc3Npb25zKCk6IFByb21pc2U8UGVybWlzc2lvbltdPiB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGFzeW5jIGdldFJvbGVQZXJtaXNzaW9ucygpOiBQcm9taXNlPFJvbGVQZXJtaXNzaW9uW10+IHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgYXN5bmMgZ2V0VXNlclBlcm1pc3Npb25zKCk6IFByb21pc2U8VXNlclBlcm1pc3Npb25bXT4ge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIGFzeW5jIGdldFBpbGxhcnMoKTogUHJvbWlzZTxQaWxsYXJbXT4ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMucGlsbGFycy52YWx1ZXMoKSkuc29ydCgoYSwgYikgPT4gcGFyc2VJbnQoYS5vcmRlcikgLSBwYXJzZUludChiLm9yZGVyKSk7XG4gIH1cbiAgYXN5bmMgZ2V0UGlsbGFyKGlkOiBzdHJpbmcpOiBQcm9taXNlPFBpbGxhciB8IHVuZGVmaW5lZD4ge1xuICAgIHJldHVybiB0aGlzLnBpbGxhcnMuZ2V0KGlkKTtcbiAgfVxuICBhc3luYyBjcmVhdGVQaWxsYXIocGlsbGFyOiBJbnNlcnRQaWxsYXIpOiBQcm9taXNlPFBpbGxhcj4ge1xuICAgIGNvbnN0IGlkID0gcmFuZG9tVVVJRCgpO1xuICAgIGNvbnN0IG5ld1BpbGxhcjogUGlsbGFyID0ge1xuICAgICAgLi4ucGlsbGFyLFxuICAgICAgaWQsXG4gICAgICBuYW1lOiBwaWxsYXIubmFtZSxcbiAgICAgIGRlc2NyaXB0aW9uOiBwaWxsYXIuZGVzY3JpcHRpb24gfHwgJycsXG4gICAgICBzdGF0dXM6IHBpbGxhci5zdGF0dXMgfHwgJ3BlbmRpbmcnLFxuICAgICAgb3JkZXI6IHBpbGxhci5vcmRlci50b1N0cmluZygpLFxuICAgICAgY29uZmlndXJhdGlvbjogcGlsbGFyLmNvbmZpZ3VyYXRpb24gfHwgbnVsbCxcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICB9O1xuICAgIHRoaXMucGlsbGFycy5zZXQoaWQsIG5ld1BpbGxhcik7XG4gICAgcmV0dXJuIG5ld1BpbGxhcjtcbiAgfVxuICBhc3luYyB1cGRhdGVQaWxsYXIoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxQaWxsYXI+KTogUHJvbWlzZTxQaWxsYXIgfCB1bmRlZmluZWQ+IHtcbiAgICBjb25zdCBleGlzdGluZyA9IHRoaXMucGlsbGFycy5nZXQoaWQpO1xuICAgIGlmICghZXhpc3RpbmcpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgY29uc3QgdXBkYXRlZCA9IHsgLi4uZXhpc3RpbmcsIC4uLnVwZGF0ZXMsIHVwZGF0ZWRBdDogbmV3IERhdGUoKSB9O1xuICAgIHRoaXMucGlsbGFycy5zZXQoaWQsIHVwZGF0ZWQpO1xuICAgIHJldHVybiB1cGRhdGVkO1xuICB9XG5cbiAgYXN5bmMgZ2V0V29ya3NwYWNlU3RhdHVzZXMoKTogUHJvbWlzZTxXb3Jrc3BhY2VTdGF0dXNbXT4ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMud29ya3NwYWNlU3RhdHVzZXMudmFsdWVzKCkpO1xuICB9XG4gIGFzeW5jIGdldFdvcmtzcGFjZVN0YXR1cyhjb21wb25lbnQ6IHN0cmluZyk6IFByb21pc2U8V29ya3NwYWNlU3RhdHVzIHwgdW5kZWZpbmVkPiB7XG4gICAgcmV0dXJuIHRoaXMud29ya3NwYWNlU3RhdHVzZXMuZ2V0KGNvbXBvbmVudCk7XG4gIH1cbiAgYXN5bmMgY3JlYXRlV29ya3NwYWNlU3RhdHVzKHN0YXR1czogSW5zZXJ0V29ya3NwYWNlU3RhdHVzKTogUHJvbWlzZTxXb3Jrc3BhY2VTdGF0dXM+IHtcbiAgICBjb25zdCBpZCA9IHJhbmRvbVVVSUQoKTtcbiAgICBjb25zdCBuZXdTdGF0dXM6IFdvcmtzcGFjZVN0YXR1cyA9IHtcbiAgICAgIC4uLnN0YXR1cyxcbiAgICAgIGlkLFxuICAgICAgc3RhdHVzOiBzdGF0dXMuc3RhdHVzLFxuICAgICAgY29tcG9uZW50OiBzdGF0dXMuY29tcG9uZW50LFxuICAgICAgbGFzdFVwZGF0ZWQ6IG5ldyBEYXRlKCksXG4gICAgfTtcbiAgICB0aGlzLndvcmtzcGFjZVN0YXR1c2VzLnNldChzdGF0dXMuY29tcG9uZW50LCBuZXdTdGF0dXMpO1xuICAgIHJldHVybiBuZXdTdGF0dXM7XG4gIH1cbiAgYXN5bmMgdXBkYXRlV29ya3NwYWNlU3RhdHVzKFxuICAgIGNvbXBvbmVudDogc3RyaW5nLFxuICAgIHVwZGF0ZXM6IFBhcnRpYWw8V29ya3NwYWNlU3RhdHVzPlxuICApOiBQcm9taXNlPFdvcmtzcGFjZVN0YXR1cyB8IHVuZGVmaW5lZD4ge1xuICAgIGNvbnN0IGV4aXN0aW5nID0gdGhpcy53b3Jrc3BhY2VTdGF0dXNlcy5nZXQoY29tcG9uZW50KTtcbiAgICBpZiAoIWV4aXN0aW5nKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIGNvbnN0IHVwZGF0ZWQgPSB7IC4uLmV4aXN0aW5nLCAuLi51cGRhdGVzLCB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkgfTtcbiAgICB0aGlzLndvcmtzcGFjZVN0YXR1c2VzLnNldChjb21wb25lbnQsIHVwZGF0ZWQpO1xuICAgIHJldHVybiB1cGRhdGVkO1xuICB9XG5cbiAgYXN5bmMgZ2V0UXVhbGl0eU1ldHJpY3MoKTogUHJvbWlzZTxRdWFsaXR5TWV0cmljW10+IHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnF1YWxpdHlNZXRyaWNzLnZhbHVlcygpKTtcbiAgfVxuICBhc3luYyBjcmVhdGVRdWFsaXR5TWV0cmljKG1ldHJpYzogSW5zZXJ0UXVhbGl0eU1ldHJpYyk6IFByb21pc2U8UXVhbGl0eU1ldHJpYz4ge1xuICAgIGNvbnN0IGlkID0gcmFuZG9tVVVJRCgpO1xuICAgIGNvbnN0IG5ld01ldHJpYzogUXVhbGl0eU1ldHJpYyA9IHtcbiAgICAgIC4uLm1ldHJpYyxcbiAgICAgIGlkLFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgIH07XG4gICAgdGhpcy5xdWFsaXR5TWV0cmljcy5zZXQoaWQsIG5ld01ldHJpYyk7XG4gICAgcmV0dXJuIG5ld01ldHJpYztcbiAgfVxuXG4gIGFzeW5jIGdldEZyYW1ld29ya0NvbmZpZ3VyYXRpb25zKCk6IFByb21pc2U8RnJhbWV3b3JrQ29uZmlndXJhdGlvbltdPiB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5mcmFtZXdvcmtDb25maWdzLnZhbHVlcygpKTtcbiAgfVxuICBhc3luYyBjcmVhdGVGcmFtZXdvcmtDb25maWd1cmF0aW9uKFxuICAgIGNvbmZpZzogSW5zZXJ0RnJhbWV3b3JrQ29uZmlndXJhdGlvblxuICApOiBQcm9taXNlPEZyYW1ld29ya0NvbmZpZ3VyYXRpb24+IHtcbiAgICBjb25zdCBpZCA9IHJhbmRvbVVVSUQoKTtcbiAgICBjb25zdCBuZXdDb25maWc6IEZyYW1ld29ya0NvbmZpZ3VyYXRpb24gPSB7XG4gICAgICAuLi5jb25maWcsXG4gICAgICBpZCxcbiAgICAgIGRlc2NyaXB0aW9uOiBjb25maWcuZGVzY3JpcHRpb24gfHwgJycsXG4gICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgfTtcbiAgICB0aGlzLmZyYW1ld29ya0NvbmZpZ3Muc2V0KGNvbmZpZy5fa2V5LCBuZXdDb25maWcpO1xuICAgIHJldHVybiBuZXdDb25maWc7XG4gIH1cbiAgYXN5bmMgdXBkYXRlRnJhbWV3b3JrQ29uZmlndXJhdGlvbihcbiAgICBrZXk6IHN0cmluZyxcbiAgICB1cGRhdGVzOiBQYXJ0aWFsPEZyYW1ld29ya0NvbmZpZ3VyYXRpb24+XG4gICk6IFByb21pc2U8RnJhbWV3b3JrQ29uZmlndXJhdGlvbiB8IHVuZGVmaW5lZD4ge1xuICAgIGNvbnN0IGV4aXN0aW5nID0gdGhpcy5mcmFtZXdvcmtDb25maWdzLmdldChrZXkpO1xuICAgIGlmICghZXhpc3RpbmcpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgY29uc3QgdXBkYXRlZCA9IHsgLi4uZXhpc3RpbmcsIC4uLnVwZGF0ZXMsIHVwZGF0ZWRBdDogbmV3IERhdGUoKSB9O1xuICAgIHRoaXMuZnJhbWV3b3JrQ29uZmlncy5zZXQoa2V5LCB1cGRhdGVkKTtcbiAgICByZXR1cm4gdXBkYXRlZDtcbiAgfVxuXG4gIGFzeW5jIGdldEltcHJvdmVtZW50U3VnZ2VzdGlvbnMoKTogUHJvbWlzZTxJbXByb3ZlbWVudFN1Z2dlc3Rpb25bXT4ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuaW1wcm92ZW1lbnRTdWdnZXN0aW9ucy52YWx1ZXMoKSk7XG4gIH1cbiAgYXN5bmMgY3JlYXRlSW1wcm92ZW1lbnRTdWdnZXN0aW9uKFxuICAgIHN1Z2dlc3Rpb246IEluc2VydEltcHJvdmVtZW50U3VnZ2VzdGlvblxuICApOiBQcm9taXNlPEltcHJvdmVtZW50U3VnZ2VzdGlvbj4ge1xuICAgIGNvbnN0IGlkID0gcmFuZG9tVVVJRCgpO1xuICAgIGNvbnN0IG5ld1N1Z2dlc3Rpb246IEltcHJvdmVtZW50U3VnZ2VzdGlvbiA9IHtcbiAgICAgIC4uLnN1Z2dlc3Rpb24sXG4gICAgICBpZCxcbiAgICAgIGZpbGVQYXRoOiBzdWdnZXN0aW9uLmZpbGVQYXRoIHx8IG51bGwsXG4gICAgICBzdGF0dXM6IHN1Z2dlc3Rpb24uc3RhdHVzIGFzICdOZXcnIHwgJ0Fja25vd2xlZGdlZCcgfCAnRG9uZScsXG4gICAgICBjYXRlZ29yeTogc3VnZ2VzdGlvbi5jYXRlZ29yeSBhcyAnQ29kZSBRdWFsaXR5JyB8ICdTZWN1cml0eScgfCAnVGVzdGluZycgfCAnRG9jdW1lbnRhdGlvbicgfCAnUGVyZm9ybWFuY2UnIHwgJ0NvbnRpbnVvdXMgSW1wcm92ZW1lbnQnIHwgJ1JlcGxpdCBBSSBBZ2VudCBNb25pdG9yaW5nJyB8ICdSZXBsaXQgQXBwJyxcbiAgICAgIHByaW9yaXR5OiAoc3VnZ2VzdGlvbi5wcmlvcml0eSBhcyAnTG93JyB8ICdNZWRpdW0nIHwgJ0hpZ2gnIHwgJ0NyaXRpY2FsJykgfHwgJ01lZGl1bScsXG4gICAgICBhc3NpZ25lZFRvOiBzdWdnZXN0aW9uLmFzc2lnbmVkVG8gfHwgbnVsbCxcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIGFja25vd2xlZGdlZEF0OiBudWxsLFxuICAgICAgY29tcGxldGVkQXQ6IG51bGwsXG4gICAgfTtcbiAgICB0aGlzLmltcHJvdmVtZW50U3VnZ2VzdGlvbnMuc2V0KGlkLCBuZXdTdWdnZXN0aW9uKTtcbiAgICByZXR1cm4gbmV3U3VnZ2VzdGlvbjtcbiAgfVxuICBhc3luYyB1cGRhdGVJbXByb3ZlbWVudFN1Z2dlc3Rpb24oXG4gICAgaWQ6IHN0cmluZyxcbiAgICB1cGRhdGVzOiBQYXJ0aWFsPEltcHJvdmVtZW50U3VnZ2VzdGlvbj5cbiAgKTogUHJvbWlzZTxJbXByb3ZlbWVudFN1Z2dlc3Rpb24gfCB1bmRlZmluZWQ+IHtcbiAgICBjb25zdCBleGlzdGluZyA9IHRoaXMuaW1wcm92ZW1lbnRTdWdnZXN0aW9ucy5nZXQoaWQpO1xuICAgIGlmICghZXhpc3RpbmcpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgY29uc3QgdXBkYXRlZCA9IHsgLi4uZXhpc3RpbmcsIC4uLnVwZGF0ZXMsIHVwZGF0ZWRBdDogbmV3IERhdGUoKSB9O1xuICAgIHRoaXMuaW1wcm92ZW1lbnRTdWdnZXN0aW9ucy5zZXQoaWQsIHVwZGF0ZWQpO1xuICAgIHJldHVybiB1cGRhdGVkO1xuICB9XG5cbiAgYXN5bmMgZ2V0VG9wSW1wcm92ZW1lbnRTdWdnZXN0aW9ucyhsaW1pdDogbnVtYmVyKTogUHJvbWlzZTxJbXByb3ZlbWVudFN1Z2dlc3Rpb25bXT4ge1xuICAgIGNvbnN0IHN1Z2dlc3Rpb25zID0gQXJyYXkuZnJvbSh0aGlzLmltcHJvdmVtZW50U3VnZ2VzdGlvbnMudmFsdWVzKCkpO1xuICAgIC8vIFNvcnQgYnkgcHJpb3JpdHkgKENyaXRpY2FsID4gSGlnaCA+IE1lZGl1bSA+IExvdykgdGhlbiBieSBjcmVhdGlvbiBkYXRlXG4gICAgY29uc3QgcHJpb3JpdHlPcmRlcjogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSA9IHsgJ0NyaXRpY2FsJzogMCwgJ0hpZ2gnOiAxLCAnTWVkaXVtJzogMiwgJ0xvdyc6IDMgfTtcbiAgICByZXR1cm4gc3VnZ2VzdGlvbnNcbiAgICAgIC5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgIGNvbnN0IHByaW9yaXR5QSA9IHByaW9yaXR5T3JkZXJbYS5wcmlvcml0eV0gPz8gOTk5O1xuICAgICAgICBjb25zdCBwcmlvcml0eUIgPSBwcmlvcml0eU9yZGVyW2IucHJpb3JpdHldID8/IDk5OTtcbiAgICAgICAgY29uc3QgcHJpb3JpdHlEaWZmID0gcHJpb3JpdHlBIC0gcHJpb3JpdHlCO1xuICAgICAgICBpZiAocHJpb3JpdHlEaWZmICE9PSAwKSByZXR1cm4gcHJpb3JpdHlEaWZmO1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoYS5jcmVhdGVkQXQpLmdldFRpbWUoKSAtIG5ldyBEYXRlKGIuY3JlYXRlZEF0KS5nZXRUaW1lKCk7XG4gICAgICB9KVxuICAgICAgLnNsaWNlKDAsIGxpbWl0KTtcbiAgfVxuXG4gIGFzeW5jIGNsZWFyTmV3U3VnZ2VzdGlvbnMoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgZm9yIChjb25zdCBbaWQsIHN1Z2dlc3Rpb25dIG9mIHRoaXMuaW1wcm92ZW1lbnRTdWdnZXN0aW9ucy5lbnRyaWVzKCkpIHtcbiAgICAgIGlmIChzdWdnZXN0aW9uLnN0YXR1cyA9PT0gJ05ldycpIHtcbiAgICAgICAgdGhpcy5pbXByb3ZlbWVudFN1Z2dlc3Rpb25zLmRlbGV0ZShpZCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgdXBkYXRlU3VnZ2VzdGlvblN0YXR1cyhcbiAgICBpZDogc3RyaW5nLFxuICAgIHN0YXR1czogJ05ldycgfCAnQWNrbm93bGVkZ2VkJyB8ICdEb25lJ1xuICApOiBQcm9taXNlPEltcHJvdmVtZW50U3VnZ2VzdGlvbiB8IHVuZGVmaW5lZD4ge1xuICAgIGNvbnN0IHN1Z2dlc3Rpb24gPSB0aGlzLmltcHJvdmVtZW50U3VnZ2VzdGlvbnMuZ2V0KGlkKTtcbiAgICBpZiAoIXN1Z2dlc3Rpb24pIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgICBjb25zdCB1cGRhdGVkU3VnZ2VzdGlvbiA9IHtcbiAgICAgIC4uLnN1Z2dlc3Rpb24sXG4gICAgICBzdGF0dXMsXG4gICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgfTtcbiAgICB0aGlzLmltcHJvdmVtZW50U3VnZ2VzdGlvbnMuc2V0KGlkLCB1cGRhdGVkU3VnZ2VzdGlvbik7XG4gICAgcmV0dXJuIHVwZGF0ZWRTdWdnZXN0aW9uO1xuICB9XG5cbiAgYXN5bmMgZ2V0RmVhdHVyZXMoKTogUHJvbWlzZTxGZWF0dXJlW10+IHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmZlYXR1cmVzLnZhbHVlcygpKTtcbiAgfVxuICBhc3luYyBnZXRGZWF0dXJlKGlkOiBzdHJpbmcpOiBQcm9taXNlPEZlYXR1cmUgfCB1bmRlZmluZWQ+IHtcbiAgICByZXR1cm4gdGhpcy5mZWF0dXJlcy5nZXQoaWQpO1xuICB9XG4gIGFzeW5jIGNyZWF0ZUZlYXR1cmUoZmVhdHVyZTogSW5zZXJ0RmVhdHVyZSk6IFByb21pc2U8RmVhdHVyZT4ge1xuICAgIGNvbnN0IGlkID0gcmFuZG9tVVVJRCgpO1xuICAgIGNvbnN0IG5ld0ZlYXR1cmU6IEZlYXR1cmUgPSB7XG4gICAgICAuLi5mZWF0dXJlLFxuICAgICAgaWQsXG4gICAgICBpc1B1YmxpY1JvYWRtYXA6IGZlYXR1cmUuaXNQdWJsaWNSb2FkbWFwID8/IHRydWUsXG4gICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICByZXF1ZXN0ZWRCeTogZmVhdHVyZS5yZXF1ZXN0ZWRCeSB8fCBudWxsLFxuICAgICAgYXNzaWduZWRUbzogZmVhdHVyZS5hc3NpZ25lZFRvIHx8IG51bGwsXG4gICAgICBlc3RpbWF0ZWRIb3VyczogZmVhdHVyZS5lc3RpbWF0ZWRIb3VycyB8fCAwLFxuICAgICAgYnVzaW5lc3NPYmplY3RpdmU6IGZlYXR1cmUuYnVzaW5lc3NPYmplY3RpdmUgfHwgJycsXG4gICAgICB0YXJnZXRVc2VyczogZmVhdHVyZS50YXJnZXRVc2VycyB8fCAnJyxcbiAgICAgIHN1Y2Nlc3NNZXRyaWNzOiBmZWF0dXJlLnN1Y2Nlc3NNZXRyaWNzIHx8ICcnLFxuICAgICAgdGVjaG5pY2FsQ29tcGxleGl0eTogZmVhdHVyZS50ZWNobmljYWxDb21wbGV4aXR5IHx8ICcnLFxuICAgICAgZGVwZW5kZW5jaWVzOiBmZWF0dXJlLmRlcGVuZGVuY2llcz8uam9pbignLCcpIHx8ICcnLFxuICAgICAgdXNlckZsb3c6IGZlYXR1cmUudXNlckZsb3cgfHwgJycsXG4gICAgICBhY3R1YWxIb3VyczogbnVsbCxcbiAgICAgIHN0YXJ0RGF0ZTogbnVsbCxcbiAgICAgIGNvbXBsZXRlZERhdGU6IG51bGwsXG4gICAgICB0YWdzOiBbXSxcbiAgICAgIG1ldGFkYXRhOiB7fSxcbiAgICAgIHN5bmNlZEF0OiBuZXcgRGF0ZSgpLFxuICAgIH07XG4gICAgdGhpcy5mZWF0dXJlcy5zZXQoaWQsIG5ld0ZlYXR1cmUpO1xuICAgIHJldHVybiBuZXdGZWF0dXJlO1xuICB9XG4gIGFzeW5jIHVwZGF0ZUZlYXR1cmUoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxGZWF0dXJlPik6IFByb21pc2U8RmVhdHVyZSB8IHVuZGVmaW5lZD4ge1xuICAgIGNvbnN0IGV4aXN0aW5nID0gdGhpcy5mZWF0dXJlcy5nZXQoaWQpO1xuICAgIGlmICghZXhpc3RpbmcpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgY29uc3QgdXBkYXRlZCA9IHsgLi4uZXhpc3RpbmcsIC4uLnVwZGF0ZXMsIHVwZGF0ZWRBdDogbmV3IERhdGUoKSB9O1xuICAgIHRoaXMuZmVhdHVyZXMuc2V0KGlkLCB1cGRhdGVkKTtcbiAgICByZXR1cm4gdXBkYXRlZDtcbiAgfVxuXG4gIGFzeW5jIGdldEZlYXR1cmVzQnlTdGF0dXMoXG4gICAgc3RhdHVzOiAnY29tcGxldGVkJyB8ICdpbi1wcm9ncmVzcycgfCAncGxhbm5lZCcgfCAnY2FuY2VsbGVkJyB8ICdyZXF1ZXN0ZWQnXG4gICk6IFByb21pc2U8RmVhdHVyZVtdPiB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5mZWF0dXJlcy52YWx1ZXMoKSkuZmlsdGVyKChmKSA9PiBmLnN0YXR1cyA9PT0gc3RhdHVzKTtcbiAgfVxuXG4gIGFzeW5jIGdldFB1YmxpY1JvYWRtYXBGZWF0dXJlcygpOiBQcm9taXNlPEZlYXR1cmVbXT4ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuZmVhdHVyZXMudmFsdWVzKCkpLmZpbHRlcigoZikgPT4gZi5pc1B1YmxpY1JvYWRtYXApO1xuICB9XG5cbiAgYXN5bmMgZ2V0QWN0aW9uYWJsZUl0ZW1zKCk6IFByb21pc2U8QWN0aW9uYWJsZUl0ZW1bXT4ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuYWN0aW9uYWJsZUl0ZW1zLnZhbHVlcygpKTtcbiAgfVxuICBhc3luYyBjcmVhdGVBY3Rpb25hYmxlSXRlbShpdGVtOiBJbnNlcnRBY3Rpb25hYmxlSXRlbSk6IFByb21pc2U8QWN0aW9uYWJsZUl0ZW0+IHtcbiAgICBjb25zdCBpZCA9IHJhbmRvbVVVSUQoKTtcbiAgICBjb25zdCBuZXdJdGVtOiBBY3Rpb25hYmxlSXRlbSA9IHtcbiAgICAgIC4uLml0ZW0sXG4gICAgICBpZCxcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIGVzdGltYXRlZEhvdXJzOiBpdGVtLmVzdGltYXRlZEhvdXJzIHx8IDAsXG4gICAgICBkZXBlbmRlbmNpZXM6IGl0ZW0uZGVwZW5kZW5jaWVzIHx8IFtdLFxuICAgICAgY29tcGxldGVkQXQ6IG51bGwsXG4gICAgICBzdGFydGVkQXQ6IG51bGwsXG4gICAgfTtcbiAgICB0aGlzLmFjdGlvbmFibGVJdGVtcy5zZXQoaWQsIG5ld0l0ZW0pO1xuICAgIHJldHVybiBuZXdJdGVtO1xuICB9XG4gIGFzeW5jIHVwZGF0ZUFjdGlvbmFibGVJdGVtKFxuICAgIGlkOiBzdHJpbmcsXG4gICAgdXBkYXRlczogUGFydGlhbDxBY3Rpb25hYmxlSXRlbT5cbiAgKTogUHJvbWlzZTxBY3Rpb25hYmxlSXRlbSB8IHVuZGVmaW5lZD4ge1xuICAgIGNvbnN0IGV4aXN0aW5nID0gdGhpcy5hY3Rpb25hYmxlSXRlbXMuZ2V0KGlkKTtcbiAgICBpZiAoIWV4aXN0aW5nKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIGNvbnN0IHVwZGF0ZWQgPSB7IC4uLmV4aXN0aW5nLCAuLi51cGRhdGVzLCB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkgfTtcbiAgICB0aGlzLmFjdGlvbmFibGVJdGVtcy5zZXQoaWQsIHVwZGF0ZWQpO1xuICAgIHJldHVybiB1cGRhdGVkO1xuICB9XG4gIGFzeW5jIGRlbGV0ZUFjdGlvbmFibGVJdGVtKGlkOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm4gdGhpcy5hY3Rpb25hYmxlSXRlbXMuZGVsZXRlKGlkKTtcbiAgfVxuXG4gIGFzeW5jIGdldEludml0YXRpb25zKCk6IFByb21pc2U8SW52aXRhdGlvbltdPiB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5pbnZpdGF0aW9ucy52YWx1ZXMoKSk7XG4gIH1cbiAgYXN5bmMgY3JlYXRlSW52aXRhdGlvbihpbnZpdGF0aW9uOiBJbnNlcnRJbnZpdGF0aW9uKTogUHJvbWlzZTxJbnZpdGF0aW9uPiB7XG4gICAgY29uc3QgaWQgPSByYW5kb21VVUlEKCk7XG4gICAgY29uc3QgbmV3SW52aXRhdGlvbjogSW52aXRhdGlvbiA9IHtcbiAgICAgIC4uLmludml0YXRpb24sXG4gICAgICBpZCxcbiAgICAgIHRva2VuOiByYW5kb21VVUlEKCksXG4gICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICBzdGF0dXM6ICdwZW5kaW5nJyxcbiAgICAgIGlwQWRkcmVzczogJycsXG4gICAgICB1c2VyQWdlbnQ6ICcnLFxuICAgICAgaXNVc2VkOiBmYWxzZSxcbiAgICAgIHVzZWRBdDogbnVsbCxcbiAgICAgIGNyZWF0ZWRCeVVzZXJJZDogaW52aXRhdGlvbi5pbnZpdGVkQnlVc2VySWQsXG4gICAgICBhY2NlcHRlZEJ5VXNlcklkOiBudWxsLFxuICAgICAgYWNjZXB0ZWRBdDogbnVsbCxcbiAgICAgIHJldm9rZWRBdDogbnVsbCxcbiAgICAgIHJldm9rZWRCeVVzZXJJZDogbnVsbCxcbiAgICAgIGxhc3RBY2Nlc3NlZEF0OiBudWxsLFxuICAgIH07XG4gICAgdGhpcy5pbnZpdGF0aW9ucy5zZXQoaWQsIG5ld0ludml0YXRpb24pO1xuICAgIHJldHVybiBuZXdJbnZpdGF0aW9uO1xuICB9XG4gIGFzeW5jIGdldEludml0YXRpb25CeVRva2VuKHRva2VuOiBzdHJpbmcpOiBQcm9taXNlPEludml0YXRpb24gfCB1bmRlZmluZWQ+IHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmludml0YXRpb25zLnZhbHVlcygpKS5maW5kKChpbnYpID0+IGludi50b2tlbiA9PT0gdG9rZW4pO1xuICB9XG4gIGFzeW5jIHVwZGF0ZUludml0YXRpb24oXG4gICAgaWQ6IHN0cmluZyxcbiAgICB1cGRhdGVzOiBQYXJ0aWFsPEludml0YXRpb24+XG4gICk6IFByb21pc2U8SW52aXRhdGlvbiB8IHVuZGVmaW5lZD4ge1xuICAgIGNvbnN0IGV4aXN0aW5nID0gdGhpcy5pbnZpdGF0aW9ucy5nZXQoaWQpO1xuICAgIGlmICghZXhpc3RpbmcpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgY29uc3QgdXBkYXRlZCA9IHsgLi4uZXhpc3RpbmcsIC4uLnVwZGF0ZXMsIHVwZGF0ZWRBdDogbmV3IERhdGUoKSB9O1xuICAgIHRoaXMuaW52aXRhdGlvbnMuc2V0KGlkLCB1cGRhdGVkKTtcbiAgICByZXR1cm4gdXBkYXRlZDtcbiAgfVxuXG4gIGFzeW5jIGdldEludml0YXRpb25BdWRpdExvZ3MoKTogUHJvbWlzZTxJbnZpdGF0aW9uQXVkaXRMb2dbXT4ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuaW52aXRhdGlvbkF1ZGl0TG9ncy52YWx1ZXMoKSk7XG4gIH1cbiAgYXN5bmMgY3JlYXRlSW52aXRhdGlvbkF1ZGl0TG9nKGxvZzogSW5zZXJ0SW52aXRhdGlvbkF1ZGl0TG9nKTogUHJvbWlzZTxJbnZpdGF0aW9uQXVkaXRMb2c+IHtcbiAgICBjb25zdCBpZCA9IHJhbmRvbVVVSUQoKTtcbiAgICBjb25zdCBuZXdMb2c6IEludml0YXRpb25BdWRpdExvZyA9IHsgXG4gICAgICAuLi5sb2csIFxuICAgICAgaWQsIFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgaXBBZGRyZXNzOiBsb2cuaXBBZGRyZXNzIHx8ICcnLFxuICAgICAgdXNlckFnZW50OiBsb2cudXNlckFnZW50IHx8ICcnLFxuICAgICAgZGV0YWlsczogbG9nLmRldGFpbHMgfHwge30sXG4gICAgICBwcmV2aW91c1N0YXR1czogbG9nLnByZXZpb3VzU3RhdHVzIHx8ICdwZW5kaW5nJyxcbiAgICAgIG5ld1N0YXR1czogbG9nLm5ld1N0YXR1cyB8fCAncGVuZGluZydcbiAgICB9O1xuICAgIHRoaXMuaW52aXRhdGlvbkF1ZGl0TG9ncy5zZXQoaWQsIG5ld0xvZyk7XG4gICAgcmV0dXJuIG5ld0xvZztcbiAgfVxuXG4gIGFzeW5jIGdldENvbW1lbnRzQnlEZW1hbmQoKTogUHJvbWlzZTxEZW1hbmRDb21tZW50W10+IHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgYXN5bmMgY3JlYXRlRGVtYW5kQ29tbWVudChjb21tZW50OiBJbnNlcnREZW1hbmRDb21tZW50KTogUHJvbWlzZTxEZW1hbmRDb21tZW50PiB7XG4gICAgY29uc3QgaWQgPSByYW5kb21VVUlEKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmNvbW1lbnQsXG4gICAgICBpZCxcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICB9O1xuICB9XG5cbiAgYXN5bmMgZ2V0QnVncygpOiBQcm9taXNlPEJ1Z1tdPiB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5idWdzLnZhbHVlcygpKTtcbiAgfVxuICBhc3luYyBnZXRCdWcoaWQ6IHN0cmluZyk6IFByb21pc2U8QnVnIHwgdW5kZWZpbmVkPiB7XG4gICAgcmV0dXJuIHRoaXMuYnVncy5nZXQoaWQpO1xuICB9XG4gIGFzeW5jIGNyZWF0ZUJ1ZyhidWc6IEluc2VydEJ1Zyk6IFByb21pc2U8QnVnPiB7XG4gICAgY29uc3QgaWQgPSByYW5kb21VVUlEKCk7XG4gICAgY29uc3QgbmV3QnVnOiBCdWcgPSB7XG4gICAgICAuLi5idWcsXG4gICAgICBpZCxcbiAgICAgIHN0YXR1czogJ25ldycsXG4gICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICByZXByb2R1Y3Rpb25TdGVwczogYnVnLnJlcHJvZHVjdGlvblN0ZXBzIHx8ICcnLFxuICAgICAgYXNzaWduZWRUbzogbnVsbCxcbiAgICAgIHJlc29sdmVkQXQ6IG51bGwsXG4gICAgICByZXNvbHZlZEJ5OiBudWxsLFxuICAgICAgbm90ZXM6IG51bGwsXG4gICAgICBlbnZpcm9ubWVudDogYnVnLmVudmlyb25tZW50IHx8ICcnLFxuICAgIH07XG4gICAgdGhpcy5idWdzLnNldChpZCwgbmV3QnVnKTtcbiAgICByZXR1cm4gbmV3QnVnO1xuICB9XG4gIGFzeW5jIHVwZGF0ZUJ1ZyhpZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPEJ1Zz4pOiBQcm9taXNlPEJ1ZyB8IHVuZGVmaW5lZD4ge1xuICAgIGNvbnN0IGV4aXN0aW5nID0gdGhpcy5idWdzLmdldChpZCk7XG4gICAgaWYgKCFleGlzdGluZykgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBjb25zdCB1cGRhdGVkID0geyAuLi5leGlzdGluZywgLi4udXBkYXRlcywgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpIH07XG4gICAgdGhpcy5idWdzLnNldChpZCwgdXBkYXRlZCk7XG4gICAgcmV0dXJuIHVwZGF0ZWQ7XG4gIH1cblxuICBhc3luYyBnZXRGZWF0dXJlUmVxdWVzdHMoKTogUHJvbWlzZTxGZWF0dXJlUmVxdWVzdFtdPiB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5mZWF0dXJlUmVxdWVzdHMudmFsdWVzKCkpO1xuICB9XG4gIGFzeW5jIGdldEZlYXR1cmVSZXF1ZXN0KGlkOiBzdHJpbmcpOiBQcm9taXNlPEZlYXR1cmVSZXF1ZXN0IHwgdW5kZWZpbmVkPiB7XG4gICAgcmV0dXJuIHRoaXMuZmVhdHVyZVJlcXVlc3RzLmdldChpZCk7XG4gIH1cbiAgYXN5bmMgY3JlYXRlRmVhdHVyZVJlcXVlc3QocmVxdWVzdDogSW5zZXJ0RmVhdHVyZVJlcXVlc3QpOiBQcm9taXNlPEZlYXR1cmVSZXF1ZXN0PiB7XG4gICAgY29uc3QgaWQgPSByYW5kb21VVUlEKCk7XG4gICAgY29uc3QgbmV3UmVxdWVzdDogRmVhdHVyZVJlcXVlc3QgPSB7XG4gICAgICAuLi5yZXF1ZXN0LFxuICAgICAgaWQsXG4gICAgICBzdGF0dXM6ICdzdWJtaXR0ZWQnLFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgdXB2b3RlQ291bnQ6IDAsXG4gICAgICBhc3NpZ25lZFRvOiBudWxsLFxuICAgICAgcmV2aWV3ZWRCeTogbnVsbCxcbiAgICAgIHJldmlld2VkQXQ6IG51bGwsXG4gICAgICBlc3RpbWF0ZWRIb3VyczogbnVsbCxcbiAgICAgIG1lcmdlZEludG9JZDogbnVsbCxcbiAgICB9O1xuICAgIHRoaXMuZmVhdHVyZVJlcXVlc3RzLnNldChpZCwgbmV3UmVxdWVzdCk7XG4gICAgcmV0dXJuIG5ld1JlcXVlc3Q7XG4gIH1cbiAgYXN5bmMgdXBkYXRlRmVhdHVyZVJlcXVlc3QoXG4gICAgaWQ6IHN0cmluZyxcbiAgICB1cGRhdGVzOiBQYXJ0aWFsPEZlYXR1cmVSZXF1ZXN0PlxuICApOiBQcm9taXNlPEZlYXR1cmVSZXF1ZXN0IHwgdW5kZWZpbmVkPiB7XG4gICAgY29uc3QgZXhpc3RpbmcgPSB0aGlzLmZlYXR1cmVSZXF1ZXN0cy5nZXQoaWQpO1xuICAgIGlmICghZXhpc3RpbmcpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgY29uc3QgdXBkYXRlZCA9IHsgLi4uZXhpc3RpbmcsIC4uLnVwZGF0ZXMsIHVwZGF0ZWRBdDogbmV3IERhdGUoKSB9O1xuICAgIHRoaXMuZmVhdHVyZVJlcXVlc3RzLnNldChpZCwgdXBkYXRlZCk7XG4gICAgcmV0dXJuIHVwZGF0ZWQ7XG4gIH1cblxuICBhc3luYyBhZGRGZWF0dXJlUmVxdWVzdFVwdm90ZSgpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZTogc3RyaW5nOyBkYXRhPzogYW55IH0+IHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiAnVXB2b3RlIGFkZGVkJyB9O1xuICB9XG4gIGFzeW5jIHJlbW92ZUZlYXR1cmVSZXF1ZXN0VXB2b3RlKCk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlOiBzdHJpbmc7IGRhdGE/OiBhbnkgfT4ge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIG1lc3NhZ2U6ICdVcHZvdGUgcmVtb3ZlZCcgfTtcbiAgfVxuXG5cbn1cblxuLy8gSW1wb3J0IHRoZSBkYXRhYmFzZSBzdG9yYWdlIGltcGxlbWVudGF0aW9uXG5pbXBvcnQgeyBPcHRpbWl6ZWREYXRhYmFzZVN0b3JhZ2UgfSBmcm9tICcuL29wdGltaXplZC1kYi1zdG9yYWdlJztcblxuLy8gUHJvZHVjdGlvbiBmYWxsYmFjayBzdG9yYWdlIC0gdHJ5IGRhdGFiYXNlIGZpcnN0LCBmYWxsIGJhY2sgdG8gbWVtb3J5IGlmIGF1dGhlbnRpY2F0aW9uIGZhaWxzXG5jbGFzcyBQcm9kdWN0aW9uRmFsbGJhY2tTdG9yYWdlIGltcGxlbWVudHMgSVN0b3JhZ2Uge1xuICBwcml2YXRlIGRiU3RvcmFnZTogT3B0aW1pemVkRGF0YWJhc2VTdG9yYWdlO1xuICBwcml2YXRlIG1lbVN0b3JhZ2U6IE1lbVN0b3JhZ2U7XG4gIHByaXZhdGUgdXNpbmdGYWxsYmFjazogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuZGJTdG9yYWdlID0gbmV3IE9wdGltaXplZERhdGFiYXNlU3RvcmFnZSgpO1xuICAgIHRoaXMubWVtU3RvcmFnZSA9IG5ldyBNZW1TdG9yYWdlKCk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHNhZmVEYk9wZXJhdGlvbjxUPihvcGVyYXRpb246ICgpID0+IFByb21pc2U8VD4pOiBQcm9taXNlPFQ+IHtcbiAgICBpZiAodGhpcy51c2luZ0ZhbGxiYWNrKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RhdGFiYXNlIHVuYXZhaWxhYmxlLCB1c2luZyBtZW1vcnkgc3RvcmFnZScpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgb3BlcmF0aW9uKCk7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgLy8gQ2hlY2sgaWYgaXQncyBhIGRhdGFiYXNlIGF1dGhlbnRpY2F0aW9uIGVycm9yXG4gICAgICBpZiAoXG4gICAgICAgIGVycm9yLm1lc3NhZ2U/LmluY2x1ZGVzKCdwYXNzd29yZCBhdXRoZW50aWNhdGlvbiBmYWlsZWQnKSB8fFxuICAgICAgICBlcnJvci5tZXNzYWdlPy5pbmNsdWRlcygnbmVvbmRiX293bmVyJykgfHxcbiAgICAgICAgZXJyb3IuY2F1c2U/Lm1lc3NhZ2U/LmluY2x1ZGVzKCdwYXNzd29yZCBhdXRoZW50aWNhdGlvbiBmYWlsZWQnKVxuICAgICAgKSB7XG4gICAgICAgIC8vIERhdGFiYXNlIGF1dGhlbnRpY2F0aW9uIGZhaWxlZCwgc3dpdGNoaW5nIHRvIG1lbW9yeSBzdG9yYWdlIGZvciBwcm9kdWN0aW9uIHN0YWJpbGl0eVxuICAgICAgICB0aGlzLnVzaW5nRmFsbGJhY2sgPSB0cnVlO1xuXG4gICAgICAgIC8vIEluaXRpYWxpemUgbWVtb3J5IHN0b3JhZ2Ugd2l0aCBwcm9kdWN0aW9uIGFkbWluIHVzZXJcbiAgICAgICAgYXdhaXQgdGhpcy5pbml0aWFsaXplRmFsbGJhY2tEYXRhKCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRGF0YWJhc2UgdW5hdmFpbGFibGUsIHVzaW5nIG1lbW9yeSBzdG9yYWdlJyk7XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGluaXRpYWxpemVGYWxsYmFja0RhdGEoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8gQ3JlYXRlIHRoZSBwcm9kdWN0aW9uIGFkbWluIHVzZXIgaW4gbWVtb3J5IHN0b3JhZ2VcbiAgICBjb25zdCBhZG1pblVzZXIgPSB7XG4gICAgICBpZDogJ2YzNTY0N2RlLTVmMTYtNDZmMi1iMzBiLTA5ZTA0NjkzNTZiMScsXG4gICAgICB1c2VybmFtZTogJ2tldmluLmhlcnZpZXV4JyxcbiAgICAgIGVtYWlsOiAna2V2aW4uaGVydmlldXhAa292ZW8tZ2VzdGlvbi5jb20nLFxuICAgICAgcGFzc3dvcmQ6ICckMmIkMTIkc0FKWEVjSVRaZzVJdFFvdTMxMkpzdWNMeXpCeVBDNmxGN0NMdnJyTGtoeEtkMUV5ZlN4ZGEnLCAvLyBhZG1pbjEyM1xuICAgICAgZmlyc3ROYW1lOiAnS2V2aW4nLFxuICAgICAgbGFzdE5hbWU6ICdIZXJ2aWV1eCcsXG4gICAgICBwaG9uZTogJycsXG4gICAgICBwcm9maWxlSW1hZ2U6ICcnLFxuICAgICAgbGFuZ3VhZ2U6ICdmcicgYXMgY29uc3QsXG4gICAgICByb2xlOiAnYWRtaW4nIGFzIGNvbnN0LFxuICAgICAgaXNBY3RpdmU6IHRydWUsXG4gICAgICBsYXN0TG9naW5BdDogbnVsbCxcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICB9O1xuXG4gICAgYXdhaXQgdGhpcy5tZW1TdG9yYWdlLmNyZWF0ZVVzZXIoYWRtaW5Vc2VyKTtcblxuICAgIC8vIENyZWF0ZSBkZWZhdWx0IG9yZ2FuaXphdGlvbiBmb3IgYWRtaW4gdXNlclxuICAgIGNvbnN0IGRlZmF1bHRPcmcgPSB7XG4gICAgICBpZDogJ2tvdmVvLW9yZy1tYWluJyxcbiAgICAgIG5hbWU6ICdLb3ZlbyBHZXN0aW9uJyxcbiAgICAgIHR5cGU6ICdwcm9wZXJ0eV9tYW5hZ2VtZW50JyBhcyBjb25zdCxcbiAgICAgIGFkZHJlc3M6ICcxMjMgUXVlYmVjIFN0cmVldCcsXG4gICAgICBjaXR5OiAnTW9udHJlYWwnLFxuICAgICAgcHJvdmluY2U6ICdRQycsXG4gICAgICBwb3N0YWxDb2RlOiAnSDFBIDFBMScsXG4gICAgICBwaG9uZTogJysxLTUxNC01NTUtMDEwMCcsXG4gICAgICBlbWFpbDogJ2NvbnRhY3RAa292ZW8tZ2VzdGlvbi5jb20nLFxuICAgICAgd2Vic2l0ZTogJ2h0dHBzOi8va292ZW8tZ2VzdGlvbi5jb20nLFxuICAgICAgZGVzY3JpcHRpb246ICdNYWluIEtvdmVvIHByb3BlcnR5IG1hbmFnZW1lbnQgb3JnYW5pemF0aW9uJyxcbiAgICAgIGlzQWN0aXZlOiB0cnVlLFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgIH07XG5cbiAgICBhd2FpdCB0aGlzLm1lbVN0b3JhZ2UuY3JlYXRlT3JnYW5pemF0aW9uKGRlZmF1bHRPcmcpO1xuXG4gICAgLy8gQXNzb2NpYXRlIGFkbWluIHVzZXIgd2l0aCB0aGUgb3JnYW5pemF0aW9uXG4gICAgLy8gRm9yIG1lbW9yeSBzdG9yYWdlLCB3ZSdsbCBqdXN0IGVuc3VyZSB0aGUgdXNlciBoYXMgYWNjZXNzIHRvIHRoZSBvcmdhbml6YXRpb25cbiAgICAvLyBUaGlzIGlzIGhhbmRsZWQgYnkgdGhlIHVzZXIncyByb2xlIGJlaW5nICdhZG1pbicgd2hpY2ggZ2l2ZXMgYWNjZXNzIHRvIGFsbCBvcmdhbml6YXRpb25zXG5cbiAgICAvLyBQcm9kdWN0aW9uIGZhbGxiYWNrIGluaXRpYWxpemVkIHN1Y2Nlc3NmdWxseVxuICB9XG5cbiAgLy8gVXNlciBvcGVyYXRpb25zIHdpdGggZmFsbGJhY2tcbiAgYXN5bmMgZ2V0VXNlckJ5RW1haWwoZW1haWw6IHN0cmluZyk6IFByb21pc2U8VXNlciB8IHVuZGVmaW5lZD4ge1xuICAgIC8vIERlYnVnIGxvZ2dpbmcgcmVtb3ZlZFxuICAgIHRyeSB7XG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgdGhpcy5zYWZlRGJPcGVyYXRpb24oKCkgPT4gdGhpcy5kYlN0b3JhZ2UuZ2V0VXNlckJ5RW1haWwoZW1haWwpKTtcbiAgICAgIC8vIERlYnVnIGxvZ2dpbmcgcmVtb3ZlZFxuICAgICAgcmV0dXJuIHVzZXI7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgLy8gRXJyb3IgaGFuZGxpbmcgbWFpbnRhaW5lZCB3aXRob3V0IGRlYnVnIGxvZ2dpbmdcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldFVzZXJzKCk6IFByb21pc2U8VXNlcltdPiB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuc2FmZURiT3BlcmF0aW9uKCgpID0+IHRoaXMuZGJTdG9yYWdlLmdldFVzZXJzKCkpO1xuICB9XG5cbiAgYXN5bmMgZ2V0VXNlcnNXaXRoQXNzaWdubWVudHMoKTogUHJvbWlzZTxBcnJheTxVc2VyICYgeyBvcmdhbml6YXRpb25zOiBBcnJheTx7IGlkOiBzdHJpbmc7IG5hbWU6IHN0cmluZzsgdHlwZTogc3RyaW5nIH0+OyBidWlsZGluZ3M6IEFycmF5PHsgaWQ6IHN0cmluZzsgbmFtZTogc3RyaW5nIH0+OyByZXNpZGVuY2VzOiBBcnJheTx7IGlkOiBzdHJpbmc7IHVuaXROdW1iZXI6IHN0cmluZzsgYnVpbGRpbmdJZDogc3RyaW5nOyBidWlsZGluZ05hbWU6IHN0cmluZyB9PiB9Pj4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnNhZmVEYk9wZXJhdGlvbigoKSA9PiB0aGlzLmRiU3RvcmFnZS5nZXRVc2Vyc1dpdGhBc3NpZ25tZW50cygpKTtcbiAgfVxuXG4gIGFzeW5jIGdldFVzZXJzQnlPcmdhbml6YXRpb25zKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxVc2VyW10+IHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuc2FmZURiT3BlcmF0aW9uKCgpID0+IHRoaXMuZGJTdG9yYWdlLmdldFVzZXJzQnlPcmdhbml6YXRpb25zKHVzZXJJZCkpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIHRoaXMubWVtU3RvcmFnZS5nZXRVc2Vyc0J5T3JnYW5pemF0aW9ucyh1c2VySWQpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldFVzZXIoaWQ6IHN0cmluZyk6IFByb21pc2U8VXNlciB8IHVuZGVmaW5lZD4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnNhZmVEYk9wZXJhdGlvbigoKSA9PiB0aGlzLmRiU3RvcmFnZS5nZXRVc2VyKGlkKSk7XG4gIH1cblxuICBhc3luYyBnZXRVc2VyT3JnYW5pemF0aW9ucyh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8QXJyYXk8eyBvcmdhbml6YXRpb25JZDogc3RyaW5nIH0+PiB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLnNhZmVEYk9wZXJhdGlvbigoKSA9PiB0aGlzLmRiU3RvcmFnZS5nZXRVc2VyT3JnYW5pemF0aW9ucyh1c2VySWQpKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiB0aGlzLm1lbVN0b3JhZ2UuZ2V0VXNlck9yZ2FuaXphdGlvbnModXNlcklkKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRVc2VyUmVzaWRlbmNlcyh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8QXJyYXk8eyByZXNpZGVuY2VJZDogc3RyaW5nIH0+PiB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLnNhZmVEYk9wZXJhdGlvbigoKSA9PiB0aGlzLmRiU3RvcmFnZS5nZXRVc2VyUmVzaWRlbmNlcyh1c2VySWQpKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiB0aGlzLm1lbVN0b3JhZ2UuZ2V0VXNlclJlc2lkZW5jZXModXNlcklkKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBjcmVhdGVVc2VyKHVzZXI6IEluc2VydFVzZXIpOiBQcm9taXNlPFVzZXI+IHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuc2FmZURiT3BlcmF0aW9uKCgpID0+IHRoaXMuZGJTdG9yYWdlLmNyZWF0ZVVzZXIodXNlcikpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIHRoaXMubWVtU3RvcmFnZS5jcmVhdGVVc2VyKHVzZXIpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZVVzZXIoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxVc2VyPik6IFByb21pc2U8VXNlciB8IHVuZGVmaW5lZD4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnNhZmVEYk9wZXJhdGlvbigoKSA9PiB0aGlzLmRiU3RvcmFnZS51cGRhdGVVc2VyKGlkLCB1cGRhdGVzKSk7XG4gIH1cblxuICAvLyBQYXNzd29yZCByZXNldCBvcGVyYXRpb25zXG4gIGFzeW5jIGNyZWF0ZVBhc3N3b3JkUmVzZXRUb2tlbih0b2tlbjogSW5zZXJ0UGFzc3dvcmRSZXNldFRva2VuKTogUHJvbWlzZTxQYXNzd29yZFJlc2V0VG9rZW4+IHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuc2FmZURiT3BlcmF0aW9uKCgpID0+IHRoaXMuZGJTdG9yYWdlLmNyZWF0ZVBhc3N3b3JkUmVzZXRUb2tlbih0b2tlbikpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIHRoaXMubWVtU3RvcmFnZS5jcmVhdGVQYXNzd29yZFJlc2V0VG9rZW4odG9rZW4pO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldFBhc3N3b3JkUmVzZXRUb2tlbih0b2tlbjogc3RyaW5nKTogUHJvbWlzZTxQYXNzd29yZFJlc2V0VG9rZW4gfCB1bmRlZmluZWQ+IHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuc2FmZURiT3BlcmF0aW9uKCgpID0+IHRoaXMuZGJTdG9yYWdlLmdldFBhc3N3b3JkUmVzZXRUb2tlbih0b2tlbikpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIHRoaXMubWVtU3RvcmFnZS5nZXRQYXNzd29yZFJlc2V0VG9rZW4odG9rZW4pO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIG1hcmtQYXNzd29yZFJlc2V0VG9rZW5Bc1VzZWQodG9rZW5JZDogc3RyaW5nKTogUHJvbWlzZTxQYXNzd29yZFJlc2V0VG9rZW4gfCB1bmRlZmluZWQ+IHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuc2FmZURiT3BlcmF0aW9uKCgpID0+IHRoaXMuZGJTdG9yYWdlLm1hcmtQYXNzd29yZFJlc2V0VG9rZW5Bc1VzZWQodG9rZW5JZCkpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIHRoaXMubWVtU3RvcmFnZS5tYXJrUGFzc3dvcmRSZXNldFRva2VuQXNVc2VkKHRva2VuSWQpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGNsZWFudXBFeHBpcmVkUGFzc3dvcmRSZXNldFRva2VucygpOiBQcm9taXNlPG51bWJlcj4ge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5zYWZlRGJPcGVyYXRpb24oKCkgPT4gdGhpcy5kYlN0b3JhZ2UuY2xlYW51cEV4cGlyZWRQYXNzd29yZFJlc2V0VG9rZW5zKCkpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIHRoaXMubWVtU3RvcmFnZS5jbGVhbnVwRXhwaXJlZFBhc3N3b3JkUmVzZXRUb2tlbnMoKTtcbiAgICB9XG4gIH1cblxuICAvLyBEZWxlZ2F0ZSBhbGwgb3RoZXIgbWV0aG9kcyB0byB0aGUgYXBwcm9wcmlhdGUgc3RvcmFnZVxuICBhc3luYyBnZXRPcmdhbml6YXRpb25zKCk6IFByb21pc2U8T3JnYW5pemF0aW9uW10+IHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuc2FmZURiT3BlcmF0aW9uKCgpID0+IHRoaXMuZGJTdG9yYWdlLmdldE9yZ2FuaXphdGlvbnMoKSk7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gdGhpcy5tZW1TdG9yYWdlLmdldE9yZ2FuaXphdGlvbnMoKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRPcmdhbml6YXRpb24oaWQ6IHN0cmluZyk6IFByb21pc2U8T3JnYW5pemF0aW9uIHwgdW5kZWZpbmVkPiB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLnNhZmVEYk9wZXJhdGlvbigoKSA9PiB0aGlzLmRiU3RvcmFnZS5nZXRPcmdhbml6YXRpb24oaWQpKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiB0aGlzLm1lbVN0b3JhZ2UuZ2V0T3JnYW5pemF0aW9uKGlkKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBjcmVhdGVPcmdhbml6YXRpb24ob3JnOiBJbnNlcnRPcmdhbml6YXRpb24pOiBQcm9taXNlPE9yZ2FuaXphdGlvbj4ge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5zYWZlRGJPcGVyYXRpb24oKCkgPT4gdGhpcy5kYlN0b3JhZ2UuY3JlYXRlT3JnYW5pemF0aW9uKG9yZykpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIHRoaXMubWVtU3RvcmFnZS5jcmVhdGVPcmdhbml6YXRpb24ob3JnKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyB1cGRhdGVPcmdhbml6YXRpb24oXG4gICAgaWQ6IHN0cmluZyxcbiAgICB1cGRhdGVzOiBQYXJ0aWFsPE9yZ2FuaXphdGlvbj5cbiAgKTogUHJvbWlzZTxPcmdhbml6YXRpb24gfCB1bmRlZmluZWQ+IHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuc2FmZURiT3BlcmF0aW9uKCgpID0+IHRoaXMuZGJTdG9yYWdlLnVwZGF0ZU9yZ2FuaXphdGlvbihpZCwgdXBkYXRlcykpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIHRoaXMubWVtU3RvcmFnZS51cGRhdGVPcmdhbml6YXRpb24oaWQsIHVwZGF0ZXMpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZU9yZ2FuaXphdGlvbihpZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLnNhZmVEYk9wZXJhdGlvbigoKSA9PiB0aGlzLmRiU3RvcmFnZS5kZWxldGVPcmdhbml6YXRpb24oaWQpKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiB0aGlzLm1lbVN0b3JhZ2UuZGVsZXRlT3JnYW5pemF0aW9uKGlkKTtcbiAgICB9XG4gIH1cblxuICAvLyBCdWlsZGluZ3NcbiAgYXN5bmMgZ2V0QnVpbGRpbmdzKCk6IFByb21pc2U8QnVpbGRpbmdbXT4ge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5zYWZlRGJPcGVyYXRpb24oKCkgPT4gdGhpcy5kYlN0b3JhZ2UuZ2V0QnVpbGRpbmdzKCkpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIHRoaXMubWVtU3RvcmFnZS5nZXRCdWlsZGluZ3MoKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRCdWlsZGluZ3NCeU9yZ2FuaXphdGlvbihvcmdhbml6YXRpb25JZDogc3RyaW5nKTogUHJvbWlzZTxCdWlsZGluZ1tdPiB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLnNhZmVEYk9wZXJhdGlvbigoKSA9PlxuICAgICAgICB0aGlzLmRiU3RvcmFnZS5nZXRCdWlsZGluZ3NCeU9yZ2FuaXphdGlvbihvcmdhbml6YXRpb25JZClcbiAgICAgICk7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gdGhpcy5tZW1TdG9yYWdlLmdldEJ1aWxkaW5nc0J5T3JnYW5pemF0aW9uKG9yZ2FuaXphdGlvbklkKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRCdWlsZGluZyhpZDogc3RyaW5nKTogUHJvbWlzZTxCdWlsZGluZyB8IHVuZGVmaW5lZD4ge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5zYWZlRGJPcGVyYXRpb24oKCkgPT4gdGhpcy5kYlN0b3JhZ2UuZ2V0QnVpbGRpbmcoaWQpKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiB0aGlzLm1lbVN0b3JhZ2UuZ2V0QnVpbGRpbmcoaWQpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZUJ1aWxkaW5nKGJ1aWxkaW5nOiBJbnNlcnRCdWlsZGluZyk6IFByb21pc2U8QnVpbGRpbmc+IHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuc2FmZURiT3BlcmF0aW9uKCgpID0+IHRoaXMuZGJTdG9yYWdlLmNyZWF0ZUJ1aWxkaW5nKGJ1aWxkaW5nKSk7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gdGhpcy5tZW1TdG9yYWdlLmNyZWF0ZUJ1aWxkaW5nKGJ1aWxkaW5nKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyB1cGRhdGVCdWlsZGluZyhpZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPEJ1aWxkaW5nPik6IFByb21pc2U8QnVpbGRpbmcgfCB1bmRlZmluZWQ+IHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuc2FmZURiT3BlcmF0aW9uKCgpID0+IHRoaXMuZGJTdG9yYWdlLnVwZGF0ZUJ1aWxkaW5nKGlkLCB1cGRhdGVzKSk7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gdGhpcy5tZW1TdG9yYWdlLnVwZGF0ZUJ1aWxkaW5nKGlkLCB1cGRhdGVzKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBkZWxldGVCdWlsZGluZyhpZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLnNhZmVEYk9wZXJhdGlvbigoKSA9PiB0aGlzLmRiU3RvcmFnZS5kZWxldGVCdWlsZGluZyhpZCkpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIHRoaXMubWVtU3RvcmFnZS5kZWxldGVCdWlsZGluZyhpZCk7XG4gICAgfVxuICB9XG5cbiAgLy8gUmVzaWRlbmNlc1xuICBhc3luYyBnZXRSZXNpZGVuY2VzKCk6IFByb21pc2U8UmVzaWRlbmNlW10+IHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuc2FmZURiT3BlcmF0aW9uKCgpID0+IHRoaXMuZGJTdG9yYWdlLmdldFJlc2lkZW5jZXMoKSk7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gdGhpcy5tZW1TdG9yYWdlLmdldFJlc2lkZW5jZXMoKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRSZXNpZGVuY2VzQnlCdWlsZGluZyhidWlsZGluZ0lkOiBzdHJpbmcpOiBQcm9taXNlPFJlc2lkZW5jZVtdPiB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLnNhZmVEYk9wZXJhdGlvbigoKSA9PiB0aGlzLmRiU3RvcmFnZS5nZXRSZXNpZGVuY2VzQnlCdWlsZGluZyhidWlsZGluZ0lkKSk7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gdGhpcy5tZW1TdG9yYWdlLmdldFJlc2lkZW5jZXNCeUJ1aWxkaW5nKGJ1aWxkaW5nSWQpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldFJlc2lkZW5jZShpZDogc3RyaW5nKTogUHJvbWlzZTxSZXNpZGVuY2UgfCB1bmRlZmluZWQ+IHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuc2FmZURiT3BlcmF0aW9uKCgpID0+IHRoaXMuZGJTdG9yYWdlLmdldFJlc2lkZW5jZShpZCkpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIHRoaXMubWVtU3RvcmFnZS5nZXRSZXNpZGVuY2UoaWQpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZVJlc2lkZW5jZShyZXNpZGVuY2U6IEluc2VydFJlc2lkZW5jZSk6IFByb21pc2U8UmVzaWRlbmNlPiB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLnNhZmVEYk9wZXJhdGlvbigoKSA9PiB0aGlzLmRiU3RvcmFnZS5jcmVhdGVSZXNpZGVuY2UocmVzaWRlbmNlKSk7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gdGhpcy5tZW1TdG9yYWdlLmNyZWF0ZVJlc2lkZW5jZShyZXNpZGVuY2UpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZVJlc2lkZW5jZShpZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPFJlc2lkZW5jZT4pOiBQcm9taXNlPFJlc2lkZW5jZSB8IHVuZGVmaW5lZD4ge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5zYWZlRGJPcGVyYXRpb24oKCkgPT4gdGhpcy5kYlN0b3JhZ2UudXBkYXRlUmVzaWRlbmNlKGlkLCB1cGRhdGVzKSk7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gdGhpcy5tZW1TdG9yYWdlLnVwZGF0ZVJlc2lkZW5jZShpZCwgdXBkYXRlcyk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZGVsZXRlUmVzaWRlbmNlKGlkOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuc2FmZURiT3BlcmF0aW9uKCgpID0+IHRoaXMuZGJTdG9yYWdlLmRlbGV0ZVJlc2lkZW5jZShpZCkpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIHRoaXMubWVtU3RvcmFnZS5kZWxldGVSZXNpZGVuY2UoaWQpO1xuICAgIH1cbiAgfVxuXG4gIC8vIEFsbCBvdGhlciBtZXRob2RzIC0gaW1wbGVtZW50IGZhbGxiYWNrIHBhdHRlcm4gZm9yIHJlbWFpbmluZyBpbnRlcmZhY2UgbWV0aG9kc1xuICBhc3luYyBnZXRDb250YWN0cygpOiBQcm9taXNlPENvbnRhY3RbXT4ge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5zYWZlRGJPcGVyYXRpb24oKCkgPT4gdGhpcy5kYlN0b3JhZ2UuZ2V0Q29udGFjdHMoKSk7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gdGhpcy5tZW1TdG9yYWdlLmdldENvbnRhY3RzKCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0Q29udGFjdChpZDogc3RyaW5nKTogUHJvbWlzZTxDb250YWN0IHwgdW5kZWZpbmVkPiB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLnNhZmVEYk9wZXJhdGlvbigoKSA9PiB0aGlzLmRiU3RvcmFnZS5nZXRDb250YWN0KGlkKSk7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gdGhpcy5tZW1TdG9yYWdlLmdldENvbnRhY3QoaWQpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZUNvbnRhY3QoY29udGFjdDogSW5zZXJ0Q29udGFjdCk6IFByb21pc2U8Q29udGFjdD4ge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5zYWZlRGJPcGVyYXRpb24oKCkgPT4gdGhpcy5kYlN0b3JhZ2UuY3JlYXRlQ29udGFjdChjb250YWN0KSk7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gdGhpcy5tZW1TdG9yYWdlLmNyZWF0ZUNvbnRhY3QoY29udGFjdCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgdXBkYXRlQ29udGFjdChpZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPENvbnRhY3Q+KTogUHJvbWlzZTxDb250YWN0IHwgdW5kZWZpbmVkPiB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLnNhZmVEYk9wZXJhdGlvbigoKSA9PiB0aGlzLmRiU3RvcmFnZS51cGRhdGVDb250YWN0KGlkLCB1cGRhdGVzKSk7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gdGhpcy5tZW1TdG9yYWdlLnVwZGF0ZUNvbnRhY3QoaWQsIHVwZGF0ZXMpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZUNvbnRhY3QoaWQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5zYWZlRGJPcGVyYXRpb24oKCkgPT4gdGhpcy5kYlN0b3JhZ2UuZGVsZXRlQ29udGFjdChpZCkpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIHRoaXMubWVtU3RvcmFnZS5kZWxldGVDb250YWN0KGlkKTtcbiAgICB9XG4gIH1cblxuICAvLyBTdHViIGltcGxlbWVudGF0aW9ucyBmb3IgcmVtYWluaW5nIGludGVyZmFjZSBtZXRob2RzIC0gYWRkIGFsbCBvdGhlciByZXF1aXJlZCBtZXRob2RzXG4gIGFzeW5jIGdldERvY3VtZW50cygpOiBQcm9taXNlPERvY3VtZW50W10+IHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgYXN5bmMgZ2V0RG9jdW1lbnQoaWQ6IHN0cmluZyk6IFByb21pc2U8RG9jdW1lbnQgfCB1bmRlZmluZWQ+IHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIGFzeW5jIGNyZWF0ZURvY3VtZW50KGRvYzogSW5zZXJ0RG9jdW1lbnQpOiBQcm9taXNlPERvY3VtZW50PiB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQgaW4gZmFsbGJhY2snKTtcbiAgfVxuICBhc3luYyB1cGRhdGVEb2N1bWVudChpZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPERvY3VtZW50Pik6IFByb21pc2U8RG9jdW1lbnQgfCB1bmRlZmluZWQ+IHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIGFzeW5jIGRlbGV0ZURvY3VtZW50KGlkOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgYXN5bmMgZ2V0RG9jdW1lbnRzQnlCdWlsZGluZyhidWlsZGluZ0lkOiBzdHJpbmcpOiBQcm9taXNlPERvY3VtZW50QnVpbGRpbmdbXT4ge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBhc3luYyBjcmVhdGVEb2N1bWVudEJ1aWxkaW5nKGRvYzogSW5zZXJ0RG9jdW1lbnRCdWlsZGluZyk6IFByb21pc2U8RG9jdW1lbnRCdWlsZGluZz4ge1xuICAgIC8vIE5vdGU6IEV4dGVybmFsIHN0b3JhZ2UgaW50ZWdyYXRpb24gcmVtb3ZlZFxuICAgIGNvbnN0IGlkID0gcmFuZG9tVVVJRCgpO1xuICAgIHJldHVybiB7XG4gICAgICAuLi5kb2MsXG4gICAgICBpZCxcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICB9O1xuICB9XG4gIGFzeW5jIGRlbGV0ZURvY3VtZW50QnVpbGRpbmcoZG9jdW1lbnRJZDogc3RyaW5nLCBidWlsZGluZ0lkOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgYXN5bmMgZ2V0RG9jdW1lbnRzQnlSZXNpZGVudChyZXNpZGVudElkOiBzdHJpbmcpOiBQcm9taXNlPERvY3VtZW50UmVzaWRlbnRbXT4ge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBhc3luYyBjcmVhdGVEb2N1bWVudFJlc2lkZW50KGRvYzogSW5zZXJ0RG9jdW1lbnRSZXNpZGVudCk6IFByb21pc2U8RG9jdW1lbnRSZXNpZGVudD4ge1xuICAgIC8vIE5vdGU6IEV4dGVybmFsIHN0b3JhZ2UgaW50ZWdyYXRpb24gcmVtb3ZlZFxuICAgIGNvbnN0IGlkID0gcmFuZG9tVVVJRCgpO1xuICAgIHJldHVybiB7XG4gICAgICAuLi5kb2MsXG4gICAgICBpZCxcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICB9O1xuICB9XG4gIGFzeW5jIGRlbGV0ZURvY3VtZW50UmVzaWRlbnQoZG9jdW1lbnRJZDogc3RyaW5nLCByZXNpZGVudElkOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgYXN5bmMgZ2V0UGlsbGFycygpOiBQcm9taXNlPFBpbGxhcltdPiB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGFzeW5jIGdldFBpbGxhcihpZDogc3RyaW5nKTogUHJvbWlzZTxQaWxsYXIgfCB1bmRlZmluZWQ+IHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIGFzeW5jIGNyZWF0ZVBpbGxhcihwaWxsYXI6IEluc2VydFBpbGxhcik6IFByb21pc2U8UGlsbGFyPiB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQgaW4gZmFsbGJhY2snKTtcbiAgfVxuICBhc3luYyB1cGRhdGVQaWxsYXIoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxQaWxsYXI+KTogUHJvbWlzZTxQaWxsYXIgfCB1bmRlZmluZWQ+IHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIGFzeW5jIGdldFdvcmtzcGFjZVN0YXR1c2VzKCk6IFByb21pc2U8V29ya3NwYWNlU3RhdHVzW10+IHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgYXN5bmMgZ2V0V29ya3NwYWNlU3RhdHVzKGlkOiBzdHJpbmcpOiBQcm9taXNlPFdvcmtzcGFjZVN0YXR1cyB8IHVuZGVmaW5lZD4ge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgYXN5bmMgY3JlYXRlV29ya3NwYWNlU3RhdHVzKHN0YXR1czogSW5zZXJ0V29ya3NwYWNlU3RhdHVzKTogUHJvbWlzZTxXb3Jrc3BhY2VTdGF0dXM+IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZCBpbiBmYWxsYmFjaycpO1xuICB9XG4gIGFzeW5jIHVwZGF0ZVdvcmtzcGFjZVN0YXR1cyhcbiAgICBpZDogc3RyaW5nLFxuICAgIHVwZGF0ZXM6IFBhcnRpYWw8V29ya3NwYWNlU3RhdHVzPlxuICApOiBQcm9taXNlPFdvcmtzcGFjZVN0YXR1cyB8IHVuZGVmaW5lZD4ge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgYXN5bmMgZ2V0UXVhbGl0eU1ldHJpY3MoKTogUHJvbWlzZTxRdWFsaXR5TWV0cmljW10+IHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgYXN5bmMgZ2V0UXVhbGl0eU1ldHJpYyhpZDogc3RyaW5nKTogUHJvbWlzZTxRdWFsaXR5TWV0cmljIHwgdW5kZWZpbmVkPiB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICBhc3luYyBjcmVhdGVRdWFsaXR5TWV0cmljKG1ldHJpYzogSW5zZXJ0UXVhbGl0eU1ldHJpYyk6IFByb21pc2U8UXVhbGl0eU1ldHJpYz4ge1xuICAgIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkIGluIGZhbGxiYWNrJyk7XG4gIH1cbiAgYXN5bmMgdXBkYXRlUXVhbGl0eU1ldHJpYyhcbiAgICBpZDogc3RyaW5nLFxuICAgIHVwZGF0ZXM6IFBhcnRpYWw8UXVhbGl0eU1ldHJpYz5cbiAgKTogUHJvbWlzZTxRdWFsaXR5TWV0cmljIHwgdW5kZWZpbmVkPiB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICBhc3luYyBnZXRGcmFtZXdvcmtDb25maWd1cmF0aW9ucygpOiBQcm9taXNlPEZyYW1ld29ya0NvbmZpZ3VyYXRpb25bXT4ge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBhc3luYyBnZXRGcmFtZXdvcmtDb25maWd1cmF0aW9uKGlkOiBzdHJpbmcpOiBQcm9taXNlPEZyYW1ld29ya0NvbmZpZ3VyYXRpb24gfCB1bmRlZmluZWQ+IHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIGFzeW5jIGNyZWF0ZUZyYW1ld29ya0NvbmZpZ3VyYXRpb24oXG4gICAgY29uZmlnOiBJbnNlcnRGcmFtZXdvcmtDb25maWd1cmF0aW9uXG4gICk6IFByb21pc2U8RnJhbWV3b3JrQ29uZmlndXJhdGlvbj4ge1xuICAgIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkIGluIGZhbGxiYWNrJyk7XG4gIH1cbiAgYXN5bmMgdXBkYXRlRnJhbWV3b3JrQ29uZmlndXJhdGlvbihcbiAgICBpZDogc3RyaW5nLFxuICAgIHVwZGF0ZXM6IFBhcnRpYWw8RnJhbWV3b3JrQ29uZmlndXJhdGlvbj5cbiAgKTogUHJvbWlzZTxGcmFtZXdvcmtDb25maWd1cmF0aW9uIHwgdW5kZWZpbmVkPiB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICBhc3luYyBnZXRJbXByb3ZlbWVudFN1Z2dlc3Rpb25zKCk6IFByb21pc2U8SW1wcm92ZW1lbnRTdWdnZXN0aW9uW10+IHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgYXN5bmMgZ2V0SW1wcm92ZW1lbnRTdWdnZXN0aW9uKGlkOiBzdHJpbmcpOiBQcm9taXNlPEltcHJvdmVtZW50U3VnZ2VzdGlvbiB8IHVuZGVmaW5lZD4ge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgYXN5bmMgY3JlYXRlSW1wcm92ZW1lbnRTdWdnZXN0aW9uKFxuICAgIHN1Z2dlc3Rpb246IEluc2VydEltcHJvdmVtZW50U3VnZ2VzdGlvblxuICApOiBQcm9taXNlPEltcHJvdmVtZW50U3VnZ2VzdGlvbj4ge1xuICAgIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkIGluIGZhbGxiYWNrJyk7XG4gIH1cbiAgYXN5bmMgdXBkYXRlSW1wcm92ZW1lbnRTdWdnZXN0aW9uKFxuICAgIGlkOiBzdHJpbmcsXG4gICAgdXBkYXRlczogUGFydGlhbDxJbXByb3ZlbWVudFN1Z2dlc3Rpb24+XG4gICk6IFByb21pc2U8SW1wcm92ZW1lbnRTdWdnZXN0aW9uIHwgdW5kZWZpbmVkPiB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICBhc3luYyBnZXRGZWF0dXJlcygpOiBQcm9taXNlPEZlYXR1cmVbXT4ge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBhc3luYyBnZXRGZWF0dXJlKGlkOiBzdHJpbmcpOiBQcm9taXNlPEZlYXR1cmUgfCB1bmRlZmluZWQ+IHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIGFzeW5jIGNyZWF0ZUZlYXR1cmUoZmVhdHVyZTogSW5zZXJ0RmVhdHVyZSk6IFByb21pc2U8RmVhdHVyZT4ge1xuICAgIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkIGluIGZhbGxiYWNrJyk7XG4gIH1cbiAgYXN5bmMgdXBkYXRlRmVhdHVyZShpZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPEZlYXR1cmU+KTogUHJvbWlzZTxGZWF0dXJlIHwgdW5kZWZpbmVkPiB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICBhc3luYyBnZXRBY3Rpb25hYmxlSXRlbXMoKTogUHJvbWlzZTxBY3Rpb25hYmxlSXRlbVtdPiB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGFzeW5jIGdldEFjdGlvbmFibGVJdGVtKGlkOiBzdHJpbmcpOiBQcm9taXNlPEFjdGlvbmFibGVJdGVtIHwgdW5kZWZpbmVkPiB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICBhc3luYyBjcmVhdGVBY3Rpb25hYmxlSXRlbShpdGVtOiBJbnNlcnRBY3Rpb25hYmxlSXRlbSk6IFByb21pc2U8QWN0aW9uYWJsZUl0ZW0+IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZCBpbiBmYWxsYmFjaycpO1xuICB9XG4gIGFzeW5jIHVwZGF0ZUFjdGlvbmFibGVJdGVtKFxuICAgIGlkOiBzdHJpbmcsXG4gICAgdXBkYXRlczogUGFydGlhbDxBY3Rpb25hYmxlSXRlbT5cbiAgKTogUHJvbWlzZTxBY3Rpb25hYmxlSXRlbSB8IHVuZGVmaW5lZD4ge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgYXN5bmMgZ2V0SW52aXRhdGlvbnMoKTogUHJvbWlzZTxJbnZpdGF0aW9uW10+IHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgYXN5bmMgZ2V0SW52aXRhdGlvbihpZDogc3RyaW5nKTogUHJvbWlzZTxJbnZpdGF0aW9uIHwgdW5kZWZpbmVkPiB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICBhc3luYyBnZXRJbnZpdGF0aW9uQnlUb2tlbih0b2tlbjogc3RyaW5nKTogUHJvbWlzZTxJbnZpdGF0aW9uIHwgdW5kZWZpbmVkPiB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICBhc3luYyBjcmVhdGVJbnZpdGF0aW9uKGludml0YXRpb246IEluc2VydEludml0YXRpb24pOiBQcm9taXNlPEludml0YXRpb24+IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZCBpbiBmYWxsYmFjaycpO1xuICB9XG4gIGFzeW5jIHVwZGF0ZUludml0YXRpb24oXG4gICAgaWQ6IHN0cmluZyxcbiAgICB1cGRhdGVzOiBQYXJ0aWFsPEludml0YXRpb24+XG4gICk6IFByb21pc2U8SW52aXRhdGlvbiB8IHVuZGVmaW5lZD4ge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgYXN5bmMgZGVsZXRlSW52aXRhdGlvbihpZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGFzeW5jIGdldFBlcm1pc3Npb25zKCk6IFByb21pc2U8UGVybWlzc2lvbltdPiB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGFzeW5jIGdldFBlcm1pc3Npb24oaWQ6IHN0cmluZyk6IFByb21pc2U8UGVybWlzc2lvbiB8IHVuZGVmaW5lZD4ge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgYXN5bmMgZ2V0Um9sZVBlcm1pc3Npb25zKHJvbGU6IHN0cmluZyk6IFByb21pc2U8Um9sZVBlcm1pc3Npb25bXT4ge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBhc3luYyBnZXRVc2VyUGVybWlzc2lvbnModXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPFVzZXJQZXJtaXNzaW9uW10+IHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgYXN5bmMgaGFzUGVybWlzc2lvbih1c2VySWQ6IHN0cmluZywgcGVybWlzc2lvbjogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gLy8gQWRtaW4gZmFsbGJhY2tcbiAgYXN5bmMgZ2V0QnVncygpOiBQcm9taXNlPEJ1Z1tdPiB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGFzeW5jIGdldEJ1ZyhpZDogc3RyaW5nKTogUHJvbWlzZTxCdWcgfCB1bmRlZmluZWQ+IHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIGFzeW5jIGNyZWF0ZUJ1ZyhidWc6IEluc2VydEJ1Zyk6IFByb21pc2U8QnVnPiB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQgaW4gZmFsbGJhY2snKTtcbiAgfVxuICBhc3luYyB1cGRhdGVCdWcoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxCdWc+KTogUHJvbWlzZTxCdWcgfCB1bmRlZmluZWQ+IHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIGFzeW5jIGdldEZlYXR1cmVSZXF1ZXN0cygpOiBQcm9taXNlPEZlYXR1cmVSZXF1ZXN0W10+IHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgYXN5bmMgZ2V0RmVhdHVyZVJlcXVlc3QoaWQ6IHN0cmluZyk6IFByb21pc2U8RmVhdHVyZVJlcXVlc3QgfCB1bmRlZmluZWQ+IHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIGFzeW5jIGNyZWF0ZUZlYXR1cmVSZXF1ZXN0KHJlcXVlc3Q6IEluc2VydEZlYXR1cmVSZXF1ZXN0KTogUHJvbWlzZTxGZWF0dXJlUmVxdWVzdD4ge1xuICAgIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkIGluIGZhbGxiYWNrJyk7XG4gIH1cbiAgYXN5bmMgdXBkYXRlRmVhdHVyZVJlcXVlc3QoXG4gICAgaWQ6IHN0cmluZyxcbiAgICB1cGRhdGVzOiBQYXJ0aWFsPEZlYXR1cmVSZXF1ZXN0PlxuICApOiBQcm9taXNlPEZlYXR1cmVSZXF1ZXN0IHwgdW5kZWZpbmVkPiB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICBhc3luYyBhZGRGZWF0dXJlUmVxdWVzdFVwdm90ZShcbiAgICBmZWF0dXJlUmVxdWVzdElkOiBzdHJpbmcsXG4gICAgdXNlcklkOiBzdHJpbmdcbiAgKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZzsgZGF0YT86IGFueSB9PiB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogJ0ZhbGxiYWNrIG1vZGUnIH07XG4gIH1cbiAgYXN5bmMgcmVtb3ZlRmVhdHVyZVJlcXVlc3RVcHZvdGUoXG4gICAgZmVhdHVyZVJlcXVlc3RJZDogc3RyaW5nLFxuICAgIHVzZXJJZDogc3RyaW5nXG4gICk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlOiBzdHJpbmc7IGRhdGE/OiBhbnkgfT4ge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIG1lc3NhZ2U6ICdGYWxsYmFjayBtb2RlJyB9O1xuICB9XG5cblxuXG5cbn1cblxuLy8gVXNlIG9wdGltaXplZCBkYXRhYmFzZSBzdG9yYWdlIGZvciBwcm9kdWN0aW9uXG5leHBvcnQgY29uc3Qgc3RvcmFnZSA9IG5ldyBPcHRpbWl6ZWREYXRhYmFzZVN0b3JhZ2UoKTtcblxuLy8gRXhwb3J0IHRoZSBPcHRpbWl6ZWREYXRhYmFzZVN0b3JhZ2UgY2xhc3MgZm9yIGRpcmVjdCB1c2FnZVxuZXhwb3J0IHsgT3B0aW1pemVkRGF0YWJhc2VTdG9yYWdlIH0gZnJvbSAnLi9vcHRpbWl6ZWQtZGItc3RvcmFnZSc7XG4iXSwidmVyc2lvbiI6M30=