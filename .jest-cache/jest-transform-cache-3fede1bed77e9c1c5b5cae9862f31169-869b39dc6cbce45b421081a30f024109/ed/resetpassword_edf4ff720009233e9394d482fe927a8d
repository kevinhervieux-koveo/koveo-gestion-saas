430ba2c937ccadf8ae44157407e0cd2a
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = ResetPasswordPage;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("react");
const wouter_1 = require("wouter");
const react_hook_form_1 = require("react-hook-form");
const zod_1 = require("@hookform/resolvers/zod");
const zod_2 = require("zod");
const button_1 = require("@/components/ui/button");
const input_1 = require("@/components/ui/input");
const form_1 = require("@/components/ui/form");
const card_1 = require("@/components/ui/card");
const use_toast_1 = require("@/hooks/use-toast");
const queryClient_1 = require("@/lib/queryClient");
const lucide_react_1 = require("lucide-react");
const resetPasswordSchema = zod_2.z
    .object({
    password: zod_2.z
        .string()
        .min(1, 'Le nouveau mot de passe est requis')
        .min(8, 'Le mot de passe doit contenir au moins 8 caractères (exemple: MonMotDePasse123!)')
        .max(100, 'Le mot de passe ne peut pas dépasser 100 caractères')
        .regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/, 'Le mot de passe doit contenir au moins une minuscule, une majuscule et un chiffre (exemple: MonMotDePasse123!)'),
    confirmPassword: zod_2.z.string().min(1, 'La confirmation du mot de passe est requise'),
})
    .refine((_data) => _data.password === _data.confirmPassword, {
    message: 'Les mots de passe ne correspondent pas - veuillez saisir le même mot de passe dans les deux champs',
    path: ['confirmPassword'],
});
/**
 *
 */
function ResetPasswordPage() {
    const [isSubmitting, setIsSubmitting] = (0, react_1.useState)(false);
    const [resetComplete, setResetComplete] = (0, react_1.useState)(false);
    const [showPassword, setShowPassword] = (0, react_1.useState)(false);
    const [showConfirmPassword, setShowConfirmPassword] = (0, react_1.useState)(false);
    const [token, setToken] = (0, react_1.useState)(null);
    const [, navigate] = (0, wouter_1.useLocation)();
    const { toast } = (0, use_toast_1.useToast)();
    const form = (0, react_hook_form_1.useForm)({
        resolver: (0, zod_1.zodResolver)(resetPasswordSchema),
        defaultValues: {
            password: '',
            confirmPassword: '',
        },
    });
    // Extract token from URL parameters
    (0, react_1.useEffect)(() => {
        const urlParams = new URLSearchParams(window.location.search);
        const tokenParam = urlParams.get('token'); /**
         * If function.
         * @param !tokenParam - !tokenParam parameter.
         */ /**
        * If function.
        * @param !tokenParam - !tokenParam parameter.
        */
        if (!tokenParam) {
            toast({
                title: 'Token manquant',
                description: 'Le lien de réinitialisation est invalide ou manquant.',
                variant: 'destructive',
            });
            navigate('/login');
            return;
        }
        setToken(tokenParam);
    }, [navigate, toast]);
    const onSubmit = async (_data) => {
        /**
         * If function.
         * @param !token - !token parameter.
         */ /**
        * If function.
        * @param !token - !token parameter.
        */
        if (!token) {
            toast({
                title: 'Erreur',
                description: 'Token de réinitialisation manquant.',
                variant: 'destructive',
            });
            return;
        }
        setIsSubmitting(true);
        try {
            await (0, queryClient_1.apiRequest)('POST', '/api/auth/reset-password', {
                token,
                password: _data.password,
            });
            setResetComplete(true);
            toast({
                title: 'Mot de passe réinitialisé',
                description: 'Votre mot de passe a été mis à jour avec succès.',
            });
        }
        catch (_error) {
            /**
             * Catch function.
             * @param error - Error object.
             */ /**
            * Catch function.
            * @param error - Error object.
            */
            let errorMessage = 'Une erreur est survenue lors de la réinitialisation du mot de passe.'; /**
             * If function.
             * @param error.code === 'INVALID_TOKEN' || error.code === 'TOKEN_EXPIRED' - error.code === 'INVALID_TOKEN' || error.code === 'TOKEN_EXPIRED' parameter.
             */ /**
            * If function.
            * @param error.code === 'INVALID_TOKEN' || error.code === 'TOKEN_EXPIRED' - error.code === 'INVALID_TOKEN' || error.code === 'TOKEN_EXPIRED' parameter.
            */
            if (_error.code === 'INVALID_TOKEN' || _error.code === 'TOKEN_EXPIRED') {
                errorMessage =
                    'Le lien de réinitialisation est invalide ou expiré. Veuillez demander un nouveau lien.';
            }
            else if (_error.code === 'TOKEN_ALREADY_USED') {
                /**
                 * If function.
                 * @param error.code === 'TOKEN_ALREADY_USED' - error.code === 'TOKEN_ALREADY_USED' parameter.
                 */ /**
                * If function.
                * @param error.code === 'TOKEN_ALREADY_USED' - error.code === 'TOKEN_ALREADY_USED' parameter.
                */
                errorMessage = 'Ce lien de réinitialisation a déjà été utilisé.';
            }
            else if (_error.code === 'PASSWORD_TOO_SHORT') {
                /**
                 * If function.
                 * @param error.code === 'PASSWORD_TOO_SHORT' - error.code === 'PASSWORD_TOO_SHORT' parameter.
                 */ /**
                * If function.
                * @param error.code === 'PASSWORD_TOO_SHORT' - error.code === 'PASSWORD_TOO_SHORT' parameter.
                */
                errorMessage = 'Le mot de passe doit contenir au moins 8 caractères.';
            }
            else if (_error.code === 'PASSWORD_TOO_WEAK') {
                /**
                 * If function.
                 * @param error.code === 'PASSWORD_TOO_WEAK' - error.code === 'PASSWORD_TOO_WEAK' parameter.
                 */ /**
                * If function.
                * @param error.code === 'PASSWORD_TOO_WEAK' - error.code === 'PASSWORD_TOO_WEAK' parameter.
                */
                errorMessage =
                    'Le mot de passe doit contenir au moins une majuscule, une minuscule et un chiffre.';
            }
            toast({
                title: 'Erreur',
                description: errorMessage,
                variant: 'destructive',
            });
        }
        finally {
            setIsSubmitting(false);
        }
    }; /**
     * If function.
     * @param resetComplete - ResetComplete parameter.
     */ /**
    * If function.
    * @param resetComplete - ResetComplete parameter.
    */
    if (resetComplete) {
        return ((0, jsx_runtime_1.jsx)("div", { className: 'min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800', children: (0, jsx_runtime_1.jsxs)(card_1.Card, { className: 'w-full max-w-md', children: [(0, jsx_runtime_1.jsxs)(card_1.CardHeader, { className: 'text-center', children: [(0, jsx_runtime_1.jsx)("div", { className: 'mx-auto w-12 h-12 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mb-4', children: (0, jsx_runtime_1.jsx)(lucide_react_1.CheckCircle, { className: 'w-6 h-6 text-green-600 dark:text-green-400' }) }), (0, jsx_runtime_1.jsx)(card_1.CardTitle, { className: 'text-2xl font-bold', children: "Mot de passe r\u00E9initialis\u00E9" }), (0, jsx_runtime_1.jsx)(card_1.CardDescription, { children: "Votre mot de passe a \u00E9t\u00E9 mis \u00E0 jour avec succ\u00E8s. Vous pouvez maintenant vous connecter avec votre nouveau mot de passe." })] }), (0, jsx_runtime_1.jsx)(card_1.CardContent, { children: (0, jsx_runtime_1.jsx)(button_1.Button, { asChild: true, className: 'w-full', children: (0, jsx_runtime_1.jsx)(wouter_1.Link, { href: '/login', children: "Se connecter" }) }) })] }) }));
    } /**
     * If function.
     * @param !token - !token parameter.
     */ /**
    * If function.
    * @param !token - !token parameter.
    */
    if (!token) {
        return ((0, jsx_runtime_1.jsx)("div", { className: 'min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800', children: (0, jsx_runtime_1.jsxs)(card_1.Card, { className: 'w-full max-w-md', children: [(0, jsx_runtime_1.jsxs)(card_1.CardHeader, { className: 'text-center', children: [(0, jsx_runtime_1.jsx)(card_1.CardTitle, { className: 'text-2xl font-bold', children: "Lien invalide" }), (0, jsx_runtime_1.jsx)(card_1.CardDescription, { children: "Le lien de r\u00E9initialisation est invalide ou manquant." })] }), (0, jsx_runtime_1.jsx)(card_1.CardContent, { children: (0, jsx_runtime_1.jsxs)("div", { className: 'space-y-4', children: [(0, jsx_runtime_1.jsx)(button_1.Button, { asChild: true, className: 'w-full', children: (0, jsx_runtime_1.jsx)(wouter_1.Link, { href: '/forgot-password', children: "Demander un nouveau lien" }) }), (0, jsx_runtime_1.jsx)(button_1.Button, { variant: 'ghost', asChild: true, className: 'w-full', children: (0, jsx_runtime_1.jsxs)(wouter_1.Link, { href: '/login', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.ArrowLeft, { className: 'w-4 h-4 mr-2' }), "Retour \u00E0 la connexion"] }) })] }) })] }) }));
    }
    return ((0, jsx_runtime_1.jsx)("div", { className: 'min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800', children: (0, jsx_runtime_1.jsxs)(card_1.Card, { className: 'w-full max-w-md', children: [(0, jsx_runtime_1.jsxs)(card_1.CardHeader, { className: 'text-center', children: [(0, jsx_runtime_1.jsx)(card_1.CardTitle, { className: 'text-2xl font-bold', children: "R\u00E9initialiser le mot de passe" }), (0, jsx_runtime_1.jsx)(card_1.CardDescription, { children: "Entrez votre nouveau mot de passe" })] }), (0, jsx_runtime_1.jsx)(card_1.CardContent, { children: (0, jsx_runtime_1.jsx)(form_1.Form, { ...form, children: (0, jsx_runtime_1.jsxs)("form", { onSubmit: form.handleSubmit(onSubmit), className: 'space-y-6', children: [(0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'password', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Nouveau mot de passe" }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsxs)("div", { className: 'relative', children: [(0, jsx_runtime_1.jsx)(input_1.Input, { type: showPassword ? 'text' : 'password', placeholder: 'Entrez votre nouveau mot de passe', className: 'pr-10', "data-testid": 'input-password', ...field }), (0, jsx_runtime_1.jsxs)(button_1.Button, { type: 'button', variant: 'ghost', size: 'sm', className: 'absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent', onClick: () => setShowPassword(!showPassword), "data-testid": 'button-toggle-password', children: [showPassword ? ((0, jsx_runtime_1.jsx)(lucide_react_1.EyeOff, { className: 'h-4 w-4 text-gray-400' })) : ((0, jsx_runtime_1.jsx)(lucide_react_1.Eye, { className: 'h-4 w-4 text-gray-400' })), (0, jsx_runtime_1.jsx)("span", { className: 'sr-only', children: showPassword ? 'Masquer le mot de passe' : 'Afficher le mot de passe' })] })] }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'confirmPassword', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Confirmer le mot de passe" }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsxs)("div", { className: 'relative', children: [(0, jsx_runtime_1.jsx)(input_1.Input, { type: showConfirmPassword ? 'text' : 'password', placeholder: 'Confirmez votre nouveau mot de passe', className: 'pr-10', "data-testid": 'input-confirm-password', ...field }), (0, jsx_runtime_1.jsxs)(button_1.Button, { type: 'button', variant: 'ghost', size: 'sm', className: 'absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent', onClick: () => setShowConfirmPassword(!showConfirmPassword), "data-testid": 'button-toggle-confirm-password', children: [showConfirmPassword ? ((0, jsx_runtime_1.jsx)(lucide_react_1.EyeOff, { className: 'h-4 w-4 text-gray-400' })) : ((0, jsx_runtime_1.jsx)(lucide_react_1.Eye, { className: 'h-4 w-4 text-gray-400' })), (0, jsx_runtime_1.jsx)("span", { className: 'sr-only', children: showConfirmPassword
                                                                        ? 'Masquer le mot de passe'
                                                                        : 'Afficher le mot de passe' })] })] }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(button_1.Button, { type: 'submit', className: 'w-full', disabled: isSubmitting, children: isSubmitting ? 'Réinitialisation...' : 'Réinitialiser le mot de passe' }), (0, jsx_runtime_1.jsx)("div", { className: 'text-center', children: (0, jsx_runtime_1.jsx)(button_1.Button, { variant: 'ghost', asChild: true, children: (0, jsx_runtime_1.jsxs)(wouter_1.Link, { href: '/login', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.ArrowLeft, { className: 'w-4 h-4 mr-2' }), "Retour \u00E0 la connexion"] }) }) })] }) }) })] }) }));
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9jbGllbnQvc3JjL3BhZ2VzL2F1dGgvcmVzZXQtcGFzc3dvcmQudHN4IiwibWFwcGluZ3MiOiI7O0FBOENBLG9DQXNUQzs7QUFwV0QsaUNBQTRDO0FBQzVDLG1DQUEyQztBQUMzQyxxREFBMEM7QUFDMUMsaURBQXNEO0FBQ3RELDZCQUF3QjtBQUN4QixtREFBZ0Q7QUFDaEQsaURBQThDO0FBQzlDLCtDQU84QjtBQUM5QiwrQ0FBaUc7QUFDakcsaURBQTZDO0FBQzdDLG1EQUErQztBQUMvQywrQ0FBbUU7QUFFbkUsTUFBTSxtQkFBbUIsR0FBRyxPQUFDO0tBQzFCLE1BQU0sQ0FBQztJQUNOLFFBQVEsRUFBRSxPQUFDO1NBQ1IsTUFBTSxFQUFFO1NBQ1IsR0FBRyxDQUFDLENBQUMsRUFBRSxvQ0FBb0MsQ0FBQztTQUM1QyxHQUFHLENBQUMsQ0FBQyxFQUFFLGtGQUFrRixDQUFDO1NBQzFGLEdBQUcsQ0FBQyxHQUFHLEVBQUUscURBQXFELENBQUM7U0FDL0QsS0FBSyxDQUNKLGlDQUFpQyxFQUNqQyxnSEFBZ0gsQ0FDakg7SUFDSCxlQUFlLEVBQUUsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsNkNBQTZDLENBQUM7Q0FDbEYsQ0FBQztLQUNELE1BQU0sQ0FBQyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsS0FBSyxDQUFDLFFBQVEsS0FBSyxLQUFLLENBQUMsZUFBZSxFQUFFO0lBQzNELE9BQU8sRUFBRSxvR0FBb0c7SUFDN0csSUFBSSxFQUFFLENBQUMsaUJBQWlCLENBQUM7Q0FDMUIsQ0FBQyxDQUFDO0FBT0w7O0dBRUc7QUFDSCxTQU1BLGlCQUFpQjtJQUNmLE1BQU0sQ0FBQyxZQUFZLEVBQUUsZUFBZSxDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3hELE1BQU0sQ0FBQyxhQUFhLEVBQUUsZ0JBQWdCLENBQUMsR0FBRyxJQUFBLGdCQUFRLEVBQUMsS0FBSyxDQUFDLENBQUM7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SSxFQUFDLFFBQVEsYUFDakIsdUJBQUMsd0JBQVMsSUFBQyxTQUFTLEVBQUMsY0FBYyxHQUFHLGtDQUVqQyxHQUNBLEdBQ0wsSUFDRCxHQUNGLEdBQ0ssSUFDVCxHQUNILENBQ1AsQ0FBQztBQUNKLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9jbGllbnQvc3JjL3BhZ2VzL2F1dGgvcmVzZXQtcGFzc3dvcmQudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBMaW5rLCB1c2VMb2NhdGlvbiB9IGZyb20gJ3dvdXRlcic7XG5pbXBvcnQgeyB1c2VGb3JtIH0gZnJvbSAncmVhY3QtaG9vay1mb3JtJztcbmltcG9ydCB7IHpvZFJlc29sdmVyIH0gZnJvbSAnQGhvb2tmb3JtL3Jlc29sdmVycy96b2QnO1xuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJztcbmltcG9ydCB7IElucHV0IH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2lucHV0JztcbmltcG9ydCB7XG4gIEZvcm0sXG4gIEZvcm1Db250cm9sLFxuICBGb3JtRmllbGQsXG4gIEZvcm1JdGVtLFxuICBGb3JtTGFiZWwsXG4gIEZvcm1NZXNzYWdlLFxufSBmcm9tICdAL2NvbXBvbmVudHMvdWkvZm9ybSc7XG5pbXBvcnQgeyBDYXJkLCBDYXJkQ29udGVudCwgQ2FyZERlc2NyaXB0aW9uLCBDYXJkSGVhZGVyLCBDYXJkVGl0bGUgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvY2FyZCc7XG5pbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gJ0AvaG9va3MvdXNlLXRvYXN0JztcbmltcG9ydCB7IGFwaVJlcXVlc3QgfSBmcm9tICdAL2xpYi9xdWVyeUNsaWVudCc7XG5pbXBvcnQgeyBFeWUsIEV5ZU9mZiwgQ2hlY2tDaXJjbGUsIEFycm93TGVmdCB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5cbmNvbnN0IHJlc2V0UGFzc3dvcmRTY2hlbWEgPSB6XG4gIC5vYmplY3Qoe1xuICAgIHBhc3N3b3JkOiB6XG4gICAgICAuc3RyaW5nKClcbiAgICAgIC5taW4oMSwgJ0xlIG5vdXZlYXUgbW90IGRlIHBhc3NlIGVzdCByZXF1aXMnKVxuICAgICAgLm1pbig4LCAnTGUgbW90IGRlIHBhc3NlIGRvaXQgY29udGVuaXIgYXUgbW9pbnMgOCBjYXJhY3TDqHJlcyAoZXhlbXBsZTogTW9uTW90RGVQYXNzZTEyMyEpJylcbiAgICAgIC5tYXgoMTAwLCAnTGUgbW90IGRlIHBhc3NlIG5lIHBldXQgcGFzIGTDqXBhc3NlciAxMDAgY2FyYWN0w6hyZXMnKVxuICAgICAgLnJlZ2V4KFxuICAgICAgICAvXig/PS4qW2Etel0pKD89LipbQS1aXSkoPz0uKlxcZCkvLFxuICAgICAgICAnTGUgbW90IGRlIHBhc3NlIGRvaXQgY29udGVuaXIgYXUgbW9pbnMgdW5lIG1pbnVzY3VsZSwgdW5lIG1hanVzY3VsZSBldCB1biBjaGlmZnJlIChleGVtcGxlOiBNb25Nb3REZVBhc3NlMTIzISknXG4gICAgICApLFxuICAgIGNvbmZpcm1QYXNzd29yZDogei5zdHJpbmcoKS5taW4oMSwgJ0xhIGNvbmZpcm1hdGlvbiBkdSBtb3QgZGUgcGFzc2UgZXN0IHJlcXVpc2UnKSxcbiAgfSlcbiAgLnJlZmluZSgoX2RhdGEpID0+IF9kYXRhLnBhc3N3b3JkID09PSBfZGF0YS5jb25maXJtUGFzc3dvcmQsIHtcbiAgICBtZXNzYWdlOiAnTGVzIG1vdHMgZGUgcGFzc2UgbmUgY29ycmVzcG9uZGVudCBwYXMgLSB2ZXVpbGxleiBzYWlzaXIgbGUgbcOqbWUgbW90IGRlIHBhc3NlIGRhbnMgbGVzIGRldXggY2hhbXBzJyxcbiAgICBwYXRoOiBbJ2NvbmZpcm1QYXNzd29yZCddLFxuICB9KTtcblxuLyoqXG4gKlxuICovXG50eXBlIFJlc2V0UGFzc3dvcmRGb3JtID0gei5pbmZlcjx0eXBlb2YgcmVzZXRQYXNzd29yZFNjaGVtYT47XG5cbi8qKlxuICpcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gLyoqXG4gKiBSZXNldCBwYXNzd29yZCBwYWdlIGZ1bmN0aW9uLlxuICovIC8qKlxuICogUmVzZXQgcGFzc3dvcmQgcGFnZSBmdW5jdGlvbi5cbiAqL1xuXG5SZXNldFBhc3N3b3JkUGFnZSgpIHtcbiAgY29uc3QgW2lzU3VibWl0dGluZywgc2V0SXNTdWJtaXR0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Jlc2V0Q29tcGxldGUsIHNldFJlc2V0Q29tcGxldGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd1Bhc3N3b3JkLCBzZXRTaG93UGFzc3dvcmRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd0NvbmZpcm1QYXNzd29yZCwgc2V0U2hvd0NvbmZpcm1QYXNzd29yZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFt0b2tlbiwgc2V0VG9rZW5dID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFssIG5hdmlnYXRlXSA9IHVzZUxvY2F0aW9uKCk7XG4gIGNvbnN0IHsgdG9hc3QgfSA9IHVzZVRvYXN0KCk7XG5cbiAgY29uc3QgZm9ybSA9IHVzZUZvcm08UmVzZXRQYXNzd29yZEZvcm0+KHtcbiAgICByZXNvbHZlcjogem9kUmVzb2x2ZXIocmVzZXRQYXNzd29yZFNjaGVtYSksXG4gICAgZGVmYXVsdFZhbHVlczoge1xuICAgICAgcGFzc3dvcmQ6ICcnLFxuICAgICAgY29uZmlybVBhc3N3b3JkOiAnJyxcbiAgICB9LFxuICB9KTtcblxuICAvLyBFeHRyYWN0IHRva2VuIGZyb20gVVJMIHBhcmFtZXRlcnNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xuICAgIGNvbnN0IHRva2VuUGFyYW0gPSB1cmxQYXJhbXMuZ2V0KCd0b2tlbicpOyAvKipcbiAgICAgKiBJZiBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0gIXRva2VuUGFyYW0gLSAhdG9rZW5QYXJhbSBwYXJhbWV0ZXIuXG4gICAgICovIC8qKlxuICAgICAqIElmIGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSAhdG9rZW5QYXJhbSAtICF0b2tlblBhcmFtIHBhcmFtZXRlci5cbiAgICAgKi9cblxuICAgIGlmICghdG9rZW5QYXJhbSkge1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ1Rva2VuIG1hbnF1YW50JyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdMZSBsaWVuIGRlIHLDqWluaXRpYWxpc2F0aW9uIGVzdCBpbnZhbGlkZSBvdSBtYW5xdWFudC4nLFxuICAgICAgICB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLFxuICAgICAgfSk7XG4gICAgICBuYXZpZ2F0ZSgnL2xvZ2luJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0VG9rZW4odG9rZW5QYXJhbSk7XG4gIH0sIFtuYXZpZ2F0ZSwgdG9hc3RdKTtcblxuICBjb25zdCBvblN1Ym1pdCA9IGFzeW5jIChfZGF0YTogUmVzZXRQYXNzd29yZEZvcm0pID0+IHtcbiAgICAvKipcbiAgICAgKiBJZiBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0gIXRva2VuIC0gIXRva2VuIHBhcmFtZXRlci5cbiAgICAgKi8gLyoqXG4gICAgICogSWYgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtICF0b2tlbiAtICF0b2tlbiBwYXJhbWV0ZXIuXG4gICAgICovXG5cbiAgICBpZiAoIXRva2VuKSB7XG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiAnRXJyZXVyJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdUb2tlbiBkZSByw6lpbml0aWFsaXNhdGlvbiBtYW5xdWFudC4nLFxuICAgICAgICB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0SXNTdWJtaXR0aW5nKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBhcGlSZXF1ZXN0KCdQT1NUJywgJy9hcGkvYXV0aC9yZXNldC1wYXNzd29yZCcsIHtcbiAgICAgICAgdG9rZW4sXG4gICAgICAgIHBhc3N3b3JkOiBfZGF0YS5wYXNzd29yZCxcbiAgICAgIH0pO1xuXG4gICAgICBzZXRSZXNldENvbXBsZXRlKHRydWUpO1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ01vdCBkZSBwYXNzZSByw6lpbml0aWFsaXPDqScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVm90cmUgbW90IGRlIHBhc3NlIGEgw6l0w6kgbWlzIMOgIGpvdXIgYXZlYyBzdWNjw6hzLicsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChfZXJyb3I6IHVua25vd24pIHtcbiAgICAgIC8qKlxuICAgICAgICogQ2F0Y2ggZnVuY3Rpb24uXG4gICAgICAgKiBAcGFyYW0gZXJyb3IgLSBFcnJvciBvYmplY3QuXG4gICAgICAgKi8gLyoqXG4gICAgICAgKiBDYXRjaCBmdW5jdGlvbi5cbiAgICAgICAqIEBwYXJhbSBlcnJvciAtIEVycm9yIG9iamVjdC5cbiAgICAgICAqL1xuXG4gICAgICBsZXQgZXJyb3JNZXNzYWdlID0gJ1VuZSBlcnJldXIgZXN0IHN1cnZlbnVlIGxvcnMgZGUgbGEgcsOpaW5pdGlhbGlzYXRpb24gZHUgbW90IGRlIHBhc3NlLic7IC8qKlxuICAgICAgICogSWYgZnVuY3Rpb24uXG4gICAgICAgKiBAcGFyYW0gZXJyb3IuY29kZSA9PT0gJ0lOVkFMSURfVE9LRU4nIHx8IGVycm9yLmNvZGUgPT09ICdUT0tFTl9FWFBJUkVEJyAtIGVycm9yLmNvZGUgPT09ICdJTlZBTElEX1RPS0VOJyB8fCBlcnJvci5jb2RlID09PSAnVE9LRU5fRVhQSVJFRCcgcGFyYW1ldGVyLlxuICAgICAgICovIC8qKlxuICAgICAgICogSWYgZnVuY3Rpb24uXG4gICAgICAgKiBAcGFyYW0gZXJyb3IuY29kZSA9PT0gJ0lOVkFMSURfVE9LRU4nIHx8IGVycm9yLmNvZGUgPT09ICdUT0tFTl9FWFBJUkVEJyAtIGVycm9yLmNvZGUgPT09ICdJTlZBTElEX1RPS0VOJyB8fCBlcnJvci5jb2RlID09PSAnVE9LRU5fRVhQSVJFRCcgcGFyYW1ldGVyLlxuICAgICAgICovXG5cbiAgICAgIGlmICgoX2Vycm9yIGFzIGFueSkuY29kZSA9PT0gJ0lOVkFMSURfVE9LRU4nIHx8IChfZXJyb3IgYXMgYW55KS5jb2RlID09PSAnVE9LRU5fRVhQSVJFRCcpIHtcbiAgICAgICAgZXJyb3JNZXNzYWdlID1cbiAgICAgICAgICAnTGUgbGllbiBkZSByw6lpbml0aWFsaXNhdGlvbiBlc3QgaW52YWxpZGUgb3UgZXhwaXLDqS4gVmV1aWxsZXogZGVtYW5kZXIgdW4gbm91dmVhdSBsaWVuLic7XG4gICAgICB9IGVsc2UgaWYgKChfZXJyb3IgYXMgYW55KS5jb2RlID09PSAnVE9LRU5fQUxSRUFEWV9VU0VEJykge1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgZnVuY3Rpb24uXG4gICAgICAgICAqIEBwYXJhbSBlcnJvci5jb2RlID09PSAnVE9LRU5fQUxSRUFEWV9VU0VEJyAtIGVycm9yLmNvZGUgPT09ICdUT0tFTl9BTFJFQURZX1VTRUQnIHBhcmFtZXRlci5cbiAgICAgICAgICovIC8qKlxuICAgICAgICAgKiBJZiBmdW5jdGlvbi5cbiAgICAgICAgICogQHBhcmFtIGVycm9yLmNvZGUgPT09ICdUT0tFTl9BTFJFQURZX1VTRUQnIC0gZXJyb3IuY29kZSA9PT0gJ1RPS0VOX0FMUkVBRFlfVVNFRCcgcGFyYW1ldGVyLlxuICAgICAgICAgKi9cblxuICAgICAgICBlcnJvck1lc3NhZ2UgPSAnQ2UgbGllbiBkZSByw6lpbml0aWFsaXNhdGlvbiBhIGTDqWrDoCDDqXTDqSB1dGlsaXPDqS4nO1xuICAgICAgfSBlbHNlIGlmICgoX2Vycm9yIGFzIGFueSkuY29kZSA9PT0gJ1BBU1NXT1JEX1RPT19TSE9SVCcpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGZ1bmN0aW9uLlxuICAgICAgICAgKiBAcGFyYW0gZXJyb3IuY29kZSA9PT0gJ1BBU1NXT1JEX1RPT19TSE9SVCcgLSBlcnJvci5jb2RlID09PSAnUEFTU1dPUkRfVE9PX1NIT1JUJyBwYXJhbWV0ZXIuXG4gICAgICAgICAqLyAvKipcbiAgICAgICAgICogSWYgZnVuY3Rpb24uXG4gICAgICAgICAqIEBwYXJhbSBlcnJvci5jb2RlID09PSAnUEFTU1dPUkRfVE9PX1NIT1JUJyAtIGVycm9yLmNvZGUgPT09ICdQQVNTV09SRF9UT09fU0hPUlQnIHBhcmFtZXRlci5cbiAgICAgICAgICovXG5cbiAgICAgICAgZXJyb3JNZXNzYWdlID0gJ0xlIG1vdCBkZSBwYXNzZSBkb2l0IGNvbnRlbmlyIGF1IG1vaW5zIDggY2FyYWN0w6hyZXMuJztcbiAgICAgIH0gZWxzZSBpZiAoKF9lcnJvciBhcyBhbnkpLmNvZGUgPT09ICdQQVNTV09SRF9UT09fV0VBSycpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGZ1bmN0aW9uLlxuICAgICAgICAgKiBAcGFyYW0gZXJyb3IuY29kZSA9PT0gJ1BBU1NXT1JEX1RPT19XRUFLJyAtIGVycm9yLmNvZGUgPT09ICdQQVNTV09SRF9UT09fV0VBSycgcGFyYW1ldGVyLlxuICAgICAgICAgKi8gLyoqXG4gICAgICAgICAqIElmIGZ1bmN0aW9uLlxuICAgICAgICAgKiBAcGFyYW0gZXJyb3IuY29kZSA9PT0gJ1BBU1NXT1JEX1RPT19XRUFLJyAtIGVycm9yLmNvZGUgPT09ICdQQVNTV09SRF9UT09fV0VBSycgcGFyYW1ldGVyLlxuICAgICAgICAgKi9cblxuICAgICAgICBlcnJvck1lc3NhZ2UgPVxuICAgICAgICAgICdMZSBtb3QgZGUgcGFzc2UgZG9pdCBjb250ZW5pciBhdSBtb2lucyB1bmUgbWFqdXNjdWxlLCB1bmUgbWludXNjdWxlIGV0IHVuIGNoaWZmcmUuJztcbiAgICAgIH1cblxuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ0VycmV1cicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBlcnJvck1lc3NhZ2UsXG4gICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsXG4gICAgICB9KTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNTdWJtaXR0aW5nKGZhbHNlKTtcbiAgICB9XG4gIH07IC8qKlxuICAgKiBJZiBmdW5jdGlvbi5cbiAgICogQHBhcmFtIHJlc2V0Q29tcGxldGUgLSBSZXNldENvbXBsZXRlIHBhcmFtZXRlci5cbiAgICovIC8qKlxuICAgKiBJZiBmdW5jdGlvbi5cbiAgICogQHBhcmFtIHJlc2V0Q29tcGxldGUgLSBSZXNldENvbXBsZXRlIHBhcmFtZXRlci5cbiAgICovXG5cbiAgaWYgKHJlc2V0Q29tcGxldGUpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9J21pbi1oLXNjcmVlbiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ncmFkaWVudC10by1iciBmcm9tLWJsdWUtNTAgdG8taW5kaWdvLTEwMCBkYXJrOmZyb20tZ3JheS05MDAgZGFyazp0by1ncmF5LTgwMCc+XG4gICAgICAgIDxDYXJkIGNsYXNzTmFtZT0ndy1mdWxsIG1heC13LW1kJz5cbiAgICAgICAgICA8Q2FyZEhlYWRlciBjbGFzc05hbWU9J3RleHQtY2VudGVyJz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdteC1hdXRvIHctMTIgaC0xMiBiZy1ncmVlbi0xMDAgZGFyazpiZy1ncmVlbi05MDAgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG1iLTQnPlxuICAgICAgICAgICAgICA8Q2hlY2tDaXJjbGUgY2xhc3NOYW1lPSd3LTYgaC02IHRleHQtZ3JlZW4tNjAwIGRhcms6dGV4dC1ncmVlbi00MDAnIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPSd0ZXh0LTJ4bCBmb250LWJvbGQnPk1vdCBkZSBwYXNzZSByw6lpbml0aWFsaXPDqTwvQ2FyZFRpdGxlPlxuICAgICAgICAgICAgPENhcmREZXNjcmlwdGlvbj5cbiAgICAgICAgICAgICAgVm90cmUgbW90IGRlIHBhc3NlIGEgw6l0w6kgbWlzIMOgIGpvdXIgYXZlYyBzdWNjw6hzLiBWb3VzIHBvdXZleiBtYWludGVuYW50IHZvdXMgY29ubmVjdGVyXG4gICAgICAgICAgICAgIGF2ZWMgdm90cmUgbm91dmVhdSBtb3QgZGUgcGFzc2UuXG4gICAgICAgICAgICA8L0NhcmREZXNjcmlwdGlvbj5cbiAgICAgICAgICA8L0NhcmRIZWFkZXI+XG4gICAgICAgICAgPENhcmRDb250ZW50PlxuICAgICAgICAgICAgPEJ1dHRvbiBhc0NoaWxkIGNsYXNzTmFtZT0ndy1mdWxsJz5cbiAgICAgICAgICAgICAgPExpbmsgaHJlZj0nL2xvZ2luJz5TZSBjb25uZWN0ZXI8L0xpbms+XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgICA8L0NhcmQ+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9IC8qKlxuICAgKiBJZiBmdW5jdGlvbi5cbiAgICogQHBhcmFtICF0b2tlbiAtICF0b2tlbiBwYXJhbWV0ZXIuXG4gICAqLyAvKipcbiAgICogSWYgZnVuY3Rpb24uXG4gICAqIEBwYXJhbSAhdG9rZW4gLSAhdG9rZW4gcGFyYW1ldGVyLlxuICAgKi9cblxuICBpZiAoIXRva2VuKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdtaW4taC1zY3JlZW4gZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1ibHVlLTUwIHRvLWluZGlnby0xMDAgZGFyazpmcm9tLWdyYXktOTAwIGRhcms6dG8tZ3JheS04MDAnPlxuICAgICAgICA8Q2FyZCBjbGFzc05hbWU9J3ctZnVsbCBtYXgtdy1tZCc+XG4gICAgICAgICAgPENhcmRIZWFkZXIgY2xhc3NOYW1lPSd0ZXh0LWNlbnRlcic+XG4gICAgICAgICAgICA8Q2FyZFRpdGxlIGNsYXNzTmFtZT0ndGV4dC0yeGwgZm9udC1ib2xkJz5MaWVuIGludmFsaWRlPC9DYXJkVGl0bGU+XG4gICAgICAgICAgICA8Q2FyZERlc2NyaXB0aW9uPkxlIGxpZW4gZGUgcsOpaW5pdGlhbGlzYXRpb24gZXN0IGludmFsaWRlIG91IG1hbnF1YW50LjwvQ2FyZERlc2NyaXB0aW9uPlxuICAgICAgICAgIDwvQ2FyZEhlYWRlcj5cbiAgICAgICAgICA8Q2FyZENvbnRlbnQ+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc3BhY2UteS00Jz5cbiAgICAgICAgICAgICAgPEJ1dHRvbiBhc0NoaWxkIGNsYXNzTmFtZT0ndy1mdWxsJz5cbiAgICAgICAgICAgICAgICA8TGluayBocmVmPScvZm9yZ290LXBhc3N3b3JkJz5EZW1hbmRlciB1biBub3V2ZWF1IGxpZW48L0xpbms+XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9J2dob3N0JyBhc0NoaWxkIGNsYXNzTmFtZT0ndy1mdWxsJz5cbiAgICAgICAgICAgICAgICA8TGluayBocmVmPScvbG9naW4nPlxuICAgICAgICAgICAgICAgICAgPEFycm93TGVmdCBjbGFzc05hbWU9J3ctNCBoLTQgbXItMicgLz5cbiAgICAgICAgICAgICAgICAgIFJldG91ciDDoCBsYSBjb25uZXhpb25cbiAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9DYXJkQ29udGVudD5cbiAgICAgICAgPC9DYXJkPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9J21pbi1oLXNjcmVlbiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ncmFkaWVudC10by1iciBmcm9tLWJsdWUtNTAgdG8taW5kaWdvLTEwMCBkYXJrOmZyb20tZ3JheS05MDAgZGFyazp0by1ncmF5LTgwMCc+XG4gICAgICA8Q2FyZCBjbGFzc05hbWU9J3ctZnVsbCBtYXgtdy1tZCc+XG4gICAgICAgIDxDYXJkSGVhZGVyIGNsYXNzTmFtZT0ndGV4dC1jZW50ZXInPlxuICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPSd0ZXh0LTJ4bCBmb250LWJvbGQnPlLDqWluaXRpYWxpc2VyIGxlIG1vdCBkZSBwYXNzZTwvQ2FyZFRpdGxlPlxuICAgICAgICAgIDxDYXJkRGVzY3JpcHRpb24+RW50cmV6IHZvdHJlIG5vdXZlYXUgbW90IGRlIHBhc3NlPC9DYXJkRGVzY3JpcHRpb24+XG4gICAgICAgIDwvQ2FyZEhlYWRlcj5cbiAgICAgICAgPENhcmRDb250ZW50PlxuICAgICAgICAgIDxGb3JtIHsuLi5mb3JtfT5cbiAgICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXtmb3JtLmhhbmRsZVN1Ym1pdChvblN1Ym1pdCl9IGNsYXNzTmFtZT0nc3BhY2UteS02Jz5cbiAgICAgICAgICAgICAgPEZvcm1GaWVsZFxuICAgICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH1cbiAgICAgICAgICAgICAgICBuYW1lPSdwYXNzd29yZCdcbiAgICAgICAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+IChcbiAgICAgICAgICAgICAgICAgIDxGb3JtSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1MYWJlbD5Ob3V2ZWF1IG1vdCBkZSBwYXNzZTwvRm9ybUxhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3JlbGF0aXZlJz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPXtzaG93UGFzc3dvcmQgPyAndGV4dCcgOiAncGFzc3dvcmQnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj0nRW50cmV6IHZvdHJlIG5vdXZlYXUgbW90IGRlIHBhc3NlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3ByLTEwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD0naW5wdXQtcGFzc3dvcmQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsuLi5maWVsZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9J2J1dHRvbidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD0nZ2hvc3QnXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9J3NtJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2Fic29sdXRlIHJpZ2h0LTAgdG9wLTAgaC1mdWxsIHB4LTMgcHktMiBob3ZlcjpiZy10cmFuc3BhcmVudCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd1Bhc3N3b3JkKCFzaG93UGFzc3dvcmQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD0nYnV0dG9uLXRvZ2dsZS1wYXNzd29yZCdcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge3Nob3dQYXNzd29yZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RXllT2ZmIGNsYXNzTmFtZT0naC00IHctNCB0ZXh0LWdyYXktNDAwJyAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxFeWUgY2xhc3NOYW1lPSdoLTQgdy00IHRleHQtZ3JheS00MDAnIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nc3Itb25seSc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3Nob3dQYXNzd29yZCA/ICdNYXNxdWVyIGxlIG1vdCBkZSBwYXNzZScgOiAnQWZmaWNoZXIgbGUgbW90IGRlIHBhc3NlJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPlxuICAgICAgICAgICAgICAgICAgPC9Gb3JtSXRlbT5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgIDxGb3JtRmllbGRcbiAgICAgICAgICAgICAgICBjb250cm9sPXtmb3JtLmNvbnRyb2x9XG4gICAgICAgICAgICAgICAgbmFtZT0nY29uZmlybVBhc3N3b3JkJ1xuICAgICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKFxuICAgICAgICAgICAgICAgICAgPEZvcm1JdGVtPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsPkNvbmZpcm1lciBsZSBtb3QgZGUgcGFzc2U8L0Zvcm1MYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdyZWxhdGl2ZSc+XG4gICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT17c2hvd0NvbmZpcm1QYXNzd29yZCA/ICd0ZXh0JyA6ICdwYXNzd29yZCd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPSdDb25maXJtZXogdm90cmUgbm91dmVhdSBtb3QgZGUgcGFzc2UnXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0ncHItMTAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPSdpbnB1dC1jb25maXJtLXBhc3N3b3JkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICB7Li4uZmllbGR9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPSdidXR0b24nXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9J2dob3N0J1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPSdzbSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdhYnNvbHV0ZSByaWdodC0wIHRvcC0wIGgtZnVsbCBweC0zIHB5LTIgaG92ZXI6YmctdHJhbnNwYXJlbnQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dDb25maXJtUGFzc3dvcmQoIXNob3dDb25maXJtUGFzc3dvcmQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD0nYnV0dG9uLXRvZ2dsZS1jb25maXJtLXBhc3N3b3JkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7c2hvd0NvbmZpcm1QYXNzd29yZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RXllT2ZmIGNsYXNzTmFtZT0naC00IHctNCB0ZXh0LWdyYXktNDAwJyAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxFeWUgY2xhc3NOYW1lPSdoLTQgdy00IHRleHQtZ3JheS00MDAnIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nc3Itb25seSc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3Nob3dDb25maXJtUGFzc3dvcmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ01hc3F1ZXIgbGUgbW90IGRlIHBhc3NlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnQWZmaWNoZXIgbGUgbW90IGRlIHBhc3NlJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPlxuICAgICAgICAgICAgICAgICAgPC9Gb3JtSXRlbT5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgIDxCdXR0b24gdHlwZT0nc3VibWl0JyBjbGFzc05hbWU9J3ctZnVsbCcgZGlzYWJsZWQ9e2lzU3VibWl0dGluZ30+XG4gICAgICAgICAgICAgICAge2lzU3VibWl0dGluZyA/ICdSw6lpbml0aWFsaXNhdGlvbi4uLicgOiAnUsOpaW5pdGlhbGlzZXIgbGUgbW90IGRlIHBhc3NlJ31cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3RleHQtY2VudGVyJz5cbiAgICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9J2dob3N0JyBhc0NoaWxkPlxuICAgICAgICAgICAgICAgICAgPExpbmsgaHJlZj0nL2xvZ2luJz5cbiAgICAgICAgICAgICAgICAgICAgPEFycm93TGVmdCBjbGFzc05hbWU9J3ctNCBoLTQgbXItMicgLz5cbiAgICAgICAgICAgICAgICAgICAgUmV0b3VyIMOgIGxhIGNvbm5leGlvblxuICAgICAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICA8L0NhcmQ+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwidmVyc2lvbiI6M30=