e7e2fae7ac67102617b154c879fe7ce4
"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = ModularBillForm;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = __importStar(require("react"));
const react_hook_form_1 = require("react-hook-form");
const zod_1 = require("@hookform/resolvers/zod");
const react_query_1 = require("@tanstack/react-query");
const zod_2 = require("zod");
const button_1 = require("@/components/ui/button");
const input_1 = require("@/components/ui/input");
const textarea_1 = require("@/components/ui/textarea");
const badge_1 = require("@/components/ui/badge");
const tabs_1 = require("@/components/ui/tabs");
const card_1 = require("@/components/ui/card");
const form_1 = require("@/components/ui/form");
const select_1 = require("@/components/ui/select");
const lucide_react_1 = require("lucide-react");
const use_language_1 = require("@/hooks/use-language");
const use_toast_1 = require("@/hooks/use-toast");
const queryClient_1 = require("@/lib/queryClient");
const utils_1 = require("@/lib/utils");
const document_management_1 = require("@/components/document-management");
const GeminiBillExtractor_1 = require("./GeminiBillExtractor");
// Unified form schema (simplified from original)
const billFormSchema = zod_2.z.object({
    title: zod_2.z.string().min(1, 'Bill title is required').max(200, 'Title must be less than 200 characters'),
    description: zod_2.z.string().max(1000, 'Description must be less than 1000 characters').optional(),
    category: zod_2.z.enum([
        'insurance',
        'maintenance',
        'salary',
        'utilities',
        'cleaning',
        'security',
        'landscaping',
        'professional_services',
        'administration',
        'repairs',
        'supplies',
        'taxes',
        'technology',
        'reserves',
        'other',
    ]),
    vendor: zod_2.z.string().max(150, 'Vendor name must be less than 150 characters').optional(),
    paymentType: zod_2.z.enum(['unique', 'recurrent']),
    schedulePayment: zod_2.z.enum(['weekly', 'monthly', 'quarterly', 'yearly', 'custom']).optional(),
    customPayments: zod_2.z.array(zod_2.z.object({
        amount: zod_2.z.string().min(1, 'Amount is required').refine((val) => {
            const num = parseFloat(val);
            return !isNaN(num) && num > 0 && num <= 999999.99;
        }, 'Amount must be between $0.01 and $999,999.99'),
        date: zod_2.z.string().min(1, 'Date is required').refine((val) => {
            return !isNaN(Date.parse(val));
        }, 'Date must be a valid date'),
        description: zod_2.z.string().optional()
    })).optional(),
    totalAmount: zod_2.z.string().min(1, 'Amount is required and must be a valid number').refine((val) => {
        const num = parseFloat(val);
        return !isNaN(num) && num > 0 && num <= 999999.99;
    }, 'Amount must be between $0.01 and $999,999.99'),
    startDate: zod_2.z.string().min(1, 'Start date is required').refine((val) => {
        return !isNaN(Date.parse(val));
    }, 'Start date must be a valid date'),
    endDate: zod_2.z.string().optional().refine((val) => {
        if (!val)
            return true;
        return !isNaN(Date.parse(val));
    }, 'End date must be a valid date'),
    status: zod_2.z.enum(['draft', 'sent', 'overdue', 'paid', 'cancelled']),
    notes: zod_2.z.string().max(2000, 'Notes must be less than 2000 characters').optional(),
});
const BILL_CATEGORIES = [
    { value: 'utilities', label: 'Utilities' },
    { value: 'maintenance', label: 'Maintenance' },
    { value: 'insurance', label: 'Insurance' },
    { value: 'cleaning', label: 'Cleaning' },
    { value: 'security', label: 'Security' },
    { value: 'landscaping', label: 'Landscaping' },
    { value: 'professional_services', label: 'Professional Services' },
    { value: 'administration', label: 'Administration' },
    { value: 'repairs', label: 'Repairs' },
    { value: 'supplies', label: 'Supplies' },
    { value: 'taxes', label: 'Taxes' },
    { value: 'technology', label: 'Technology' },
    { value: 'salary', label: 'Salary' },
    { value: 'reserves', label: 'Reserves' },
    { value: 'other', label: 'Other' },
];
function ModularBillForm({ bill, onSuccess, onCancel, buildingId }) {
    const { t } = (0, use_language_1.useLanguage)();
    const { toast } = (0, use_toast_1.useToast)();
    const queryClient = (0, react_query_1.useQueryClient)();
    // State for AI extraction
    const [aiFile, setAiFile] = (0, react_1.useState)(null);
    const [isAiMode, setIsAiMode] = (0, react_1.useState)(false);
    const [aiExtractionData, setAiExtractionData] = (0, react_1.useState)(null);
    const [isExtracting, setIsExtracting] = (0, react_1.useState)(false);
    const [aiEnabled, setAiEnabled] = (0, react_1.useState)(true); // AI enabled by default for bills
    // State for manual document upload
    const [manualFile, setManualFile] = (0, react_1.useState)(null);
    const [customPayments, setCustomPayments] = (0, react_1.useState)([]);
    // Upload context for secure storage
    const uploadContext = {
        type: 'bills',
        organizationId: 'default', // Would be dynamic based on user's org
        buildingId,
        userRole: 'admin', // Would be dynamic based on user's role
        userId: 'current-user' // Would be dynamic based on current user
    };
    // Form setup
    const form = (0, react_hook_form_1.useForm)({
        resolver: (0, zod_1.zodResolver)(billFormSchema),
        defaultValues: {
            title: bill?.title || '',
            description: bill?.description || '',
            category: bill?.category || 'other',
            vendor: bill?.vendor || '',
            paymentType: bill?.paymentType || 'unique',
            schedulePayment: 'monthly',
            customPayments: [],
            totalAmount: bill?.totalAmount?.toString() || '',
            startDate: bill?.startDate || '',
            endDate: bill?.endDate || '',
            status: bill?.status || 'draft',
            notes: bill?.notes || '',
        }
    });
    const paymentType = form.watch('paymentType');
    const schedulePayment = form.watch('schedulePayment');
    // Handle AI extraction results
    const handleAiExtractionComplete = (data) => {
        // Handle loading state
        if (data.isLoading) {
            setIsExtracting(true);
            toast({
                title: 'AI Extraction Started',
                description: 'Processing your document... This may take a few seconds.',
            });
            return;
        }
        // Clear loading state
        setIsExtracting(false);
        if (data.success && data.formData) {
            setAiExtractionData(data.formData);
            // Auto-fill form with AI data
            Object.entries(data.formData).forEach(([key, value]) => {
                if (key === 'customPayments' && Array.isArray(value)) {
                    setCustomPayments(value);
                    form.setValue('customPayments', value);
                }
                else if (value && typeof value === 'string') {
                    form.setValue(key, value);
                }
            });
            toast({
                title: 'AI Extraction Complete',
                description: `Successfully extracted bill data with ${Math.round((data.confidence || 0.9) * 100)}% confidence`,
            });
        }
        else {
            toast({
                title: 'AI Extraction Failed',
                description: data.error || 'Failed to extract bill data',
                variant: 'destructive',
            });
        }
    };
    // Handle AI toggle
    const handleAiToggle = (enabled) => {
        setAiEnabled(enabled);
        if (!enabled) {
            setAiExtractionData(null);
            setIsExtracting(false);
        }
    };
    // Handle AI analysis completion
    const handleAiAnalysisComplete = (analysisData) => {
        if (analysisData.success) {
            setAiExtractionData(analysisData.extractedData);
            setIsExtracting(false);
            // Auto-populate form with extracted data
            if (analysisData.extractedData) {
                const data = analysisData.extractedData;
                if (data.title)
                    form.setValue('title', data.title);
                if (data.vendor)
                    form.setValue('vendor', data.vendor);
                if (data.amount)
                    form.setValue('totalAmount', data.amount.toString());
                if (data.category)
                    form.setValue('category', data.category);
                if (data.date)
                    form.setValue('startDate', data.date);
                if (data.description)
                    form.setValue('description', data.description);
            }
            toast({
                title: 'AI Analysis Complete',
                description: 'Bill data has been extracted and populated in the form.',
            });
        }
        else {
            setIsExtracting(false);
            toast({
                title: 'AI Analysis Failed',
                description: analysisData.error || 'Failed to analyze document',
                variant: 'destructive',
            });
        }
    };
    // Handle file upload from SharedUploader
    const handleFileUpload = (file, extractedText) => {
        if (file) {
            if (aiEnabled) {
                setAiFile(file);
                setIsAiMode(true);
                setIsExtracting(true);
            }
            else {
                setManualFile(file);
            }
        }
    };
    // Create/Update bill mutation
    const billMutation = (0, react_query_1.useMutation)({
        mutationFn: async (data) => {
            const endpoint = bill ? `/api/bills/${bill.id}` : '/api/bills';
            const method = bill ? 'PUT' : 'POST';
            const billData = {
                ...data,
                buildingId: buildingId || bill?.buildingId,
                costs: [data.totalAmount], // Convert single amount to costs array
            };
            const response = await (0, queryClient_1.apiRequest)(method, endpoint, billData);
            const billResponse = await response.json();
            // Upload document if one was attached (either from AI extraction or manual entry)
            const fileToUpload = aiFile || manualFile;
            if (!bill && fileToUpload) {
                try {
                    console.log('[BILL FORM] Uploading document:', fileToUpload.name, 'for bill:', billResponse.id);
                    const formData = new FormData();
                    formData.append('document', fileToUpload);
                    const uploadResponse = await fetch(`/api/bills/${billResponse.id}/upload-document`, {
                        method: 'POST',
                        credentials: 'include',
                        body: formData,
                    });
                    if (!uploadResponse.ok) {
                        const errorText = await uploadResponse.text();
                        console.error('[BILL FORM] Upload failed with status:', uploadResponse.status, errorText);
                        throw new Error(`Upload failed: ${uploadResponse.status} ${errorText}`);
                    }
                    const uploadResult = await uploadResponse.json();
                    console.log('[BILL FORM] Document upload successful:', uploadResult);
                    // Update the bill response with the document information from the upload
                    if (uploadResult.bill) {
                        billResponse.filePath = uploadResult.bill.filePath;
                        billResponse.fileName = uploadResult.bill.fileName;
                        billResponse.fileSize = uploadResult.bill.fileSize;
                        billResponse.isAiAnalyzed = uploadResult.bill.isAiAnalyzed;
                        billResponse.aiAnalysisData = uploadResult.bill.aiAnalysisData;
                    }
                    // Show success toast for document upload
                    toast({
                        title: 'Document Uploaded',
                        description: `${fileToUpload.name} has been attached to the bill`,
                    });
                }
                catch (uploadError) {
                    console.error('[BILL FORM] Failed to upload document:', uploadError);
                    toast({
                        title: 'Document Upload Failed',
                        description: `Failed to upload ${fileToUpload.name}. The bill was created but without the document.`,
                        variant: 'destructive',
                    });
                    // Don't fail the bill creation if document upload fails
                }
            }
            return billResponse;
        },
        onSuccess: (data) => {
            queryClient.invalidateQueries({ queryKey: ['/api/bills'] });
            toast({
                title: 'Success',
                description: `Bill ${bill ? 'updated' : 'created'} successfully`,
            });
            onSuccess?.(data.id, bill ? 'updated' : 'created');
        },
        onError: (error) => {
            toast({
                title: 'Error',
                description: error.message || `Failed to ${bill ? 'update' : 'create'} bill`,
                variant: 'destructive',
            });
        }
    });
    // Delete bill mutation
    const deleteBillMutation = (0, react_query_1.useMutation)({
        mutationFn: async () => {
            if (!bill?.id)
                throw new Error('No bill ID provided for deletion');
            return (0, queryClient_1.apiRequest)('DELETE', `/api/bills/${bill.id}`, null);
        },
        onSuccess: () => {
            queryClient.invalidateQueries({ queryKey: ['/api/bills'] });
            toast({
                title: 'Success',
                description: 'Bill deleted successfully',
            });
            onSuccess?.(bill.id, 'updated'); // Trigger parent refresh
        },
        onError: (error) => {
            toast({
                title: 'Error',
                description: error.message || 'Failed to delete bill',
                variant: 'destructive',
            });
        }
    });
    const onSubmit = (data) => {
        billMutation.mutate(data);
    };
    const handleDelete = () => {
        if (!bill)
            return;
        if (confirm(`Are you sure you want to delete bill "${bill.title}"? This action cannot be undone.`)) {
            deleteBillMutation.mutate();
        }
    };
    // Custom Payment Management
    const addCustomPayment = () => {
        const newPayment = { amount: '', date: '', description: '' };
        setCustomPayments([...customPayments, newPayment]);
    };
    const removeCustomPayment = (index) => {
        const updated = customPayments.filter((_, i) => i !== index);
        setCustomPayments(updated);
        form.setValue('customPayments', updated);
    };
    const updateCustomPayment = (index, field, value) => {
        const updated = customPayments.map((payment, i) => i === index ? { ...payment, [field]: value } : payment);
        setCustomPayments(updated);
        form.setValue('customPayments', updated);
    };
    return ((0, jsx_runtime_1.jsxs)("div", { className: "space-y-6", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between", children: [(0, jsx_runtime_1.jsx)("h2", { className: "text-2xl font-semibold", children: bill ? 'Edit Bill' : 'Create New Bill' }), aiExtractionData && ((0, jsx_runtime_1.jsxs)(badge_1.Badge, { variant: "secondary", className: "flex items-center gap-1", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Sparkles, { className: "w-3 h-3" }), "AI Extracted"] }))] }), !bill && ((0, jsx_runtime_1.jsxs)(tabs_1.Tabs, { defaultValue: "manual", className: "space-y-4", children: [(0, jsx_runtime_1.jsxs)(tabs_1.TabsList, { className: (0, utils_1.cn)("grid w-full", aiEnabled ? "grid-cols-2" : "grid-cols-1"), children: [(0, jsx_runtime_1.jsxs)(tabs_1.TabsTrigger, { value: "manual", "data-testid": "tab-manual", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.FileText, { className: "w-4 h-4 mr-2" }), "Manual Entry"] }), aiEnabled && ((0, jsx_runtime_1.jsxs)(tabs_1.TabsTrigger, { value: "ai", "data-testid": "tab-ai", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Sparkles, { className: "w-4 h-4 mr-2" }), "AI Extraction"] }))] }), aiEnabled && ((0, jsx_runtime_1.jsx)(tabs_1.TabsContent, { value: "ai", className: "space-y-4", children: (0, jsx_runtime_1.jsxs)(card_1.Card, { children: [(0, jsx_runtime_1.jsx)(card_1.CardHeader, { children: (0, jsx_runtime_1.jsxs)(card_1.CardTitle, { className: "flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Sparkles, { className: "w-5 h-5" }), "Upload Bill Document"] }) }), (0, jsx_runtime_1.jsxs)(card_1.CardContent, { children: [(0, jsx_runtime_1.jsx)(document_management_1.SharedUploader, { onDocumentChange: handleFileUpload, formType: "bills", uploadContext: uploadContext, aiAnalysisEnabled: aiEnabled, onAiToggle: handleAiToggle, onAiAnalysisComplete: handleAiAnalysisComplete, showAiToggle: false, allowedFileTypes: ['image/*', 'application/pdf'], maxFileSize: 25 }), isExtracting && ((0, jsx_runtime_1.jsxs)("div", { className: "mt-4 p-4 bg-blue-50 dark:bg-blue-950 rounded-lg border border-blue-200 dark:border-blue-800", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)("div", { className: "animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600" }), (0, jsx_runtime_1.jsx)("span", { className: "text-blue-700 dark:text-blue-300 font-medium", children: "Extracting data from your document..." })] }), (0, jsx_runtime_1.jsx)("p", { className: "text-sm text-blue-600 dark:text-blue-400 mt-1", children: "This may take a few seconds depending on document complexity." })] })), aiFile && ((0, jsx_runtime_1.jsx)(GeminiBillExtractor_1.GeminiBillExtractor, { file: aiFile, onExtractionComplete: handleAiExtractionComplete }))] })] }) })), (0, jsx_runtime_1.jsx)(tabs_1.TabsContent, { value: "manual", className: "space-y-4", children: (0, jsx_runtime_1.jsxs)(card_1.Card, { children: [(0, jsx_runtime_1.jsx)(card_1.CardHeader, { children: (0, jsx_runtime_1.jsxs)(card_1.CardTitle, { className: "flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.FileText, { className: "w-5 h-5" }), "Upload Document (Optional)"] }) }), (0, jsx_runtime_1.jsx)(card_1.CardContent, { children: (0, jsx_runtime_1.jsx)(document_management_1.SharedUploader, { onDocumentChange: handleFileUpload, formType: "bills", uploadContext: uploadContext, aiAnalysisEnabled: false, showAiToggle: false, allowedFileTypes: ['image/*', 'application/pdf'], maxFileSize: 25 }) })] }) })] })), (0, jsx_runtime_1.jsx)(form_1.Form, { ...form, children: (0, jsx_runtime_1.jsxs)("form", { onSubmit: form.handleSubmit(onSubmit), className: "space-y-6", children: [(0, jsx_runtime_1.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [(0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: "title", render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Title *" }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(input_1.Input, { placeholder: "e.g., Monthly Electricity Bill", ...field }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: "vendor", render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Vendor" }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(input_1.Input, { placeholder: "e.g., Hydro Quebec", ...field }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: "category", render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Category *" }), (0, jsx_runtime_1.jsxs)(select_1.Select, { onValueChange: field.onChange, value: field.value, children: [(0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(select_1.SelectTrigger, { children: (0, jsx_runtime_1.jsx)(select_1.SelectValue, { placeholder: "Select category" }) }) }), (0, jsx_runtime_1.jsx)(select_1.SelectContent, { children: BILL_CATEGORIES.map((category) => ((0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: category.value, children: category.label }, category.value))) })] }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: "paymentType", render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Payment Type *" }), (0, jsx_runtime_1.jsxs)(select_1.Select, { onValueChange: field.onChange, value: field.value, children: [(0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(select_1.SelectTrigger, { children: (0, jsx_runtime_1.jsx)(select_1.SelectValue, { placeholder: "Select payment type" }) }) }), (0, jsx_runtime_1.jsxs)(select_1.SelectContent, { children: [(0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: "unique", children: "One-time Payment" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: "recurrent", children: "Recurring Payment" })] })] }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: "totalAmount", render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Total Amount *" }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(input_1.Input, { placeholder: "0.00", type: "number", step: "0.01", ...field }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: "startDate", render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Start Date *" }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(input_1.Input, { type: "date", ...field }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) })] }), paymentType === 'recurrent' && ((0, jsx_runtime_1.jsxs)("div", { className: "space-y-4", children: [(0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: "schedulePayment", render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Payment Schedule" }), (0, jsx_runtime_1.jsxs)(select_1.Select, { onValueChange: field.onChange, value: field.value, children: [(0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(select_1.SelectTrigger, { children: (0, jsx_runtime_1.jsx)(select_1.SelectValue, { placeholder: "Select schedule" }) }) }), (0, jsx_runtime_1.jsxs)(select_1.SelectContent, { children: [(0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: "weekly", children: "Weekly" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: "monthly", children: "Monthly" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: "quarterly", children: "Quarterly" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: "yearly", children: "Yearly" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: "custom", children: "Custom Schedule" })] })] }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), schedulePayment === 'custom' && ((0, jsx_runtime_1.jsxs)(card_1.Card, { children: [(0, jsx_runtime_1.jsx)(card_1.CardHeader, { children: (0, jsx_runtime_1.jsxs)(card_1.CardTitle, { className: "flex items-center justify-between", children: [(0, jsx_runtime_1.jsx)("span", { children: "Custom Payment Schedule" }), (0, jsx_runtime_1.jsxs)(button_1.Button, { type: "button", variant: "outline", size: "sm", onClick: addCustomPayment, children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Plus, { className: "w-4 h-4 mr-2" }), "Add Payment"] })] }) }), (0, jsx_runtime_1.jsx)(card_1.CardContent, { className: "space-y-3", children: customPayments.map((payment, index) => ((0, jsx_runtime_1.jsxs)("div", { className: "flex gap-2 items-end", children: [(0, jsx_runtime_1.jsx)("div", { className: "flex-1", children: (0, jsx_runtime_1.jsx)(input_1.Input, { placeholder: "Amount", type: "number", step: "0.01", value: payment.amount, onChange: (e) => updateCustomPayment(index, 'amount', e.target.value) }) }), (0, jsx_runtime_1.jsx)("div", { className: "flex-1", children: (0, jsx_runtime_1.jsx)(input_1.Input, { type: "date", value: payment.date, onChange: (e) => updateCustomPayment(index, 'date', e.target.value) }) }), (0, jsx_runtime_1.jsx)("div", { className: "flex-1", children: (0, jsx_runtime_1.jsx)(input_1.Input, { placeholder: "Description", value: payment.description || '', onChange: (e) => updateCustomPayment(index, 'description', e.target.value) }) }), (0, jsx_runtime_1.jsx)(button_1.Button, { type: "button", variant: "outline", size: "sm", onClick: () => removeCustomPayment(index), children: (0, jsx_runtime_1.jsx)(lucide_react_1.X, { className: "w-4 h-4" }) })] }, index))) })] }))] })), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: "description", render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Description" }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(textarea_1.Textarea, { placeholder: "Additional details about this bill...", className: "min-h-[100px]", ...field }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: "notes", render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Notes" }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(textarea_1.Textarea, { placeholder: "Internal notes...", className: "min-h-[80px]", ...field }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsxs)("div", { className: "flex justify-between items-center", children: [(0, jsx_runtime_1.jsx)("div", { children: bill && ((0, jsx_runtime_1.jsx)(button_1.Button, { type: "button", variant: "destructive", onClick: handleDelete, disabled: deleteBillMutation.isPending, children: deleteBillMutation.isPending ? 'Deleting...' : 'Delete Bill' })) }), (0, jsx_runtime_1.jsxs)("div", { className: "flex gap-2", children: [onCancel && ((0, jsx_runtime_1.jsx)(button_1.Button, { type: "button", variant: "outline", onClick: onCancel, children: "Cancel" })), (0, jsx_runtime_1.jsx)(button_1.Button, { type: "submit", disabled: billMutation.isPending, children: billMutation.isPending ? 'Processing...' : (bill ? 'Update Bill' : 'Create Bill') })] })] })] }) })] }));
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9jbGllbnQvc3JjL2NvbXBvbmVudHMvYmlsbC1tYW5hZ2VtZW50L01vZHVsYXJCaWxsRm9ybS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF1SEEsa0NBd29CQzs7QUEvdkJELCtDQUFtRDtBQUNuRCxxREFBMEM7QUFDMUMsaURBQXNEO0FBQ3RELHVEQUFvRTtBQUNwRSw2QkFBd0I7QUFDeEIsbURBQWdEO0FBQ2hELGlEQUE4QztBQUM5Qyx1REFBb0Q7QUFDcEQsaURBQThDO0FBQzlDLCtDQUFnRjtBQUNoRiwrQ0FBZ0Y7QUFDaEYsK0NBUThCO0FBQzlCLG1EQU1nQztBQUNoQywrQ0FBcUU7QUFDckUsdURBQW1EO0FBQ25ELGlEQUE2QztBQUM3QyxtREFBK0M7QUFDL0MsdUNBQWlDO0FBQ2pDLDBFQUFrRTtBQUNsRSwrREFBNEQ7QUFJNUQsaURBQWlEO0FBQ2pELE1BQU0sY0FBYyxHQUFHLE9BQUMsQ0FBQyxNQUFNLENBQUM7SUFDOUIsS0FBSyxFQUFFLE9BQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLHdCQUF3QixDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSx3Q0FBd0MsQ0FBQztJQUNyRyxXQUFXLEVBQUUsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsK0NBQStDLENBQUMsQ0FBQyxRQUFRLEVBQUU7SUFDN0YsUUFBUSxFQUFFLE9BQUMsQ0FBQyxJQUFJLENBQUM7UUFDZixXQUFXO1FBQ1gsYUFBYTtRQUNiLFFBQVE7UUFDUixXQUFXO1FBQ1gsVUFBVTtRQUNWLFVBQVU7UUFDVixhQUFhO1FBQ2IsdUJBQXVCO1FBQ3ZCLGdCQUFnQjtRQUNoQixTQUFTO1FBQ1QsVUFBVTtRQUNWLE9BQU87UUFDUCxZQUFZO1FBQ1osVUFBVTtRQUNWLE9BQU87S0FDUixDQUFDO0lBQ0YsTUFBTSxFQUFFLE9BQUMsQ0FBQyxNQUFNLEVB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LEtBQUcsSUFDTixDQUNaLEdBQ0QsRUFHRixpQ0FBSyxTQUFTLEVBQUMsbUNBQW1DLGFBRWhELDBDQUNHLElBQUksSUFBSSxDQUNQLHVCQUFDLGVBQU0sSUFDTCxJQUFJLEVBQUMsUUFBUSxFQUNiLE9BQU8sRUFBQyxhQUFhLEVBQ3JCLE9BQU8sRUFBRSxZQUFZLEVBQ3JCLFFBQVEsRUFBRSxrQkFBa0IsQ0FBQyxTQUFTLFlBRXJDLGtCQUFrQixDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxhQUFhLEdBQ3RELENBQ1YsR0FDRyxFQUdOLGlDQUFLLFNBQVMsRUFBQyxZQUFZLGFBQ3hCLFFBQVEsSUFBSSxDQUNYLHVCQUFDLGVBQU0sSUFBQyxJQUFJLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxTQUFTLEVBQUMsT0FBTyxFQUFFLFFBQVEsdUJBRWhELENBQ1YsRUFDRCx1QkFBQyxlQUFNLElBQUMsSUFBSSxFQUFDLFFBQVEsRUFBQyxRQUFRLEVBQUUsWUFBWSxDQUFDLFNBQVMsWUFDbkQsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxhQUFhLENBQUMsR0FDM0UsSUFDTCxJQUNGLElBQ0QsR0FDRixJQUNILENBQ1AsQ0FBQztBQUNKLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9jbGllbnQvc3JjL2NvbXBvbmVudHMvYmlsbC1tYW5hZ2VtZW50L01vZHVsYXJCaWxsRm9ybS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VGb3JtIH0gZnJvbSAncmVhY3QtaG9vay1mb3JtJztcbmltcG9ydCB7IHpvZFJlc29sdmVyIH0gZnJvbSAnQGhvb2tmb3JtL3Jlc29sdmVycy96b2QnO1xuaW1wb3J0IHsgdXNlTXV0YXRpb24sIHVzZVF1ZXJ5Q2xpZW50IH0gZnJvbSAnQHRhbnN0YWNrL3JlYWN0LXF1ZXJ5JztcbmltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbic7XG5pbXBvcnQgeyBJbnB1dCB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9pbnB1dCc7XG5pbXBvcnQgeyBUZXh0YXJlYSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS90ZXh0YXJlYSc7XG5pbXBvcnQgeyBCYWRnZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9iYWRnZSc7XG5pbXBvcnQgeyBUYWJzLCBUYWJzQ29udGVudCwgVGFic0xpc3QsIFRhYnNUcmlnZ2VyIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3RhYnMnO1xuaW1wb3J0IHsgQ2FyZCwgQ2FyZENvbnRlbnQsIENhcmRIZWFkZXIsIENhcmRUaXRsZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9jYXJkJztcbmltcG9ydCB7XG4gIEZvcm0sXG4gIEZvcm1Db250cm9sLFxuICBGb3JtRmllbGQsXG4gIEZvcm1JdGVtLFxuICBGb3JtTGFiZWwsXG4gIEZvcm1NZXNzYWdlLFxuICBGb3JtRGVzY3JpcHRpb24sXG59IGZyb20gJ0AvY29tcG9uZW50cy91aS9mb3JtJztcbmltcG9ydCB7XG4gIFNlbGVjdCxcbiAgU2VsZWN0Q29udGVudCxcbiAgU2VsZWN0SXRlbSxcbiAgU2VsZWN0VHJpZ2dlcixcbiAgU2VsZWN0VmFsdWUsXG59IGZyb20gJ0AvY29tcG9uZW50cy91aS9zZWxlY3QnO1xuaW1wb3J0IHsgRmlsZVRleHQsIFNwYXJrbGVzLCBQbHVzLCBYLCBDYWxlbmRhciB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5pbXBvcnQgeyB1c2VMYW5ndWFnZSB9IGZyb20gJ0AvaG9va3MvdXNlLWxhbmd1YWdlJztcbmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSAnQC9ob29rcy91c2UtdG9hc3QnO1xuaW1wb3J0IHsgYXBpUmVxdWVzdCB9IGZyb20gJ0AvbGliL3F1ZXJ5Q2xpZW50JztcbmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnO1xuaW1wb3J0IHsgU2hhcmVkVXBsb2FkZXIgfSBmcm9tICdAL2NvbXBvbmVudHMvZG9jdW1lbnQtbWFuYWdlbWVudCc7XG5pbXBvcnQgeyBHZW1pbmlCaWxsRXh0cmFjdG9yIH0gZnJvbSAnLi9HZW1pbmlCaWxsRXh0cmFjdG9yJztcbmltcG9ydCB0eXBlIHsgQmlsbCB9IGZyb20gJ0BzaGFyZWQvc2NoZW1hJztcbmltcG9ydCB0eXBlIHsgVXBsb2FkQ29udGV4dCB9IGZyb20gJ0BzaGFyZWQvY29uZmlnL3VwbG9hZC1jb25maWcnO1xuXG4vLyBVbmlmaWVkIGZvcm0gc2NoZW1hIChzaW1wbGlmaWVkIGZyb20gb3JpZ2luYWwpXG5jb25zdCBiaWxsRm9ybVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgdGl0bGU6IHouc3RyaW5nKCkubWluKDEsICdCaWxsIHRpdGxlIGlzIHJlcXVpcmVkJykubWF4KDIwMCwgJ1RpdGxlIG11c3QgYmUgbGVzcyB0aGFuIDIwMCBjaGFyYWN0ZXJzJyksXG4gIGRlc2NyaXB0aW9uOiB6LnN0cmluZygpLm1heCgxMDAwLCAnRGVzY3JpcHRpb24gbXVzdCBiZSBsZXNzIHRoYW4gMTAwMCBjaGFyYWN0ZXJzJykub3B0aW9uYWwoKSxcbiAgY2F0ZWdvcnk6IHouZW51bShbXG4gICAgJ2luc3VyYW5jZScsXG4gICAgJ21haW50ZW5hbmNlJyxcbiAgICAnc2FsYXJ5JyxcbiAgICAndXRpbGl0aWVzJyxcbiAgICAnY2xlYW5pbmcnLFxuICAgICdzZWN1cml0eScsXG4gICAgJ2xhbmRzY2FwaW5nJyxcbiAgICAncHJvZmVzc2lvbmFsX3NlcnZpY2VzJyxcbiAgICAnYWRtaW5pc3RyYXRpb24nLFxuICAgICdyZXBhaXJzJyxcbiAgICAnc3VwcGxpZXMnLFxuICAgICd0YXhlcycsXG4gICAgJ3RlY2hub2xvZ3knLFxuICAgICdyZXNlcnZlcycsXG4gICAgJ290aGVyJyxcbiAgXSksXG4gIHZlbmRvcjogei5zdHJpbmcoKS5tYXgoMTUwLCAnVmVuZG9yIG5hbWUgbXVzdCBiZSBsZXNzIHRoYW4gMTUwIGNoYXJhY3RlcnMnKS5vcHRpb25hbCgpLFxuICBwYXltZW50VHlwZTogei5lbnVtKFsndW5pcXVlJywgJ3JlY3VycmVudCddKSxcbiAgc2NoZWR1bGVQYXltZW50OiB6LmVudW0oWyd3ZWVrbHknLCAnbW9udGhseScsICdxdWFydGVybHknLCAneWVhcmx5JywgJ2N1c3RvbSddKS5vcHRpb25hbCgpLFxuICBjdXN0b21QYXltZW50czogei5hcnJheSh6Lm9iamVjdCh7XG4gICAgYW1vdW50OiB6LnN0cmluZygpLm1pbigxLCAnQW1vdW50IGlzIHJlcXVpcmVkJykucmVmaW5lKCh2YWwpID0+IHtcbiAgICAgIGNvbnN0IG51bSA9IHBhcnNlRmxvYXQodmFsKTtcbiAgICAgIHJldHVybiAhaXNOYU4obnVtKSAmJiBudW0gPiAwICYmIG51bSA8PSA5OTk5OTkuOTk7XG4gICAgfSwgJ0Ftb3VudCBtdXN0IGJlIGJldHdlZW4gJDAuMDEgYW5kICQ5OTksOTk5Ljk5JyksXG4gICAgZGF0ZTogei5zdHJpbmcoKS5taW4oMSwgJ0RhdGUgaXMgcmVxdWlyZWQnKS5yZWZpbmUoKHZhbCkgPT4ge1xuICAgICAgcmV0dXJuICFpc05hTihEYXRlLnBhcnNlKHZhbCkpO1xuICAgIH0sICdEYXRlIG11c3QgYmUgYSB2YWxpZCBkYXRlJyksXG4gICAgZGVzY3JpcHRpb246IHouc3RyaW5nKCkub3B0aW9uYWwoKVxuICB9KSkub3B0aW9uYWwoKSxcbiAgdG90YWxBbW91bnQ6IHouc3RyaW5nKCkubWluKDEsICdBbW91bnQgaXMgcmVxdWlyZWQgYW5kIG11c3QgYmUgYSB2YWxpZCBudW1iZXInKS5yZWZpbmUoKHZhbCkgPT4ge1xuICAgIGNvbnN0IG51bSA9IHBhcnNlRmxvYXQodmFsKTtcbiAgICByZXR1cm4gIWlzTmFOKG51bSkgJiYgbnVtID4gMCAmJiBudW0gPD0gOTk5OTk5Ljk5O1xuICB9LCAnQW1vdW50IG11c3QgYmUgYmV0d2VlbiAkMC4wMSBhbmQgJDk5OSw5OTkuOTknKSxcbiAgc3RhcnREYXRlOiB6LnN0cmluZygpLm1pbigxLCAnU3RhcnQgZGF0ZSBpcyByZXF1aXJlZCcpLnJlZmluZSgodmFsKSA9PiB7XG4gICAgcmV0dXJuICFpc05hTihEYXRlLnBhcnNlKHZhbCkpO1xuICB9LCAnU3RhcnQgZGF0ZSBtdXN0IGJlIGEgdmFsaWQgZGF0ZScpLFxuICBlbmREYXRlOiB6LnN0cmluZygpLm9wdGlvbmFsKCkucmVmaW5lKCh2YWwpID0+IHtcbiAgICBpZiAoIXZhbCkgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuICFpc05hTihEYXRlLnBhcnNlKHZhbCkpO1xuICB9LCAnRW5kIGRhdGUgbXVzdCBiZSBhIHZhbGlkIGRhdGUnKSxcbiAgc3RhdHVzOiB6LmVudW0oWydkcmFmdCcsICdzZW50JywgJ292ZXJkdWUnLCAncGFpZCcsICdjYW5jZWxsZWQnXSksXG4gIG5vdGVzOiB6LnN0cmluZygpLm1heCgyMDAwLCAnTm90ZXMgbXVzdCBiZSBsZXNzIHRoYW4gMjAwMCBjaGFyYWN0ZXJzJykub3B0aW9uYWwoKSxcbn0pO1xuXG50eXBlIEJpbGxGb3JtRGF0YSA9IHouaW5mZXI8dHlwZW9mIGJpbGxGb3JtU2NoZW1hPjtcblxudHlwZSBDdXN0b21QYXltZW50ID0ge1xuICBhbW91bnQ6IHN0cmluZztcbiAgZGF0ZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbn07XG5cbmludGVyZmFjZSBNb2R1bGFyQmlsbEZvcm1Qcm9wcyB7XG4gIGJpbGw/OiBCaWxsIHwgbnVsbDtcbiAgb25TdWNjZXNzPzogKGJpbGxJZDogc3RyaW5nLCBhY3Rpb246ICdjcmVhdGVkJyB8ICd1cGRhdGVkJykgPT4gdm9pZDtcbiAgb25DYW5jZWw/OiAoKSA9PiB2b2lkO1xuICBidWlsZGluZ0lkPzogc3RyaW5nO1xufVxuXG5jb25zdCBCSUxMX0NBVEVHT1JJRVMgPSBbXG4gIHsgdmFsdWU6ICd1dGlsaXRpZXMnLCBsYWJlbDogJ1V0aWxpdGllcycgfSxcbiAgeyB2YWx1ZTogJ21haW50ZW5hbmNlJywgbGFiZWw6ICdNYWludGVuYW5jZScgfSxcbiAgeyB2YWx1ZTogJ2luc3VyYW5jZScsIGxhYmVsOiAnSW5zdXJhbmNlJyB9LFxuICB7IHZhbHVlOiAnY2xlYW5pbmcnLCBsYWJlbDogJ0NsZWFuaW5nJyB9LFxuICB7IHZhbHVlOiAnc2VjdXJpdHknLCBsYWJlbDogJ1NlY3VyaXR5JyB9LFxuICB7IHZhbHVlOiAnbGFuZHNjYXBpbmcnLCBsYWJlbDogJ0xhbmRzY2FwaW5nJyB9LFxuICB7IHZhbHVlOiAncHJvZmVzc2lvbmFsX3NlcnZpY2VzJywgbGFiZWw6ICdQcm9mZXNzaW9uYWwgU2VydmljZXMnIH0sXG4gIHsgdmFsdWU6ICdhZG1pbmlzdHJhdGlvbicsIGxhYmVsOiAnQWRtaW5pc3RyYXRpb24nIH0sXG4gIHsgdmFsdWU6ICdyZXBhaXJzJywgbGFiZWw6ICdSZXBhaXJzJyB9LFxuICB7IHZhbHVlOiAnc3VwcGxpZXMnLCBsYWJlbDogJ1N1cHBsaWVzJyB9LFxuICB7IHZhbHVlOiAndGF4ZXMnLCBsYWJlbDogJ1RheGVzJyB9LFxuICB7IHZhbHVlOiAndGVjaG5vbG9neScsIGxhYmVsOiAnVGVjaG5vbG9neScgfSxcbiAgeyB2YWx1ZTogJ3NhbGFyeScsIGxhYmVsOiAnU2FsYXJ5JyB9LFxuICB7IHZhbHVlOiAncmVzZXJ2ZXMnLCBsYWJlbDogJ1Jlc2VydmVzJyB9LFxuICB7IHZhbHVlOiAnb3RoZXInLCBsYWJlbDogJ090aGVyJyB9LFxuXTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTW9kdWxhckJpbGxGb3JtKHsgYmlsbCwgb25TdWNjZXNzLCBvbkNhbmNlbCwgYnVpbGRpbmdJZCB9OiBNb2R1bGFyQmlsbEZvcm1Qcm9wcykge1xuICBjb25zdCB7IHQgfSA9IHVzZUxhbmd1YWdlKCk7XG4gIGNvbnN0IHsgdG9hc3QgfSA9IHVzZVRvYXN0KCk7XG4gIGNvbnN0IHF1ZXJ5Q2xpZW50ID0gdXNlUXVlcnlDbGllbnQoKTtcbiAgXG4gIC8vIFN0YXRlIGZvciBBSSBleHRyYWN0aW9uXG4gIGNvbnN0IFthaUZpbGUsIHNldEFpRmlsZV0gPSB1c2VTdGF0ZTxGaWxlIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtpc0FpTW9kZSwgc2V0SXNBaU1vZGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYWlFeHRyYWN0aW9uRGF0YSwgc2V0QWlFeHRyYWN0aW9uRGF0YV0gPSB1c2VTdGF0ZTxhbnk+KG51bGwpO1xuICBjb25zdCBbaXNFeHRyYWN0aW5nLCBzZXRJc0V4dHJhY3RpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYWlFbmFibGVkLCBzZXRBaUVuYWJsZWRdID0gdXNlU3RhdGUodHJ1ZSk7IC8vIEFJIGVuYWJsZWQgYnkgZGVmYXVsdCBmb3IgYmlsbHNcbiAgXG4gIC8vIFN0YXRlIGZvciBtYW51YWwgZG9jdW1lbnQgdXBsb2FkXG4gIGNvbnN0IFttYW51YWxGaWxlLCBzZXRNYW51YWxGaWxlXSA9IHVzZVN0YXRlPEZpbGUgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2N1c3RvbVBheW1lbnRzLCBzZXRDdXN0b21QYXltZW50c10gPSB1c2VTdGF0ZTxDdXN0b21QYXltZW50W10+KFtdKTtcbiAgXG4gIC8vIFVwbG9hZCBjb250ZXh0IGZvciBzZWN1cmUgc3RvcmFnZVxuICBjb25zdCB1cGxvYWRDb250ZXh0OiBVcGxvYWRDb250ZXh0ID0ge1xuICAgIHR5cGU6ICdiaWxscycsXG4gICAgb3JnYW5pemF0aW9uSWQ6ICdkZWZhdWx0JywgLy8gV291bGQgYmUgZHluYW1pYyBiYXNlZCBvbiB1c2VyJ3Mgb3JnXG4gICAgYnVpbGRpbmdJZCxcbiAgICB1c2VyUm9sZTogJ2FkbWluJywgLy8gV291bGQgYmUgZHluYW1pYyBiYXNlZCBvbiB1c2VyJ3Mgcm9sZVxuICAgIHVzZXJJZDogJ2N1cnJlbnQtdXNlcicgLy8gV291bGQgYmUgZHluYW1pYyBiYXNlZCBvbiBjdXJyZW50IHVzZXJcbiAgfTtcblxuICAvLyBGb3JtIHNldHVwXG4gIGNvbnN0IGZvcm0gPSB1c2VGb3JtPEJpbGxGb3JtRGF0YT4oe1xuICAgIHJlc29sdmVyOiB6b2RSZXNvbHZlcihiaWxsRm9ybVNjaGVtYSksXG4gICAgZGVmYXVsdFZhbHVlczoge1xuICAgICAgdGl0bGU6IGJpbGw/LnRpdGxlIHx8ICcnLFxuICAgICAgZGVzY3JpcHRpb246IGJpbGw/LmRlc2NyaXB0aW9uIHx8ICcnLFxuICAgICAgY2F0ZWdvcnk6IGJpbGw/LmNhdGVnb3J5IHx8ICdvdGhlcicsXG4gICAgICB2ZW5kb3I6IGJpbGw/LnZlbmRvciB8fCAnJyxcbiAgICAgIHBheW1lbnRUeXBlOiBiaWxsPy5wYXltZW50VHlwZSB8fCAndW5pcXVlJyxcbiAgICAgIHNjaGVkdWxlUGF5bWVudDogJ21vbnRobHknLFxuICAgICAgY3VzdG9tUGF5bWVudHM6IFtdLFxuICAgICAgdG90YWxBbW91bnQ6IGJpbGw/LnRvdGFsQW1vdW50Py50b1N0cmluZygpIHx8ICcnLFxuICAgICAgc3RhcnREYXRlOiBiaWxsPy5zdGFydERhdGUgfHwgJycsXG4gICAgICBlbmREYXRlOiBiaWxsPy5lbmREYXRlIHx8ICcnLFxuICAgICAgc3RhdHVzOiBiaWxsPy5zdGF0dXMgfHwgJ2RyYWZ0JyxcbiAgICAgIG5vdGVzOiBiaWxsPy5ub3RlcyB8fCAnJyxcbiAgICB9XG4gIH0pO1xuXG4gIGNvbnN0IHBheW1lbnRUeXBlID0gZm9ybS53YXRjaCgncGF5bWVudFR5cGUnKTtcbiAgY29uc3Qgc2NoZWR1bGVQYXltZW50ID0gZm9ybS53YXRjaCgnc2NoZWR1bGVQYXltZW50Jyk7XG5cbiAgLy8gSGFuZGxlIEFJIGV4dHJhY3Rpb24gcmVzdWx0c1xuICBjb25zdCBoYW5kbGVBaUV4dHJhY3Rpb25Db21wbGV0ZSA9IChkYXRhOiBhbnkpID0+IHtcbiAgICAvLyBIYW5kbGUgbG9hZGluZyBzdGF0ZVxuICAgIGlmIChkYXRhLmlzTG9hZGluZykge1xuICAgICAgc2V0SXNFeHRyYWN0aW5nKHRydWUpO1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ0FJIEV4dHJhY3Rpb24gU3RhcnRlZCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnUHJvY2Vzc2luZyB5b3VyIGRvY3VtZW50Li4uIFRoaXMgbWF5IHRha2UgYSBmZXcgc2Vjb25kcy4nLFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIENsZWFyIGxvYWRpbmcgc3RhdGVcbiAgICBzZXRJc0V4dHJhY3RpbmcoZmFsc2UpO1xuICAgIFxuICAgIGlmIChkYXRhLnN1Y2Nlc3MgJiYgZGF0YS5mb3JtRGF0YSkge1xuICAgICAgc2V0QWlFeHRyYWN0aW9uRGF0YShkYXRhLmZvcm1EYXRhKTtcbiAgICAgIFxuICAgICAgLy8gQXV0by1maWxsIGZvcm0gd2l0aCBBSSBkYXRhXG4gICAgICBPYmplY3QuZW50cmllcyhkYXRhLmZvcm1EYXRhKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgaWYgKGtleSA9PT0gJ2N1c3RvbVBheW1lbnRzJyAmJiBBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgIHNldEN1c3RvbVBheW1lbnRzKHZhbHVlKTtcbiAgICAgICAgICBmb3JtLnNldFZhbHVlKCdjdXN0b21QYXltZW50cycsIHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgZm9ybS5zZXRWYWx1ZShrZXkgYXMga2V5b2YgQmlsbEZvcm1EYXRhLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiAnQUkgRXh0cmFjdGlvbiBDb21wbGV0ZScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBgU3VjY2Vzc2Z1bGx5IGV4dHJhY3RlZCBiaWxsIGRhdGEgd2l0aCAke01hdGgucm91bmQoKGRhdGEuY29uZmlkZW5jZSB8fCAwLjkpICogMTAwKX0lIGNvbmZpZGVuY2VgLFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6ICdBSSBFeHRyYWN0aW9uIEZhaWxlZCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBkYXRhLmVycm9yIHx8ICdGYWlsZWQgdG8gZXh0cmFjdCBiaWxsIGRhdGEnLFxuICAgICAgICB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEhhbmRsZSBBSSB0b2dnbGVcbiAgY29uc3QgaGFuZGxlQWlUb2dnbGUgPSAoZW5hYmxlZDogYm9vbGVhbikgPT4ge1xuICAgIHNldEFpRW5hYmxlZChlbmFibGVkKTtcbiAgICBpZiAoIWVuYWJsZWQpIHtcbiAgICAgIHNldEFpRXh0cmFjdGlvbkRhdGEobnVsbCk7XG4gICAgICBzZXRJc0V4dHJhY3RpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcbiAgXG4gIC8vIEhhbmRsZSBBSSBhbmFseXNpcyBjb21wbGV0aW9uXG4gIGNvbnN0IGhhbmRsZUFpQW5hbHlzaXNDb21wbGV0ZSA9IChhbmFseXNpc0RhdGE6IGFueSkgPT4ge1xuICAgIGlmIChhbmFseXNpc0RhdGEuc3VjY2Vzcykge1xuICAgICAgc2V0QWlFeHRyYWN0aW9uRGF0YShhbmFseXNpc0RhdGEuZXh0cmFjdGVkRGF0YSk7XG4gICAgICBzZXRJc0V4dHJhY3RpbmcoZmFsc2UpO1xuICAgICAgXG4gICAgICAvLyBBdXRvLXBvcHVsYXRlIGZvcm0gd2l0aCBleHRyYWN0ZWQgZGF0YVxuICAgICAgaWYgKGFuYWx5c2lzRGF0YS5leHRyYWN0ZWREYXRhKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhbmFseXNpc0RhdGEuZXh0cmFjdGVkRGF0YTtcbiAgICAgICAgaWYgKGRhdGEudGl0bGUpIGZvcm0uc2V0VmFsdWUoJ3RpdGxlJywgZGF0YS50aXRsZSk7XG4gICAgICAgIGlmIChkYXRhLnZlbmRvcikgZm9ybS5zZXRWYWx1ZSgndmVuZG9yJywgZGF0YS52ZW5kb3IpO1xuICAgICAgICBpZiAoZGF0YS5hbW91bnQpIGZvcm0uc2V0VmFsdWUoJ3RvdGFsQW1vdW50JywgZGF0YS5hbW91bnQudG9TdHJpbmcoKSk7XG4gICAgICAgIGlmIChkYXRhLmNhdGVnb3J5KSBmb3JtLnNldFZhbHVlKCdjYXRlZ29yeScsIGRhdGEuY2F0ZWdvcnkpO1xuICAgICAgICBpZiAoZGF0YS5kYXRlKSBmb3JtLnNldFZhbHVlKCdzdGFydERhdGUnLCBkYXRhLmRhdGUpO1xuICAgICAgICBpZiAoZGF0YS5kZXNjcmlwdGlvbikgZm9ybS5zZXRWYWx1ZSgnZGVzY3JpcHRpb24nLCBkYXRhLmRlc2NyaXB0aW9uKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ0FJIEFuYWx5c2lzIENvbXBsZXRlJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdCaWxsIGRhdGEgaGFzIGJlZW4gZXh0cmFjdGVkIGFuZCBwb3B1bGF0ZWQgaW4gdGhlIGZvcm0uJyxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRJc0V4dHJhY3RpbmcoZmFsc2UpO1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ0FJIEFuYWx5c2lzIEZhaWxlZCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBhbmFseXNpc0RhdGEuZXJyb3IgfHwgJ0ZhaWxlZCB0byBhbmFseXplIGRvY3VtZW50JyxcbiAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJyxcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICAvLyBIYW5kbGUgZmlsZSB1cGxvYWQgZnJvbSBTaGFyZWRVcGxvYWRlclxuICBjb25zdCBoYW5kbGVGaWxlVXBsb2FkID0gKGZpbGU6IEZpbGUgfCBudWxsLCBleHRyYWN0ZWRUZXh0Pzogc3RyaW5nIHwgbnVsbCkgPT4ge1xuICAgIGlmIChmaWxlKSB7XG4gICAgICBpZiAoYWlFbmFibGVkKSB7XG4gICAgICAgIHNldEFpRmlsZShmaWxlKTtcbiAgICAgICAgc2V0SXNBaU1vZGUodHJ1ZSk7XG4gICAgICAgIHNldElzRXh0cmFjdGluZyh0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldE1hbnVhbEZpbGUoZmlsZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8vIENyZWF0ZS9VcGRhdGUgYmlsbCBtdXRhdGlvblxuICBjb25zdCBiaWxsTXV0YXRpb24gPSB1c2VNdXRhdGlvbih7XG4gICAgbXV0YXRpb25GbjogYXN5bmMgKGRhdGE6IEJpbGxGb3JtRGF0YSkgPT4ge1xuICAgICAgY29uc3QgZW5kcG9pbnQgPSBiaWxsID8gYC9hcGkvYmlsbHMvJHtiaWxsLmlkfWAgOiAnL2FwaS9iaWxscyc7XG4gICAgICBjb25zdCBtZXRob2QgPSBiaWxsID8gJ1BVVCcgOiAnUE9TVCc7XG4gICAgICBcbiAgICAgIGNvbnN0IGJpbGxEYXRhID0ge1xuICAgICAgICAuLi5kYXRhLFxuICAgICAgICBidWlsZGluZ0lkOiBidWlsZGluZ0lkIHx8IGJpbGw/LmJ1aWxkaW5nSWQsXG4gICAgICAgIGNvc3RzOiBbZGF0YS50b3RhbEFtb3VudF0sIC8vIENvbnZlcnQgc2luZ2xlIGFtb3VudCB0byBjb3N0cyBhcnJheVxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlSZXF1ZXN0KG1ldGhvZCwgZW5kcG9pbnQsIGJpbGxEYXRhKTtcbiAgICAgIGNvbnN0IGJpbGxSZXNwb25zZSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIFxuICAgICAgLy8gVXBsb2FkIGRvY3VtZW50IGlmIG9uZSB3YXMgYXR0YWNoZWQgKGVpdGhlciBmcm9tIEFJIGV4dHJhY3Rpb24gb3IgbWFudWFsIGVudHJ5KVxuICAgICAgY29uc3QgZmlsZVRvVXBsb2FkID0gYWlGaWxlIHx8IG1hbnVhbEZpbGU7XG4gICAgICBpZiAoIWJpbGwgJiYgZmlsZVRvVXBsb2FkKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1tCSUxMIEZPUk1dIFVwbG9hZGluZyBkb2N1bWVudDonLCBmaWxlVG9VcGxvYWQubmFtZSwgJ2ZvciBiaWxsOicsIGJpbGxSZXNwb25zZS5pZCk7XG4gICAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2RvY3VtZW50JywgZmlsZVRvVXBsb2FkKTtcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCB1cGxvYWRSZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL2JpbGxzLyR7YmlsbFJlc3BvbnNlLmlkfS91cGxvYWQtZG9jdW1lbnRgLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgICAgICBib2R5OiBmb3JtRGF0YSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoIXVwbG9hZFJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvclRleHQgPSBhd2FpdCB1cGxvYWRSZXNwb25zZS50ZXh0KCk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbQklMTCBGT1JNXSBVcGxvYWQgZmFpbGVkIHdpdGggc3RhdHVzOicsIHVwbG9hZFJlc3BvbnNlLnN0YXR1cywgZXJyb3JUZXh0KTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVXBsb2FkIGZhaWxlZDogJHt1cGxvYWRSZXNwb25zZS5zdGF0dXN9ICR7ZXJyb3JUZXh0fWApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCB1cGxvYWRSZXN1bHQgPSBhd2FpdCB1cGxvYWRSZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1tCSUxMIEZPUk1dIERvY3VtZW50IHVwbG9hZCBzdWNjZXNzZnVsOicsIHVwbG9hZFJlc3VsdCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gVXBkYXRlIHRoZSBiaWxsIHJlc3BvbnNlIHdpdGggdGhlIGRvY3VtZW50IGluZm9ybWF0aW9uIGZyb20gdGhlIHVwbG9hZFxuICAgICAgICAgIGlmICh1cGxvYWRSZXN1bHQuYmlsbCkge1xuICAgICAgICAgICAgYmlsbFJlc3BvbnNlLmZpbGVQYXRoID0gdXBsb2FkUmVzdWx0LmJpbGwuZmlsZVBhdGg7XG4gICAgICAgICAgICBiaWxsUmVzcG9uc2UuZmlsZU5hbWUgPSB1cGxvYWRSZXN1bHQuYmlsbC5maWxlTmFtZTtcbiAgICAgICAgICAgIGJpbGxSZXNwb25zZS5maWxlU2l6ZSA9IHVwbG9hZFJlc3VsdC5iaWxsLmZpbGVTaXplO1xuICAgICAgICAgICAgYmlsbFJlc3BvbnNlLmlzQWlBbmFseXplZCA9IHVwbG9hZFJlc3VsdC5iaWxsLmlzQWlBbmFseXplZDtcbiAgICAgICAgICAgIGJpbGxSZXNwb25zZS5haUFuYWx5c2lzRGF0YSA9IHVwbG9hZFJlc3VsdC5iaWxsLmFpQW5hbHlzaXNEYXRhO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTaG93IHN1Y2Nlc3MgdG9hc3QgZm9yIGRvY3VtZW50IHVwbG9hZFxuICAgICAgICAgIHRvYXN0KHtcbiAgICAgICAgICAgIHRpdGxlOiAnRG9jdW1lbnQgVXBsb2FkZWQnLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGAke2ZpbGVUb1VwbG9hZC5uYW1lfSBoYXMgYmVlbiBhdHRhY2hlZCB0byB0aGUgYmlsbGAsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKHVwbG9hZEVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW0JJTEwgRk9STV0gRmFpbGVkIHRvIHVwbG9hZCBkb2N1bWVudDonLCB1cGxvYWRFcnJvcik7XG4gICAgICAgICAgdG9hc3Qoe1xuICAgICAgICAgICAgdGl0bGU6ICdEb2N1bWVudCBVcGxvYWQgRmFpbGVkJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgRmFpbGVkIHRvIHVwbG9hZCAke2ZpbGVUb1VwbG9hZC5uYW1lfS4gVGhlIGJpbGwgd2FzIGNyZWF0ZWQgYnV0IHdpdGhvdXQgdGhlIGRvY3VtZW50LmAsXG4gICAgICAgICAgICB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIC8vIERvbid0IGZhaWwgdGhlIGJpbGwgY3JlYXRpb24gaWYgZG9jdW1lbnQgdXBsb2FkIGZhaWxzXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIGJpbGxSZXNwb25zZTtcbiAgICB9LFxuICAgIG9uU3VjY2VzczogKGRhdGEpID0+IHtcbiAgICAgIHF1ZXJ5Q2xpZW50LmludmFsaWRhdGVRdWVyaWVzKHsgcXVlcnlLZXk6IFsnL2FwaS9iaWxscyddIH0pO1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ1N1Y2Nlc3MnLFxuICAgICAgICBkZXNjcmlwdGlvbjogYEJpbGwgJHtiaWxsID8gJ3VwZGF0ZWQnIDogJ2NyZWF0ZWQnfSBzdWNjZXNzZnVsbHlgLFxuICAgICAgfSk7XG4gICAgICBvblN1Y2Nlc3M/LihkYXRhLmlkLCBiaWxsID8gJ3VwZGF0ZWQnIDogJ2NyZWF0ZWQnKTtcbiAgICB9LFxuICAgIG9uRXJyb3I6IChlcnJvcjogYW55KSA9PiB7XG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiAnRXJyb3InLFxuICAgICAgICBkZXNjcmlwdGlvbjogZXJyb3IubWVzc2FnZSB8fCBgRmFpbGVkIHRvICR7YmlsbCA/ICd1cGRhdGUnIDogJ2NyZWF0ZSd9IGJpbGxgLFxuICAgICAgICB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLFxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICAvLyBEZWxldGUgYmlsbCBtdXRhdGlvblxuICBjb25zdCBkZWxldGVCaWxsTXV0YXRpb24gPSB1c2VNdXRhdGlvbih7XG4gICAgbXV0YXRpb25GbjogYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFiaWxsPy5pZCkgdGhyb3cgbmV3IEVycm9yKCdObyBiaWxsIElEIHByb3ZpZGVkIGZvciBkZWxldGlvbicpO1xuICAgICAgcmV0dXJuIGFwaVJlcXVlc3QoJ0RFTEVURScsIGAvYXBpL2JpbGxzLyR7YmlsbC5pZH1gLCBudWxsKTtcbiAgICB9LFxuICAgIG9uU3VjY2VzczogKCkgPT4ge1xuICAgICAgcXVlcnlDbGllbnQuaW52YWxpZGF0ZVF1ZXJpZXMoeyBxdWVyeUtleTogWycvYXBpL2JpbGxzJ10gfSk7XG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiAnU3VjY2VzcycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQmlsbCBkZWxldGVkIHN1Y2Nlc3NmdWxseScsXG4gICAgICB9KTtcbiAgICAgIG9uU3VjY2Vzcz8uKGJpbGwhLmlkLCAndXBkYXRlZCcpOyAvLyBUcmlnZ2VyIHBhcmVudCByZWZyZXNoXG4gICAgfSxcbiAgICBvbkVycm9yOiAoZXJyb3I6IGFueSkgPT4ge1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ0Vycm9yJyxcbiAgICAgICAgZGVzY3JpcHRpb246IGVycm9yLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBkZWxldGUgYmlsbCcsXG4gICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIGNvbnN0IG9uU3VibWl0ID0gKGRhdGE6IEJpbGxGb3JtRGF0YSkgPT4ge1xuICAgIGJpbGxNdXRhdGlvbi5tdXRhdGUoZGF0YSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRGVsZXRlID0gKCkgPT4ge1xuICAgIGlmICghYmlsbCkgcmV0dXJuO1xuICAgIFxuICAgIGlmIChjb25maXJtKGBBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIGJpbGwgXCIke2JpbGwudGl0bGV9XCI/IFRoaXMgYWN0aW9uIGNhbm5vdCBiZSB1bmRvbmUuYCkpIHtcbiAgICAgIGRlbGV0ZUJpbGxNdXRhdGlvbi5tdXRhdGUoKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gQ3VzdG9tIFBheW1lbnQgTWFuYWdlbWVudFxuICBjb25zdCBhZGRDdXN0b21QYXltZW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IG5ld1BheW1lbnQ6IEN1c3RvbVBheW1lbnQgPSB7IGFtb3VudDogJycsIGRhdGU6ICcnLCBkZXNjcmlwdGlvbjogJycgfTtcbiAgICBzZXRDdXN0b21QYXltZW50cyhbLi4uY3VzdG9tUGF5bWVudHMsIG5ld1BheW1lbnRdKTtcbiAgfTtcblxuICBjb25zdCByZW1vdmVDdXN0b21QYXltZW50ID0gKGluZGV4OiBudW1iZXIpID0+IHtcbiAgICBjb25zdCB1cGRhdGVkID0gY3VzdG9tUGF5bWVudHMuZmlsdGVyKChfLCBpKSA9PiBpICE9PSBpbmRleCk7XG4gICAgc2V0Q3VzdG9tUGF5bWVudHModXBkYXRlZCk7XG4gICAgZm9ybS5zZXRWYWx1ZSgnY3VzdG9tUGF5bWVudHMnLCB1cGRhdGVkKTtcbiAgfTtcblxuICBjb25zdCB1cGRhdGVDdXN0b21QYXltZW50ID0gKGluZGV4OiBudW1iZXIsIGZpZWxkOiBrZXlvZiBDdXN0b21QYXltZW50LCB2YWx1ZTogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgdXBkYXRlZCA9IGN1c3RvbVBheW1lbnRzLm1hcCgocGF5bWVudCwgaSkgPT4gXG4gICAgICBpID09PSBpbmRleCA/IHsgLi4ucGF5bWVudCwgW2ZpZWxkXTogdmFsdWUgfSA6IHBheW1lbnRcbiAgICApO1xuICAgIHNldEN1c3RvbVBheW1lbnRzKHVwZGF0ZWQpO1xuICAgIGZvcm0uc2V0VmFsdWUoJ2N1c3RvbVBheW1lbnRzJywgdXBkYXRlZCk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNlwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtc2VtaWJvbGRcIj5cbiAgICAgICAgICB7YmlsbCA/ICdFZGl0IEJpbGwnIDogJ0NyZWF0ZSBOZXcgQmlsbCd9XG4gICAgICAgIDwvaDI+XG4gICAgICAgIHthaUV4dHJhY3Rpb25EYXRhICYmIChcbiAgICAgICAgICA8QmFkZ2UgdmFyaWFudD1cInNlY29uZGFyeVwiIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+XG4gICAgICAgICAgICA8U3BhcmtsZXMgY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+XG4gICAgICAgICAgICBBSSBFeHRyYWN0ZWRcbiAgICAgICAgICA8L0JhZGdlPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIHshYmlsbCAmJiAoXG4gICAgICAgIDxUYWJzIGRlZmF1bHRWYWx1ZT1cIm1hbnVhbFwiIGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgIDxUYWJzTGlzdCBjbGFzc05hbWU9e2NuKFwiZ3JpZCB3LWZ1bGxcIiwgYWlFbmFibGVkID8gXCJncmlkLWNvbHMtMlwiIDogXCJncmlkLWNvbHMtMVwiKX0+XG4gICAgICAgICAgICA8VGFic1RyaWdnZXIgdmFsdWU9XCJtYW51YWxcIiBkYXRhLXRlc3RpZD1cInRhYi1tYW51YWxcIj5cbiAgICAgICAgICAgICAgPEZpbGVUZXh0IGNsYXNzTmFtZT1cInctNCBoLTQgbXItMlwiIC8+XG4gICAgICAgICAgICAgIE1hbnVhbCBFbnRyeVxuICAgICAgICAgICAgPC9UYWJzVHJpZ2dlcj5cbiAgICAgICAgICAgIHthaUVuYWJsZWQgJiYgKFxuICAgICAgICAgICAgICA8VGFic1RyaWdnZXIgdmFsdWU9XCJhaVwiIGRhdGEtdGVzdGlkPVwidGFiLWFpXCI+XG4gICAgICAgICAgICAgICAgPFNwYXJrbGVzIGNsYXNzTmFtZT1cInctNCBoLTQgbXItMlwiIC8+XG4gICAgICAgICAgICAgICAgQUkgRXh0cmFjdGlvblxuICAgICAgICAgICAgICA8L1RhYnNUcmlnZ2VyPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L1RhYnNMaXN0PlxuXG4gICAgICAgICAge2FpRW5hYmxlZCAmJiAoXG4gICAgICAgICAgICA8VGFic0NvbnRlbnQgdmFsdWU9XCJhaVwiIGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICA8Q2FyZD5cbiAgICAgICAgICAgICAgICA8Q2FyZEhlYWRlcj5cbiAgICAgICAgICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPFNwYXJrbGVzIGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPlxuICAgICAgICAgICAgICAgICAgICBVcGxvYWQgQmlsbCBEb2N1bWVudFxuICAgICAgICAgICAgICAgICAgPC9DYXJkVGl0bGU+XG4gICAgICAgICAgICAgICAgPC9DYXJkSGVhZGVyPlxuICAgICAgICAgICAgICAgIDxDYXJkQ29udGVudD5cbiAgICAgICAgICAgICAgICAgIDxTaGFyZWRVcGxvYWRlclxuICAgICAgICAgICAgICAgICAgICBvbkRvY3VtZW50Q2hhbmdlPXtoYW5kbGVGaWxlVXBsb2FkfVxuICAgICAgICAgICAgICAgICAgICBmb3JtVHlwZT1cImJpbGxzXCJcbiAgICAgICAgICAgICAgICAgICAgdXBsb2FkQ29udGV4dD17dXBsb2FkQ29udGV4dH1cbiAgICAgICAgICAgICAgICAgICAgYWlBbmFseXNpc0VuYWJsZWQ9e2FpRW5hYmxlZH1cbiAgICAgICAgICAgICAgICAgICAgb25BaVRvZ2dsZT17aGFuZGxlQWlUb2dnbGV9XG4gICAgICAgICAgICAgICAgICAgIG9uQWlBbmFseXNpc0NvbXBsZXRlPXtoYW5kbGVBaUFuYWx5c2lzQ29tcGxldGV9XG4gICAgICAgICAgICAgICAgICAgIHNob3dBaVRvZ2dsZT17ZmFsc2V9XG4gICAgICAgICAgICAgICAgICAgIGFsbG93ZWRGaWxlVHlwZXM9e1snaW1hZ2UvKicsICdhcHBsaWNhdGlvbi9wZGYnXX1cbiAgICAgICAgICAgICAgICAgICAgbWF4RmlsZVNpemU9ezI1fVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAge2lzRXh0cmFjdGluZyAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBwLTQgYmctYmx1ZS01MCBkYXJrOmJnLWJsdWUtOTUwIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ibHVlLTIwMCBkYXJrOmJvcmRlci1ibHVlLTgwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBoLTQgdy00IGJvcmRlci1iLTIgYm9yZGVyLWJsdWUtNjAwXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWJsdWUtNzAwIGRhcms6dGV4dC1ibHVlLTMwMCBmb250LW1lZGl1bVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBFeHRyYWN0aW5nIGRhdGEgZnJvbSB5b3VyIGRvY3VtZW50Li4uXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWJsdWUtNjAwIGRhcms6dGV4dC1ibHVlLTQwMCBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBUaGlzIG1heSB0YWtlIGEgZmV3IHNlY29uZHMgZGVwZW5kaW5nIG9uIGRvY3VtZW50IGNvbXBsZXhpdHkuXG4gICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIHthaUZpbGUgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8R2VtaW5pQmlsbEV4dHJhY3RvclxuICAgICAgICAgICAgICAgICAgICAgIGZpbGU9e2FpRmlsZX1cbiAgICAgICAgICAgICAgICAgICAgICBvbkV4dHJhY3Rpb25Db21wbGV0ZT17aGFuZGxlQWlFeHRyYWN0aW9uQ29tcGxldGV9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICAgIDwvVGFic0NvbnRlbnQ+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIDxUYWJzQ29udGVudCB2YWx1ZT1cIm1hbnVhbFwiIGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgICAgPENhcmQ+XG4gICAgICAgICAgICAgIDxDYXJkSGVhZGVyPlxuICAgICAgICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgIDxGaWxlVGV4dCBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz5cbiAgICAgICAgICAgICAgICAgIFVwbG9hZCBEb2N1bWVudCAoT3B0aW9uYWwpXG4gICAgICAgICAgICAgICAgPC9DYXJkVGl0bGU+XG4gICAgICAgICAgICAgIDwvQ2FyZEhlYWRlcj5cbiAgICAgICAgICAgICAgPENhcmRDb250ZW50PlxuICAgICAgICAgICAgICAgIDxTaGFyZWRVcGxvYWRlclxuICAgICAgICAgICAgICAgICAgb25Eb2N1bWVudENoYW5nZT17aGFuZGxlRmlsZVVwbG9hZH1cbiAgICAgICAgICAgICAgICAgIGZvcm1UeXBlPVwiYmlsbHNcIlxuICAgICAgICAgICAgICAgICAgdXBsb2FkQ29udGV4dD17dXBsb2FkQ29udGV4dH1cbiAgICAgICAgICAgICAgICAgIGFpQW5hbHlzaXNFbmFibGVkPXtmYWxzZX0gLy8gRGlzYWJsZWQgaW4gbWFudWFsIGVudHJ5XG4gICAgICAgICAgICAgICAgICBzaG93QWlUb2dnbGU9e2ZhbHNlfSAvLyBEb24ndCBzaG93IHRvZ2dsZSBpbiBtYW51YWwgZW50cnlcbiAgICAgICAgICAgICAgICAgIGFsbG93ZWRGaWxlVHlwZXM9e1snaW1hZ2UvKicsICdhcHBsaWNhdGlvbi9wZGYnXX1cbiAgICAgICAgICAgICAgICAgIG1heEZpbGVTaXplPXsyNX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgICAgICAgPC9DYXJkPlxuICAgICAgICAgIDwvVGFic0NvbnRlbnQ+XG4gICAgICAgIDwvVGFicz5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBCaWxsIEZvcm0gKi99XG4gICAgICA8Rm9ybSB7Li4uZm9ybX0+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXtmb3JtLmhhbmRsZVN1Ym1pdChvblN1Ym1pdCl9IGNsYXNzTmFtZT1cInNwYWNlLXktNlwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBnYXAtNFwiPlxuICAgICAgICAgICAgey8qIFRpdGxlICovfVxuICAgICAgICAgICAgPEZvcm1GaWVsZFxuICAgICAgICAgICAgICBjb250cm9sPXtmb3JtLmNvbnRyb2x9XG4gICAgICAgICAgICAgIG5hbWU9XCJ0aXRsZVwiXG4gICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKFxuICAgICAgICAgICAgICAgIDxGb3JtSXRlbT5cbiAgICAgICAgICAgICAgICAgIDxGb3JtTGFiZWw+VGl0bGUgKjwvRm9ybUxhYmVsPlxuICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICA8SW5wdXQgcGxhY2Vob2xkZXI9XCJlLmcuLCBNb250aGx5IEVsZWN0cmljaXR5IEJpbGxcIiB7Li4uZmllbGR9IC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgPEZvcm1NZXNzYWdlIC8+XG4gICAgICAgICAgICAgICAgPC9Gb3JtSXRlbT5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgIHsvKiBWZW5kb3IgKi99XG4gICAgICAgICAgICA8Rm9ybUZpZWxkXG4gICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH1cbiAgICAgICAgICAgICAgbmFtZT1cInZlbmRvclwiXG4gICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKFxuICAgICAgICAgICAgICAgIDxGb3JtSXRlbT5cbiAgICAgICAgICAgICAgICAgIDxGb3JtTGFiZWw+VmVuZG9yPC9Gb3JtTGFiZWw+XG4gICAgICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICAgIDxJbnB1dCBwbGFjZWhvbGRlcj1cImUuZy4sIEh5ZHJvIFF1ZWJlY1wiIHsuLi5maWVsZH0gLz5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICA8Rm9ybU1lc3NhZ2UgLz5cbiAgICAgICAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgey8qIENhdGVnb3J5ICovfVxuICAgICAgICAgICAgPEZvcm1GaWVsZFxuICAgICAgICAgICAgICBjb250cm9sPXtmb3JtLmNvbnRyb2x9XG4gICAgICAgICAgICAgIG5hbWU9XCJjYXRlZ29yeVwiXG4gICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKFxuICAgICAgICAgICAgICAgIDxGb3JtSXRlbT5cbiAgICAgICAgICAgICAgICAgIDxGb3JtTGFiZWw+Q2F0ZWdvcnkgKjwvRm9ybUxhYmVsPlxuICAgICAgICAgICAgICAgICAgPFNlbGVjdCBvblZhbHVlQ2hhbmdlPXtmaWVsZC5vbkNoYW5nZX0gdmFsdWU9e2ZpZWxkLnZhbHVlfT5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RUcmlnZ2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFZhbHVlIHBsYWNlaG9sZGVyPVwiU2VsZWN0IGNhdGVnb3J5XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdFRyaWdnZXI+XG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICAgIDxTZWxlY3RDb250ZW50PlxuICAgICAgICAgICAgICAgICAgICAgIHtCSUxMX0NBVEVHT1JJRVMubWFwKChjYXRlZ29yeSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0ga2V5PXtjYXRlZ29yeS52YWx1ZX0gdmFsdWU9e2NhdGVnb3J5LnZhbHVlfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2NhdGVnb3J5LmxhYmVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPlxuICAgICAgICAgICAgICAgIDwvRm9ybUl0ZW0+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICB7LyogUGF5bWVudCBUeXBlICovfVxuICAgICAgICAgICAgPEZvcm1GaWVsZFxuICAgICAgICAgICAgICBjb250cm9sPXtmb3JtLmNvbnRyb2x9XG4gICAgICAgICAgICAgIG5hbWU9XCJwYXltZW50VHlwZVwiXG4gICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKFxuICAgICAgICAgICAgICAgIDxGb3JtSXRlbT5cbiAgICAgICAgICAgICAgICAgIDxGb3JtTGFiZWw+UGF5bWVudCBUeXBlICo8L0Zvcm1MYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxTZWxlY3Qgb25WYWx1ZUNoYW5nZT17ZmllbGQub25DaGFuZ2V9IHZhbHVlPXtmaWVsZC52YWx1ZX0+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0VHJpZ2dlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RWYWx1ZSBwbGFjZWhvbGRlcj1cIlNlbGVjdCBwYXltZW50IHR5cGVcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0VHJpZ2dlcj5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9XCJ1bmlxdWVcIj5PbmUtdGltZSBQYXltZW50PC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPVwicmVjdXJyZW50XCI+UmVjdXJyaW5nIFBheW1lbnQ8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgPEZvcm1NZXNzYWdlIC8+XG4gICAgICAgICAgICAgICAgPC9Gb3JtSXRlbT5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgIHsvKiBUb3RhbCBBbW91bnQgKi99XG4gICAgICAgICAgICA8Rm9ybUZpZWxkXG4gICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH1cbiAgICAgICAgICAgICAgbmFtZT1cInRvdGFsQW1vdW50XCJcbiAgICAgICAgICAgICAgcmVuZGVyPXsoeyBmaWVsZCB9KSA9PiAoXG4gICAgICAgICAgICAgICAgPEZvcm1JdGVtPlxuICAgICAgICAgICAgICAgICAgPEZvcm1MYWJlbD5Ub3RhbCBBbW91bnQgKjwvRm9ybUxhYmVsPlxuICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICA8SW5wdXQgcGxhY2Vob2xkZXI9XCIwLjAwXCIgdHlwZT1cIm51bWJlclwiIHN0ZXA9XCIwLjAxXCIgey4uLmZpZWxkfSAvPlxuICAgICAgICAgICAgICAgICAgPC9Gb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPlxuICAgICAgICAgICAgICAgIDwvRm9ybUl0ZW0+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICB7LyogU3RhcnQgRGF0ZSAqL31cbiAgICAgICAgICAgIDxGb3JtRmllbGRcbiAgICAgICAgICAgICAgY29udHJvbD17Zm9ybS5jb250cm9sfVxuICAgICAgICAgICAgICBuYW1lPVwic3RhcnREYXRlXCJcbiAgICAgICAgICAgICAgcmVuZGVyPXsoeyBmaWVsZCB9KSA9PiAoXG4gICAgICAgICAgICAgICAgPEZvcm1JdGVtPlxuICAgICAgICAgICAgICAgICAgPEZvcm1MYWJlbD5TdGFydCBEYXRlICo8L0Zvcm1MYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgICAgPElucHV0IHR5cGU9XCJkYXRlXCIgey4uLmZpZWxkfSAvPlxuICAgICAgICAgICAgICAgICAgPC9Gb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPlxuICAgICAgICAgICAgICAgIDwvRm9ybUl0ZW0+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIFJlY3VycmluZyBQYXltZW50IFNjaGVkdWxlICovfVxuICAgICAgICAgIHtwYXltZW50VHlwZSA9PT0gJ3JlY3VycmVudCcgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICAgICAgPEZvcm1GaWVsZFxuICAgICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH1cbiAgICAgICAgICAgICAgICBuYW1lPVwic2NoZWR1bGVQYXltZW50XCJcbiAgICAgICAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+IChcbiAgICAgICAgICAgICAgICAgIDxGb3JtSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1MYWJlbD5QYXltZW50IFNjaGVkdWxlPC9Gb3JtTGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxTZWxlY3Qgb25WYWx1ZUNoYW5nZT17ZmllbGQub25DaGFuZ2V9IHZhbHVlPXtmaWVsZC52YWx1ZX0+XG4gICAgICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFRyaWdnZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RWYWx1ZSBwbGFjZWhvbGRlcj1cIlNlbGVjdCBzY2hlZHVsZVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdFRyaWdnZXI+XG4gICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPVwid2Vla2x5XCI+V2Vla2x5PC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9XCJtb250aGx5XCI+TW9udGhseTwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPVwicXVhcnRlcmx5XCI+UXVhcnRlcmx5PC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9XCJ5ZWFybHlcIj5ZZWFybHk8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT1cImN1c3RvbVwiPkN1c3RvbSBTY2hlZHVsZTwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybU1lc3NhZ2UgLz5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybUl0ZW0+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgICB7c2NoZWR1bGVQYXltZW50ID09PSAnY3VzdG9tJyAmJiAoXG4gICAgICAgICAgICAgICAgPENhcmQ+XG4gICAgICAgICAgICAgICAgICA8Q2FyZEhlYWRlcj5cbiAgICAgICAgICAgICAgICAgICAgPENhcmRUaXRsZSBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5DdXN0b20gUGF5bWVudCBTY2hlZHVsZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXthZGRDdXN0b21QYXltZW50fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxQbHVzIGNsYXNzTmFtZT1cInctNCBoLTQgbXItMlwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICBBZGQgUGF5bWVudFxuICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L0NhcmRUaXRsZT5cbiAgICAgICAgICAgICAgICAgIDwvQ2FyZEhlYWRlcj5cbiAgICAgICAgICAgICAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAge2N1c3RvbVBheW1lbnRzLm1hcCgocGF5bWVudCwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aW5kZXh9IGNsYXNzTmFtZT1cImZsZXggZ2FwLTIgaXRlbXMtZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkFtb3VudFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RlcD1cIjAuMDFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtwYXltZW50LmFtb3VudH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHVwZGF0ZUN1c3RvbVBheW1lbnQoaW5kZXgsICdhbW91bnQnLCBlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJkYXRlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17cGF5bWVudC5kYXRlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gdXBkYXRlQ3VzdG9tUGF5bWVudChpbmRleCwgJ2RhdGUnLCBlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtwYXltZW50LmRlc2NyaXB0aW9uIHx8ICcnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gdXBkYXRlQ3VzdG9tUGF5bWVudChpbmRleCwgJ2Rlc2NyaXB0aW9uJywgZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHJlbW92ZUN1c3RvbVBheW1lbnQoaW5kZXgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8WCBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgPC9DYXJkPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHsvKiBEZXNjcmlwdGlvbiAqL31cbiAgICAgICAgICA8Rm9ybUZpZWxkXG4gICAgICAgICAgICBjb250cm9sPXtmb3JtLmNvbnRyb2x9XG4gICAgICAgICAgICBuYW1lPVwiZGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgcmVuZGVyPXsoeyBmaWVsZCB9KSA9PiAoXG4gICAgICAgICAgICAgIDxGb3JtSXRlbT5cbiAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsPkRlc2NyaXB0aW9uPC9Gb3JtTGFiZWw+XG4gICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgPFRleHRhcmVhXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQWRkaXRpb25hbCBkZXRhaWxzIGFib3V0IHRoaXMgYmlsbC4uLlwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1pbi1oLVsxMDBweF1cIlxuICAgICAgICAgICAgICAgICAgICB7Li4uZmllbGR9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgPEZvcm1NZXNzYWdlIC8+XG4gICAgICAgICAgICAgIDwvRm9ybUl0ZW0+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIC8+XG5cbiAgICAgICAgICB7LyogTm90ZXMgKi99XG4gICAgICAgICAgPEZvcm1GaWVsZFxuICAgICAgICAgICAgY29udHJvbD17Zm9ybS5jb250cm9sfVxuICAgICAgICAgICAgbmFtZT1cIm5vdGVzXCJcbiAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKFxuICAgICAgICAgICAgICA8Rm9ybUl0ZW0+XG4gICAgICAgICAgICAgICAgPEZvcm1MYWJlbD5Ob3RlczwvRm9ybUxhYmVsPlxuICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgIDxUZXh0YXJlYVxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkludGVybmFsIG5vdGVzLi4uXCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibWluLWgtWzgwcHhdXCJcbiAgICAgICAgICAgICAgICAgICAgey4uLmZpZWxkfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPlxuICAgICAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAvPlxuXG4gICAgICAgICAgey8qIEZvcm0gQWN0aW9ucyAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgey8qIERlbGV0ZSBidXR0b24gb24gdGhlIGxlZnQgKG9ubHkgZm9yIGV4aXN0aW5nIGJpbGxzKSAqL31cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIHtiaWxsICYmIChcbiAgICAgICAgICAgICAgICA8QnV0dG9uIFxuICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiIFxuICAgICAgICAgICAgICAgICAgdmFyaWFudD1cImRlc3RydWN0aXZlXCIgXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVEZWxldGV9IFxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2RlbGV0ZUJpbGxNdXRhdGlvbi5pc1BlbmRpbmd9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge2RlbGV0ZUJpbGxNdXRhdGlvbi5pc1BlbmRpbmcgPyAnRGVsZXRpbmcuLi4nIDogJ0RlbGV0ZSBCaWxsJ31cbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7LyogQ2FuY2VsIGFuZCBTYXZlL1VwZGF0ZSBidXR0b25zIG9uIHRoZSByaWdodCAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMlwiPlxuICAgICAgICAgICAgICB7b25DYW5jZWwgJiYgKFxuICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImJ1dHRvblwiIHZhcmlhbnQ9XCJvdXRsaW5lXCIgb25DbGljaz17b25DYW5jZWx9PlxuICAgICAgICAgICAgICAgICAgQ2FuY2VsXG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cInN1Ym1pdFwiIGRpc2FibGVkPXtiaWxsTXV0YXRpb24uaXNQZW5kaW5nfT5cbiAgICAgICAgICAgICAgICB7YmlsbE11dGF0aW9uLmlzUGVuZGluZyA/ICdQcm9jZXNzaW5nLi4uJyA6IChiaWxsID8gJ1VwZGF0ZSBCaWxsJyA6ICdDcmVhdGUgQmlsbCcpfVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L0Zvcm0+XG4gICAgPC9kaXY+XG4gICk7XG59Il0sInZlcnNpb24iOjN9