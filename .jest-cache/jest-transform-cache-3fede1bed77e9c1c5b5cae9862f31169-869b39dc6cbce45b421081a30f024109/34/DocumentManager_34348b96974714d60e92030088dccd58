7d379ae3cc7c40708121fa92820e3265
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = DocumentManager;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("react");
const react_query_1 = require("@tanstack/react-query");
const card_1 = require("@/components/ui/card");
const button_1 = require("@/components/ui/button");
const badge_1 = require("@/components/ui/badge");
const input_1 = require("@/components/ui/input");
const label_1 = require("@/components/ui/label");
const textarea_1 = require("@/components/ui/textarea");
const select_1 = require("@/components/ui/select");
const dialog_1 = require("@/components/ui/dialog");
const form_1 = require("@/components/ui/form");
const use_toast_1 = require("@/hooks/use-toast");
const react_hook_form_1 = require("react-hook-form");
const zod_1 = require("@hookform/resolvers/zod");
const zod_2 = require("zod");
const queryClient_1 = require("@/lib/queryClient");
const lucide_react_1 = require("lucide-react");
const header_1 = require("@/components/layout/header");
const wouter_1 = require("wouter");
const documents_1 = require("@/lib/documents");
const createDocumentSchema = (type) => {
    const documentCategories = type === 'building' ? documents_1.BUILDING_DOCUMENT_CATEGORIES : documents_1.RESIDENCE_DOCUMENT_CATEGORIES;
    const validTypes = documentCategories.map((cat) => cat._value);
    const baseSchema = {
        name: zod_2.z.string().min(1, 'Document name is required (example: Monthly Meeting Minutes - January 2025)').max(255, 'Document name must be less than 255 characters'),
        description: zod_2.z.string().max(500, 'Description must be less than 500 characters').optional(),
        documentType: zod_2.z.enum(validTypes),
        isVisibleToTenants: zod_2.z.boolean().default(false),
    };
    if (type === 'building') {
        return zod_2.z.object({
            ...baseSchema,
            buildingId: zod_2.z.string().min(1, 'Building selection is required'),
        });
    }
    else {
        return zod_2.z.object({
            ...baseSchema,
            residenceId: zod_2.z.string().min(1, 'Residence selection is required'),
        });
    }
};
function DocumentManager({ config }) {
    const { toast } = (0, use_toast_1.useToast)();
    const queryClient = (0, react_query_1.useQueryClient)();
    const [, navigate] = (0, wouter_1.useLocation)();
    // State management
    const [isUploadDialogOpen, setIsUploadDialogOpen] = (0, react_1.useState)(false);
    const [isViewDialogOpen, setIsViewDialogOpen] = (0, react_1.useState)(false);
    const [createMode, setCreateMode] = (0, react_1.useState)('file');
    const [textContent, setTextContent] = (0, react_1.useState)('');
    const [isEditMode, setIsEditMode] = (0, react_1.useState)(false);
    const [selectedDocument, setSelectedDocument] = (0, react_1.useState)(null);
    const [selectedFile, setSelectedFile] = (0, react_1.useState)(null);
    const [searchTerm, setSearchTerm] = (0, react_1.useState)('');
    const [selectedCategory, setSelectedCategory] = (0, react_1.useState)('all');
    const [selectedYear, setSelectedYear] = (0, react_1.useState)('all');
    const [currentPage, setCurrentPage] = (0, react_1.useState)(1);
    const [isTextEditorOpen, setIsTextEditorOpen] = (0, react_1.useState)(false);
    const [textEditorDocument, setTextEditorDocument] = (0, react_1.useState)(null);
    const itemsPerPage = 12;
    const documentSchema = createDocumentSchema(config.type);
    const documentCategories = config.type === 'building' ? documents_1.BUILDING_DOCUMENT_CATEGORIES : documents_1.RESIDENCE_DOCUMENT_CATEGORIES;
    // Form setup
    const form = (0, react_hook_form_1.useForm)({
        resolver: (0, zod_1.zodResolver)(documentSchema),
        defaultValues: {
            name: '',
            description: '',
            documentType: 'other',
            ...(config.type === 'building'
                ? { buildingId: config.entityId }
                : { residenceId: config.entityId }),
            isVisibleToTenants: false,
        },
    });
    // API queries and mutations
    const queryKey = config.type === 'building'
        ? [`/api/documents?buildingId=${config.entityId}`]
        : [`/api/documents?residenceId=${config.entityId}`];
    const { data: entity } = (0, react_query_1.useQuery)({
        queryKey: config.type === 'building'
            ? ['/api/manager/buildings', config.entityId]
            : ['/api/residences', config.entityId],
        enabled: !!config.entityId,
    });
    const { data: documents = [], isLoading: documentsLoading } = (0, react_query_1.useQuery)({
        queryKey,
        enabled: !!config.entityId,
        queryFn: async () => {
            const response = await fetch(queryKey[0], {
                credentials: 'include',
            });
            if (!response.ok) {
                throw new Error(`HTTP ${response.status}: ${response.statusText}`);
            }
            const data = await response.json();
            // The API returns {documents: Array, total: number, ...} but we need just the documents array
            return data.documents || [];
        },
    });
    // Filter and group documents
    const filteredDocuments = (0, react_1.useMemo)(() => {
        const filtered = documents.filter((doc) => {
            const matchesSearch = doc.name.toLowerCase().includes(searchTerm.toLowerCase());
            const matchesCategory = selectedCategory === 'all' || doc.documentType === selectedCategory;
            const matchesYear = selectedYear === 'all' || new Date(doc.createdAt).getFullYear().toString() === selectedYear;
            return matchesSearch && matchesCategory && matchesYear;
        });
        return filtered;
    }, [documents, searchTerm, selectedCategory, selectedYear]);
    const documentsByCategory = (0, react_1.useMemo)(() => {
        const grouped = {};
        documentCategories.forEach((category) => {
            grouped[category._value] = filteredDocuments.filter((doc) => doc.documentType === category._value);
        });
        return grouped;
    }, [filteredDocuments, documentCategories]);
    // Create mutation (supports both file upload and text-only)
    const createMutation = (0, react_query_1.useMutation)({
        mutationFn: async (data) => {
            if (createMode === 'file') {
                if (!selectedFile) {
                    throw new Error('No file selected');
                }
                const formData = new FormData();
                formData.append('file', selectedFile);
                formData.append('name', data.name);
                formData.append('description', data.description || '');
                formData.append('documentType', data.documentType);
                formData.append('isVisibleToTenants', data.isVisibleToTenants.toString());
                if (data.residenceId) {
                    formData.append('residenceId', data.residenceId);
                }
                if (data.buildingId) {
                    formData.append('buildingId', data.buildingId);
                }
                const response = await fetch('/api/documents/upload', {
                    method: 'POST',
                    body: formData,
                });
                if (!response.ok) {
                    throw new Error('Internal server error');
                }
                return response.json();
            }
            else {
                // Text-only document creation
                const payload = {
                    name: data.name,
                    description: data.description || '',
                    documentType: data.documentType,
                    isVisibleToTenants: data.isVisibleToTenants,
                    textContent: textContent,
                    ...(data.residenceId ? { residenceId: data.residenceId } : {}),
                    ...(data.buildingId ? { buildingId: data.buildingId } : {}),
                };
                return (0, queryClient_1.apiRequest)('POST', '/api/documents', payload);
            }
        },
        onSuccess: () => {
            toast({
                title: 'Success',
                description: createMode === 'file' ? 'Document uploaded successfully' : 'Document created successfully',
            });
            queryClient.invalidateQueries({ queryKey });
            setIsUploadDialogOpen(false);
            form.reset();
            setSelectedFile(null);
            setTextContent('');
            setCreateMode('file');
        },
        onError: (error) => {
            toast({
                title: 'Error',
                description: error.message || (createMode === 'file' ? 'Failed to upload document' : 'Failed to create document'),
                variant: 'destructive',
            });
        },
    });
    // Delete mutation
    const deleteMutation = (0, react_query_1.useMutation)({
        mutationFn: async (documentId) => {
            return (0, queryClient_1.apiRequest)('DELETE', `/api/documents/${documentId}`);
        },
        onSuccess: () => {
            toast({
                title: 'Success',
                description: 'Document deleted successfully',
            });
            queryClient.invalidateQueries({ queryKey });
        },
        onError: (error) => {
            toast({
                title: 'Error',
                description: error.message || 'Failed to delete document',
                variant: 'destructive',
            });
        },
    });
    // Event handlers
    const handleCreateDocument = async (data) => {
        await createMutation.mutateAsync(data);
    };
    const handleDeleteDocument = async (document) => {
        if (window.confirm('Are you sure you want to delete this document?')) {
            await deleteMutation.mutateAsync(document.id);
        }
    };
    const handleViewDocument = (document) => {
        setSelectedDocument(document);
        setIsViewDialogOpen(true);
    };
    const handleDownloadDocument = (document) => {
        if (document.filePath) {
            const link = window.document.createElement('a');
            link.href = `/api/documents/${document.id}/file?download=true`;
            link.download = document.fileName || document.name;
            window.document.body.appendChild(link);
            link.click();
            window.document.body.removeChild(link);
        }
    };
    const formatDate = (dateString) => {
        return new Date(dateString).toLocaleDateString();
    };
    const formatFileSize = (bytes) => {
        if (!bytes)
            return 'Unknown size';
        const sizes = ['Bytes', 'KB', 'MB', 'GB'];
        const i = Math.floor(Math.log(bytes) / Math.log(1024));
        return Math.round((bytes / Math.pow(1024, i)) * 100) / 100 + ' ' + sizes[i];
    };
    if (!config.entityId) {
        return ((0, jsx_runtime_1.jsxs)("div", { className: 'flex-1 flex flex-col overflow-hidden', children: [(0, jsx_runtime_1.jsx)(header_1.Header, { title: `${config.type === 'building' ? 'Building' : 'Residence'} Documents`, subtitle: 'Entity ID is required' }), (0, jsx_runtime_1.jsx)("div", { className: 'flex-1 overflow-auto p-6', children: (0, jsx_runtime_1.jsx)(card_1.Card, { children: (0, jsx_runtime_1.jsxs)(card_1.CardContent, { className: 'flex flex-col items-center justify-center py-12', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Building, { className: 'h-12 w-12 text-gray-400 mb-4' }), (0, jsx_runtime_1.jsxs)("h3", { className: 'text-lg font-medium text-gray-900 mb-2', children: [config.type === 'building' ? 'Building' : 'Residence', " ID Required"] }), (0, jsx_runtime_1.jsxs)("p", { className: 'text-gray-500', children: ["Please provide a ", config.type, " ID to view documents."] })] }) }) })] }));
    }
    const entityNotFound = config.entityId && !entity && !documentsLoading;
    if (entityNotFound) {
        return ((0, jsx_runtime_1.jsxs)("div", { className: 'flex-1 flex flex-col overflow-hidden', children: [(0, jsx_runtime_1.jsx)(header_1.Header, { title: `${config.type === 'building' ? 'Building' : 'Residence'} Not Found`, subtitle: `The ${config.type} ID provided does not exist` }), (0, jsx_runtime_1.jsx)("div", { className: 'flex-1 overflow-auto p-6', children: (0, jsx_runtime_1.jsx)(card_1.Card, { children: (0, jsx_runtime_1.jsxs)(card_1.CardContent, { className: 'flex flex-col items-center justify-center py-12', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Building, { className: 'h-12 w-12 text-gray-400 mb-4' }), (0, jsx_runtime_1.jsxs)("h3", { className: 'text-lg font-medium text-gray-900 mb-2', children: [config.type === 'building' ? 'Building' : 'Residence', " Not Found"] }), (0, jsx_runtime_1.jsxs)("p", { className: 'text-gray-500', children: ["The ", config.type, " with ID \"", config.entityId, "\" does not exist or you don't have access to it."] }), (0, jsx_runtime_1.jsxs)(button_1.Button, { variant: 'outline', className: 'mt-4', onClick: () => navigate(`/${config.userRole}s/${config.type}s`), children: ["Back to ", config.type === 'building' ? 'Buildings' : 'Residences'] })] }) }) })] }));
    }
    return ((0, jsx_runtime_1.jsxs)("div", { className: 'flex-1 flex flex-col overflow-hidden', children: [(0, jsx_runtime_1.jsx)(header_1.Header, { title: `${config.type === 'building' ? entity?.name || 'Building' : entity?.unitNumber ? `Unit ${entity.unitNumber}` : 'Residence'} Documents`, subtitle: `${config.userRole === 'manager' ? 'Manage' : 'View'} documents for ${config.type === 'building' ? entity?.name || 'this building' : entity?.unitNumber ? `Unit ${entity.unitNumber}` : 'this residence'}` }), (0, jsx_runtime_1.jsx)("div", { className: 'flex-1 overflow-auto p-6', children: (0, jsx_runtime_1.jsxs)("div", { className: 'max-w-7xl mx-auto', children: [config.userRole === 'resident' && ((0, jsx_runtime_1.jsx)("div", { className: 'mb-6', children: (0, jsx_runtime_1.jsxs)(button_1.Button, { variant: 'ghost', onClick: () => navigate(`/${config.userRole}s/${config.type}s`), className: 'flex items-center gap-2', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.ArrowLeft, { className: 'w-4 h-4' }), "Back to ", config.type === 'building' ? 'Building' : 'Residence'] }) })), (0, jsx_runtime_1.jsxs)("div", { className: 'mb-6', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'flex flex-col sm:flex-row gap-4 mb-4', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'relative flex-1', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Search, { className: 'absolute left-3 top-3 h-4 w-4 text-gray-400' }), (0, jsx_runtime_1.jsx)(input_1.Input, { placeholder: 'Search documents...', value: searchTerm, onChange: (e) => setSearchTerm(e.target.value), className: 'pl-10', "data-testid": 'input-search' })] }), (0, jsx_runtime_1.jsxs)(select_1.Select, { value: selectedCategory, onValueChange: setSelectedCategory, children: [(0, jsx_runtime_1.jsx)(select_1.SelectTrigger, { className: 'w-full sm:w-48', "data-testid": 'select-category', children: (0, jsx_runtime_1.jsx)(select_1.SelectValue, { placeholder: 'All Categories' }) }), (0, jsx_runtime_1.jsxs)(select_1.SelectContent, { children: [(0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'all', children: "All Categories" }), documentCategories.map((category) => ((0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: category._value, children: category.label }, category._value)))] })] })] }), (config.allowUpload || config.allowCreate) && ((0, jsx_runtime_1.jsxs)("div", { className: 'flex justify-between items-center', children: [(0, jsx_runtime_1.jsx)("div", {}), (0, jsx_runtime_1.jsxs)(dialog_1.Dialog, { open: isUploadDialogOpen, onOpenChange: setIsUploadDialogOpen, children: [(0, jsx_runtime_1.jsx)(dialog_1.DialogTrigger, { asChild: true, children: (0, jsx_runtime_1.jsxs)(button_1.Button, { "data-testid": 'button-upload', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Plus, { className: 'w-4 h-4 mr-2' }), "Upload Document"] }) }), (0, jsx_runtime_1.jsxs)(dialog_1.DialogContent, { className: 'max-w-md max-h-[90vh] overflow-y-auto', children: [(0, jsx_runtime_1.jsxs)(dialog_1.DialogHeader, { children: [(0, jsx_runtime_1.jsx)(dialog_1.DialogTitle, { children: "Create New Document" }), (0, jsx_runtime_1.jsxs)(dialog_1.DialogDescription, { children: ["Add a new document to this ", config.type, ". You can attach a file or create a text-only document entry."] })] }), (0, jsx_runtime_1.jsxs)("div", { className: 'space-y-3 border-b pb-4', children: [(0, jsx_runtime_1.jsx)(label_1.Label, { className: 'text-sm font-medium', children: "Choose Document Type" }), (0, jsx_runtime_1.jsxs)("div", { className: 'flex space-x-3', children: [(0, jsx_runtime_1.jsx)("button", { type: 'button', onClick: () => setCreateMode('file'), className: `flex-1 p-3 rounded-lg border text-sm font-medium transition-colors ${createMode === 'file'
                                                                                ? 'border-blue-500 bg-blue-50 text-blue-700'
                                                                                : 'border-gray-200 hover:border-gray-300'}`, "data-testid": 'button-file-mode', children: "\uD83D\uDCC1 Upload File" }), (0, jsx_runtime_1.jsx)("button", { type: 'button', onClick: () => setCreateMode('text'), className: `flex-1 p-3 rounded-lg border text-sm font-medium transition-colors ${createMode === 'text'
                                                                                ? 'border-blue-500 bg-blue-50 text-blue-700'
                                                                                : 'border-gray-200 hover:border-gray-300'}`, "data-testid": 'button-text-mode', children: "\uD83D\uDCDD Text Document" })] })] }), (0, jsx_runtime_1.jsx)(form_1.Form, { ...form, children: (0, jsx_runtime_1.jsxs)("form", { onSubmit: form.handleSubmit(handleCreateDocument), className: 'space-y-4', children: [(0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'name', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Document Name" }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(input_1.Input, { ...field, "data-testid": 'input-document-name' }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'description', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Description (Optional)" }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(input_1.Input, { ...field, "data-testid": 'input-description' }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'documentType', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Document Category" }), (0, jsx_runtime_1.jsxs)(select_1.Select, { onValueChange: field.onChange, value: field.value, children: [(0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(select_1.SelectTrigger, { "data-testid": 'select-document-type', children: (0, jsx_runtime_1.jsx)(select_1.SelectValue, { placeholder: 'Select category' }) }) }), (0, jsx_runtime_1.jsx)(select_1.SelectContent, { children: documentCategories.map((category) => ((0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: category._value, children: category.label }, category._value))) })] }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), createMode === 'file' ? ((0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: 'file-upload', children: "Select File to Upload" }), (0, jsx_runtime_1.jsx)(input_1.Input, { id: 'file-upload', type: 'file', onChange: (e) => setSelectedFile(e.target.files?.[0] || null), className: 'mt-1', "data-testid": 'input-file' }), selectedFile && ((0, jsx_runtime_1.jsxs)("p", { className: 'text-sm text-gray-500 mt-1', children: ["Selected: ", selectedFile.name, " (", Math.round(selectedFile.size / 1024), ' ', "KB)"] }))] })) : ((0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: 'text-content', children: "Document Content" }), (0, jsx_runtime_1.jsx)(textarea_1.Textarea, { id: 'text-content', value: textContent, onChange: (e) => setTextContent(e.target.value), placeholder: 'Enter the document content here...', className: 'mt-1 min-h-[120px]', "data-testid": 'textarea-content' }), (0, jsx_runtime_1.jsx)("p", { className: 'text-sm text-gray-500 mt-1', children: "This will create a text document that can be viewed and edited online." })] })), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'isVisibleToTenants', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { className: 'flex flex-row items-center space-x-3 space-y-0', children: [(0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)("input", { type: 'checkbox', checked: field.value, onChange: (e) => field.onChange(e.target.checked), "data-testid": 'checkbox-visible-tenants' }) }), (0, jsx_runtime_1.jsxs)("div", { className: 'space-y-1 leading-none', children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Visible to Tenants" }), (0, jsx_runtime_1.jsx)("p", { className: 'text-sm text-muted-foreground', children: "Allow tenants to view this document" })] })] })) }), (0, jsx_runtime_1.jsxs)(dialog_1.DialogFooter, { children: [(0, jsx_runtime_1.jsx)(button_1.Button, { type: 'button', variant: 'outline', onClick: () => setIsUploadDialogOpen(false), children: "Cancel" }), (0, jsx_runtime_1.jsx)(button_1.Button, { type: 'submit', disabled: createMutation.isPending || (createMode === 'file' && !selectedFile) || (createMode === 'text' && !textContent.trim()), "data-testid": 'button-create', children: createMutation.isPending
                                                                                    ? (createMode === 'file' ? 'Uploading...' : 'Creating...')
                                                                                    : 'Create' })] })] }) })] })] })] }))] }), documentsLoading ? ((0, jsx_runtime_1.jsx)("div", { className: 'text-center py-8', children: "Loading documents..." })) : filteredDocuments.length === 0 ? ((0, jsx_runtime_1.jsx)(card_1.Card, { children: (0, jsx_runtime_1.jsxs)(card_1.CardContent, { className: 'p-8 text-center', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.FileText, { className: 'w-16 h-16 mx-auto text-gray-400 mb-4' }), (0, jsx_runtime_1.jsx)("h3", { className: 'text-lg font-semibold text-gray-600 mb-2', children: "No Documents Found" }), (0, jsx_runtime_1.jsx)("p", { className: 'text-gray-500', children: searchTerm || selectedCategory !== 'all' || selectedYear !== 'all'
                                            ? 'No documents match your current filters.'
                                            : `No documents are available for this ${config.type}.` })] }) })) : ((0, jsx_runtime_1.jsx)("div", { className: 'space-y-6', children: documentCategories.map((category) => {
                                const categoryDocuments = documentsByCategory[category._value] || [];
                                if (categoryDocuments.length === 0) {
                                    return null;
                                }
                                return ((0, jsx_runtime_1.jsxs)(card_1.Card, { "data-testid": `category-${category._value}`, children: [(0, jsx_runtime_1.jsx)(card_1.CardHeader, { children: (0, jsx_runtime_1.jsxs)(card_1.CardTitle, { className: 'flex items-center gap-2', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.FileText, { className: 'h-5 w-5' }), category.label, (0, jsx_runtime_1.jsx)(badge_1.Badge, { variant: 'secondary', children: categoryDocuments.length })] }) }), (0, jsx_runtime_1.jsx)(card_1.CardContent, { children: (0, jsx_runtime_1.jsx)("div", { className: 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4', children: categoryDocuments.map((document) => ((0, jsx_runtime_1.jsx)(card_1.Card, { className: 'cursor-pointer hover:shadow-md transition-shadow', "data-testid": `document-card-${document.id}`, onClick: () => handleViewDocument(document), children: (0, jsx_runtime_1.jsxs)(card_1.CardContent, { className: 'p-4', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'flex items-start justify-between mb-2', children: [(0, jsx_runtime_1.jsx)("h4", { className: 'font-medium text-sm truncate flex-1 mr-2', "data-testid": `document-name-${document.id}`, children: document.name }), (0, jsx_runtime_1.jsx)("div", { className: 'flex gap-1', children: config.allowEdit && ((0, jsx_runtime_1.jsx)(button_1.Button, { size: 'sm', variant: 'ghost', onClick: (e) => {
                                                                                e.stopPropagation();
                                                                                setSelectedDocument(document);
                                                                                setIsEditMode(true);
                                                                                setIsViewDialogOpen(true);
                                                                            }, "data-testid": `button-edit-${document.id}`, children: (0, jsx_runtime_1.jsx)(lucide_react_1.Edit, { className: 'h-3 w-3' }) })) })] }), (0, jsx_runtime_1.jsx)("p", { className: 'text-xs text-gray-500 mb-2', "data-testid": `document-date-${document.id}`, children: formatDate(document.createdAt) }), document.filePath && ((0, jsx_runtime_1.jsx)(badge_1.Badge, { variant: 'outline', className: 'text-xs', children: formatFileSize(document.fileSize) }))] }) }, document.id))) }) })] }, category._value));
                            }) }))] }) }), (0, jsx_runtime_1.jsx)(dialog_1.Dialog, { open: isViewDialogOpen && !isEditMode, onOpenChange: (open) => {
                    setIsViewDialogOpen(open);
                    if (!open) {
                        setSelectedDocument(null);
                    }
                }, children: (0, jsx_runtime_1.jsxs)(dialog_1.DialogContent, { className: 'max-w-2xl', children: [(0, jsx_runtime_1.jsxs)(dialog_1.DialogHeader, { children: [(0, jsx_runtime_1.jsx)(dialog_1.DialogTitle, { children: "Document Details" }), (0, jsx_runtime_1.jsx)(dialog_1.DialogDescription, { children: "View document information and access options." })] }), selectedDocument && ((0, jsx_runtime_1.jsxs)("div", { className: 'space-y-4', children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("h3", { className: 'text-lg font-semibold', children: selectedDocument.name }), selectedDocument.description && ((0, jsx_runtime_1.jsx)("p", { className: 'text-gray-600 mt-2', children: selectedDocument.description }))] }), (0, jsx_runtime_1.jsxs)("div", { className: 'grid grid-cols-2 gap-4 text-sm', children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("strong", { children: "Category:" }), ' ', (0, documents_1.getCategoryLabel)(documentCategories, selectedDocument.documentType) ||
                                                    selectedDocument.documentType ||
                                                    'Unknown'] }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("strong", { children: "Date:" }), " ", formatDate(selectedDocument.createdAt)] }), selectedDocument.fileSize && ((0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("strong", { children: "Size:" }), " ", formatFileSize(selectedDocument.fileSize)] })), selectedDocument.fileName && ((0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("strong", { children: "File:" }), " ", selectedDocument.fileName] }))] }), (0, jsx_runtime_1.jsxs)("div", { className: 'flex gap-2 pt-4', children: [(0, jsx_runtime_1.jsxs)(button_1.Button, { onClick: () => {
                                                if (selectedDocument.filePath) {
                                                    const fileUrl = `/api/documents/${selectedDocument.id}/file`;
                                                    window.open(fileUrl, '_blank');
                                                }
                                            }, disabled: !selectedDocument.filePath, "data-testid": 'button-view', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.FileText, { className: 'w-4 h-4 mr-2' }), "View"] }), (0, jsx_runtime_1.jsxs)(button_1.Button, { variant: 'outline', onClick: () => {
                                                if (selectedDocument.filePath) {
                                                    const link = window.document.createElement('a');
                                                    link.href = `/api/documents/${selectedDocument.id}/file?download=true`;
                                                    link.download = selectedDocument.fileName || selectedDocument.name;
                                                    window.document.body.appendChild(link);
                                                    link.click();
                                                    window.document.body.removeChild(link);
                                                }
                                            }, disabled: !selectedDocument.filePath, "data-testid": 'button-download', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Download, { className: 'w-4 h-4 mr-2' }), "Download"] }), config.allowEdit && ((0, jsx_runtime_1.jsxs)(button_1.Button, { variant: 'outline', onClick: () => {
                                                setIsEditMode(true);
                                            }, children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Edit, { className: 'w-4 h-4 mr-2' }), "Edit"] })), config.allowDelete && ((0, jsx_runtime_1.jsxs)(button_1.Button, { variant: 'outline', onClick: () => {
                                                handleDeleteDocument(selectedDocument);
                                                setIsViewDialogOpen(false);
                                            }, className: 'text-red-600 hover:text-red-700', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Trash2, { className: 'w-4 h-4 mr-2' }), "Delete"] }))] })] }))] }) }), (0, jsx_runtime_1.jsx)(dialog_1.Dialog, { open: isViewDialogOpen && isEditMode, onOpenChange: (open) => {
                    setIsViewDialogOpen(open);
                    if (!open) {
                        setSelectedDocument(null);
                        setIsEditMode(false);
                    }
                }, children: (0, jsx_runtime_1.jsxs)(dialog_1.DialogContent, { className: 'max-w-md max-h-[90vh] overflow-y-auto', children: [(0, jsx_runtime_1.jsxs)(dialog_1.DialogHeader, { children: [(0, jsx_runtime_1.jsx)(dialog_1.DialogTitle, { children: "Edit Document" }), (0, jsx_runtime_1.jsx)(dialog_1.DialogDescription, { children: "Update the document information. Note: File content cannot be changed, only metadata." })] }), selectedDocument && ((0, jsx_runtime_1.jsx)(form_1.Form, { ...form, children: (0, jsx_runtime_1.jsxs)("form", { onSubmit: form.handleSubmit(async (data) => {
                                    try {
                                        const response = await (0, queryClient_1.apiRequest)('PUT', `/api/documents/${selectedDocument.id}`, data);
                                        toast({
                                            title: 'Success',
                                            description: 'Document updated successfully',
                                        });
                                        queryClient.invalidateQueries({ queryKey });
                                        setIsViewDialogOpen(false);
                                        setIsEditMode(false);
                                        setSelectedDocument(null);
                                    }
                                    catch (error) {
                                        toast({
                                            title: 'Error',
                                            description: error.message || 'Failed to update document',
                                            variant: 'destructive',
                                        });
                                    }
                                }), className: 'space-y-4', children: [(0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'name', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Document Name" }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(input_1.Input, { ...field, value: field.value || selectedDocument.name, "data-testid": 'input-edit-name' }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'description', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Description (Optional)" }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(input_1.Input, { ...field, value: field.value || selectedDocument.description || '', "data-testid": 'input-edit-description' }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'documentType', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Document Category" }), (0, jsx_runtime_1.jsxs)(select_1.Select, { onValueChange: field.onChange, value: field.value || selectedDocument.documentType, children: [(0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(select_1.SelectTrigger, { "data-testid": 'select-edit-type', children: (0, jsx_runtime_1.jsx)(select_1.SelectValue, { placeholder: 'Select category' }) }) }), (0, jsx_runtime_1.jsx)(select_1.SelectContent, { children: documentCategories.map((category) => ((0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: category._value, children: category.label }, category._value))) })] }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'isVisibleToTenants', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { className: 'flex flex-row items-center space-x-3 space-y-0', children: [(0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)("input", { type: 'checkbox', checked: field.value !== undefined ? field.value : selectedDocument.isVisibleToTenants, onChange: (e) => field.onChange(e.target.checked), "data-testid": 'checkbox-edit-visible-tenants' }) }), (0, jsx_runtime_1.jsxs)("div", { className: 'space-y-1 leading-none', children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: "Visible to Tenants" }), (0, jsx_runtime_1.jsx)("p", { className: 'text-sm text-muted-foreground', children: "Allow tenants to view this document" })] })] })) }), (0, jsx_runtime_1.jsxs)(dialog_1.DialogFooter, { children: [(0, jsx_runtime_1.jsx)(button_1.Button, { type: 'button', variant: 'outline', onClick: () => {
                                                    setIsEditMode(false);
                                                }, children: "Cancel" }), (0, jsx_runtime_1.jsx)(button_1.Button, { type: 'submit', "data-testid": 'button-save-edit', children: "Save Changes" })] })] }) }))] }) })] }));
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9jbGllbnQvc3JjL2NvbXBvbmVudHMvY29tbW9uL0RvY3VtZW50TWFuYWdlci50c3giLCJtYXBwaW5ncyI6Ijs7QUFzSEEsa0NBMDFCQzs7QUFoOUJELGlDQUEwQztBQUMxQyx1REFBOEU7QUFDOUUsK0NBQWdGO0FBQ2hGLG1EQUFnRDtBQUNoRCxpREFBOEM7QUFDOUMsaURBQThDO0FBQzlDLGlEQUE4QztBQUM5Qyx1REFBb0Q7QUFDcEQsbURBTWdDO0FBQ2hDLG1EQVFnQztBQUNoQywrQ0FPOEI7QUFDOUIsaURBQTZDO0FBQzdDLHFEQUEwQztBQUMxQyxpREFBc0Q7QUFDdEQsNkJBQXdCO0FBQ3hCLG1EQUErQztBQUUvQywrQ0Fhc0I7QUFDdEIsdURBQW9EO0FBQ3BELG1DQUFxQztBQUVyQywrQ0FLeUI7QUFpQ3pCLE1BQU0sb0JBQW9CLEdBQUcsQ0FBQyxJQUE4QixFQUFFLEVBQUU7SUFDOUQsTUFBTSxrQkFBa0IsR0FDdEIsSUFBSSxLQUFLLFVBQVUsQ0FBQyxDQUFDLENBQUMsd0NBQTRCLENBQUMsQ0FBQyxDQUFDLHlDQUE2QixDQUFDO0lBQ3JGLE1BQU0sVUFBVSxHQUFHLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBRS9ELE1BQU0sVUFBVSxHQUFHO1FBQ2pCLElBQUksRUFBRSxPQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSw2RUFBNkUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsZ0RBQWdELENBQUM7UUFDakssV0FBVyxFQUFFLE9BQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLDhDQUE4QyxDQUFDLENBQUMsUUFBUSxFQUFFO1FBQzNGLFlBQVksRUFBRSxPQUFDLENBQUMsSUFBSSxDQUFDLFVBQW1DLENBQUM7UUFDekQsa0JBQWtCLEVBQUUsT0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUM7S0FDL0MsQ0FBQztJQUVGLElBQUksSUFBSSxLQUFLLFVBQVUsRUFBRSxDQUFDO1FBQ3hCLE9BQU8sT0FBQyxDQUFDLE1BQU0sQ0FBQztZQUNkLEdBQUcsVUFBVTtZQUNiLFVBQVUsRUFBRSxPQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxnQ0FBZ0MsQ0FBQztTQUNoRSxDQUFDLENBQUM7SUFDTCxDQUFDO1NBQU0sQ0FBQztRQUNOLE9BQU8sT0FBQyxDQUFDLE1BQU0sQ0FBQztZQUNkLEdBQUcsVUFBVTtZQUNiLFdBQVcsRUFBRSxPQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxpQ0FBaUMsQ0FBQztTQUNsRSxDQUFDLENBQUM7SUFDTCxDQUFDO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsU0FBd0IsZUFBZSxDQUFDLEVBQUUsTUFBTSxFQUFxQztJQUNuRixNQUFNLEVBQUUsS0FBSyxFQUFFLEdBQUcsSUFBQSxvQkFBUSxHQUFFLENBQUM7SUFDN0IsTUFBTSxXQUFXLEdBQUcsSUFBQSw0QkFBYyxHQUFFLENBQUM7SUFDckMsTUFBTSxDQUFDLEVBQUUsUUFBUSxDQUFDLEdBQUcsSUFBQSxvQkFBVyxHQUFFLENBQUM7SUFFbkMsbUJBQW1CO0lBQ25CLE1BQU0sQ0FBQyxrQkFBa0IsRUFBRSxxQkFBcUIsQ0FBQyxHQUFHLElBQUEsZ0JBQVEsRUFBQyxLQUFLLENBQUMsQ0FBQztJQUNwRSxNQUFNLENBQUMsZ0JBQWdCLEVBQUUsbUJBQW1CLENBQUMsR0FBRyxJQUFBLGdCQUFRLEVBQUMsS0FBSyxDQUFDLENBQUM7SUFDaEUsTUFBTSxDQUFDLFVBQVUsRUFBRSxhQUFhLENBQUMsR0FBRyxJQUFBLGdCQUFRLEVBQWtCLE1BQU0sQ0FBQyxDQUFDO0lBQ3RFLE1BQU0sQ0FBQyxXQUFXLEVBQUUsY0FBYyxDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ25ELE1BQU0sQ0FBQyxVQUFVLEVBQUUsYUFBYSxDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3BELE1BQU0sQ0FBQyxnQkFBZ0IsRUFBRSxtQkFBbUIsQ0FBQyxHQUFHLElBQUEsZ0JBQVEsRUFBa0IsSUFBSSxDQUFDLENBQUM7SUFDaEYsTUFBTSxDQUFDLFlBQVksRUFBRSxlQUFlLENBQUMsR0FBRyxJQUFBLGdCQUFRLEVBQWMsSUFBSSxDQUFDLENBQUM7SUFDcEUsTUFBTSxDQUFDLFVBQVUsRUFBRSxhQUFhLENBQUMsR0FBRyxJQUFBLGdCQUFRLEVBQUMsRUFBRSxDQUFDLENBQUM7SUFDakQsTUFBTSxDQUFDLGdCQUFnQixFQUFFLG1CQUFtQixDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2hFLE1BQU0sQ0FBQyxZQUFZLEVBQUUsZUFBZSxDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3hELE1BQU0sQ0FBQyxXQUFXLEVBQUUsY0FBYyxDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2xELE1BQU0sQ0FBQyxnQkFBZ0IsRUFBRSxtQkFBbUIsQ0FBQyxHQUFHLElBQUEsZ0JBQVEsRUFBQyxLQUFLLENBQUMsQ0FBQztJQUNoRSxNQUFNLENBQUMsa0JBQWtCLEVBQUUscUJBQXFCLENBQUMsR0FBRyxJQUFBLGdCQUFRLEVBQWtCLElBQUksQ0FBQyxDQUFDO0lBRXBGLE1BQU0sWUFBWSxHQUFHLEVBQUUsQ0FBQztJQUN4QixNQUFNLGNBQWMsR0FBRyxvQkFBb0IsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDekQsTUFBTSxrQkFBa0IsR0FDdEIsTUFBTSxDQUFDLElBQUksS0FBSyxVQUFVLENBQUMsQ0FBQyxDQUFDLHdDQUE0QixDQUFDLENBQUMsQ0FBQyx5Q0FBNkIsQ0FBQztJQUU1RixhQUFhO0lBQ2IsTUFBTSxJQUFJLEdBQUcsSUFBQSx5QkFBTyxFQUFDO1FBQ25CLFFBQVEsRUFBRSxJQUFBLGlCQUFXLEVBQUMsY0FBYyxDQUFDO1FBQ3JDLGFBQWEsRUFBRTtZQUNiLElBQUksRUFBRSxFQUFFO1lBQ1IsV0FBVyxFQUFFLEVBQUU7WUFDZixZQUFZLEVBQUUsT0FBTztZQUNyQixHQUFHLENBQUMsTUFBTSxDQUFDLElBQUksS0FBSyxVQUFVO2dCQUM1QixDQUFDLENBQUMsRUFBRSxVQUFVLEVBQUUsTUFBTSxDQUFDLFFBQVEsRUFBRTtnQkFDakMsQ0FBQyxDQUFDLEVBQUUsV0FBVyxFQUFFLE1BQU0sQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUNyQyxrQkFBa0IsRUFBRSxLQUFLO1NBQzFCO0tBQ0YsQ0FBQyxDQUFDO0lBRUgsNEJBQTRCO0lBQzVCLE1BQU0sUUFBUSxHQUNaLE1BQU0sQ0FBQyxJQUFJLEtBQUssVUFBVTtRQUN4QixDQUFDLENBQUMsQ0FBQyw2QkFBNkIsTUFBTSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ2xELENBQUMsQ0FBQyxDQUFDLDhCQUE4QixNQUFNLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQztJQUV4RCxNQUFNLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxHQUFHLElBQUEsc0JBQVEsRUFBMkI7UUFDMUQsUUFBUSxFQUNOLE1BQU0sQ0FBQyxJQUFJLEtBQUssVUFBVTtZQUN4QixDQUFDLENBQUMsQ0FBQyx3QkFBd0IsRUFBRSxNQUFNLENBQUMsUUFBUSxDQUFDO1lBQzdDLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLE1BQU0sQ0FBQyxRQUFRLENBQUM7UUFDMUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsUUFBUTtLQUMzQixDQUFDLENBQUM7SUFFSCxNQUFNLEVBQUUsSUFBSSxFQUFFLFNBQVMsR0FBRyxFQUFFLEVBQUUsU0FBUyxFQUFFLGdCQUFnQixFQUFFLEdBQUcsSUFBQSxzQkFBUSxFQUFhO1FBQ2pGLFFBQVE7UUFDUixPQUFPLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxRQUFRO1FBQzFCLE9BQU8sRUFBRSxLQUFLLElBQUksRUFBRTtZQUNsQixNQUFNLFFBQVEsR0FBRyxNQUFNLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUU7Z0JBQ3hDLFdBQVcsRUFBRSxTQUFTO2FBQ3ZCLENBQUMsQ0FBQztZQUVILElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRSxFQUFFLENBQUM7Z0JBQ2pCLE1BQU0sSUFBSSxLQUFLLENBQUMsUUFBUSxRQUFRLENBQUMsTUFBTSxLQUFLLFFBQVEsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxDQUFDO1lBQ3JFLENBQUM7WUFFRCxNQUFNLElBQUksR0FBRyxNQUFNLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUNuQyw4RkFBOEY7WUFDOUYsT0FBTyxJQUFJLENBQUMsU0FBUyxJQUFJLEVBQUUsQ0FBQztRQUM5QixDQUFDO0tBQ0YsQ0FBQyxDQUFDO0lBRUgsNkJBQTZCO0lBQzdCLE1BQU0saUJBQWlCLEdBQUcsSUFBQSxlQUFPLEVBQUMsR0FBRyxFQUFFO1FBQ3JDLE1BQU0sUUFBUSxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFhLEVBQUUsRUFBRTtZQUNsRCxNQUFNLGFBQWEsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQztZQUNoRixNQUFNLGVBQWUsR0FBRyxnQkFBZ0IsS0FBSyxLQUFLLElBQUksR0FBRyxDQUFDLFlBQVksS0FBSyxnQkFBZ0IsQ0FBQztZQUM1RixNQUFNLFdBQVcsR0FDZixZQUFZLEtBQUssS0FBSyxJQUFJLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxRQUFRLEVBQUUsS0FBSyxZQUFZLENBQUM7WUFDOUYsT0FBTyxhQUFhLElBQUksZUFBZSxJQUFJLFdBQVcsQ0FBQztRQUN6RCxDQUFDLENBQUMsQ0FBQztRQUNILE9BQU8sUUFBUSxDQUFDO0lBQ2xCLENBQUMsRUFBRSxDQUFDLFNBQVMsRUFBRSxVQUFVLEVBQUUsZ0JBQWdCLEVBQUUsWUFBWSxDQUFDLENBQUMsQ0FBQztJQUU1RCxNQUFNLG1CQUFtQixHQUFHLElBQUEsZUFBTyxFQUFDLEdBQUcsRUFBRTtRQUN2QyxNQUFNLE9BQU8sR0FBK0IsRUFBRSxDQUFDO1FBQy9DLGtCQUFrQixDQUFDLE9BQU8sQ0FBQyxDQUFDLFFBQVEsRUFBRSxFQUFFO1lBQ3RDLE9BQU8sQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLEdBQUcsaUJBQWlCLENBQUMsTUFBTSxDQUNqRCxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFDLFlBQVksS0FBSyxRQUFRLENBQUMsTUFBTSxDQUM5QyxDQUFDO1FBQ0osQ0FBQyxDQUFDLENBQUM7UUFDSCxPQUFPLE9BQU8sQ0FBQztJQUNqQixDQUFDLEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDLENBQUM7SUFFNUMsNERBQTREO0lBQzVELE1BQU0sY0FBYyxHQUFHLElBQUEseUJBQVcsRUFBQztRQUNqQyxVQUFVLEVBQUUsS0FBSyxFQUFFLElBQVMsRUFBRSxFQUFFO1lBQzlCLElBQUksVUFBVSxLQUFLLE1BQU0sRUFBRSxDQUFDO2dCQUMxQixJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7b0JBQ2xCLE1BQU0sSUFBSSxLQUFLLENBQUMsa0JBQWtCLENBQUMsQ0FBQztnQkFDdEMsQ0FBQztnQkFFRCxNQUFNLFFBQVEsR0FBRyxJQUFJLFFBQVEsRUFBRSxDQUFDO2dCQUNoQyxRQUFRLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxZQUFZLENBQUMsQ0FBQztnQkFDdEMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNuQyxRQUFRLENBQUMsTUFBTSxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsV0FBVyxJQUFJLEVBQUUsQ0FBQyxDQUFDO2dCQUN2RCxRQUFRLENBQUMsTUFBTSxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7Z0JBQ25ELFFBQVEsQ0FBQyxNQUFNLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7Z0JBRTFFLElBQUksSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO29CQUNyQixRQUFRLENBQUMsTUFBTSxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7Z0JBQ25ELENBQUM7Z0JBQ0QsSUFBSSxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7b0JBQ3BCLFFBQVEsQ0FBQyxNQUFNLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztnQkFDakQsQ0FBQztnQkFFRCxNQUFNLFFBQVEsR0FBRyxNQUFNLEtBQUssQ0FBQyx1QkFBdUIsRUFBRTtvQkFDcEQsTUFBTSxFQUFFLE1BQU07b0JBQ2QsSUFBSSxFQUFFLFFBQVE7aUJBQ2YsQ0FBQyxDQUFDO2dCQUVILElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRSxFQUFFLENBQUM7b0JBQ2pCLE1BQU0sSUFBSSxLQUFLLENBQUMsdUJBQXVCLENBQUMsQ0FBQztnQkFDM0MsQ0FBQztnQkFFRCxPQUFPLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUN6QixDQUFDO2lCQUFNLENBQUM7Z0JBQ04sOEJBQThCO2dCQUM5QixNQUFNLE9BQU8sR0FBRztvQkFDZCxJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUk7b0JBQ2YsV0FBVyxFQUFFLElBQUksQ0FBQyxXQUFXLElBQUksRUFBRTtvQkFDbkMsWUFBWSxFQUFFLElBQUksQ0FBQyxZQUFZO29CQUMvQixrQkFBa0IsRUFBRSxJQUFJLENBQUMsa0JBQWtCO29CQUMzQyxXQUFXLEVBQUUsV0FBVztvQkFDeEIsR0FBRyxDQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQUUsV0FBVyxFQUFFLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO29CQUMvRCxHQUFHLENBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsRUFBRSxVQUFVLEVBQUUsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7aUJBQzdELENBQUM7Z0JBRUYsT0FBTyxJQUFBLHdCQUFVLEVBQUMsTUFBTSxFQUFFLGdCQUFnQixFQUFFLE9BQU8sQ0FBQyxDQUFDO1lBQ3ZELENBQUM7UUFDSCxDQUFDO1FBQ0QsU0FBUyxFQUFFLEdBQUcsRUFBRTtZQUNkLEtBQUssQ0FBQztnQkFDSixLQUFLLEVBQUUsU0FBUztnQkFDaEIsV0FBVyxFQUFFLFVBQVUsS0FBSyxNQUFNLENBQUMsQ0FBQyxDQUFDLGdDQUFnQyxDQUFDLENBQUMsQ0FBQywrQkFBK0I7YUFDeEcsQ0FBQyxDQUFDO1lBQ0gsV0FBVyxDQUFDLGlCQUFpQixDQUFDLEVBQUUsUUFBUSxFQUFFLENBQUMsQ0FBQztZQUM1QyxxQkFBcUIsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUM3QixJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7WUFDYixlQUFlLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDdEIsY0FBYyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ25CLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN4QixDQUFDO1FBQ0QsT0FBTyxFQUFFLENBQUMsS0FBVSxFQUFFLEVBQUU7WUFDdEIsS0FBSyxDQUFDO2dCQUNKLEtBQUssRUFBRSxPQUFPO2dCQUNkLFdBQVcsRUFBRSxLQUFLLENBQUMsT0FBTyxJQUFJLENBQUMsVUFBVSxLQUFLLE1BQU0sQ0FBQyxDQUFDLENBQUMsMkJBQTJCLENBQUMsQ0FBQyxDQUFDLDJCQUEyQixDQUFDO2dCQUNqSCxPQUFPLEVBQUUsYUFBYTthQUN2QixDQUFDLENBQUM7UUFDTCxDQUFDO0tBQ0YsQ0FBQyxDQUFDO0lBRUgsa0JBQWtCO0lBQ2xCLE1BQU0sY0FBYyxHQUFHLElBQUEseUJBQVcsRUFBQztRQUNqQyxVQUFVLEVBQUUsS0FBSyxFQUFFLFVBQWtCLEVBQUUsRUFBRTtZQUN2QyxPQUFPLElBQUEsd0JBQVUsRUFBQyxRQUFRLEVBQUUsa0JBQWtCLFVBQVUsRUFBRSxDQUFDLENBQUM7UUFDOUQsQ0FBQztRQUNELFNBQVMsRUFBRSxHQUFHLEVBQUU7WUFDZCxLQUFLLENBQUM7Z0JBQ0osS0FBSyxFQUFFLFNBQVM7Z0JBQ2hCLFdBQVcsRUFBRSwrQkFBK0I7YUFDN0MsQ0FBQyxDQUFDO1lBQ0gsV0FBVyxDQUFDLGlCQUFpQixDQUFDLEVBQUUsUUFBUSxFQUFFLENBQUMsQ0FBQztRQUM5QyxDQUFDO1FBQ0QsT0FBTyxFQUFFLENBQUMsS0FBVSxFQUFFLEVBQUU7WUFDdEIsS0FBSyxDQUFDO2dCQUNKLEtBQUssRUFBRSxPQUFPO2dCQUNkLFdBQVcsRUFBRSxLQUFLLENBQUMsT0FBTyxJQUFJLDJCQUEyQjtnQkFDekQsT0FBTyxFQUFFLGFBQWE7YUFDdkIsQ0FBQyxDQUFDO1FBQ0wsQ0FBQztLQUNGLENBQUMsQ0FBQztJQUVILGlCQUFpQjtJQUNqQixNQUFNLG9CQUFvQixHQUFHLEtBQUssRUFBRSxJQUFTLEVBQUUsRUFBRTtRQUMvQyxNQUFNLGNBQWMsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDekMsQ0FBQyxDQUFDO0lBRUYsTUFBTSxvQkFBb0IsR0FBRyxLQUFLLEVBQUUsUUFBa0IsRUFBRSxFQUFFO1FBQ3hELElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxnREFBZ0QsQ0FBQyxFQUFFLENBQUM7WUFDckUsTUFBTSxjQUFjLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNoRCxDQUFDO0lBQ0gsQ0FBQyxDQUFDO0lBRUYsTUFBTSxrQkFBa0IsR0FBRyxDQUFDLFFBQWtCLEVBQUUsRUFBRTtRQUNoRCxtQkFBbUIsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUM5QixtQkFBbUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUM1QixDQUFDLENBQUM7SUFFRixNQUFNLHNCQUFzQixHQUFHLENBQUMsUUFBa0IsRUFBRSxFQUFFO1FBQ3BELElBQUksUUFBUSxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBQ3RCLE1BQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ2hELElBQUksQ0FBQyxJQUFJLEdBQUcsa0JBQWtCLFFBQVEsQ0FBQyxFQUFFLHFCQUFxQixDQUFDO1lBQy9ELElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDLFFBQVEsSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDO1lBQ25ELE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUN2QyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7WUFDYixNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDekMsQ0FBQztJQUNILENBQUMsQ0FBQztJQUVGLE1BQU0sVUFBVSxHQUFHLENBQUMsVUFBa0IsRUFBRSxFQUFFO1FBQ3hDLE9BQU8sSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztJQUNuRCxDQUFDLENBQUM7SUFFRixNQUFNLGNBQWMsR0FBRyxDQUFDLEtBQWMsRUFBRSxFQUFFO1FBQ3hDLElBQUksQ0FBQyxLQUFLO1lBQUUsT0FBTyxjQUFjLENBQUM7UUFDbEMsTUFBTSxLQUFLLEdBQUcsQ0FBQyxPQUFPLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztRQUMxQyxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ3ZELE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzlFLENBQUMsQ0FBQztJQUVGLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDckIsT0FBTyxDQUNMLGlDQUFLLFNBQVMsRUFBQyxzQ0FBc0MsYUFDbkQsdUJBQUMsZUFBTSxJQUNMLEtBQUssRUFBRSxHQUFHLE1BQU0sQ0FBQyxJQUFJLEtBQUssVUFBVSxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLFdBQVcsWUFBWSxFQUMzRSxRQUFRLEVBQUMsdUJBQXVCLEdBQ2hDLEVBQ0YsZ0NBQUssU0FBUyxFQUFDLDBCQUEwQixZQUN2Qyx1QkFBQyxXQUFJLGNBQ0gsd0JBQUMsa0JBQVcsSUFBQyxTQUFTLEVBQUMsaURBQWlELGFBQ3RFLHVCQUFDLHVCQUFRLElBQUMsU0FBUyxFQUFDLDhCQUE4QixHQUFHLEVBQ3JELGdDQUFJLFNBQVMsRUFBQyx3Q0FBd0MsYUFDbkQsTUFBTSxDQUFDLElBQUksS0FBSyxVQUFVLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsV0FBVyxvQkFDbkQsRUFDTCwrQkFBRyxTQUFTLEVBQUMsZUFBZSxrQ0FBbUIsTUFBTSxDQUFDLElBQUksOEJBQTJCLElBQ3pFLEdBQ1QsR0FDSCxJQUNGLENBQ1AsQ0FBQztJQUNKLENBQUM7SUFFRCxNQUFNLGNBQWMsR0FBRyxNQUFNLENBQUMsUUFBUSxJQUFJLENBQUMsTUFBTSxJQUFJLENBQUMsZ0JBQWdCLENBQUM7SUFFdkUsSUFBSSxjQUFjLEVBQUUsQ0FBQztRQUNuQixPQUFPLENBQ0wsaUNBQUssU0FBUyxFQUFDLHNDQUFzQyxhQUNuRCx1QkFBQyxlQUFNLElBQ0wsS0FBSyxFQUFFLEdBQUcsTUFBTSxDQUFDLElBQUksS0FBSyxVQUFVLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsV0FBVyxZQUFZLEVBQzNFLFFBQVEsRUFBRSxPQUFPLE1BQU0sQ0FBQyxJQUFJLDZCQUE2QixHQUN6RCxFQUNGLGdDQUFLLFNBQVMsRUFBQywwQkFBMEIsWUFDdkMsdUJBQUMsV0FBSSxjQUNILHdCQUFDLGtCQUFXLElBQUMsU0FBUyxFQUFDLGlEQUFpRCxhQUN0RSx1QkFBQyx1QkFBUSxJQUFDLFNBQVMsRUFBQyw4QkFBOEIsR0FBRyxFQUNyRCxnQ0FBSSxTQUFTLEVBQUMsd0NBQXdDLGFBQ25ELE1BQU0sQ0FBQyxJQUFJLEtBQUssVUFBVSxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLFdBQVcsa0JBQ25ELEVBQ0wsK0JBQUcsU0FBUyxFQUFDLGVBQWUscUJBQ3JCLE1BQU0sQ0FBQyxJQUFJLGlCQUFZLE1BQU0sQ0FBQyxRQUFRLHlEQUV6QyxFQUNKLHdCQUFDLGVBQU0sSUFDTCxPQUFPLEVBQUMsU0FBUyxFQUNqQixTQUFTLEVBQUMsTUFBTSxFQUNoQixPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLElBQUksTUFBTSxDQUFDLFFBQVEsS0FBSyxNQUFNLENBQUMsSUFBSSxHQUFHLENBQUMseUJBRXRELE1BQU0sQ0FBQyxJQUFJLEtBQUssVUFBVSxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLFlBQVksSUFDekQsSUFDRyxHQUNULEdBQ0gsSUFDRixDQUNQLENBQUM7SUFDSixDQUFDO0lBRUQsT0FBTyxDQUNMLGlDQUFLLFNBQVMsRUFBQyxzQ0FBc0MsYUFDbkQsdUJBQUMsZUFBTSxJQUNMLEtBQUssRUFBRSxHQUFHLE1BQU0sQ0FBQyxJQUFJLEtBQUssVUFBVSxDQUFDLENBQUMsQ0FBRSxNQUF1QixFQUFFLElBQUksSUFBSSxVQUFVLENBQUMsQ0FBQyxDQUFFLE1BQW9CLEVBQUUsVUFBVSxDQUFDLENBQUMsQ0FBQyxRQUFTLE1BQW9CLENBQUMsVUFBVSxFQUFFLENBQUMsQ0FBQyxDQUFDLFdBQVcsWUFBWSxFQUM5TCxRQUFRLEVBQUUsR0FBRyxNQUFNLENBQUMsUUFBUSxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxNQUFNLGtCQUFrQixNQUFNLENBQUMsSUFBSSxLQUFLLFVBQVUsQ0FBQyxDQUFDLENBQUUsTUFBdUIsRUFBRSxJQUFJLElBQUksZUFBZSxDQUFDLENBQUMsQ0FBRSxNQUFvQixFQUFFLFVBQVUsQ0FBQyxDQUFDLENBQUMsUUFBUyxNQUFvQixDQUFDLFVBQVUsRUFBRSxDQUFDLENBQUMsQ0FBQyxnQkFBZ0IsRUFBRSxHQUNwUSxFQUVGLGdDQUFLLFNBQVMsRUFBQywwQkFBMEIsWUFDdkMsaUNBQUssU0FBUyxFQUFDLG1CQUFtQixhQUUvQixNQUFNLENBQUMsUUFBUSxLQUFLLFVBQVUsSUFBSSxDQUNqQyxnQ0FBSyxTQUFTLEVBQUMsTUFBTSxZQUNuQix3QkFBQyxlQUFNLElBQ0wsT0FBTyxFQUFDLE9BQU8sRUFDZixPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLElBQUksTUFBTSxDQUFDLFFBQVEsS0FBSyxNQUFNLENBQUMsSUFBSSxHQUFHLENBQUMsRUFDL0QsU0FBUyxFQUFDLHlCQUF5QixhQUVuQyx1QkFBQyx3QkFBUyxJQUFDLFNBQVMsRUFBQyxTQUFTLEdBQUcsY0FDeEIsTUFBTSxDQUFDLElBQUksS0FBSyxVQUFVLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsV0FBVyxJQUN2RCxHQUNMLENBQ1AsRUFHRCxpQ0FBSyxTQUFTLEVBQUMsTUFBTSxhQUNuQixpQ0FBSyxTQUFTLEVBQUMsc0NBQXNDLGFBQ25ELGlDQUFLLFNBQVMsRUFBQyxpQkFBaUIsYUFDOUIsdUJBQUMscUJBQU0sSUFBQyxTQUFTLEVBQUMsNkNBQTZDLEdBQUcsRUFDbEUsdUJBQUMsYUFBSyxJQUNKLFdBQVcsRUFBQyxxQkFBcUIsRUFDakMsS0FBSyxFQUFFLFVBQVUsRUFDakIsUUFBUSxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFDOUMsU0FBUyxFQUFDLE9BQU8saUJBQ0wsY0FBYyxHQUMxQixJQUNFLEVBQ04sd0JBQUMsZUFBTSxJQUFDLEtBQUssRUFBRSxnQkFBZ0IsRUFBRSxhQUFhLEVBQUUsbUJBQW1CLGFBQ2pFLHVCQUFDLHNCQUFhLElBQUMsU0FBUyxFQUFDLGdCQUFnQixpQkFBYSxpQkFBaUIsWUFDckUsdUJBQUMsb0JBQVcsSUFBQyxXQUFXLEVBQUMsZ0JBQWdCLEdBQUcsR0FDOUIsRUFDaEIsd0JBQUMsc0JBQWEsZUFDWix1QkFBQyxtQkFBVSxJQUFDLEtBQUssRUFBQyxLQUFLLCtCQUE0QixFQUNsRCxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUUsRUFBRSxDQUFDLENBQ3BDLHVCQUFDLG1CQUFVLElBQXVCLEtBQUssRUFBRSxRQUFRLENBQUMsTUFBTSxZQUNyRCxRQUFRLENBQUMsS0FBSyxJQURBLFFBQVEsQ0FBQyxNQUFNLENBRW5CLENBQ2QsQ0FBQyxJQUNZLElBQ1QsSUFDTCxFQUdMLENBQUMsTUFBTSxDQUFDLFdBQVcsSUFBSSxNQUFNLENBQUMsV0FBVyxDQUFDLElBQUksQ0FDN0MsaUNBQUssU0FBUyxFQUFDLG1DQUFtQyxhQUNoRCxpQ0FBVyxFQUNYLHdCQUFDLGVBQU0sSUFBQyxJQUFJLEVBQUUsa0JBQWtCLEVBQUUsWUFBWSxFQUFFLHFCQUFxQixhQUNuRSx1QkFBQyxzQkFBYSxJQUFDLE9BQU8sa0JBQ3BCLHdCQUFDLGVBQU0sbUJBQWEsZUFBZSxhQUNqQyx1QkFBQyxtQkFBSSxJQUFDLFNBQVMsRUFBQyxjQUFjLEdBQUcsdUJBRTFCLEdBQ0ssRUFDaEIsd0JBQUMsc0JBQWEsSUFBQyxTQUFTLEVBQUMsdUNBQXVDLGFBQzlELHdCQUFDLHFCQUFZLGVBQ1gsdUJBQUMsb0JBQVcsc0NBQWtDLEVBQzlDLHdCQUFDLDBCQUFpQiw4Q0FDWSxNQUFNLENBQUMsSUFBSSxxRUFFckIsSUFDUCxFQUdmLGlDQUFLLFNBQVMsRUFBQyx5QkFBeUIsYUFDdEMsdUJBQUMsYUFBSyxJQUFDLFNBQVMsRUFBQyxxQkFBcUIscUNBQTZCLEVBQ25FLGlDQUFLLFNBQVMsRUFBQyxnQkFBZ0IsYUFDN0IsbUNBQ0UsSUFBSSxFQUFDLFFBQVEsRUFDYixPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxFQUNwQyxTQUFTLEVBQUUsc0VBQ1QsVUFBVSxLQUFLLE1BQU07Z0ZBQ25CLENBQUMsQ0FBQywwQ0FBMEM7Z0ZBQzVDLENBQUMsQ0FBQyx1Q0FDTixFQUFFLGlCQUNVLGtCQUFrQix5Q0FHdkIsRUFDVCxtQ0FDRSxJQUFJLEVBQUMsUUFBUSxFQUNiLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLEVBQ3BDLFNBQVMsRUFBRSxzRUFDVCxVQUFVLEtBQUssTUFBTTtnRkFDbkIsQ0FBQyxDQUFDLDBDQUEwQztnRkFDNUMsQ0FBQyxDQUFDLHVDQUNOLEVBQUUsaUJBQ1Usa0JBQWtCLDJDQUd2QixJQUNMLElBQ0YsRUFDTix1QkFBQyxXQUFJLE9BQUssSUFBSSxZQUNaLGtDQUNFLFFBQVEsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLG9CQUFvQixDQUFDLEVBQ2pELFNBQVMsRUFBQyxXQUFXLGFBRXJCLHVCQUFDLGdCQUFTLElBQ1IsT0FBTyxFQUFFLElBQUksQ0FBQyxPQUFPLEVBQ3JCLElBQUksRUFBQyxNQUFNLEVBQ1gsTUFBTSxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FDckIsd0JBQUMsZUFBUSxlQUNQLHVCQUFDLGdCQUFTLGdDQUEwQixFQUNwQyx1QkFBQyxrQkFBVyxjQUNWLHVCQUFDLGFBQUssT0FBSyxLQUFLLGlCQUFjLHFCQUFxQixHQUFHLEdBQzFDLEVBQ2QsdUJBQUMsa0JBQVcsS0FBRyxJQUNOLENBQ1osR0FDRCxFQUVGLHVCQUFDLGdCQUFTLElBQ1IsT0FBTyxFQUFFLElBQUksQ0FBQyxPQUFPLEVBQ3JCLElBQUksRUFBQyxhQUFhLEVBQ2xCLE1BQU0sRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQ3JCLHdCQUFDLGVBQVEsZUFDUCx1QkFBQyxnQkFBUyx5Q0FBbUMsRUFDN0MsdUJBQUMsa0JBQVcsY0FDVix1QkFBQyxhQUFLLE9BQUssS0FBSyxpQkFBYyxtQkFBbUIsR0FBRyxHQUN4QyxFQUNkLHVCQUFDLGtCQUFXLEtBQUcsSUFDTixDQUNaLEdBQ0QsRUFFRix1QkFBQyxnQkFBUyxJQUNSLE9BQU8sRUFBRSxJQUFJLENBQUMsT0FBTyxFQUNyQixJQUFJLEVBQUMsY0FBYyxFQUNuQixNQUFNLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUNyQix3QkFBQyxlQUFRLGVBQ1AsdUJBQUMsZ0JBQVMsb0NBQThCLEVBQ3hDLHdCQUFDLGVBQU0sSUFBQyxhQUFhLEVBQUUsS0FBSyxDQUFDLFFBQVEsRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLEtBQUssYUFDdkQsdUJBQUMsa0JBQVcsY0FDVix1QkFBQyxzQkFBYSxtQkFBYSxzQkFBc0IsWUFDL0MsdUJBQUMsb0JBQVcsSUFBQyxXQUFXLEVBQUMsaUJBQWlCLEdBQUcsR0FDL0IsR0FDSixFQUNkLHVCQUFDLHNCQUFhLGNBQ1gsa0JBQWtCLENBQUMsR0FBRyxDQUFDLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQyxDQUNwQyx1QkFBQyxtQkFBVSxJQUF1QixLQUFLLEVBQUUsUUFBUSxDQUFDLE1BQU0sWUFDckQsUUFBUSxDQUFDLEtBQUssSUFEQSxRQUFRLENBQUMsTUFBTSxDQUVuQixDQUNkLENBQUMsR0FDWSxJQUNULEVBQ1QsdUJBQUMsa0JBQVcsS0FBRyxJQUNOLENBQ1osR0FDRCxFQUdELFVBQVUsS0FBSyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQ3ZCLDRDQUNFLHVCQUFDLGFBQUssSUFBQyxPQUFPLEVBQUMsYUFBYSxzQ0FBOEIsRUFDMUQsdUJBQUMsYUFBSyxJQUNKLEVBQUUsRUFBQyxhQUFhLEVBQ2hCLElBQUksRUFBQyxNQUFNLEVBQ1gsUUFBUSxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsRUFDN0QsU0FBUyxFQUFDLE1BQU0saUJBQ0osWUFBWSxHQUN4QixFQUNELFlBQVksSUFBSSxDQUNmLCtCQUFHLFNBQVMsRUFBQyw0QkFBNEIsMkJBQzVCLFlBQVksQ0FBQyxJQUFJLFFBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxFQUFFLEdBQUcsV0FFdkUsQ0FDTCxJQUNHLENBQ1AsQ0FBQyxDQUFDLENBQUMsQ0FDRiw0Q0FDRSx1QkFBQyxhQUFLLElBQUMsT0FBTyxFQUFDLGNBQWMsaUNBQXlCLEVBQ3RELHVCQUFDLG1CQUFRLElBQ1AsRUFBRSxFQUFDLGNBQWMsRUFDakIsS0FBSyxFQUFFLFdBQVcsRUFDbEIsUUFBUSxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFDL0MsV0FBVyxFQUFDLG9DQUFvQyxFQUNoRCxTQUFTLEVBQUMsb0JBQW9CLGlCQUNsQixrQkFBa0IsR0FDOUIsRUFDRiw4QkFBRyxTQUFTLEVBQUMsNEJBQTRCLHVGQUVyQyxJQUNBLENBQ1AsRUFFRCx1QkFBQyxnQkFBUyxJQUNSLE9BQU8sRUFBRSxJQUFJLENBQUMsT0FBTyxFQUNyQixJQUFJLEVBQUMsb0JBQW9CLEVBQ3pCLE1BQU0sRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQ3JCLHdCQUFDLGVBQVEsSUFBQyxTQUFTLEVBQUMsZ0RBQWdELGFBQ2xFLHVCQUFDLGtCQUFXLGNBQ1Ysa0NBQ0UsSUFBSSxFQUFDLFVBQVUsRUFDZixPQUFPLEVBQUUsS0FBSyxDQUFDLEtBQUssRUFDcEIsUUFBUSxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLGlCQUNyQywwQkFBMEIsR0FDdEMsR0FDVSxFQUNkLGlDQUFLLFNBQVMsRUFBQyx3QkFBd0IsYUFDckMsdUJBQUMsZ0JBQVMscUNBQStCLEVBQ3pDLDhCQUFHLFNBQVMsRUFBQywrQkFBK0Isb0RBRXhDLElBQ0EsSUFDRyxDQUNaLEdBQ0QsRUFFRix3QkFBQyxxQkFBWSxlQUNYLHVCQUFDLGVBQU0sSUFDTCxJQUFJLEVBQUMsUUFBUSxFQUNiLE9BQU8sRUFBQyxTQUFTLEVBQ2pCLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxxQkFBcUIsQ0FBQyxLQUFLLENBQUMsdUJBR3BDLEVBQ1QsdUJBQUMsZUFBTSxJQUNMLElBQUksRUFBQyxRQUFRLEVBQ2IsUUFBUSxFQUFFLGNBQWMsQ0FBQyxTQUFTLElBQUksQ0FBQyxVQUFVLEtBQUssTUFBTSxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxVQUFVLEtBQUssTUFBTSxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSxDQUFDLGlCQUNwSCxlQUFlLFlBRTFCLGNBQWMsQ0FBQyxTQUFTO29GQUN2QixDQUFDLENBQUMsQ0FBQyxVQUFVLEtBQUssTUFBTSxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQztvRkFDMUQsQ0FBQyxDQUFDLFFBQVEsR0FDTCxJQUNJLElBQ1YsR0FDRixJQUNPLElBQ1QsSUFDTCxDQUNQLElBQ0csRUFHTCxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsQ0FDbEIsZ0NBQUssU0FBUyxFQUFDLGtCQUFrQixxQ0FBMkIsQ0FDN0QsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FDbkMsdUJBQUMsV0FBSSxjQUNILHdCQUFDLGtCQUFXLElBQUMsU0FBUyxFQUFDLGlCQUFpQixhQUN0Qyx1QkFBQyx1QkFBUSxJQUFDLFNBQVMsRUFBQyxzQ0FBc0MsR0FBRyxFQUM3RCwrQkFBSSxTQUFTLEVBQUMsMENBQTBDLG1DQUF3QixFQUNoRiw4QkFBRyxTQUFTLEVBQUMsZUFBZSxZQUN6QixVQUFVLElBQUksZ0JBQWdCLEtBQUssS0FBSyxJQUFJLFlBQVksS0FBSyxLQUFLOzRDQUNqRSxDQUFDLENBQUMsMENBQTBDOzRDQUM1QyxDQUFDLENBQUMsdUNBQXVDLE1BQU0sQ0FBQyxJQUFJLEdBQUcsR0FDdkQsSUFDUSxHQUNULENBQ1IsQ0FBQyxDQUFDLENBQUMsQ0FDRixnQ0FBSyxTQUFTLEVBQUMsV0FBVyxZQUV2QixrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUUsRUFBRTtnQ0FDbkMsTUFBTSxpQkFBaUIsR0FBRyxtQkFBbUIsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDO2dDQUNyRSxJQUFJLGlCQUFpQixDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUUsQ0FBQztvQ0FDbkMsT0FBTyxJQUFJLENBQUM7Z0NBQ2QsQ0FBQztnQ0FFRCxPQUFPLENBQ0wsd0JBQUMsV0FBSSxtQkFBb0MsWUFBWSxRQUFRLENBQUMsTUFBTSxFQUFFLGFBQ3BFLHVCQUFDLGlCQUFVLGNBQ1Qsd0JBQUMsZ0JBQVMsSUFBQyxTQUFTLEVBQUMseUJBQXlCLGFBQzVDLHVCQUFDLHVCQUFRLElBQUMsU0FBUyxFQUFDLFNBQVMsR0FBRyxFQUMvQixRQUFRLENBQUMsS0FBSyxFQUNmLHVCQUFDLGFBQUssSUFBQyxPQUFPLEVBQUMsV0FBVyxZQUFFLGlCQUFpQixDQUFDLE1BQU0sR0FBUyxJQUNuRCxHQUNELEVBQ2IsdUJBQUMsa0JBQVcsY0FDVixnQ0FBSyxTQUFTLEVBQUMsc0RBQXNELFlBQ2xFLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFBRSxFQUFFLENBQUMsQ0FDbkMsdUJBQUMsV0FBSSxJQUVILFNBQVMsRUFBQyxrREFBa0QsaUJBQy9DLGlCQUFpQixRQUFRLENBQUMsRUFBRSxFQUFFLEVBQzNDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxrQkFBa0IsQ0FBQyxRQUFRLENBQUMsWUFFM0Msd0JBQUMsa0JBQVcsSUFBQyxTQUFTLEVBQUMsS0FBSyxhQUMxQixpQ0FBSyxTQUFTLEVBQUMsdUNBQXVDLGFBQ3BELCtCQUNFLFNBQVMsRUFBQywwQ0FBMEMsaUJBQ3ZDLGlCQUFpQixRQUFRLENBQUMsRUFBRSxFQUFFLFlBRTFDLFFBQVEsQ0FBQyxJQUFJLEdBQ1gsRUFDTCxnQ0FBSyxTQUFTLEVBQUMsWUFBWSxZQUN4QixNQUFNLENBQUMsU0FBUyxJQUFJLENBQ25CLHVCQUFDLGVBQU0sSUFDTCxJQUFJLEVBQUMsSUFBSSxFQUNULE9BQU8sRUFBQyxPQUFPLEVBQ2YsT0FBTyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUU7Z0ZBQ2IsQ0FBQyxDQUFDLGVBQWUsRUFBRSxDQUFDO2dGQUNwQixtQkFBbUIsQ0FBQyxRQUFRLENBQUMsQ0FBQztnRkFDOUIsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDO2dGQUNwQixtQkFBbUIsQ0FBQyxJQUFJLENBQUMsQ0FBQzs0RUFDNUIsQ0FBQyxpQkFDWSxlQUFlLFFBQVEsQ0FBQyxFQUFFLEVBQUUsWUFFekMsdUJBQUMsbUJBQUksSUFBQyxTQUFTLEVBQUMsU0FBUyxHQUFHLEdBQ3JCLENBQ1YsR0FDRyxJQUNGLEVBQ04sOEJBQ0UsU0FBUyxFQUFDLDRCQUE0QixpQkFDekIsaUJBQWlCLFFBQVEsQ0FBQyxFQUFFLEVBQUUsWUFFMUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsR0FDN0IsRUFDSCxRQUFRLENBQUMsUUFBUSxJQUFJLENBQ3BCLHVCQUFDLGFBQUssSUFBQyxPQUFPLEVBQUMsU0FBUyxFQUFDLFNBQVMsRUFBQyxTQUFTLFlBQ3pDLGNBQWMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLEdBQzVCLENBQ1QsSUFDVyxJQTFDVCxRQUFRLENBQUMsRUFBRSxDQTJDWCxDQUNSLENBQUMsR0FDRSxHQUNNLEtBMURMLFFBQVEsQ0FBQyxNQUFNLENBMkRuQixDQUNSLENBQUM7NEJBQ0osQ0FBQyxDQUFDLEdBQ0UsQ0FDUCxJQUNHLEdBQ0YsRUFHTix1QkFBQyxlQUFNLElBQ0wsSUFBSSxFQUFFLGdCQUFnQixJQUFJLENBQUMsVUFBVSxFQUNyQyxZQUFZLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRTtvQkFDckIsbUJBQW1CLENBQUMsSUFBSSxDQUFDLENBQUM7b0JBQzFCLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQzt3QkFDVixtQkFBbUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztvQkFDNUIsQ0FBQztnQkFDSCxDQUFDLFlBRUQsd0JBQUMsc0JBQWEsSUFBQyxTQUFTLEVBQUMsV0FBVyxhQUNsQyx3QkFBQyxxQkFBWSxlQUNYLHVCQUFDLG9CQUFXLG1DQUErQixFQUMzQyx1QkFBQywwQkFBaUIsZ0VBQWtFLElBQ3ZFLEVBQ2QsZ0JBQWdCLElBQUksQ0FDbkIsaUNBQUssU0FBUyxFQUFDLFdBQVcsYUFDeEIsNENBQ0UsK0JBQUksU0FBUyxFQUFDLHVCQUF1QixZQUFFLGdCQUFnQixDQUFDLElBQUksR0FBTSxFQUNqRSxnQkFBZ0IsQ0FBQyxXQUFXLElBQUksQ0FDL0IsOEJBQUcsU0FBUyxFQUFDLG9CQUFvQixZQUFFLGdCQUFnQixDQUFDLFdBQVcsR0FBSyxDQUNyRSxJQUNHLEVBRU4saUNBQUssU0FBUyxFQUFDLGdDQUFnQyxhQUM3Qyw0Q0FDRSwyREFBMEIsRUFBQyxHQUFHLEVBQzdCLElBQUEsNEJBQWdCLEVBQUMsa0JBQWtCLEVBQUUsZ0JBQWdCLENBQUMsWUFBWSxDQUFDO29EQUNsRSxnQkFBZ0IsQ0FBQyxZQUFZO29EQUM3QixTQUFTLElBQ1AsRUFDTiw0Q0FDRSx1REFBc0IsT0FBRSxVQUFVLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLElBQzFELEVBQ0wsZ0JBQWdCLENBQUMsUUFBUSxJQUFJLENBQzVCLDRDQUNFLHVEQUFzQixPQUFFLGNBQWMsQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsSUFDN0QsQ0FDUCxFQUNBLGdCQUFnQixDQUFDLFFBQVEsSUFBSSxDQUM1Qiw0Q0FDRSx1REFBc0IsT0FBRSxnQkFBZ0IsQ0FBQyxRQUFRLElBQzdDLENBQ1AsSUFDRyxFQUVOLGlDQUFLLFNBQVMsRUFBQyxpQkFBaUIsYUFDOUIsd0JBQUMsZUFBTSxJQUNMLE9BQU8sRUFBRSxHQUFHLEVBQUU7Z0RBQ1osSUFBSSxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsQ0FBQztvREFDOUIsTUFBTSxPQUFPLEdBQUcsa0JBQWtCLGdCQUFnQixDQUFDLEVBQUUsT0FBTyxDQUFDO29EQUM3RCxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQztnREFDakMsQ0FBQzs0Q0FDSCxDQUFDLEVBQ0QsUUFBUSxFQUFFLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxpQkFDeEIsYUFBYSxhQUV6Qix1QkFBQyx1QkFBUSxJQUFDLFNBQVMsRUFBQyxjQUFjLEdBQUcsWUFFOUIsRUFDVCx3QkFBQyxlQUFNLElBQ0wsT0FBTyxFQUFDLFNBQVMsRUFDakIsT0FBTyxFQUFFLEdBQUcsRUFBRTtnREFDWixJQUFJLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxDQUFDO29EQUM5QixNQUFNLElBQUksR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQztvREFDaEQsSUFBSSxDQUFDLElBQUksR0FBRyxrQkFBa0IsZ0JBQWdCLENBQUMsRUFBRSxxQkFBcUIsQ0FBQztvREFDdkUsSUFBSSxDQUFDLFFBQVEsR0FBRyxnQkFBZ0IsQ0FBQyxRQUFRLElBQUksZ0JBQWdCLENBQUMsSUFBSSxDQUFDO29EQUNuRSxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7b0RBQ3ZDLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztvREFDYixNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7Z0RBQ3pDLENBQUM7NENBQ0gsQ0FBQyxFQUNELFFBQVEsRUFBRSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsaUJBQ3hCLGlCQUFpQixhQUU3Qix1QkFBQyx1QkFBUSxJQUFDLFNBQVMsRUFBQyxjQUFjLEdBQUcsZ0JBRTlCLEVBQ1IsTUFBTSxDQUFDLFNBQVMsSUFBSSxDQUNuQix3QkFBQyxlQUFNLElBQ0wsT0FBTyxFQUFDLFNBQVMsRUFDakIsT0FBTyxFQUFFLEdBQUcsRUFBRTtnREFDWixhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7NENBQ3RCLENBQUMsYUFFRCx1QkFBQyxtQkFBSSxJQUFDLFNBQVMsRUFBQyxjQUFjLEdBQUcsWUFFMUIsQ0FDVixFQUNBLE1BQU0sQ0FBQyxXQUFXLElBQUksQ0FDckIsd0JBQUMsZUFBTSxJQUNMLE9BQU8sRUFBQyxTQUFTLEVBQ2pCLE9BQU8sRUFBRSxHQUFHLEVBQUU7Z0RBQ1osb0JBQW9CLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztnREFDdkMsbUJBQW1CLENBQUMsS0FBSyxDQUFDLENBQUM7NENBQzdCLENBQUMsRUFDRCxTQUFTLEVBQUMsaUNBQWlDLGFBRTNDLHVCQUFDLHFCQUFNLElBQUMsU0FBUyxFQUFDLGNBQWMsR0FBRyxjQUU1QixDQUNWLElBQ0csSUFDRixDQUNQLElBQ2EsR0FDVCxFQUdULHVCQUFDLGVBQU0sSUFDTCxJQUFJLEVBQUUsZ0JBQWdCLElBQUksVUFBVSxFQUNwQyxZQUFZLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRTtvQkFDckIsbUJBQW1CLENBQUMsSUFBSSxDQUFDLENBQUM7b0JBQzFCLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQzt3QkFDVixtQkFBbUIsQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFDMUIsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO29CQUN2QixDQUFDO2dCQUNILENBQUMsWUFFRCx3QkFBQyxzQkFBYSxJQUFDLFNBQVMsRUFBQyx1Q0FBdUMsYUFDOUQsd0JBQUMscUJBQVksZUFDWCx1QkFBQyxvQkFBVyxnQ0FBNEIsRUFDeEMsdUJBQUMsMEJBQWlCLHdHQUVFLElBQ1AsRUFDZCxnQkFBZ0IsSUFBSSxDQUNuQix1QkFBQyxXQUFJLE9BQUssSUFBSSxZQUNaLGtDQUNFLFFBQVEsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRSxJQUFJLEVBQUUsRUFBRTtvQ0FDekMsSUFBSSxDQUFDO3dDQUNILE1BQU0sUUFBUSxHQUFHLE1BQU0sSUFBQSx3QkFBVSxFQUFDLEtBQUssRUFBRSxrQkFBa0IsZ0JBQWdCLENBQUMsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUM7d0NBQ3hGLEtBQUssQ0FBQzs0Q0FDSixLQUFLLEVBQUUsU0FBUzs0Q0FDaEIsV0FBVyxFQUFFLCtCQUErQjt5Q0FDN0MsQ0FBQyxDQUFDO3dDQUNILFdBQVcsQ0FBQyxpQkFBaUIsQ0FBQyxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUM7d0NBQzVDLG1CQUFtQixDQUFDLEtBQUssQ0FBQyxDQUFDO3dDQUMzQixhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7d0NBQ3JCLG1CQUFtQixDQUFDLElBQUksQ0FBQyxDQUFDO29DQUM1QixDQUFDO29DQUFDLE9BQU8sS0FBVSxFQUFFLENBQUM7d0NBQ3BCLEtBQUssQ0FBQzs0Q0FDSixLQUFLLEVBQUUsT0FBTzs0Q0FDZCxXQUFXLEVBQUUsS0FBSyxDQUFDLE9BQU8sSUFBSSwyQkFBMkI7NENBQ3pELE9BQU8sRUFBRSxhQUFhO3lDQUN2QixDQUFDLENBQUM7b0NBQ0wsQ0FBQztnQ0FDSCxDQUFDLENBQUMsRUFDRixTQUFTLEVBQUMsV0FBVyxhQUVyQix1QkFBQyxnQkFBUyxJQUNSLE9BQU8sRUFBRSxJQUFJLENBQUMsT0FBTyxFQUNyQixJQUFJLEVBQUMsTUFBTSxFQUNYLE1BQU0sRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQ3JCLHdCQUFDLGVBQVEsZUFDUCx1QkFBQyxnQkFBUyxnQ0FBMEIsRUFDcEMsdUJBQUMsa0JBQVcsY0FDVix1QkFBQyxhQUFLLE9BQUssS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsS0FBSyxJQUFJLGdCQUFnQixDQUFDLElBQUksaUJBQWMsaUJBQWlCLEdBQUcsR0FDbkYsRUFDZCx1QkFBQyxrQkFBVyxLQUFHLElBQ04sQ0FDWixHQUNELEVBRUYsdUJBQUMsZ0JBQVMsSUFDUixPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU8sRUFDckIsSUFBSSxFQUFDLGFBQWEsRUFDbEIsTUFBTSxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FDckIsd0JBQUMsZUFBUSxlQUNQLHVCQUFDLGdCQUFTLHlDQUFtQyxFQUM3Qyx1QkFBQyxrQkFBVyxjQUNWLHVCQUFDLGFBQUssT0FBSyxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxLQUFLLElBQUksZ0JBQWdCLENBQUMsV0FBVyxJQUFJLEVBQUUsaUJBQWMsd0JBQXdCLEdBQUcsR0FDdkcsRUFDZCx1QkFBQyxrQkFBVyxLQUFHLElBQ04sQ0FDWixHQUNELEVBRUYsdUJBQUMsZ0JBQVMsSUFDUixPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU8sRUFDckIsSUFBSSxFQUFDLGNBQWMsRUFDbkIsTUFBTSxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FDckIsd0JBQUMsZUFBUSxlQUNQLHVCQUFDLGdCQUFTLG9DQUE4QixFQUN4Qyx3QkFBQyxlQUFNLElBQUMsYUFBYSxFQUFFLEtBQUssQ0FBQyxRQUFRLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxLQUFLLElBQUksZ0JBQWdCLENBQUMsWUFBWSxhQUN4Rix1QkFBQyxrQkFBVyxjQUNWLHVCQUFDLHNCQUFhLG1CQUFhLGtCQUFrQixZQUMzQyx1QkFBQyxvQkFBVyxJQUFDLFdBQVcsRUFBQyxpQkFBaUIsR0FBRyxHQUMvQixHQUNKLEVBQ2QsdUJBQUMsc0JBQWEsY0FDWCxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUUsRUFBRSxDQUFDLENBQ3BDLHVCQUFDLG1CQUFVLElBQXVCLEtBQUssRUFBRSxRQUFRLENBQUMsTUFBTSxZQUNyRCxRQUFRLENBQUMsS0FBSyxJQURBLFFBQVEsQ0FBQyxNQUFNLENBRW5CLENBQ2QsQ0FBQyxHQUNZLElBQ1QsRUFDVCx1QkFBQyxrQkFBVyxLQUFHLElBQ04sQ0FDWixHQUNELEVBRUYsdUJBQUMsZ0JBQVMsSUFDUixPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU8sRUFDckIsSUFBSSxFQUFDLG9CQUFvQixFQUN6QixNQUFNLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUNyQix3QkFBQyxlQUFRLElBQUMsU0FBUyxFQUFDLGdEQUFnRCxhQUNsRSx1QkFBQyxrQkFBVyxjQUNWLGtDQUNFLElBQUksRUFBQyxVQUFVLEVBQ2YsT0FBTyxFQUFFLEtBQUssQ0FBQyxLQUFLLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxrQkFBa0IsRUFDdEYsUUFBUSxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLGlCQUNyQywrQkFBK0IsR0FDM0MsR0FDVSxFQUNkLGlDQUFLLFNBQVMsRUFBQyx3QkFBd0IsYUFDckMsdUJBQUMsZ0JBQVMscUNBQStCLEVBQ3pDLDhCQUFHLFNBQVMsRUFBQywrQkFBK0Isb0RBRXhDLElBQ0EsSUFDRyxDQUNaLEdBQ0QsRUFFRix3QkFBQyxxQkFBWSxlQUNYLHVCQUFDLGVBQU0sSUFDTCxJQUFJLEVBQUMsUUFBUSxFQUNiLE9BQU8sRUFBQyxTQUFTLEVBQ2pCLE9BQU8sRUFBRSxHQUFHLEVBQUU7b0RBQ1osYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO2dEQUN2QixDQUFDLHVCQUdNLEVBQ1QsdUJBQUMsZUFBTSxJQUFDLElBQUksRUFBQyxRQUFRLGlCQUFhLGtCQUFrQiw2QkFFM0MsSUFDSSxJQUNWLEdBQ0YsQ0FDUixJQUNhLEdBQ1QsSUFDTCxDQUNQLENBQUM7QUFDSixDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3Jrc3BhY2UvY2xpZW50L3NyYy9jb21wb25lbnRzL2NvbW1vbi9Eb2N1bWVudE1hbmFnZXIudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlUXVlcnksIHVzZU11dGF0aW9uLCB1c2VRdWVyeUNsaWVudCB9IGZyb20gJ0B0YW5zdGFjay9yZWFjdC1xdWVyeSc7XG5pbXBvcnQgeyBDYXJkLCBDYXJkQ29udGVudCwgQ2FyZEhlYWRlciwgQ2FyZFRpdGxlIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2NhcmQnO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbic7XG5pbXBvcnQgeyBCYWRnZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9iYWRnZSc7XG5pbXBvcnQgeyBJbnB1dCB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9pbnB1dCc7XG5pbXBvcnQgeyBMYWJlbCB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9sYWJlbCc7XG5pbXBvcnQgeyBUZXh0YXJlYSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS90ZXh0YXJlYSc7XG5pbXBvcnQge1xuICBTZWxlY3QsXG4gIFNlbGVjdENvbnRlbnQsXG4gIFNlbGVjdEl0ZW0sXG4gIFNlbGVjdFRyaWdnZXIsXG4gIFNlbGVjdFZhbHVlLFxufSBmcm9tICdAL2NvbXBvbmVudHMvdWkvc2VsZWN0JztcbmltcG9ydCB7XG4gIERpYWxvZyxcbiAgRGlhbG9nQ29udGVudCxcbiAgRGlhbG9nRGVzY3JpcHRpb24sXG4gIERpYWxvZ0Zvb3RlcixcbiAgRGlhbG9nSGVhZGVyLFxuICBEaWFsb2dUaXRsZSxcbiAgRGlhbG9nVHJpZ2dlcixcbn0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2RpYWxvZyc7XG5pbXBvcnQge1xuICBGb3JtLFxuICBGb3JtQ29udHJvbCxcbiAgRm9ybUZpZWxkLFxuICBGb3JtSXRlbSxcbiAgRm9ybUxhYmVsLFxuICBGb3JtTWVzc2FnZSxcbn0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2Zvcm0nO1xuaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tICdAL2hvb2tzL3VzZS10b2FzdCc7XG5pbXBvcnQgeyB1c2VGb3JtIH0gZnJvbSAncmVhY3QtaG9vay1mb3JtJztcbmltcG9ydCB7IHpvZFJlc29sdmVyIH0gZnJvbSAnQGhvb2tmb3JtL3Jlc29sdmVycy96b2QnO1xuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5pbXBvcnQgeyBhcGlSZXF1ZXN0IH0gZnJvbSAnQC9saWIvcXVlcnlDbGllbnQnO1xuaW1wb3J0IHR5cGUgeyBCdWlsZGluZyBhcyBCdWlsZGluZ1R5cGUsIFJlc2lkZW5jZSB9IGZyb20gJ0BzaGFyZWQvc2NoZW1hcy9wcm9wZXJ0eSc7XG5pbXBvcnQge1xuICBVcGxvYWQsXG4gIERvd25sb2FkLFxuICBFZGl0LFxuICBUcmFzaDIsXG4gIEZpbGVUZXh0LFxuICBTZWFyY2gsXG4gIFBsdXMsXG4gIEJ1aWxkaW5nLFxuICBDYWxlbmRhcixcbiAgQXJyb3dMZWZ0LFxuICBDaGV2cm9uTGVmdCxcbiAgQ2hldnJvblJpZ2h0LFxufSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuaW1wb3J0IHsgSGVhZGVyIH0gZnJvbSAnQC9jb21wb25lbnRzL2xheW91dC9oZWFkZXInO1xuaW1wb3J0IHsgdXNlTG9jYXRpb24gfSBmcm9tICd3b3V0ZXInO1xuXG5pbXBvcnQge1xuICBnZXREaXNwbGF5YWJsZUZpbGVVcmwsXG4gIEJVSUxESU5HX0RPQ1VNRU5UX0NBVEVHT1JJRVMsXG4gIFJFU0lERU5DRV9ET0NVTUVOVF9DQVRFR09SSUVTLFxuICBnZXRDYXRlZ29yeUxhYmVsLFxufSBmcm9tICdAL2xpYi9kb2N1bWVudHMnO1xuaW1wb3J0IFRleHRGaWxlRWRpdG9yIGZyb20gJy4vVGV4dEZpbGVFZGl0b3InO1xuXG4vLyBDb21tb24gZG9jdW1lbnQgaW50ZXJmYWNlXG5pbnRlcmZhY2UgRG9jdW1lbnQge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICBkb2N1bWVudFR5cGU6IHN0cmluZztcbiAgZGF0ZVJlZmVyZW5jZT86IHN0cmluZztcbiAgYnVpbGRpbmdJZD86IHN0cmluZztcbiAgcmVzaWRlbmNlSWQ/OiBzdHJpbmc7XG4gIGZpbGVQYXRoOiBzdHJpbmc7XG4gIGZpbGVOYW1lPzogc3RyaW5nO1xuICBmaWxlU2l6ZT86IG51bWJlcjtcbiAgaXNWaXNpYmxlVG9UZW5hbnRzPzogYm9vbGVhbjtcbiAgY3JlYXRlZEF0OiBzdHJpbmc7XG4gIHVwZGF0ZWRBdDogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgRG9jdW1lbnRNYW5hZ2VyQ29uZmlnIHtcbiAgdHlwZTogJ2J1aWxkaW5nJyB8ICdyZXNpZGVuY2UnO1xuICBlbnRpdHlJZDogc3RyaW5nO1xuICBlbnRpdHlOYW1lPzogc3RyaW5nO1xuICBlbnRpdHlBZGRyZXNzPzogc3RyaW5nO1xuICB1c2VyUm9sZTogJ21hbmFnZXInIHwgJ3Jlc2lkZW50JztcbiAgYWxsb3dDcmVhdGU/OiBib29sZWFuO1xuICBhbGxvd0VkaXQ/OiBib29sZWFuO1xuICBhbGxvd0RlbGV0ZT86IGJvb2xlYW47XG4gIGFsbG93VXBsb2FkPzogYm9vbGVhbjtcbiAgc2hvd1Zpc2liaWxpdHlUb2dnbGU/OiBib29sZWFuO1xufVxuXG5jb25zdCBjcmVhdGVEb2N1bWVudFNjaGVtYSA9ICh0eXBlOiAnYnVpbGRpbmcnIHwgJ3Jlc2lkZW5jZScpID0+IHtcbiAgY29uc3QgZG9jdW1lbnRDYXRlZ29yaWVzID1cbiAgICB0eXBlID09PSAnYnVpbGRpbmcnID8gQlVJTERJTkdfRE9DVU1FTlRfQ0FURUdPUklFUyA6IFJFU0lERU5DRV9ET0NVTUVOVF9DQVRFR09SSUVTO1xuICBjb25zdCB2YWxpZFR5cGVzID0gZG9jdW1lbnRDYXRlZ29yaWVzLm1hcCgoY2F0KSA9PiBjYXQuX3ZhbHVlKTtcblxuICBjb25zdCBiYXNlU2NoZW1hID0ge1xuICAgIG5hbWU6IHouc3RyaW5nKCkubWluKDEsICdEb2N1bWVudCBuYW1lIGlzIHJlcXVpcmVkIChleGFtcGxlOiBNb250aGx5IE1lZXRpbmcgTWludXRlcyAtIEphbnVhcnkgMjAyNSknKS5tYXgoMjU1LCAnRG9jdW1lbnQgbmFtZSBtdXN0IGJlIGxlc3MgdGhhbiAyNTUgY2hhcmFjdGVycycpLFxuICAgIGRlc2NyaXB0aW9uOiB6LnN0cmluZygpLm1heCg1MDAsICdEZXNjcmlwdGlvbiBtdXN0IGJlIGxlc3MgdGhhbiA1MDAgY2hhcmFjdGVycycpLm9wdGlvbmFsKCksXG4gICAgZG9jdW1lbnRUeXBlOiB6LmVudW0odmFsaWRUeXBlcyBhcyBbc3RyaW5nLCAuLi5zdHJpbmdbXV0pLFxuICAgIGlzVmlzaWJsZVRvVGVuYW50czogei5ib29sZWFuKCkuZGVmYXVsdChmYWxzZSksXG4gIH07XG5cbiAgaWYgKHR5cGUgPT09ICdidWlsZGluZycpIHtcbiAgICByZXR1cm4gei5vYmplY3Qoe1xuICAgICAgLi4uYmFzZVNjaGVtYSxcbiAgICAgIGJ1aWxkaW5nSWQ6IHouc3RyaW5nKCkubWluKDEsICdCdWlsZGluZyBzZWxlY3Rpb24gaXMgcmVxdWlyZWQnKSxcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gei5vYmplY3Qoe1xuICAgICAgLi4uYmFzZVNjaGVtYSxcbiAgICAgIHJlc2lkZW5jZUlkOiB6LnN0cmluZygpLm1pbigxLCAnUmVzaWRlbmNlIHNlbGVjdGlvbiBpcyByZXF1aXJlZCcpLFxuICAgIH0pO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEb2N1bWVudE1hbmFnZXIoeyBjb25maWcgfTogeyBjb25maWc6IERvY3VtZW50TWFuYWdlckNvbmZpZyB9KSB7XG4gIGNvbnN0IHsgdG9hc3QgfSA9IHVzZVRvYXN0KCk7XG4gIGNvbnN0IHF1ZXJ5Q2xpZW50ID0gdXNlUXVlcnlDbGllbnQoKTtcbiAgY29uc3QgWywgbmF2aWdhdGVdID0gdXNlTG9jYXRpb24oKTtcblxuICAvLyBTdGF0ZSBtYW5hZ2VtZW50XG4gIGNvbnN0IFtpc1VwbG9hZERpYWxvZ09wZW4sIHNldElzVXBsb2FkRGlhbG9nT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc1ZpZXdEaWFsb2dPcGVuLCBzZXRJc1ZpZXdEaWFsb2dPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NyZWF0ZU1vZGUsIHNldENyZWF0ZU1vZGVdID0gdXNlU3RhdGU8J2ZpbGUnIHwgJ3RleHQnPignZmlsZScpO1xuICBjb25zdCBbdGV4dENvbnRlbnQsIHNldFRleHRDb250ZW50XSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2lzRWRpdE1vZGUsIHNldElzRWRpdE1vZGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2VsZWN0ZWREb2N1bWVudCwgc2V0U2VsZWN0ZWREb2N1bWVudF0gPSB1c2VTdGF0ZTxEb2N1bWVudCB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc2VsZWN0ZWRGaWxlLCBzZXRTZWxlY3RlZEZpbGVdID0gdXNlU3RhdGU8RmlsZSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc2VhcmNoVGVybSwgc2V0U2VhcmNoVGVybV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtzZWxlY3RlZENhdGVnb3J5LCBzZXRTZWxlY3RlZENhdGVnb3J5XSA9IHVzZVN0YXRlKCdhbGwnKTtcbiAgY29uc3QgW3NlbGVjdGVkWWVhciwgc2V0U2VsZWN0ZWRZZWFyXSA9IHVzZVN0YXRlKCdhbGwnKTtcbiAgY29uc3QgW2N1cnJlbnRQYWdlLCBzZXRDdXJyZW50UGFnZV0gPSB1c2VTdGF0ZSgxKTtcbiAgY29uc3QgW2lzVGV4dEVkaXRvck9wZW4sIHNldElzVGV4dEVkaXRvck9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdGV4dEVkaXRvckRvY3VtZW50LCBzZXRUZXh0RWRpdG9yRG9jdW1lbnRdID0gdXNlU3RhdGU8RG9jdW1lbnQgfCBudWxsPihudWxsKTtcblxuICBjb25zdCBpdGVtc1BlclBhZ2UgPSAxMjtcbiAgY29uc3QgZG9jdW1lbnRTY2hlbWEgPSBjcmVhdGVEb2N1bWVudFNjaGVtYShjb25maWcudHlwZSk7XG4gIGNvbnN0IGRvY3VtZW50Q2F0ZWdvcmllcyA9XG4gICAgY29uZmlnLnR5cGUgPT09ICdidWlsZGluZycgPyBCVUlMRElOR19ET0NVTUVOVF9DQVRFR09SSUVTIDogUkVTSURFTkNFX0RPQ1VNRU5UX0NBVEVHT1JJRVM7XG5cbiAgLy8gRm9ybSBzZXR1cFxuICBjb25zdCBmb3JtID0gdXNlRm9ybSh7XG4gICAgcmVzb2x2ZXI6IHpvZFJlc29sdmVyKGRvY3VtZW50U2NoZW1hKSxcbiAgICBkZWZhdWx0VmFsdWVzOiB7XG4gICAgICBuYW1lOiAnJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnJyxcbiAgICAgIGRvY3VtZW50VHlwZTogJ290aGVyJyxcbiAgICAgIC4uLihjb25maWcudHlwZSA9PT0gJ2J1aWxkaW5nJ1xuICAgICAgICA/IHsgYnVpbGRpbmdJZDogY29uZmlnLmVudGl0eUlkIH1cbiAgICAgICAgOiB7IHJlc2lkZW5jZUlkOiBjb25maWcuZW50aXR5SWQgfSksXG4gICAgICBpc1Zpc2libGVUb1RlbmFudHM6IGZhbHNlLFxuICAgIH0sXG4gIH0pO1xuXG4gIC8vIEFQSSBxdWVyaWVzIGFuZCBtdXRhdGlvbnNcbiAgY29uc3QgcXVlcnlLZXkgPVxuICAgIGNvbmZpZy50eXBlID09PSAnYnVpbGRpbmcnXG4gICAgICA/IFtgL2FwaS9kb2N1bWVudHM/YnVpbGRpbmdJZD0ke2NvbmZpZy5lbnRpdHlJZH1gXVxuICAgICAgOiBbYC9hcGkvZG9jdW1lbnRzP3Jlc2lkZW5jZUlkPSR7Y29uZmlnLmVudGl0eUlkfWBdO1xuXG4gIGNvbnN0IHsgZGF0YTogZW50aXR5IH0gPSB1c2VRdWVyeTxCdWlsZGluZ1R5cGUgfCBSZXNpZGVuY2U+KHtcbiAgICBxdWVyeUtleTpcbiAgICAgIGNvbmZpZy50eXBlID09PSAnYnVpbGRpbmcnXG4gICAgICAgID8gWycvYXBpL21hbmFnZXIvYnVpbGRpbmdzJywgY29uZmlnLmVudGl0eUlkXVxuICAgICAgICA6IFsnL2FwaS9yZXNpZGVuY2VzJywgY29uZmlnLmVudGl0eUlkXSxcbiAgICBlbmFibGVkOiAhIWNvbmZpZy5lbnRpdHlJZCxcbiAgfSk7XG5cbiAgY29uc3QgeyBkYXRhOiBkb2N1bWVudHMgPSBbXSwgaXNMb2FkaW5nOiBkb2N1bWVudHNMb2FkaW5nIH0gPSB1c2VRdWVyeTxEb2N1bWVudFtdPih7XG4gICAgcXVlcnlLZXksXG4gICAgZW5hYmxlZDogISFjb25maWcuZW50aXR5SWQsXG4gICAgcXVlcnlGbjogYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChxdWVyeUtleVswXSwge1xuICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIVFRQICR7cmVzcG9uc2Uuc3RhdHVzfTogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgLy8gVGhlIEFQSSByZXR1cm5zIHtkb2N1bWVudHM6IEFycmF5LCB0b3RhbDogbnVtYmVyLCAuLi59IGJ1dCB3ZSBuZWVkIGp1c3QgdGhlIGRvY3VtZW50cyBhcnJheVxuICAgICAgcmV0dXJuIGRhdGEuZG9jdW1lbnRzIHx8IFtdO1xuICAgIH0sXG4gIH0pO1xuXG4gIC8vIEZpbHRlciBhbmQgZ3JvdXAgZG9jdW1lbnRzXG4gIGNvbnN0IGZpbHRlcmVkRG9jdW1lbnRzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgZmlsdGVyZWQgPSBkb2N1bWVudHMuZmlsdGVyKChkb2M6IERvY3VtZW50KSA9PiB7XG4gICAgICBjb25zdCBtYXRjaGVzU2VhcmNoID0gZG9jLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hUZXJtLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgY29uc3QgbWF0Y2hlc0NhdGVnb3J5ID0gc2VsZWN0ZWRDYXRlZ29yeSA9PT0gJ2FsbCcgfHwgZG9jLmRvY3VtZW50VHlwZSA9PT0gc2VsZWN0ZWRDYXRlZ29yeTtcbiAgICAgIGNvbnN0IG1hdGNoZXNZZWFyID1cbiAgICAgICAgc2VsZWN0ZWRZZWFyID09PSAnYWxsJyB8fCBuZXcgRGF0ZShkb2MuY3JlYXRlZEF0KS5nZXRGdWxsWWVhcigpLnRvU3RyaW5nKCkgPT09IHNlbGVjdGVkWWVhcjtcbiAgICAgIHJldHVybiBtYXRjaGVzU2VhcmNoICYmIG1hdGNoZXNDYXRlZ29yeSAmJiBtYXRjaGVzWWVhcjtcbiAgICB9KTtcbiAgICByZXR1cm4gZmlsdGVyZWQ7XG4gIH0sIFtkb2N1bWVudHMsIHNlYXJjaFRlcm0sIHNlbGVjdGVkQ2F0ZWdvcnksIHNlbGVjdGVkWWVhcl0pO1xuXG4gIGNvbnN0IGRvY3VtZW50c0J5Q2F0ZWdvcnkgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBncm91cGVkOiBSZWNvcmQ8c3RyaW5nLCBEb2N1bWVudFtdPiA9IHt9O1xuICAgIGRvY3VtZW50Q2F0ZWdvcmllcy5mb3JFYWNoKChjYXRlZ29yeSkgPT4ge1xuICAgICAgZ3JvdXBlZFtjYXRlZ29yeS5fdmFsdWVdID0gZmlsdGVyZWREb2N1bWVudHMuZmlsdGVyKFxuICAgICAgICAoZG9jKSA9PiBkb2MuZG9jdW1lbnRUeXBlID09PSBjYXRlZ29yeS5fdmFsdWVcbiAgICAgICk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGdyb3VwZWQ7XG4gIH0sIFtmaWx0ZXJlZERvY3VtZW50cywgZG9jdW1lbnRDYXRlZ29yaWVzXSk7XG5cbiAgLy8gQ3JlYXRlIG11dGF0aW9uIChzdXBwb3J0cyBib3RoIGZpbGUgdXBsb2FkIGFuZCB0ZXh0LW9ubHkpXG4gIGNvbnN0IGNyZWF0ZU11dGF0aW9uID0gdXNlTXV0YXRpb24oe1xuICAgIG11dGF0aW9uRm46IGFzeW5jIChkYXRhOiBhbnkpID0+IHtcbiAgICAgIGlmIChjcmVhdGVNb2RlID09PSAnZmlsZScpIHtcbiAgICAgICAgaWYgKCFzZWxlY3RlZEZpbGUpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGZpbGUgc2VsZWN0ZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIHNlbGVjdGVkRmlsZSk7XG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnbmFtZScsIGRhdGEubmFtZSk7XG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZGVzY3JpcHRpb24nLCBkYXRhLmRlc2NyaXB0aW9uIHx8ICcnKTtcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdkb2N1bWVudFR5cGUnLCBkYXRhLmRvY3VtZW50VHlwZSk7XG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnaXNWaXNpYmxlVG9UZW5hbnRzJywgZGF0YS5pc1Zpc2libGVUb1RlbmFudHMudG9TdHJpbmcoKSk7XG5cbiAgICAgICAgaWYgKGRhdGEucmVzaWRlbmNlSWQpIHtcbiAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3Jlc2lkZW5jZUlkJywgZGF0YS5yZXNpZGVuY2VJZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuYnVpbGRpbmdJZCkge1xuICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnYnVpbGRpbmdJZCcsIGRhdGEuYnVpbGRpbmdJZCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2RvY3VtZW50cy91cGxvYWQnLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgYm9keTogZm9ybURhdGEsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludGVybmFsIHNlcnZlciBlcnJvcicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFRleHQtb25seSBkb2N1bWVudCBjcmVhdGlvblxuICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgIG5hbWU6IGRhdGEubmFtZSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogZGF0YS5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgICAgICBkb2N1bWVudFR5cGU6IGRhdGEuZG9jdW1lbnRUeXBlLFxuICAgICAgICAgIGlzVmlzaWJsZVRvVGVuYW50czogZGF0YS5pc1Zpc2libGVUb1RlbmFudHMsXG4gICAgICAgICAgdGV4dENvbnRlbnQ6IHRleHRDb250ZW50LFxuICAgICAgICAgIC4uLiggZGF0YS5yZXNpZGVuY2VJZCA/IHsgcmVzaWRlbmNlSWQ6IGRhdGEucmVzaWRlbmNlSWQgfSA6IHt9KSxcbiAgICAgICAgICAuLi4oIGRhdGEuYnVpbGRpbmdJZCA/IHsgYnVpbGRpbmdJZDogZGF0YS5idWlsZGluZ0lkIH0gOiB7fSksXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGFwaVJlcXVlc3QoJ1BPU1QnLCAnL2FwaS9kb2N1bWVudHMnLCBwYXlsb2FkKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG9uU3VjY2VzczogKCkgPT4ge1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ1N1Y2Nlc3MnLFxuICAgICAgICBkZXNjcmlwdGlvbjogY3JlYXRlTW9kZSA9PT0gJ2ZpbGUnID8gJ0RvY3VtZW50IHVwbG9hZGVkIHN1Y2Nlc3NmdWxseScgOiAnRG9jdW1lbnQgY3JlYXRlZCBzdWNjZXNzZnVsbHknLFxuICAgICAgfSk7XG4gICAgICBxdWVyeUNsaWVudC5pbnZhbGlkYXRlUXVlcmllcyh7IHF1ZXJ5S2V5IH0pO1xuICAgICAgc2V0SXNVcGxvYWREaWFsb2dPcGVuKGZhbHNlKTtcbiAgICAgIGZvcm0ucmVzZXQoKTtcbiAgICAgIHNldFNlbGVjdGVkRmlsZShudWxsKTtcbiAgICAgIHNldFRleHRDb250ZW50KCcnKTtcbiAgICAgIHNldENyZWF0ZU1vZGUoJ2ZpbGUnKTtcbiAgICB9LFxuICAgIG9uRXJyb3I6IChlcnJvcjogYW55KSA9PiB7XG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiAnRXJyb3InLFxuICAgICAgICBkZXNjcmlwdGlvbjogZXJyb3IubWVzc2FnZSB8fCAoY3JlYXRlTW9kZSA9PT0gJ2ZpbGUnID8gJ0ZhaWxlZCB0byB1cGxvYWQgZG9jdW1lbnQnIDogJ0ZhaWxlZCB0byBjcmVhdGUgZG9jdW1lbnQnKSxcbiAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJyxcbiAgICAgIH0pO1xuICAgIH0sXG4gIH0pO1xuXG4gIC8vIERlbGV0ZSBtdXRhdGlvblxuICBjb25zdCBkZWxldGVNdXRhdGlvbiA9IHVzZU11dGF0aW9uKHtcbiAgICBtdXRhdGlvbkZuOiBhc3luYyAoZG9jdW1lbnRJZDogc3RyaW5nKSA9PiB7XG4gICAgICByZXR1cm4gYXBpUmVxdWVzdCgnREVMRVRFJywgYC9hcGkvZG9jdW1lbnRzLyR7ZG9jdW1lbnRJZH1gKTtcbiAgICB9LFxuICAgIG9uU3VjY2VzczogKCkgPT4ge1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ1N1Y2Nlc3MnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0RvY3VtZW50IGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5JyxcbiAgICAgIH0pO1xuICAgICAgcXVlcnlDbGllbnQuaW52YWxpZGF0ZVF1ZXJpZXMoeyBxdWVyeUtleSB9KTtcbiAgICB9LFxuICAgIG9uRXJyb3I6IChlcnJvcjogYW55KSA9PiB7XG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiAnRXJyb3InLFxuICAgICAgICBkZXNjcmlwdGlvbjogZXJyb3IubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGRlbGV0ZSBkb2N1bWVudCcsXG4gICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsXG4gICAgICB9KTtcbiAgICB9LFxuICB9KTtcblxuICAvLyBFdmVudCBoYW5kbGVyc1xuICBjb25zdCBoYW5kbGVDcmVhdGVEb2N1bWVudCA9IGFzeW5jIChkYXRhOiBhbnkpID0+IHtcbiAgICBhd2FpdCBjcmVhdGVNdXRhdGlvbi5tdXRhdGVBc3luYyhkYXRhKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVEZWxldGVEb2N1bWVudCA9IGFzeW5jIChkb2N1bWVudDogRG9jdW1lbnQpID0+IHtcbiAgICBpZiAod2luZG93LmNvbmZpcm0oJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyBkb2N1bWVudD8nKSkge1xuICAgICAgYXdhaXQgZGVsZXRlTXV0YXRpb24ubXV0YXRlQXN5bmMoZG9jdW1lbnQuaWQpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVWaWV3RG9jdW1lbnQgPSAoZG9jdW1lbnQ6IERvY3VtZW50KSA9PiB7XG4gICAgc2V0U2VsZWN0ZWREb2N1bWVudChkb2N1bWVudCk7XG4gICAgc2V0SXNWaWV3RGlhbG9nT3Blbih0cnVlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVEb3dubG9hZERvY3VtZW50ID0gKGRvY3VtZW50OiBEb2N1bWVudCkgPT4ge1xuICAgIGlmIChkb2N1bWVudC5maWxlUGF0aCkge1xuICAgICAgY29uc3QgbGluayA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICBsaW5rLmhyZWYgPSBgL2FwaS9kb2N1bWVudHMvJHtkb2N1bWVudC5pZH0vZmlsZT9kb3dubG9hZD10cnVlYDtcbiAgICAgIGxpbmsuZG93bmxvYWQgPSBkb2N1bWVudC5maWxlTmFtZSB8fCBkb2N1bWVudC5uYW1lO1xuICAgICAgd2luZG93LmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7XG4gICAgICBsaW5rLmNsaWNrKCk7XG4gICAgICB3aW5kb3cuZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsaW5rKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZm9ybWF0RGF0ZSA9IChkYXRlU3RyaW5nOiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gbmV3IERhdGUoZGF0ZVN0cmluZykudG9Mb2NhbGVEYXRlU3RyaW5nKCk7XG4gIH07XG5cbiAgY29uc3QgZm9ybWF0RmlsZVNpemUgPSAoYnl0ZXM/OiBudW1iZXIpID0+IHtcbiAgICBpZiAoIWJ5dGVzKSByZXR1cm4gJ1Vua25vd24gc2l6ZSc7XG4gICAgY29uc3Qgc2l6ZXMgPSBbJ0J5dGVzJywgJ0tCJywgJ01CJywgJ0dCJ107XG4gICAgY29uc3QgaSA9IE1hdGguZmxvb3IoTWF0aC5sb2coYnl0ZXMpIC8gTWF0aC5sb2coMTAyNCkpO1xuICAgIHJldHVybiBNYXRoLnJvdW5kKChieXRlcyAvIE1hdGgucG93KDEwMjQsIGkpKSAqIDEwMCkgLyAxMDAgKyAnICcgKyBzaXplc1tpXTtcbiAgfTtcblxuICBpZiAoIWNvbmZpZy5lbnRpdHlJZCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleC0xIGZsZXggZmxleC1jb2wgb3ZlcmZsb3ctaGlkZGVuJz5cbiAgICAgICAgPEhlYWRlclxuICAgICAgICAgIHRpdGxlPXtgJHtjb25maWcudHlwZSA9PT0gJ2J1aWxkaW5nJyA/ICdCdWlsZGluZycgOiAnUmVzaWRlbmNlJ30gRG9jdW1lbnRzYH1cbiAgICAgICAgICBzdWJ0aXRsZT0nRW50aXR5IElEIGlzIHJlcXVpcmVkJ1xuICAgICAgICAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleC0xIG92ZXJmbG93LWF1dG8gcC02Jz5cbiAgICAgICAgICA8Q2FyZD5cbiAgICAgICAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9J2ZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHB5LTEyJz5cbiAgICAgICAgICAgICAgPEJ1aWxkaW5nIGNsYXNzTmFtZT0naC0xMiB3LTEyIHRleHQtZ3JheS00MDAgbWItNCcgLz5cbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT0ndGV4dC1sZyBmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwIG1iLTInPlxuICAgICAgICAgICAgICAgIHtjb25maWcudHlwZSA9PT0gJ2J1aWxkaW5nJyA/ICdCdWlsZGluZycgOiAnUmVzaWRlbmNlJ30gSUQgUmVxdWlyZWRcbiAgICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSd0ZXh0LWdyYXktNTAwJz5QbGVhc2UgcHJvdmlkZSBhIHtjb25maWcudHlwZX0gSUQgdG8gdmlldyBkb2N1bWVudHMuPC9wPlxuICAgICAgICAgICAgPC9DYXJkQ29udGVudD5cbiAgICAgICAgICA8L0NhcmQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGVudGl0eU5vdEZvdW5kID0gY29uZmlnLmVudGl0eUlkICYmICFlbnRpdHkgJiYgIWRvY3VtZW50c0xvYWRpbmc7XG5cbiAgaWYgKGVudGl0eU5vdEZvdW5kKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4LTEgZmxleCBmbGV4LWNvbCBvdmVyZmxvdy1oaWRkZW4nPlxuICAgICAgICA8SGVhZGVyXG4gICAgICAgICAgdGl0bGU9e2Ake2NvbmZpZy50eXBlID09PSAnYnVpbGRpbmcnID8gJ0J1aWxkaW5nJyA6ICdSZXNpZGVuY2UnfSBOb3QgRm91bmRgfVxuICAgICAgICAgIHN1YnRpdGxlPXtgVGhlICR7Y29uZmlnLnR5cGV9IElEIHByb3ZpZGVkIGRvZXMgbm90IGV4aXN0YH1cbiAgICAgICAgLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXgtMSBvdmVyZmxvdy1hdXRvIHAtNic+XG4gICAgICAgICAgPENhcmQ+XG4gICAgICAgICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPSdmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBweS0xMic+XG4gICAgICAgICAgICAgIDxCdWlsZGluZyBjbGFzc05hbWU9J2gtMTIgdy0xMiB0ZXh0LWdyYXktNDAwIG1iLTQnIC8+XG4gICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9J3RleHQtbGcgZm9udC1tZWRpdW0gdGV4dC1ncmF5LTkwMCBtYi0yJz5cbiAgICAgICAgICAgICAgICB7Y29uZmlnLnR5cGUgPT09ICdidWlsZGluZycgPyAnQnVpbGRpbmcnIDogJ1Jlc2lkZW5jZSd9IE5vdCBGb3VuZFxuICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3RleHQtZ3JheS01MDAnPlxuICAgICAgICAgICAgICAgIFRoZSB7Y29uZmlnLnR5cGV9IHdpdGggSUQgXCJ7Y29uZmlnLmVudGl0eUlkfVwiIGRvZXMgbm90IGV4aXN0IG9yIHlvdSBkb24ndCBoYXZlXG4gICAgICAgICAgICAgICAgYWNjZXNzIHRvIGl0LlxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB2YXJpYW50PSdvdXRsaW5lJ1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nbXQtNCdcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBuYXZpZ2F0ZShgLyR7Y29uZmlnLnVzZXJSb2xlfXMvJHtjb25maWcudHlwZX1zYCl9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBCYWNrIHRvIHtjb25maWcudHlwZSA9PT0gJ2J1aWxkaW5nJyA/ICdCdWlsZGluZ3MnIDogJ1Jlc2lkZW5jZXMnfVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICAgICAgPC9DYXJkPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4LTEgZmxleCBmbGV4LWNvbCBvdmVyZmxvdy1oaWRkZW4nPlxuICAgICAgPEhlYWRlclxuICAgICAgICB0aXRsZT17YCR7Y29uZmlnLnR5cGUgPT09ICdidWlsZGluZycgPyAoZW50aXR5IGFzIEJ1aWxkaW5nVHlwZSk/Lm5hbWUgfHwgJ0J1aWxkaW5nJyA6IChlbnRpdHkgYXMgUmVzaWRlbmNlKT8udW5pdE51bWJlciA/IGBVbml0ICR7KGVudGl0eSBhcyBSZXNpZGVuY2UpLnVuaXROdW1iZXJ9YCA6ICdSZXNpZGVuY2UnfSBEb2N1bWVudHNgfVxuICAgICAgICBzdWJ0aXRsZT17YCR7Y29uZmlnLnVzZXJSb2xlID09PSAnbWFuYWdlcicgPyAnTWFuYWdlJyA6ICdWaWV3J30gZG9jdW1lbnRzIGZvciAke2NvbmZpZy50eXBlID09PSAnYnVpbGRpbmcnID8gKGVudGl0eSBhcyBCdWlsZGluZ1R5cGUpPy5uYW1lIHx8ICd0aGlzIGJ1aWxkaW5nJyA6IChlbnRpdHkgYXMgUmVzaWRlbmNlKT8udW5pdE51bWJlciA/IGBVbml0ICR7KGVudGl0eSBhcyBSZXNpZGVuY2UpLnVuaXROdW1iZXJ9YCA6ICd0aGlzIHJlc2lkZW5jZSd9YH1cbiAgICAgIC8+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4LTEgb3ZlcmZsb3ctYXV0byBwLTYnPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbWF4LXctN3hsIG14LWF1dG8nPlxuICAgICAgICAgIHsvKiBCYWNrIEJ1dHRvbiBmb3IgcmVzaWRlbnRzICovfVxuICAgICAgICAgIHtjb25maWcudXNlclJvbGUgPT09ICdyZXNpZGVudCcgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J21iLTYnPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdmFyaWFudD0nZ2hvc3QnXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gbmF2aWdhdGUoYC8ke2NvbmZpZy51c2VyUm9sZX1zLyR7Y29uZmlnLnR5cGV9c2ApfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTInXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8QXJyb3dMZWZ0IGNsYXNzTmFtZT0ndy00IGgtNCcgLz5cbiAgICAgICAgICAgICAgICBCYWNrIHRvIHtjb25maWcudHlwZSA9PT0gJ2J1aWxkaW5nJyA/ICdCdWlsZGluZycgOiAnUmVzaWRlbmNlJ31cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAgey8qIFNlYXJjaCBhbmQgRmlsdGVyIENvbnRyb2xzICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdtYi02Jz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGZsZXgtY29sIHNtOmZsZXgtcm93IGdhcC00IG1iLTQnPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncmVsYXRpdmUgZmxleC0xJz5cbiAgICAgICAgICAgICAgICA8U2VhcmNoIGNsYXNzTmFtZT0nYWJzb2x1dGUgbGVmdC0zIHRvcC0zIGgtNCB3LTQgdGV4dC1ncmF5LTQwMCcgLz5cbiAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPSdTZWFyY2ggZG9jdW1lbnRzLi4uJ1xuICAgICAgICAgICAgICAgICAgdmFsdWU9e3NlYXJjaFRlcm19XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFNlYXJjaFRlcm0oZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdwbC0xMCdcbiAgICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPSdpbnB1dC1zZWFyY2gnXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxTZWxlY3QgdmFsdWU9e3NlbGVjdGVkQ2F0ZWdvcnl9IG9uVmFsdWVDaGFuZ2U9e3NldFNlbGVjdGVkQ2F0ZWdvcnl9PlxuICAgICAgICAgICAgICAgIDxTZWxlY3RUcmlnZ2VyIGNsYXNzTmFtZT0ndy1mdWxsIHNtOnctNDgnIGRhdGEtdGVzdGlkPSdzZWxlY3QtY2F0ZWdvcnknPlxuICAgICAgICAgICAgICAgICAgPFNlbGVjdFZhbHVlIHBsYWNlaG9sZGVyPSdBbGwgQ2F0ZWdvcmllcycgLz5cbiAgICAgICAgICAgICAgICA8L1NlbGVjdFRyaWdnZXI+XG4gICAgICAgICAgICAgICAgPFNlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT0nYWxsJz5BbGwgQ2F0ZWdvcmllczwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgIHtkb2N1bWVudENhdGVnb3JpZXMubWFwKChjYXRlZ29yeSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSBrZXk9e2NhdGVnb3J5Ll92YWx1ZX0gdmFsdWU9e2NhdGVnb3J5Ll92YWx1ZX0+XG4gICAgICAgICAgICAgICAgICAgICAge2NhdGVnb3J5LmxhYmVsfVxuICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L1NlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIHsvKiBVcGxvYWQgQnV0dG9uICovfVxuICAgICAgICAgICAgeyhjb25maWcuYWxsb3dVcGxvYWQgfHwgY29uZmlnLmFsbG93Q3JlYXRlKSAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXInPlxuICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+XG4gICAgICAgICAgICAgICAgPERpYWxvZyBvcGVuPXtpc1VwbG9hZERpYWxvZ09wZW59IG9uT3BlbkNoYW5nZT17c2V0SXNVcGxvYWREaWFsb2dPcGVufT5cbiAgICAgICAgICAgICAgICAgIDxEaWFsb2dUcmlnZ2VyIGFzQ2hpbGQ+XG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b24gZGF0YS10ZXN0aWQ9J2J1dHRvbi11cGxvYWQnPlxuICAgICAgICAgICAgICAgICAgICAgIDxQbHVzIGNsYXNzTmFtZT0ndy00IGgtNCBtci0yJyAvPlxuICAgICAgICAgICAgICAgICAgICAgIFVwbG9hZCBEb2N1bWVudFxuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvRGlhbG9nVHJpZ2dlcj5cbiAgICAgICAgICAgICAgICAgIDxEaWFsb2dDb250ZW50IGNsYXNzTmFtZT0nbWF4LXctbWQgbWF4LWgtWzkwdmhdIG92ZXJmbG93LXktYXV0byc+XG4gICAgICAgICAgICAgICAgICAgIDxEaWFsb2dIZWFkZXI+XG4gICAgICAgICAgICAgICAgICAgICAgPERpYWxvZ1RpdGxlPkNyZWF0ZSBOZXcgRG9jdW1lbnQ8L0RpYWxvZ1RpdGxlPlxuICAgICAgICAgICAgICAgICAgICAgIDxEaWFsb2dEZXNjcmlwdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIEFkZCBhIG5ldyBkb2N1bWVudCB0byB0aGlzIHtjb25maWcudHlwZX0uIFlvdSBjYW4gYXR0YWNoIGEgZmlsZSBvciBjcmVhdGUgYVxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC1vbmx5IGRvY3VtZW50IGVudHJ5LlxuICAgICAgICAgICAgICAgICAgICAgIDwvRGlhbG9nRGVzY3JpcHRpb24+XG4gICAgICAgICAgICAgICAgICAgIDwvRGlhbG9nSGVhZGVyPlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgey8qIERvY3VtZW50IENyZWF0aW9uIE1vZGUgLSBNb3ZlZCB0byB0b3AgZm9yIHZpc2liaWxpdHkgKi99XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzcGFjZS15LTMgYm9yZGVyLWIgcGItNCc+XG4gICAgICAgICAgICAgICAgICAgICAgPExhYmVsIGNsYXNzTmFtZT0ndGV4dC1zbSBmb250LW1lZGl1bSc+Q2hvb3NlIERvY3VtZW50IFR5cGU8L0xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IHNwYWNlLXgtMyc+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9J2J1dHRvbidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0Q3JlYXRlTW9kZSgnZmlsZScpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BmbGV4LTEgcC0zIHJvdW5kZWQtbGcgYm9yZGVyIHRleHQtc20gZm9udC1tZWRpdW0gdHJhbnNpdGlvbi1jb2xvcnMgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVNb2RlID09PSAnZmlsZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JvcmRlci1ibHVlLTUwMCBiZy1ibHVlLTUwIHRleHQtYmx1ZS03MDAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdib3JkZXItZ3JheS0yMDAgaG92ZXI6Ym9yZGVyLWdyYXktMzAwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9J2J1dHRvbi1maWxlLW1vZGUnXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIPCfk4EgVXBsb2FkIEZpbGVcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPSdidXR0b24nXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldENyZWF0ZU1vZGUoJ3RleHQnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgZmxleC0xIHAtMyByb3VuZGVkLWxnIGJvcmRlciB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRyYW5zaXRpb24tY29sb3JzICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlTW9kZSA9PT0gJ3RleHQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdib3JkZXItYmx1ZS01MDAgYmctYmx1ZS01MCB0ZXh0LWJsdWUtNzAwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnYm9yZGVyLWdyYXktMjAwIGhvdmVyOmJvcmRlci1ncmF5LTMwMCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPSdidXR0b24tdGV4dC1tb2RlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICDwn5OdIFRleHQgRG9jdW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm0gey4uLmZvcm19PlxuICAgICAgICAgICAgICAgICAgICAgIDxmb3JtXG4gICAgICAgICAgICAgICAgICAgICAgICBvblN1Ym1pdD17Zm9ybS5oYW5kbGVTdWJtaXQoaGFuZGxlQ3JlYXRlRG9jdW1lbnQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdzcGFjZS15LTQnXG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1GaWVsZFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sPXtmb3JtLmNvbnRyb2x9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9J25hbWUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtTGFiZWw+RG9jdW1lbnQgTmFtZTwvRm9ybUxhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQgey4uLmZpZWxkfSBkYXRhLXRlc3RpZD0naW5wdXQtZG9jdW1lbnQtbmFtZScgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybU1lc3NhZ2UgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1GaWVsZFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sPXtmb3JtLmNvbnRyb2x9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9J2Rlc2NyaXB0aW9uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsPkRlc2NyaXB0aW9uIChPcHRpb25hbCk8L0Zvcm1MYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0IHsuLi5maWVsZH0gZGF0YS10ZXN0aWQ9J2lucHV0LWRlc2NyaXB0aW9uJyAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybUl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUZpZWxkXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT0nZG9jdW1lbnRUeXBlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsPkRvY3VtZW50IENhdGVnb3J5PC9Gb3JtTGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0IG9uVmFsdWVDaGFuZ2U9e2ZpZWxkLm9uQ2hhbmdlfSB2YWx1ZT17ZmllbGQudmFsdWV9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFRyaWdnZXIgZGF0YS10ZXN0aWQ9J3NlbGVjdC1kb2N1bWVudC10eXBlJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RWYWx1ZSBwbGFjZWhvbGRlcj0nU2VsZWN0IGNhdGVnb3J5JyAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0VHJpZ2dlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RvY3VtZW50Q2F0ZWdvcmllcy5tYXAoKGNhdGVnb3J5KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSBrZXk9e2NhdGVnb3J5Ll92YWx1ZX0gdmFsdWU9e2NhdGVnb3J5Ll92YWx1ZX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjYXRlZ29yeS5sYWJlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RDb250ZW50PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybU1lc3NhZ2UgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgICAgICAgICAgICAgey8qIEZpbGUgVXBsb2FkIG9yIFRleHQgQ29udGVudCAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjcmVhdGVNb2RlID09PSAnZmlsZScgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIGh0bWxGb3I9J2ZpbGUtdXBsb2FkJz5TZWxlY3QgRmlsZSB0byBVcGxvYWQ8L0xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J2ZpbGUtdXBsb2FkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT0nZmlsZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0U2VsZWN0ZWRGaWxlKGUudGFyZ2V0LmZpbGVzPy5bMF0gfHwgbnVsbCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J210LTEnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD0naW5wdXQtZmlsZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZEZpbGUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSd0ZXh0LXNtIHRleHQtZ3JheS01MDAgbXQtMSc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNlbGVjdGVkOiB7c2VsZWN0ZWRGaWxlLm5hbWV9ICh7TWF0aC5yb3VuZChzZWxlY3RlZEZpbGUuc2l6ZSAvIDEwMjQpfXsnICd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEtCKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgaHRtbEZvcj0ndGV4dC1jb250ZW50Jz5Eb2N1bWVudCBDb250ZW50PC9MYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dGFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPSd0ZXh0LWNvbnRlbnQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGV4dENvbnRlbnR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFRleHRDb250ZW50KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPSdFbnRlciB0aGUgZG9jdW1lbnQgY29udGVudCBoZXJlLi4uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdtdC0xIG1pbi1oLVsxMjBweF0nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD0ndGV4dGFyZWEtY29udGVudCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0ndGV4dC1zbSB0ZXh0LWdyYXktNTAwIG10LTEnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhpcyB3aWxsIGNyZWF0ZSBhIHRleHQgZG9jdW1lbnQgdGhhdCBjYW4gYmUgdmlld2VkIGFuZCBlZGl0ZWQgb25saW5lLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUZpZWxkXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT0naXNWaXNpYmxlVG9UZW5hbnRzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUl0ZW0gY2xhc3NOYW1lPSdmbGV4IGZsZXgtcm93IGl0ZW1zLWNlbnRlciBzcGFjZS14LTMgc3BhY2UteS0wJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT0nY2hlY2tib3gnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17ZmllbGQudmFsdWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBmaWVsZC5vbkNoYW5nZShlLnRhcmdldC5jaGVja2VkKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD0nY2hlY2tib3gtdmlzaWJsZS10ZW5hbnRzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzcGFjZS15LTEgbGVhZGluZy1ub25lJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1MYWJlbD5WaXNpYmxlIHRvIFRlbmFudHM8L0Zvcm1MYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSd0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsb3cgdGVuYW50cyB0byB2aWV3IHRoaXMgZG9jdW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxEaWFsb2dGb290ZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPSdidXR0b24nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD0nb3V0bGluZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRJc1VwbG9hZERpYWxvZ09wZW4oZmFsc2UpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FuY2VsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT0nc3VibWl0J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtjcmVhdGVNdXRhdGlvbi5pc1BlbmRpbmcgfHwgKGNyZWF0ZU1vZGUgPT09ICdmaWxlJyAmJiAhc2VsZWN0ZWRGaWxlKSB8fCAoY3JlYXRlTW9kZSA9PT0gJ3RleHQnICYmICF0ZXh0Q29udGVudC50cmltKCkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPSdidXR0b24tY3JlYXRlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2NyZWF0ZU11dGF0aW9uLmlzUGVuZGluZyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gKGNyZWF0ZU1vZGUgPT09ICdmaWxlJyA/ICdVcGxvYWRpbmcuLi4nIDogJ0NyZWF0aW5nLi4uJykgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdDcmVhdGUnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRGlhbG9nRm9vdGVyPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgICAgICAgICAgPC9EaWFsb2dDb250ZW50PlxuICAgICAgICAgICAgICAgIDwvRGlhbG9nPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogRG9jdW1lbnRzIERpc3BsYXkgLSBBbHdheXMgZ3JvdXBlZCBieSBjYXRlZ29yeSAqL31cbiAgICAgICAgICB7ZG9jdW1lbnRzTG9hZGluZyA/IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd0ZXh0LWNlbnRlciBweS04Jz5Mb2FkaW5nIGRvY3VtZW50cy4uLjwvZGl2PlxuICAgICAgICAgICkgOiBmaWx0ZXJlZERvY3VtZW50cy5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgICA8Q2FyZD5cbiAgICAgICAgICAgICAgPENhcmRDb250ZW50IGNsYXNzTmFtZT0ncC04IHRleHQtY2VudGVyJz5cbiAgICAgICAgICAgICAgICA8RmlsZVRleHQgY2xhc3NOYW1lPSd3LTE2IGgtMTYgbXgtYXV0byB0ZXh0LWdyYXktNDAwIG1iLTQnIC8+XG4gICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT0ndGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZ3JheS02MDAgbWItMic+Tm8gRG9jdW1lbnRzIEZvdW5kPC9oMz5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3RleHQtZ3JheS01MDAnPlxuICAgICAgICAgICAgICAgICAge3NlYXJjaFRlcm0gfHwgc2VsZWN0ZWRDYXRlZ29yeSAhPT0gJ2FsbCcgfHwgc2VsZWN0ZWRZZWFyICE9PSAnYWxsJ1xuICAgICAgICAgICAgICAgICAgICA/ICdObyBkb2N1bWVudHMgbWF0Y2ggeW91ciBjdXJyZW50IGZpbHRlcnMuJ1xuICAgICAgICAgICAgICAgICAgICA6IGBObyBkb2N1bWVudHMgYXJlIGF2YWlsYWJsZSBmb3IgdGhpcyAke2NvbmZpZy50eXBlfS5gfVxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPC9DYXJkQ29udGVudD5cbiAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3NwYWNlLXktNic+XG4gICAgICAgICAgICAgIHsvKiBDYXRlZ29yeSBWaWV3IC0gQWx3YXlzIHNob3cgZG9jdW1lbnRzIGdyb3VwZWQgYnkgY2F0ZWdvcnkgKi99XG4gICAgICAgICAgICAgIHtkb2N1bWVudENhdGVnb3JpZXMubWFwKChjYXRlZ29yeSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5RG9jdW1lbnRzID0gZG9jdW1lbnRzQnlDYXRlZ29yeVtjYXRlZ29yeS5fdmFsdWVdIHx8IFtdO1xuICAgICAgICAgICAgICAgIGlmIChjYXRlZ29yeURvY3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8Q2FyZCBrZXk9e2NhdGVnb3J5Ll92YWx1ZX0gZGF0YS10ZXN0aWQ9e2BjYXRlZ29yeS0ke2NhdGVnb3J5Ll92YWx1ZX1gfT5cbiAgICAgICAgICAgICAgICAgICAgPENhcmRIZWFkZXI+XG4gICAgICAgICAgICAgICAgICAgICAgPENhcmRUaXRsZSBjbGFzc05hbWU9J2ZsZXggaXRlbXMtY2VudGVyIGdhcC0yJz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGaWxlVGV4dCBjbGFzc05hbWU9J2gtNSB3LTUnIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y2F0ZWdvcnkubGFiZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICA8QmFkZ2UgdmFyaWFudD0nc2Vjb25kYXJ5Jz57Y2F0ZWdvcnlEb2N1bWVudHMubGVuZ3RofTwvQmFkZ2U+XG4gICAgICAgICAgICAgICAgICAgICAgPC9DYXJkVGl0bGU+XG4gICAgICAgICAgICAgICAgICAgIDwvQ2FyZEhlYWRlcj5cbiAgICAgICAgICAgICAgICAgICAgPENhcmRDb250ZW50PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIGxnOmdyaWQtY29scy0zIGdhcC00Jz5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjYXRlZ29yeURvY3VtZW50cy5tYXAoKGRvY3VtZW50KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDYXJkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtkb2N1bWVudC5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2N1cnNvci1wb2ludGVyIGhvdmVyOnNoYWRvdy1tZCB0cmFuc2l0aW9uLXNoYWRvdydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD17YGRvY3VtZW50LWNhcmQtJHtkb2N1bWVudC5pZH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVZpZXdEb2N1bWVudChkb2N1bWVudCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPSdwLTQnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXggaXRlbXMtc3RhcnQganVzdGlmeS1iZXR3ZWVuIG1iLTInPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2ZvbnQtbWVkaXVtIHRleHQtc20gdHJ1bmNhdGUgZmxleC0xIG1yLTInXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9e2Bkb2N1bWVudC1uYW1lLSR7ZG9jdW1lbnQuaWR9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2N1bWVudC5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2g0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBnYXAtMSc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NvbmZpZy5hbGxvd0VkaXQgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPSdzbSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD0nZ2hvc3QnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZERvY3VtZW50KGRvY3VtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJc0VkaXRNb2RlKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldElzVmlld0RpYWxvZ09wZW4odHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPXtgYnV0dG9uLWVkaXQtJHtkb2N1bWVudC5pZH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RWRpdCBjbGFzc05hbWU9J2gtMyB3LTMnIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSd0ZXh0LXhzIHRleHQtZ3JheS01MDAgbWItMidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9e2Bkb2N1bWVudC1kYXRlLSR7ZG9jdW1lbnQuaWR9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdERhdGUoZG9jdW1lbnQuY3JlYXRlZEF0KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2N1bWVudC5maWxlUGF0aCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCYWRnZSB2YXJpYW50PSdvdXRsaW5lJyBjbGFzc05hbWU9J3RleHQteHMnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXRGaWxlU2l6ZShkb2N1bWVudC5maWxlU2l6ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQmFkZ2U+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgICAgICAgICAgICAgPC9DYXJkPlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIFZpZXcgRG9jdW1lbnQgRGlhbG9nICovfVxuICAgICAgPERpYWxvZ1xuICAgICAgICBvcGVuPXtpc1ZpZXdEaWFsb2dPcGVuICYmICFpc0VkaXRNb2RlfVxuICAgICAgICBvbk9wZW5DaGFuZ2U9eyhvcGVuKSA9PiB7XG4gICAgICAgICAgc2V0SXNWaWV3RGlhbG9nT3BlbihvcGVuKTtcbiAgICAgICAgICBpZiAoIW9wZW4pIHtcbiAgICAgICAgICAgIHNldFNlbGVjdGVkRG9jdW1lbnQobnVsbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICA8RGlhbG9nQ29udGVudCBjbGFzc05hbWU9J21heC13LTJ4bCc+XG4gICAgICAgICAgPERpYWxvZ0hlYWRlcj5cbiAgICAgICAgICAgIDxEaWFsb2dUaXRsZT5Eb2N1bWVudCBEZXRhaWxzPC9EaWFsb2dUaXRsZT5cbiAgICAgICAgICAgIDxEaWFsb2dEZXNjcmlwdGlvbj5WaWV3IGRvY3VtZW50IGluZm9ybWF0aW9uIGFuZCBhY2Nlc3Mgb3B0aW9ucy48L0RpYWxvZ0Rlc2NyaXB0aW9uPlxuICAgICAgICAgIDwvRGlhbG9nSGVhZGVyPlxuICAgICAgICAgIHtzZWxlY3RlZERvY3VtZW50ICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzcGFjZS15LTQnPlxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9J3RleHQtbGcgZm9udC1zZW1pYm9sZCc+e3NlbGVjdGVkRG9jdW1lbnQubmFtZX08L2gzPlxuICAgICAgICAgICAgICAgIHtzZWxlY3RlZERvY3VtZW50LmRlc2NyaXB0aW9uICYmIChcbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0ndGV4dC1ncmF5LTYwMCBtdC0yJz57c2VsZWN0ZWREb2N1bWVudC5kZXNjcmlwdGlvbn08L3A+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2dyaWQgZ3JpZC1jb2xzLTIgZ2FwLTQgdGV4dC1zbSc+XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgIDxzdHJvbmc+Q2F0ZWdvcnk6PC9zdHJvbmc+eycgJ31cbiAgICAgICAgICAgICAgICAgIHtnZXRDYXRlZ29yeUxhYmVsKGRvY3VtZW50Q2F0ZWdvcmllcywgc2VsZWN0ZWREb2N1bWVudC5kb2N1bWVudFR5cGUpIHx8XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRG9jdW1lbnQuZG9jdW1lbnRUeXBlIHx8XG4gICAgICAgICAgICAgICAgICAgICdVbmtub3duJ31cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgPHN0cm9uZz5EYXRlOjwvc3Ryb25nPiB7Zm9ybWF0RGF0ZShzZWxlY3RlZERvY3VtZW50LmNyZWF0ZWRBdCl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAge3NlbGVjdGVkRG9jdW1lbnQuZmlsZVNpemUgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz5TaXplOjwvc3Ryb25nPiB7Zm9ybWF0RmlsZVNpemUoc2VsZWN0ZWREb2N1bWVudC5maWxlU2l6ZSl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIHtzZWxlY3RlZERvY3VtZW50LmZpbGVOYW1lICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+RmlsZTo8L3N0cm9uZz4ge3NlbGVjdGVkRG9jdW1lbnQuZmlsZU5hbWV9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBnYXAtMiBwdC00Jz5cbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZERvY3VtZW50LmZpbGVQYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZVVybCA9IGAvYXBpL2RvY3VtZW50cy8ke3NlbGVjdGVkRG9jdW1lbnQuaWR9L2ZpbGVgO1xuICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKGZpbGVVcmwsICdfYmxhbmsnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshc2VsZWN0ZWREb2N1bWVudC5maWxlUGF0aH1cbiAgICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPSdidXR0b24tdmlldydcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8RmlsZVRleHQgY2xhc3NOYW1lPSd3LTQgaC00IG1yLTInIC8+XG4gICAgICAgICAgICAgICAgICBWaWV3XG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgdmFyaWFudD0nb3V0bGluZSdcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkRG9jdW1lbnQuZmlsZVBhdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5rID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgICAgICAgICAgICAgICBsaW5rLmhyZWYgPSBgL2FwaS9kb2N1bWVudHMvJHtzZWxlY3RlZERvY3VtZW50LmlkfS9maWxlP2Rvd25sb2FkPXRydWVgO1xuICAgICAgICAgICAgICAgICAgICAgIGxpbmsuZG93bmxvYWQgPSBzZWxlY3RlZERvY3VtZW50LmZpbGVOYW1lIHx8IHNlbGVjdGVkRG9jdW1lbnQubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTtcbiAgICAgICAgICAgICAgICAgICAgICBsaW5rLmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobGluayk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IXNlbGVjdGVkRG9jdW1lbnQuZmlsZVBhdGh9XG4gICAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD0nYnV0dG9uLWRvd25sb2FkJ1xuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxEb3dubG9hZCBjbGFzc05hbWU9J3ctNCBoLTQgbXItMicgLz5cbiAgICAgICAgICAgICAgICAgIERvd25sb2FkXG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAge2NvbmZpZy5hbGxvd0VkaXQgJiYgKFxuICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICB2YXJpYW50PSdvdXRsaW5lJ1xuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0SXNFZGl0TW9kZSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPEVkaXQgY2xhc3NOYW1lPSd3LTQgaC00IG1yLTInIC8+XG4gICAgICAgICAgICAgICAgICAgIEVkaXRcbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAge2NvbmZpZy5hbGxvd0RlbGV0ZSAmJiAoXG4gICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9J291dGxpbmUnXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVEZWxldGVEb2N1bWVudChzZWxlY3RlZERvY3VtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRJc1ZpZXdEaWFsb2dPcGVuKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSd0ZXh0LXJlZC02MDAgaG92ZXI6dGV4dC1yZWQtNzAwJ1xuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8VHJhc2gyIGNsYXNzTmFtZT0ndy00IGgtNCBtci0yJyAvPlxuICAgICAgICAgICAgICAgICAgICBEZWxldGVcbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9EaWFsb2dDb250ZW50PlxuICAgICAgPC9EaWFsb2c+XG5cbiAgICAgIHsvKiBFZGl0IERvY3VtZW50IERpYWxvZyAqL31cbiAgICAgIDxEaWFsb2dcbiAgICAgICAgb3Blbj17aXNWaWV3RGlhbG9nT3BlbiAmJiBpc0VkaXRNb2RlfVxuICAgICAgICBvbk9wZW5DaGFuZ2U9eyhvcGVuKSA9PiB7XG4gICAgICAgICAgc2V0SXNWaWV3RGlhbG9nT3BlbihvcGVuKTtcbiAgICAgICAgICBpZiAoIW9wZW4pIHtcbiAgICAgICAgICAgIHNldFNlbGVjdGVkRG9jdW1lbnQobnVsbCk7XG4gICAgICAgICAgICBzZXRJc0VkaXRNb2RlKGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxEaWFsb2dDb250ZW50IGNsYXNzTmFtZT0nbWF4LXctbWQgbWF4LWgtWzkwdmhdIG92ZXJmbG93LXktYXV0byc+XG4gICAgICAgICAgPERpYWxvZ0hlYWRlcj5cbiAgICAgICAgICAgIDxEaWFsb2dUaXRsZT5FZGl0IERvY3VtZW50PC9EaWFsb2dUaXRsZT5cbiAgICAgICAgICAgIDxEaWFsb2dEZXNjcmlwdGlvbj5cbiAgICAgICAgICAgICAgVXBkYXRlIHRoZSBkb2N1bWVudCBpbmZvcm1hdGlvbi4gTm90ZTogRmlsZSBjb250ZW50IGNhbm5vdCBiZSBjaGFuZ2VkLCBvbmx5IG1ldGFkYXRhLlxuICAgICAgICAgICAgPC9EaWFsb2dEZXNjcmlwdGlvbj5cbiAgICAgICAgICA8L0RpYWxvZ0hlYWRlcj5cbiAgICAgICAgICB7c2VsZWN0ZWREb2N1bWVudCAmJiAoXG4gICAgICAgICAgICA8Rm9ybSB7Li4uZm9ybX0+XG4gICAgICAgICAgICAgIDxmb3JtXG4gICAgICAgICAgICAgICAgb25TdWJtaXQ9e2Zvcm0uaGFuZGxlU3VibWl0KGFzeW5jIChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaVJlcXVlc3QoJ1BVVCcsIGAvYXBpL2RvY3VtZW50cy8ke3NlbGVjdGVkRG9jdW1lbnQuaWR9YCwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHRvYXN0KHtcbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1N1Y2Nlc3MnLFxuICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnRG9jdW1lbnQgdXBkYXRlZCBzdWNjZXNzZnVsbHknLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcXVlcnlDbGllbnQuaW52YWxpZGF0ZVF1ZXJpZXMoeyBxdWVyeUtleSB9KTtcbiAgICAgICAgICAgICAgICAgICAgc2V0SXNWaWV3RGlhbG9nT3BlbihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHNldElzRWRpdE1vZGUoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZERvY3VtZW50KG51bGwpO1xuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgICAgICAgICAgICAgICB0b2FzdCh7XG4gICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdFcnJvcicsXG4gICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGVycm9yLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byB1cGRhdGUgZG9jdW1lbnQnLFxuICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nc3BhY2UteS00J1xuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPEZvcm1GaWVsZFxuICAgICAgICAgICAgICAgICAgY29udHJvbD17Zm9ybS5jb250cm9sfVxuICAgICAgICAgICAgICAgICAgbmFtZT0nbmFtZSdcbiAgICAgICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8Rm9ybUl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgPEZvcm1MYWJlbD5Eb2N1bWVudCBOYW1lPC9Gb3JtTGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0IHsuLi5maWVsZH0gdmFsdWU9e2ZpZWxkLnZhbHVlIHx8IHNlbGVjdGVkRG9jdW1lbnQubmFtZX0gZGF0YS10ZXN0aWQ9J2lucHV0LWVkaXQtbmFtZScgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgICAgPEZvcm1GaWVsZFxuICAgICAgICAgICAgICAgICAgY29udHJvbD17Zm9ybS5jb250cm9sfVxuICAgICAgICAgICAgICAgICAgbmFtZT0nZGVzY3JpcHRpb24nXG4gICAgICAgICAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+IChcbiAgICAgICAgICAgICAgICAgICAgPEZvcm1JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDxGb3JtTGFiZWw+RGVzY3JpcHRpb24gKE9wdGlvbmFsKTwvRm9ybUxhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCB7Li4uZmllbGR9IHZhbHVlPXtmaWVsZC52YWx1ZSB8fCBzZWxlY3RlZERvY3VtZW50LmRlc2NyaXB0aW9uIHx8ICcnfSBkYXRhLXRlc3RpZD0naW5wdXQtZWRpdC1kZXNjcmlwdGlvbicgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgICAgPEZvcm1GaWVsZFxuICAgICAgICAgICAgICAgICAgY29udHJvbD17Zm9ybS5jb250cm9sfVxuICAgICAgICAgICAgICAgICAgbmFtZT0nZG9jdW1lbnRUeXBlJ1xuICAgICAgICAgICAgICAgICAgcmVuZGVyPXsoeyBmaWVsZCB9KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxGb3JtSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsPkRvY3VtZW50IENhdGVnb3J5PC9Gb3JtTGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdCBvblZhbHVlQ2hhbmdlPXtmaWVsZC5vbkNoYW5nZX0gdmFsdWU9e2ZpZWxkLnZhbHVlIHx8IHNlbGVjdGVkRG9jdW1lbnQuZG9jdW1lbnRUeXBlfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFRyaWdnZXIgZGF0YS10ZXN0aWQ9J3NlbGVjdC1lZGl0LXR5cGUnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RWYWx1ZSBwbGFjZWhvbGRlcj0nU2VsZWN0IGNhdGVnb3J5JyAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdFRyaWdnZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtkb2N1bWVudENhdGVnb3JpZXMubWFwKChjYXRlZ29yeSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIGtleT17Y2F0ZWdvcnkuX3ZhbHVlfSB2YWx1ZT17Y2F0ZWdvcnkuX3ZhbHVlfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjYXRlZ29yeS5sYWJlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RDb250ZW50PlxuICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgICAgPEZvcm1GaWVsZFxuICAgICAgICAgICAgICAgICAgY29udHJvbD17Zm9ybS5jb250cm9sfVxuICAgICAgICAgICAgICAgICAgbmFtZT0naXNWaXNpYmxlVG9UZW5hbnRzJ1xuICAgICAgICAgICAgICAgICAgcmVuZGVyPXsoeyBmaWVsZCB9KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxGb3JtSXRlbSBjbGFzc05hbWU9J2ZsZXggZmxleC1yb3cgaXRlbXMtY2VudGVyIHNwYWNlLXgtMyBzcGFjZS15LTAnPlxuICAgICAgICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPSdjaGVja2JveCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17ZmllbGQudmFsdWUgIT09IHVuZGVmaW5lZCA/IGZpZWxkLnZhbHVlIDogc2VsZWN0ZWREb2N1bWVudC5pc1Zpc2libGVUb1RlbmFudHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gZmllbGQub25DaGFuZ2UoZS50YXJnZXQuY2hlY2tlZCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPSdjaGVja2JveC1lZGl0LXZpc2libGUtdGVuYW50cydcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc3BhY2UteS0xIGxlYWRpbmctbm9uZSc+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsPlZpc2libGUgdG8gVGVuYW50czwvRm9ybUxhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSd0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIEFsbG93IHRlbmFudHMgdG8gdmlldyB0aGlzIGRvY3VtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybUl0ZW0+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgICAgICA8RGlhbG9nRm9vdGVyPlxuICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICB0eXBlPSdidXR0b24nXG4gICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9J291dGxpbmUnXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRJc0VkaXRNb2RlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgQ2FuY2VsXG4gICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT0nc3VibWl0JyBkYXRhLXRlc3RpZD0nYnV0dG9uLXNhdmUtZWRpdCc+XG4gICAgICAgICAgICAgICAgICAgIFNhdmUgQ2hhbmdlc1xuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgPC9EaWFsb2dGb290ZXI+XG4gICAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICApfVxuICAgICAgICA8L0RpYWxvZ0NvbnRlbnQ+XG4gICAgICA8L0RpYWxvZz5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJ2ZXJzaW9uIjozfQ==