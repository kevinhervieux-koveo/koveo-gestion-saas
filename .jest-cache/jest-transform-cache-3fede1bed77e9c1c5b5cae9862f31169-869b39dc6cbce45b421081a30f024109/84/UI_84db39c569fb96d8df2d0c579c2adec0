c39bbefddb8689e1012d91f3e149d2e3
'use strict';
const UIValue = Symbol('Displayed value in UI');
const UISelection = Symbol('Displayed selection in UI');
const InitialValue = Symbol('Initial value to compare on blur');
function isUIValue(value) {
    return typeof value === 'object' && UIValue in value;
}
function isUISelectionStart(start) {
    return !!start && typeof start === 'object' && UISelection in start;
}
function setUIValue(element, value) {
    if (element[InitialValue] === undefined) {
        element[InitialValue] = element.value;
    }
    element[UIValue] = value;
    // eslint-disable-next-line no-new-wrappers
    element.value = Object.assign(new String(value), {
        [UIValue]: true
    });
}
function getUIValue(element) {
    return element[UIValue] === undefined ? element.value : String(element[UIValue]);
}
/** Flag the IDL value as clean. This does not change the value.*/ function setUIValueClean(element) {
    element[UIValue] = undefined;
}
function clearInitialValue(element) {
    element[InitialValue] = undefined;
}
function getInitialValue(element) {
    return element[InitialValue];
}
function setUISelectionRaw(element, selection) {
    element[UISelection] = selection;
}
function setUISelection(element, { focusOffset: focusOffsetParam, anchorOffset: anchorOffsetParam = focusOffsetParam }, mode = 'replace') {
    const valueLength = getUIValue(element).length;
    const sanitizeOffset = (o) => Math.max(0, Math.min(valueLength, o));
    const anchorOffset = mode === 'replace' || element[UISelection] === undefined ? sanitizeOffset(anchorOffsetParam) : element[UISelection].anchorOffset;
    const focusOffset = sanitizeOffset(focusOffsetParam);
    const startOffset = Math.min(anchorOffset, focusOffset);
    const endOffset = Math.max(anchorOffset, focusOffset);
    element[UISelection] = {
        anchorOffset,
        focusOffset
    };
    if (element.selectionStart === startOffset && element.selectionEnd === endOffset) {
        return;
    }
    // eslint-disable-next-line no-new-wrappers
    const startObj = Object.assign(new Number(startOffset), {
        [UISelection]: true
    });
    try {
        element.setSelectionRange(startObj, endOffset);
    }
    catch {
        // DOMException for invalid state is expected when calling this
        // on an element without support for setSelectionRange
    }
}
function getUISelection(element) {
    var _element_selectionStart, _element_selectionEnd, _element_UISelection;
    const sel = (_element_UISelection = element[UISelection]) !== null && _element_UISelection !== undefined ? _element_UISelection : {
        anchorOffset: (_element_selectionStart = element.selectionStart) !== null && _element_selectionStart !== undefined ? _element_selectionStart : 0,
        focusOffset: (_element_selectionEnd = element.selectionEnd) !== null && _element_selectionEnd !== undefined ? _element_selectionEnd : 0
    };
    return {
        ...sel,
        startOffset: Math.min(sel.anchorOffset, sel.focusOffset),
        endOffset: Math.max(sel.anchorOffset, sel.focusOffset)
    };
}
function hasUISelection(element) {
    return !!element[UISelection];
}
/** Flag the IDL selection as clean. This does not change the selection. */ function setUISelectionClean(element) {
    element[UISelection] = undefined;
}
exports.clearInitialValue = clearInitialValue;
exports.getInitialValue = getInitialValue;
exports.getUISelection = getUISelection;
exports.getUIValue = getUIValue;
exports.hasUISelection = hasUISelection;
exports.isUISelectionStart = isUISelectionStart;
exports.isUIValue = isUIValue;
exports.setUISelection = setUISelection;
exports.setUISelectionClean = setUISelectionClean;
exports.setUISelectionRaw = setUISelectionRaw;
exports.setUIValue = setUIValue;
exports.setUIValueClean = setUIValueClean;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9ub2RlX21vZHVsZXMvQHRlc3RpbmctbGlicmFyeS91c2VyLWV2ZW50L2Rpc3QvY2pzL2RvY3VtZW50L1VJLmpzIiwibWFwcGluZ3MiOiJBQUFBLFlBQVksQ0FBQztBQUViLE1BQU0sT0FBTyxHQUFHLE1BQU0sQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO0FBQ2hELE1BQU0sV0FBVyxHQUFHLE1BQU0sQ0FBQywyQkFBMkIsQ0FBQyxDQUFDO0FBQ3hELE1BQU0sWUFBWSxHQUFHLE1BQU0sQ0FBQyxrQ0FBa0MsQ0FBQyxDQUFDO0FBQ2hFLFNBQVMsU0FBUyxDQUFDLEtBQUs7SUFDcEIsT0FBTyxPQUFPLEtBQUssS0FBSyxRQUFRLElBQUksT0FBTyxJQUFJLEtBQUssQ0FBQztBQUN6RCxDQUFDO0FBQ0QsU0FBUyxrQkFBa0IsQ0FBQyxLQUFLO0lBQzdCLE9BQU8sQ0FBQyxDQUFDLEtBQUssSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRLElBQUksV0FBVyxJQUFJLEtBQUssQ0FBQztBQUN4RSxDQUFDO0FBQ0QsU0FBUyxVQUFVLENBQUMsT0FBTyxFQUFFLEtBQUs7SUFDOUIsSUFBSSxPQUFPLENBQUMsWUFBWSxDQUFDLEtBQUssU0FBUyxFQUFFLENBQUM7UUFDdEMsT0FBTyxDQUFDLFlBQVksQ0FBQyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUM7SUFDMUMsQ0FBQztJQUNELE9BQU8sQ0FBQyxPQUFPLENBQUMsR0FBRyxLQUFLLENBQUM7SUFDekIsMkNBQTJDO0lBQzNDLE9BQU8sQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRTtRQUM3QyxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUk7S0FDbEIsQ0FBQyxDQUFDO0FBQ1AsQ0FBQztBQUNELFNBQVMsVUFBVSxDQUFDLE9BQU87SUFDdkIsT0FBTyxPQUFPLENBQUMsT0FBTyxDQUFDLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMs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QVUsQ0FBQztBQUNoQyxPQUFPLENBQUMsZUFBZSxHQUFHLGVBQWUsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvaG9tZS9ydW5uZXIvd29ya3NwYWNlL25vZGVfbW9kdWxlcy9AdGVzdGluZy1saWJyYXJ5L3VzZXItZXZlbnQvZGlzdC9janMvZG9jdW1lbnQvVUkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBVSVZhbHVlID0gU3ltYm9sKCdEaXNwbGF5ZWQgdmFsdWUgaW4gVUknKTtcbmNvbnN0IFVJU2VsZWN0aW9uID0gU3ltYm9sKCdEaXNwbGF5ZWQgc2VsZWN0aW9uIGluIFVJJyk7XG5jb25zdCBJbml0aWFsVmFsdWUgPSBTeW1ib2woJ0luaXRpYWwgdmFsdWUgdG8gY29tcGFyZSBvbiBibHVyJyk7XG5mdW5jdGlvbiBpc1VJVmFsdWUodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiBVSVZhbHVlIGluIHZhbHVlO1xufVxuZnVuY3Rpb24gaXNVSVNlbGVjdGlvblN0YXJ0KHN0YXJ0KSB7XG4gICAgcmV0dXJuICEhc3RhcnQgJiYgdHlwZW9mIHN0YXJ0ID09PSAnb2JqZWN0JyAmJiBVSVNlbGVjdGlvbiBpbiBzdGFydDtcbn1cbmZ1bmN0aW9uIHNldFVJVmFsdWUoZWxlbWVudCwgdmFsdWUpIHtcbiAgICBpZiAoZWxlbWVudFtJbml0aWFsVmFsdWVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZWxlbWVudFtJbml0aWFsVmFsdWVdID0gZWxlbWVudC52YWx1ZTtcbiAgICB9XG4gICAgZWxlbWVudFtVSVZhbHVlXSA9IHZhbHVlO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXctd3JhcHBlcnNcbiAgICBlbGVtZW50LnZhbHVlID0gT2JqZWN0LmFzc2lnbihuZXcgU3RyaW5nKHZhbHVlKSwge1xuICAgICAgICBbVUlWYWx1ZV06IHRydWVcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGdldFVJVmFsdWUoZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50W1VJVmFsdWVdID09PSB1bmRlZmluZWQgPyBlbGVtZW50LnZhbHVlIDogU3RyaW5nKGVsZW1lbnRbVUlWYWx1ZV0pO1xufVxuLyoqIEZsYWcgdGhlIElETCB2YWx1ZSBhcyBjbGVhbi4gVGhpcyBkb2VzIG5vdCBjaGFuZ2UgdGhlIHZhbHVlLiovIGZ1bmN0aW9uIHNldFVJVmFsdWVDbGVhbihlbGVtZW50KSB7XG4gICAgZWxlbWVudFtVSVZhbHVlXSA9IHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIGNsZWFySW5pdGlhbFZhbHVlKGVsZW1lbnQpIHtcbiAgICBlbGVtZW50W0luaXRpYWxWYWx1ZV0gPSB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBnZXRJbml0aWFsVmFsdWUoZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50W0luaXRpYWxWYWx1ZV07XG59XG5mdW5jdGlvbiBzZXRVSVNlbGVjdGlvblJhdyhlbGVtZW50LCBzZWxlY3Rpb24pIHtcbiAgICBlbGVtZW50W1VJU2VsZWN0aW9uXSA9IHNlbGVjdGlvbjtcbn1cbmZ1bmN0aW9uIHNldFVJU2VsZWN0aW9uKGVsZW1lbnQsIHsgZm9jdXNPZmZzZXQ6IGZvY3VzT2Zmc2V0UGFyYW0sIGFuY2hvck9mZnNldDogYW5jaG9yT2Zmc2V0UGFyYW0gPSBmb2N1c09mZnNldFBhcmFtIH0sIG1vZGUgPSAncmVwbGFjZScpIHtcbiAgICBjb25zdCB2YWx1ZUxlbmd0aCA9IGdldFVJVmFsdWUoZWxlbWVudCkubGVuZ3RoO1xuICAgIGNvbnN0IHNhbml0aXplT2Zmc2V0ID0gKG8pPT5NYXRoLm1heCgwLCBNYXRoLm1pbih2YWx1ZUxlbmd0aCwgbykpO1xuICAgIGNvbnN0IGFuY2hvck9mZnNldCA9IG1vZGUgPT09ICdyZXBsYWNlJyB8fCBlbGVtZW50W1VJU2VsZWN0aW9uXSA9PT0gdW5kZWZpbmVkID8gc2FuaXRpemVPZmZzZXQoYW5jaG9yT2Zmc2V0UGFyYW0pIDogZWxlbWVudFtVSVNlbGVjdGlvbl0uYW5jaG9yT2Zmc2V0O1xuICAgIGNvbnN0IGZvY3VzT2Zmc2V0ID0gc2FuaXRpemVPZmZzZXQoZm9jdXNPZmZzZXRQYXJhbSk7XG4gICAgY29uc3Qgc3RhcnRPZmZzZXQgPSBNYXRoLm1pbihhbmNob3JPZmZzZXQsIGZvY3VzT2Zmc2V0KTtcbiAgICBjb25zdCBlbmRPZmZzZXQgPSBNYXRoLm1heChhbmNob3JPZmZzZXQsIGZvY3VzT2Zmc2V0KTtcbiAgICBlbGVtZW50W1VJU2VsZWN0aW9uXSA9IHtcbiAgICAgICAgYW5jaG9yT2Zmc2V0LFxuICAgICAgICBmb2N1c09mZnNldFxuICAgIH07XG4gICAgaWYgKGVsZW1lbnQuc2VsZWN0aW9uU3RhcnQgPT09IHN0YXJ0T2Zmc2V0ICYmIGVsZW1lbnQuc2VsZWN0aW9uRW5kID09PSBlbmRPZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LXdyYXBwZXJzXG4gICAgY29uc3Qgc3RhcnRPYmogPSBPYmplY3QuYXNzaWduKG5ldyBOdW1iZXIoc3RhcnRPZmZzZXQpLCB7XG4gICAgICAgIFtVSVNlbGVjdGlvbl06IHRydWVcbiAgICB9KTtcbiAgICB0cnkge1xuICAgICAgICBlbGVtZW50LnNldFNlbGVjdGlvblJhbmdlKHN0YXJ0T2JqLCBlbmRPZmZzZXQpO1xuICAgIH0gY2F0Y2ggIHtcbiAgICAvLyBET01FeGNlcHRpb24gZm9yIGludmFsaWQgc3RhdGUgaXMgZXhwZWN0ZWQgd2hlbiBjYWxsaW5nIHRoaXNcbiAgICAvLyBvbiBhbiBlbGVtZW50IHdpdGhvdXQgc3VwcG9ydCBmb3Igc2V0U2VsZWN0aW9uUmFuZ2VcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRVSVNlbGVjdGlvbihlbGVtZW50KSB7XG4gICAgdmFyIF9lbGVtZW50X3NlbGVjdGlvblN0YXJ0LCBfZWxlbWVudF9zZWxlY3Rpb25FbmQsIF9lbGVtZW50X1VJU2VsZWN0aW9uO1xuICAgIGNvbnN0IHNlbCA9IChfZWxlbWVudF9VSVNlbGVjdGlvbiA9IGVsZW1lbnRbVUlTZWxlY3Rpb25dKSAhPT0gbnVsbCAmJiBfZWxlbWVudF9VSVNlbGVjdGlvbiAhPT0gdW5kZWZpbmVkID8gX2VsZW1lbnRfVUlTZWxlY3Rpb24gOiB7XG4gICAgICAgIGFuY2hvck9mZnNldDogKF9lbGVtZW50X3NlbGVjdGlvblN0YXJ0ID0gZWxlbWVudC5zZWxlY3Rpb25TdGFydCkgIT09IG51bGwgJiYgX2VsZW1lbnRfc2VsZWN0aW9uU3RhcnQgIT09IHVuZGVmaW5lZCA/IF9lbGVtZW50X3NlbGVjdGlvblN0YXJ0IDogMCxcbiAgICAgICAgZm9jdXNPZmZzZXQ6IChfZWxlbWVudF9zZWxlY3Rpb25FbmQgPSBlbGVtZW50LnNlbGVjdGlvbkVuZCkgIT09IG51bGwgJiYgX2VsZW1lbnRfc2VsZWN0aW9uRW5kICE9PSB1bmRlZmluZWQgPyBfZWxlbWVudF9zZWxlY3Rpb25FbmQgOiAwXG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5zZWwsXG4gICAgICAgIHN0YXJ0T2Zmc2V0OiBNYXRoLm1pbihzZWwuYW5jaG9yT2Zmc2V0LCBzZWwuZm9jdXNPZmZzZXQpLFxuICAgICAgICBlbmRPZmZzZXQ6IE1hdGgubWF4KHNlbC5hbmNob3JPZmZzZXQsIHNlbC5mb2N1c09mZnNldClcbiAgICB9O1xufVxuZnVuY3Rpb24gaGFzVUlTZWxlY3Rpb24oZWxlbWVudCkge1xuICAgIHJldHVybiAhIWVsZW1lbnRbVUlTZWxlY3Rpb25dO1xufVxuLyoqIEZsYWcgdGhlIElETCBzZWxlY3Rpb24gYXMgY2xlYW4uIFRoaXMgZG9lcyBub3QgY2hhbmdlIHRoZSBzZWxlY3Rpb24uICovIGZ1bmN0aW9uIHNldFVJU2VsZWN0aW9uQ2xlYW4oZWxlbWVudCkge1xuICAgIGVsZW1lbnRbVUlTZWxlY3Rpb25dID0gdW5kZWZpbmVkO1xufVxuXG5leHBvcnRzLmNsZWFySW5pdGlhbFZhbHVlID0gY2xlYXJJbml0aWFsVmFsdWU7XG5leHBvcnRzLmdldEluaXRpYWxWYWx1ZSA9IGdldEluaXRpYWxWYWx1ZTtcbmV4cG9ydHMuZ2V0VUlTZWxlY3Rpb24gPSBnZXRVSVNlbGVjdGlvbjtcbmV4cG9ydHMuZ2V0VUlWYWx1ZSA9IGdldFVJVmFsdWU7XG5leHBvcnRzLmhhc1VJU2VsZWN0aW9uID0gaGFzVUlTZWxlY3Rpb247XG5leHBvcnRzLmlzVUlTZWxlY3Rpb25TdGFydCA9IGlzVUlTZWxlY3Rpb25TdGFydDtcbmV4cG9ydHMuaXNVSVZhbHVlID0gaXNVSVZhbHVlO1xuZXhwb3J0cy5zZXRVSVNlbGVjdGlvbiA9IHNldFVJU2VsZWN0aW9uO1xuZXhwb3J0cy5zZXRVSVNlbGVjdGlvbkNsZWFuID0gc2V0VUlTZWxlY3Rpb25DbGVhbjtcbmV4cG9ydHMuc2V0VUlTZWxlY3Rpb25SYXcgPSBzZXRVSVNlbGVjdGlvblJhdztcbmV4cG9ydHMuc2V0VUlWYWx1ZSA9IHNldFVJVmFsdWU7XG5leHBvcnRzLnNldFVJVmFsdWVDbGVhbiA9IHNldFVJVmFsdWVDbGVhbjtcbiJdLCJ2ZXJzaW9uIjozfQ==