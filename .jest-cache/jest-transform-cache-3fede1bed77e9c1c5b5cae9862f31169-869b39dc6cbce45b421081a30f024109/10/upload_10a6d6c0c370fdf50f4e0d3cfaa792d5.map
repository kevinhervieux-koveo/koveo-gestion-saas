{"file":"/home/runner/workspace/node_modules/@testing-library/user-event/dist/cjs/utility/upload.js","mappings":"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","names":[],"sources":["/home/runner/workspace/node_modules/@testing-library/user-event/dist/cjs/utility/upload.js"],"sourcesContent":["'use strict';\n\nvar isElementType = require('../utils/misc/isElementType.js');\nvar FileList = require('../utils/dataTransfer/FileList.js');\nrequire('../utils/dataTransfer/Clipboard.js');\nvar setFiles = require('../utils/edit/setFiles.js');\nvar isDisabled = require('../utils/misc/isDisabled.js');\nvar getWindow = require('../utils/misc/getWindow.js');\n\nasync function upload(element, fileOrFiles) {\n    const input = isElementType.isElementType(element, 'label') ? element.control : element;\n    if (!input || !isElementType.isElementType(input, 'input', {\n        type: 'file'\n    })) {\n        throw new TypeError(`The ${input === element ? 'given' : 'associated'} ${input === null || input === undefined ? undefined : input.tagName} element does not accept file uploads`);\n    }\n    if (isDisabled.isDisabled(element)) return;\n    const files = (Array.isArray(fileOrFiles) ? fileOrFiles : [\n        fileOrFiles\n    ]).filter((file)=>!this.config.applyAccept || isAcceptableFile(file, input.accept)).slice(0, input.multiple ? undefined : 1);\n    const fileDialog = ()=>{\n        var _input_files;\n        // do not fire an input event if the file selection does not change\n        if (files.length === ((_input_files = input.files) === null || _input_files === undefined ? undefined : _input_files.length) && files.every((f, i)=>{\n            var _input_files;\n            return f === ((_input_files = input.files) === null || _input_files === undefined ? undefined : _input_files.item(i));\n        })) {\n            return;\n        }\n        setFiles.setFiles(input, FileList.createFileList(getWindow.getWindow(element), files));\n        this.dispatchUIEvent(input, 'input');\n        this.dispatchUIEvent(input, 'change');\n    };\n    input.addEventListener('fileDialog', fileDialog);\n    await this.click(element);\n    input.removeEventListener('fileDialog', fileDialog);\n}\n// When matching files, browsers ignore case and consider jpeg/jpg interchangeable.\nfunction normalize(nameOrType) {\n    return nameOrType.toLowerCase().replace(/(\\.|\\/)jpg\\b/g, '$1jpeg');\n}\nfunction isAcceptableFile(file, accept) {\n    if (!accept) {\n        return true;\n    }\n    const wildcards = [\n        'audio/*',\n        'image/*',\n        'video/*'\n    ];\n    return normalize(accept).trim().split(/\\s*,\\s*/).some((acceptToken)=>{\n        // tokens starting with a dot represent a file extension\n        if (acceptToken.startsWith('.')) {\n            return normalize(file.name).endsWith(acceptToken);\n        } else if (wildcards.includes(acceptToken)) {\n            return normalize(file.type).startsWith(acceptToken.replace('*', ''));\n        }\n        return normalize(file.type) === acceptToken;\n    });\n}\n\nexports.upload = upload;\n"],"version":3}