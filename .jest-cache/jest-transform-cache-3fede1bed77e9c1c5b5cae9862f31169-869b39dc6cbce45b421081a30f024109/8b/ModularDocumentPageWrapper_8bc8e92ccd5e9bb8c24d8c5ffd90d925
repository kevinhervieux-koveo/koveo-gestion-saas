c4abe9cab5be190c1aa84465d176ca6e
"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = ModularDocumentPageWrapper;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = __importStar(require("react"));
const react_query_1 = require("@tanstack/react-query");
const wouter_1 = require("wouter");
const lucide_react_1 = require("lucide-react");
const button_1 = require("@/components/ui/button");
const input_1 = require("@/components/ui/input");
const card_1 = require("@/components/ui/card");
const badge_1 = require("@/components/ui/badge");
const select_1 = require("@/components/ui/select");
const queryClient_1 = require("@/lib/queryClient");
const use_language_1 = require("@/hooks/use-language");
const document_management_1 = require("@/components/document-management");
// Document categories for filtering
const DOCUMENT_CATEGORIES = [
    { value: 'all', label: 'All Categories' },
    { value: 'bylaw', label: 'Bylaws' },
    { value: 'financial', label: 'Financial' },
    { value: 'maintenance', label: 'Maintenance' },
    { value: 'legal', label: 'Legal' },
    { value: 'meeting_minutes', label: 'Meeting Minutes' },
    { value: 'insurance', label: 'Insurance' },
    { value: 'contracts', label: 'Contracts' },
    { value: 'permits', label: 'Permits' },
    { value: 'inspection', label: 'Inspection' },
    { value: 'other', label: 'Other' },
];
function ModularDocumentPageWrapper({ type, userRole, backPath, backLabel, entityIdParam, }) {
    const [, navigate] = (0, wouter_1.useLocation)();
    const params = (0, wouter_1.useParams)();
    const { t } = (0, use_language_1.useLanguage)();
    // State for modals and interactions
    const [isViewModalOpen, setIsViewModalOpen] = (0, react_1.useState)(false);
    const [isEditModalOpen, setIsEditModalOpen] = (0, react_1.useState)(false);
    const [selectedDocumentId, setSelectedDocumentId] = (0, react_1.useState)(null);
    const [isCreating, setIsCreating] = (0, react_1.useState)(false);
    // State for filtering and search
    const [searchTerm, setSearchTerm] = (0, react_1.useState)('');
    const [selectedCategory, setSelectedCategory] = (0, react_1.useState)('all');
    const [viewMode, setViewMode] = (0, react_1.useState)('grid');
    // Get entityId from URL (both path param and query param)
    const urlParams = new URLSearchParams(window.location.search);
    const entityId = params[entityIdParam] || urlParams.get(entityIdParam);
    // Get current user
    const { data: user } = (0, react_query_1.useQuery)({
        queryKey: ['/api/auth/user'],
        queryFn: () => (0, queryClient_1.apiRequest)('GET', '/api/auth/user'),
    });
    // Get entity info based on type
    const entityApiPath = type === 'building' ? '/api/manager/buildings' : '/api/residences';
    const { data: entity, isError: entityError, error } = (0, react_query_1.useQuery)({
        queryKey: [entityApiPath, entityId],
        queryFn: async () => {
            if (type === 'residence') {
                const response = await fetch(`/api/residences/${entityId}`, {
                    credentials: 'include',
                });
                if (!response.ok) {
                    if (response.status === 404) {
                        throw new Error('ENTITY_NOT_FOUND');
                    }
                    throw new Error(`Failed to fetch ${type}`);
                }
                return response.json();
            }
            else {
                return (0, queryClient_1.apiRequest)('GET', `${entityApiPath}/${entityId}`);
            }
        },
        enabled: !!entityId,
        retry: false, // Don't retry on 404s
    });
    // Fetch documents for this entity
    const { data: documents = [], isLoading } = (0, react_query_1.useQuery)({
        queryKey: ['/api/documents', type, entityId],
        queryFn: () => {
            const param = type === 'building' ? 'buildingId' : 'residenceId';
            return (0, queryClient_1.apiRequest)('GET', `/api/documents?${param}=${entityId}`);
        },
        enabled: !!entityId,
    });
    // Determine permissions based on user role and type
    const isUserTenant = user?.role === 'tenant';
    const isManager = user?.role === 'manager' || user?.role === 'admin';
    const userPermissions = userRole === 'manager'
        ? {
            canView: true,
            canDownload: true,
            canEdit: isManager,
            canDelete: isManager,
            canCreate: isManager,
        }
        : {
            canView: true,
            canDownload: !isUserTenant,
            canEdit: !isUserTenant,
            canDelete: !isUserTenant,
            canCreate: !isUserTenant,
        };
    // Filter and search documents
    const filteredDocuments = Array.isArray(documents) ? documents.filter(doc => {
        const matchesSearch = doc.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
            doc.description?.toLowerCase().includes(searchTerm.toLowerCase());
        const matchesCategory = selectedCategory === 'all' || doc.category === selectedCategory;
        return matchesSearch && matchesCategory;
    }) : [];
    // Generate entity name based on type
    const entityName = type === 'residence'
        ? (entity?.unitNumber || entity?.unit_number ? `Unit ${entity.unitNumber || entity.unit_number}` : 'Residence')
        : entity?.name;
    const defaultBackLabel = backLabel || (type === 'building' ? 'Back to Buildings' : t('backToResidences'));
    // Handle document interactions
    const handleDocumentView = (documentId) => {
        setSelectedDocumentId(documentId);
        setIsViewModalOpen(true);
    };
    const handleDocumentEdit = (documentId) => {
        setSelectedDocumentId(documentId);
        setIsEditModalOpen(true);
        setIsViewModalOpen(false);
    };
    const handleCreateDocument = () => {
        setSelectedDocumentId(null);
        setIsCreating(true);
        setIsEditModalOpen(true);
    };
    const handleDocumentSuccess = (documentId, action) => {
        console.log(`Document ${action}:`, documentId);
        setIsEditModalOpen(false);
        setIsViewModalOpen(false);
        setIsCreating(false);
        setSelectedDocumentId(null);
    };
    const clearFilters = () => {
        setSearchTerm('');
        setSelectedCategory('all');
    };
    if (!entityId) {
        return ((0, jsx_runtime_1.jsx)("div", { className: "flex-1 flex flex-col overflow-hidden", children: (0, jsx_runtime_1.jsx)("div", { className: "flex-1 flex items-center justify-center", children: (0, jsx_runtime_1.jsxs)("div", { className: "text-center", children: [(0, jsx_runtime_1.jsxs)("p", { className: "text-gray-500 mb-4", children: [type, " ID is required"] }), (0, jsx_runtime_1.jsxs)(button_1.Button, { variant: "outline", onClick: () => navigate(backPath), "data-testid": "button-back-to-list", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.ArrowLeft, { className: "w-4 h-4 mr-2" }), defaultBackLabel] })] }) }) }));
    }
    // Handle entity not found (specific to residence pages that had this logic)
    if (entityError && error?.message === 'ENTITY_NOT_FOUND' && type === 'residence') {
        return ((0, jsx_runtime_1.jsx)("div", { className: "flex-1 flex flex-col overflow-hidden", children: (0, jsx_runtime_1.jsx)("div", { className: "flex-1 flex items-center justify-center", children: (0, jsx_runtime_1.jsxs)("div", { className: "text-center max-w-md", children: [(0, jsx_runtime_1.jsx)("h2", { className: "text-xl font-semibold mb-4", children: "Residence Not Found" }), (0, jsx_runtime_1.jsxs)("p", { className: "text-gray-500 mb-4", children: ["The residence ID \"", entityId, "\" doesn't exist in the development database."] }), (0, jsx_runtime_1.jsx)("p", { className: "text-sm text-gray-400 mb-6", children: "This might be a production database ID. Please use a valid development residence ID." }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsxs)(button_1.Button, { variant: "default", onClick: () => navigate(backPath), "data-testid": "button-back-to-list", className: "w-full", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.ArrowLeft, { className: "w-4 h-4 mr-2" }), backLabel || 'Back to Residences'] }), (0, jsx_runtime_1.jsx)(button_1.Button, { variant: "outline", onClick: () => navigate('/residents/residences/e27ac924-8120-4904-a791-d1e9db544d58/documents'), "data-testid": "button-go-to-valid-residence", className: "w-full", children: "Go to Unit 101 (Test Residence)" })] })] }) }) }));
    }
    return ((0, jsx_runtime_1.jsxs)("div", { className: "flex-1 flex flex-col overflow-hidden", children: [(0, jsx_runtime_1.jsx)("div", { className: "p-6 pb-0", children: (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between mb-6", children: [(0, jsx_runtime_1.jsxs)(button_1.Button, { variant: "outline", onClick: () => navigate(backPath), "data-testid": "button-back", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.ArrowLeft, { className: "w-4 h-4 mr-2" }), defaultBackLabel] }), (0, jsx_runtime_1.jsxs)("div", { className: "text-right", children: [(0, jsx_runtime_1.jsxs)("h1", { className: "text-2xl font-semibold", children: [type === 'building' ? (0, jsx_runtime_1.jsx)(lucide_react_1.Building, { className: "w-6 h-6 inline mr-2" }) : (0, jsx_runtime_1.jsx)(lucide_react_1.Home, { className: "w-6 h-6 inline mr-2" }), entityName] }), (0, jsx_runtime_1.jsx)("p", { className: "text-sm text-muted-foreground", children: type === 'building' ? 'Building Documents' : 'Residence Documents' })] })] }) }), (0, jsx_runtime_1.jsx)("div", { className: "flex-1 overflow-auto px-6 pb-6", children: (0, jsx_runtime_1.jsxs)("div", { className: "max-w-7xl mx-auto space-y-6", children: [(0, jsx_runtime_1.jsxs)(card_1.Card, { children: [(0, jsx_runtime_1.jsx)(card_1.CardHeader, { children: (0, jsx_runtime_1.jsxs)(card_1.CardTitle, { className: "flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Filter, { className: "w-5 h-5" }), "Search & Filters"] }) }), (0, jsx_runtime_1.jsx)(card_1.CardContent, { children: (0, jsx_runtime_1.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-4 gap-4", children: [(0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)("label", { className: "text-sm font-medium", children: "Search" }), (0, jsx_runtime_1.jsxs)("div", { className: "relative", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Search, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4" }), (0, jsx_runtime_1.jsx)(input_1.Input, { placeholder: "Search documents...", value: searchTerm, onChange: (e) => setSearchTerm(e.target.value), className: "pl-10", "data-testid": "input-search-documents" })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)("label", { className: "text-sm font-medium", children: "Category" }), (0, jsx_runtime_1.jsxs)(select_1.Select, { value: selectedCategory, onValueChange: setSelectedCategory, children: [(0, jsx_runtime_1.jsx)(select_1.SelectTrigger, { "data-testid": "select-category-filter", children: (0, jsx_runtime_1.jsx)(select_1.SelectValue, {}) }), (0, jsx_runtime_1.jsx)(select_1.SelectContent, { children: DOCUMENT_CATEGORIES.map((category) => ((0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: category.value, children: category.label }, category.value))) })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)("label", { className: "text-sm font-medium", children: "View" }), (0, jsx_runtime_1.jsxs)("div", { className: "flex gap-2", children: [(0, jsx_runtime_1.jsx)(button_1.Button, { variant: viewMode === 'grid' ? 'default' : 'outline', size: "sm", onClick: () => setViewMode('grid'), className: "flex-1", "data-testid": "button-grid-view", children: (0, jsx_runtime_1.jsx)(lucide_react_1.Grid, { className: "w-4 h-4" }) }), (0, jsx_runtime_1.jsx)(button_1.Button, { variant: viewMode === 'list' ? 'default' : 'outline', size: "sm", onClick: () => setViewMode('list'), className: "flex-1", "data-testid": "button-list-view", children: (0, jsx_runtime_1.jsx)(lucide_react_1.List, { className: "w-4 h-4" }) })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)("label", { className: "text-sm font-medium invisible", children: "Actions" }), (0, jsx_runtime_1.jsxs)("div", { className: "flex gap-2", children: [userPermissions.canCreate && ((0, jsx_runtime_1.jsxs)(button_1.Button, { onClick: handleCreateDocument, className: "flex-1", "data-testid": "button-create-document", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Plus, { className: "w-4 h-4 mr-2" }), "Create"] })), (0, jsx_runtime_1.jsx)(button_1.Button, { variant: "outline", onClick: clearFilters, "data-testid": "button-clear-filters", children: "Clear" })] })] })] }) })] }), (0, jsx_runtime_1.jsx)("div", { className: "flex justify-between items-center", children: (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2", children: [(0, jsx_runtime_1.jsxs)("span", { className: "text-sm text-muted-foreground", children: [filteredDocuments.length, " document", filteredDocuments.length !== 1 ? 's' : '', " found"] }), (searchTerm || selectedCategory !== 'all') && ((0, jsx_runtime_1.jsx)(badge_1.Badge, { variant: "secondary", children: "Filtered" }))] }) }), isLoading ? ((0, jsx_runtime_1.jsx)(card_1.Card, { children: (0, jsx_runtime_1.jsxs)(card_1.CardContent, { className: "p-8 text-center", children: [(0, jsx_runtime_1.jsx)("div", { className: "animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4" }), (0, jsx_runtime_1.jsx)("p", { className: "text-gray-500", children: "Loading documents..." })] }) })) : filteredDocuments.length === 0 ? ((0, jsx_runtime_1.jsx)(card_1.Card, { children: (0, jsx_runtime_1.jsx)(card_1.CardContent, { className: "p-8 text-center", children: (0, jsx_runtime_1.jsxs)("div", { className: "text-center", children: [(0, jsx_runtime_1.jsx)("div", { className: "w-16 h-16 mx-auto mb-4 bg-muted rounded-full flex items-center justify-center", children: (0, jsx_runtime_1.jsx)(lucide_react_1.Search, { className: "w-8 h-8 text-muted-foreground" }) }), (0, jsx_runtime_1.jsx)("h3", { className: "text-lg font-semibold text-gray-600 mb-2", children: "No Documents Found" }), (0, jsx_runtime_1.jsx)("p", { className: "text-gray-500 mb-4", children: searchTerm || selectedCategory !== 'all'
                                                ? "No documents match your current filters. Try adjusting your search criteria."
                                                : `No documents have been uploaded for this ${type} yet. Create your first document to get started.` }), (0, jsx_runtime_1.jsxs)("div", { className: "flex gap-2 justify-center", children: [(searchTerm || selectedCategory !== 'all') && ((0, jsx_runtime_1.jsx)(button_1.Button, { variant: "outline", onClick: clearFilters, children: "Clear Filters" })), userPermissions.canCreate && ((0, jsx_runtime_1.jsxs)(button_1.Button, { onClick: handleCreateDocument, children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Plus, { className: "w-4 h-4 mr-2" }), "Create Document"] }))] })] }) }) })) : ((0, jsx_runtime_1.jsx)(card_1.Card, { children: (0, jsx_runtime_1.jsx)(card_1.CardContent, { className: "p-6", children: (0, jsx_runtime_1.jsx)("div", { className: `grid gap-4 ${viewMode === 'grid'
                                        ? 'grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4'
                                        : 'grid-cols-1'}`, children: filteredDocuments.map((document) => ((0, jsx_runtime_1.jsx)(document_management_1.DocumentCard, { documentId: document.id, title: document.name, documentType: document.category, createdAt: document.createdAt, onViewClick: handleDocumentView, onEditClick: userPermissions.canEdit ? handleDocumentEdit : undefined, compact: viewMode === 'list' }, document.id))) }) }) })), (0, jsx_runtime_1.jsx)(document_management_1.DocumentViewModal, { documentId: selectedDocumentId, userPermissions: userPermissions, onEditClick: handleDocumentEdit, isOpen: isViewModalOpen, onOpenChange: setIsViewModalOpen }), (0, jsx_runtime_1.jsx)(document_management_1.DocumentEditModal, { documentId: isCreating ? undefined : selectedDocumentId, entityType: type, entityId: entityId, isOpen: isEditModalOpen, onOpenChange: setIsEditModalOpen, onSuccess: handleDocumentSuccess })] }) })] }));
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9jbGllbnQvc3JjL2NvbXBvbmVudHMvY29tbW9uL01vZHVsYXJEb2N1bWVudFBhZ2VXcmFwcGVyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQTBDQSw2Q0E2WkM7O0FBdmNELCtDQUF3QztBQUN4Qyx1REFBaUQ7QUFDakQsbUNBQWdEO0FBQ2hELCtDQUEyRjtBQUMzRixtREFBZ0Q7QUFDaEQsaURBQThDO0FBQzlDLCtDQUFnRjtBQUNoRixpREFBOEM7QUFDOUMsbURBQXVHO0FBQ3ZHLG1EQUErQztBQUMvQyx1REFBbUQ7QUFDbkQsMEVBSzBDO0FBRzFDLG9DQUFvQztBQUNwQyxNQUFNLG1CQUFtQixHQUFHO0lBQzFCLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsZ0JBQWdCLEVBQUU7SUFDekMsRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUU7SUFDbkMsRUFBRSxLQUFLLEVBQUUsV0FBVyxFQUFFLEtBQUssRUFBRSxXQUFXLEVBQUU7SUFDMUMsRUFBRSxLQUFLLEVBQUUsYUFBYSxFQUFFLEtBQUssRUFBRSxhQUFhLEVBQUU7SUFDOUMsRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUU7SUFDbEMsRUFBRSxLQUFLLEVBQUUsaUJBQWlCLEVBQUUsS0FBSyxFQUFFLGlCQUFpQixFQUFFO0lBQ3RELEVBQUUsS0FBSyxFQUFFLFdBQVcsRUFBRSxLQUFLLEVBQUUsV0FBVyxFQUFFO0lBQzFDLEVBQUUsS0FBSyxFQUFFLFdBQVcsRUFBRSxLQUFLLEVBQUUsV0FBVyxFQUFFO0lBQzFDLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFO0lBQ3RDLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFO0lBQzVDLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVB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R0FDRixJQUNGLENBQ1AsQ0FBQztBQUNKLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9jbGllbnQvc3JjL2NvbXBvbmVudHMvY29tbW9uL01vZHVsYXJEb2N1bWVudFBhZ2VXcmFwcGVyLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VRdWVyeSB9IGZyb20gJ0B0YW5zdGFjay9yZWFjdC1xdWVyeSc7XG5pbXBvcnQgeyB1c2VMb2NhdGlvbiwgdXNlUGFyYW1zIH0gZnJvbSAnd291dGVyJztcbmltcG9ydCB7IEdyaWQsIExpc3QsIEFycm93TGVmdCwgUGx1cywgU2VhcmNoLCBGaWx0ZXIsIEJ1aWxkaW5nLCBIb21lIH0gZnJvbSAnbHVjaWRlLXJlYWN0JztcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9idXR0b24nO1xuaW1wb3J0IHsgSW5wdXQgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvaW5wdXQnO1xuaW1wb3J0IHsgQ2FyZCwgQ2FyZENvbnRlbnQsIENhcmRIZWFkZXIsIENhcmRUaXRsZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9jYXJkJztcbmltcG9ydCB7IEJhZGdlIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2JhZGdlJztcbmltcG9ydCB7IFNlbGVjdCwgU2VsZWN0Q29udGVudCwgU2VsZWN0SXRlbSwgU2VsZWN0VHJpZ2dlciwgU2VsZWN0VmFsdWUgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvc2VsZWN0JztcbmltcG9ydCB7IGFwaVJlcXVlc3QgfSBmcm9tICdAL2xpYi9xdWVyeUNsaWVudCc7XG5pbXBvcnQgeyB1c2VMYW5ndWFnZSB9IGZyb20gJ0AvaG9va3MvdXNlLWxhbmd1YWdlJztcbmltcG9ydCB7XG4gIFNoYXJlZFVwbG9hZGVyLFxuICBEb2N1bWVudENhcmQsXG4gIERvY3VtZW50Vmlld01vZGFsLFxuICBEb2N1bWVudEVkaXRNb2RhbFxufSBmcm9tICdAL2NvbXBvbmVudHMvZG9jdW1lbnQtbWFuYWdlbWVudCc7XG5pbXBvcnQgdHlwZSB7IERvY3VtZW50V2l0aE1ldGFkYXRhLCBEb2N1bWVudFBlcm1pc3Npb25zIH0gZnJvbSAnQHNoYXJlZC9zY2hlbWFzL2RvY3VtZW50cyc7XG5cbi8vIERvY3VtZW50IGNhdGVnb3JpZXMgZm9yIGZpbHRlcmluZ1xuY29uc3QgRE9DVU1FTlRfQ0FURUdPUklFUyA9IFtcbiAgeyB2YWx1ZTogJ2FsbCcsIGxhYmVsOiAnQWxsIENhdGVnb3JpZXMnIH0sXG4gIHsgdmFsdWU6ICdieWxhdycsIGxhYmVsOiAnQnlsYXdzJyB9LFxuICB7IHZhbHVlOiAnZmluYW5jaWFsJywgbGFiZWw6ICdGaW5hbmNpYWwnIH0sXG4gIHsgdmFsdWU6ICdtYWludGVuYW5jZScsIGxhYmVsOiAnTWFpbnRlbmFuY2UnIH0sXG4gIHsgdmFsdWU6ICdsZWdhbCcsIGxhYmVsOiAnTGVnYWwnIH0sXG4gIHsgdmFsdWU6ICdtZWV0aW5nX21pbnV0ZXMnLCBsYWJlbDogJ01lZXRpbmcgTWludXRlcycgfSxcbiAgeyB2YWx1ZTogJ2luc3VyYW5jZScsIGxhYmVsOiAnSW5zdXJhbmNlJyB9LFxuICB7IHZhbHVlOiAnY29udHJhY3RzJywgbGFiZWw6ICdDb250cmFjdHMnIH0sXG4gIHsgdmFsdWU6ICdwZXJtaXRzJywgbGFiZWw6ICdQZXJtaXRzJyB9LFxuICB7IHZhbHVlOiAnaW5zcGVjdGlvbicsIGxhYmVsOiAnSW5zcGVjdGlvbicgfSxcbiAgeyB2YWx1ZTogJ290aGVyJywgbGFiZWw6ICdPdGhlcicgfSxcbl0gYXMgY29uc3Q7XG5cbmludGVyZmFjZSBNb2R1bGFyRG9jdW1lbnRQYWdlV3JhcHBlclByb3BzIHtcbiAgdHlwZTogJ2J1aWxkaW5nJyB8ICdyZXNpZGVuY2UnO1xuICB1c2VyUm9sZTogJ21hbmFnZXInIHwgJ3Jlc2lkZW50JztcbiAgYmFja1BhdGg6IHN0cmluZztcbiAgYmFja0xhYmVsPzogc3RyaW5nO1xuICBlbnRpdHlJZFBhcmFtOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1vZHVsYXJEb2N1bWVudFBhZ2VXcmFwcGVyKHtcbiAgdHlwZSxcbiAgdXNlclJvbGUsXG4gIGJhY2tQYXRoLFxuICBiYWNrTGFiZWwsXG4gIGVudGl0eUlkUGFyYW0sXG59OiBNb2R1bGFyRG9jdW1lbnRQYWdlV3JhcHBlclByb3BzKSB7XG4gIGNvbnN0IFssIG5hdmlnYXRlXSA9IHVzZUxvY2F0aW9uKCk7XG4gIGNvbnN0IHBhcmFtcyA9IHVzZVBhcmFtcygpO1xuICBjb25zdCB7IHQgfSA9IHVzZUxhbmd1YWdlKCk7XG5cbiAgLy8gU3RhdGUgZm9yIG1vZGFscyBhbmQgaW50ZXJhY3Rpb25zXG4gIGNvbnN0IFtpc1ZpZXdNb2RhbE9wZW4sIHNldElzVmlld01vZGFsT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc0VkaXRNb2RhbE9wZW4sIHNldElzRWRpdE1vZGFsT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzZWxlY3RlZERvY3VtZW50SWQsIHNldFNlbGVjdGVkRG9jdW1lbnRJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2lzQ3JlYXRpbmcsIHNldElzQ3JlYXRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBcbiAgLy8gU3RhdGUgZm9yIGZpbHRlcmluZyBhbmQgc2VhcmNoXG4gIGNvbnN0IFtzZWFyY2hUZXJtLCBzZXRTZWFyY2hUZXJtXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW3NlbGVjdGVkQ2F0ZWdvcnksIHNldFNlbGVjdGVkQ2F0ZWdvcnldID0gdXNlU3RhdGUoJ2FsbCcpO1xuICBjb25zdCBbdmlld01vZGUsIHNldFZpZXdNb2RlXSA9IHVzZVN0YXRlPCdncmlkJyB8ICdsaXN0Jz4oJ2dyaWQnKTtcblxuICAvLyBHZXQgZW50aXR5SWQgZnJvbSBVUkwgKGJvdGggcGF0aCBwYXJhbSBhbmQgcXVlcnkgcGFyYW0pXG4gIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XG4gIGNvbnN0IGVudGl0eUlkID0gKHBhcmFtcyBhcyBhbnkpW2VudGl0eUlkUGFyYW1dIHx8IHVybFBhcmFtcy5nZXQoZW50aXR5SWRQYXJhbSk7XG5cbiAgLy8gR2V0IGN1cnJlbnQgdXNlclxuICBjb25zdCB7IGRhdGE6IHVzZXIgfSA9IHVzZVF1ZXJ5KHtcbiAgICBxdWVyeUtleTogWycvYXBpL2F1dGgvdXNlciddLFxuICAgIHF1ZXJ5Rm46ICgpID0+IGFwaVJlcXVlc3QoJ0dFVCcsICcvYXBpL2F1dGgvdXNlcicpIGFzIFByb21pc2U8YW55PixcbiAgfSk7XG5cbiAgLy8gR2V0IGVudGl0eSBpbmZvIGJhc2VkIG9uIHR5cGVcbiAgY29uc3QgZW50aXR5QXBpUGF0aCA9IHR5cGUgPT09ICdidWlsZGluZycgPyAnL2FwaS9tYW5hZ2VyL2J1aWxkaW5ncycgOiAnL2FwaS9yZXNpZGVuY2VzJztcbiAgY29uc3QgeyBkYXRhOiBlbnRpdHksIGlzRXJyb3I6IGVudGl0eUVycm9yLCBlcnJvciB9ID0gdXNlUXVlcnkoe1xuICAgIHF1ZXJ5S2V5OiBbZW50aXR5QXBpUGF0aCwgZW50aXR5SWRdLFxuICAgIHF1ZXJ5Rm46IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICh0eXBlID09PSAncmVzaWRlbmNlJykge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3Jlc2lkZW5jZXMvJHtlbnRpdHlJZH1gLCB7XG4gICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRU5USVRZX05PVF9GT1VORCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCAke3R5cGV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBhcGlSZXF1ZXN0KCdHRVQnLCBgJHtlbnRpdHlBcGlQYXRofS8ke2VudGl0eUlkfWApIGFzIFByb21pc2U8YW55PjtcbiAgICAgIH1cbiAgICB9LFxuICAgIGVuYWJsZWQ6ICEhZW50aXR5SWQsXG4gICAgcmV0cnk6IGZhbHNlLCAvLyBEb24ndCByZXRyeSBvbiA0MDRzXG4gIH0pO1xuXG4gIC8vIEZldGNoIGRvY3VtZW50cyBmb3IgdGhpcyBlbnRpdHlcbiAgY29uc3QgeyBkYXRhOiBkb2N1bWVudHMgPSBbXSwgaXNMb2FkaW5nIH0gPSB1c2VRdWVyeTxEb2N1bWVudFdpdGhNZXRhZGF0YVtdPih7XG4gICAgcXVlcnlLZXk6IFsnL2FwaS9kb2N1bWVudHMnLCB0eXBlLCBlbnRpdHlJZF0sXG4gICAgcXVlcnlGbjogKCkgPT4ge1xuICAgICAgY29uc3QgcGFyYW0gPSB0eXBlID09PSAnYnVpbGRpbmcnID8gJ2J1aWxkaW5nSWQnIDogJ3Jlc2lkZW5jZUlkJztcbiAgICAgIHJldHVybiBhcGlSZXF1ZXN0KCdHRVQnLCBgL2FwaS9kb2N1bWVudHM/JHtwYXJhbX09JHtlbnRpdHlJZH1gKTtcbiAgICB9LFxuICAgIGVuYWJsZWQ6ICEhZW50aXR5SWQsXG4gIH0pO1xuXG4gIC8vIERldGVybWluZSBwZXJtaXNzaW9ucyBiYXNlZCBvbiB1c2VyIHJvbGUgYW5kIHR5cGVcbiAgY29uc3QgaXNVc2VyVGVuYW50ID0gdXNlcj8ucm9sZSA9PT0gJ3RlbmFudCc7XG4gIGNvbnN0IGlzTWFuYWdlciA9IHVzZXI/LnJvbGUgPT09ICdtYW5hZ2VyJyB8fCB1c2VyPy5yb2xlID09PSAnYWRtaW4nO1xuICBcbiAgY29uc3QgdXNlclBlcm1pc3Npb25zOiBEb2N1bWVudFBlcm1pc3Npb25zID0gdXNlclJvbGUgPT09ICdtYW5hZ2VyJyBcbiAgICA/IHtcbiAgICAgICAgY2FuVmlldzogdHJ1ZSxcbiAgICAgICAgY2FuRG93bmxvYWQ6IHRydWUsXG4gICAgICAgIGNhbkVkaXQ6IGlzTWFuYWdlcixcbiAgICAgICAgY2FuRGVsZXRlOiBpc01hbmFnZXIsXG4gICAgICAgIGNhbkNyZWF0ZTogaXNNYW5hZ2VyLFxuICAgICAgfVxuICAgIDoge1xuICAgICAgICBjYW5WaWV3OiB0cnVlLFxuICAgICAgICBjYW5Eb3dubG9hZDogIWlzVXNlclRlbmFudCxcbiAgICAgICAgY2FuRWRpdDogIWlzVXNlclRlbmFudCxcbiAgICAgICAgY2FuRGVsZXRlOiAhaXNVc2VyVGVuYW50LFxuICAgICAgICBjYW5DcmVhdGU6ICFpc1VzZXJUZW5hbnQsXG4gICAgICB9O1xuXG4gIC8vIEZpbHRlciBhbmQgc2VhcmNoIGRvY3VtZW50c1xuICBjb25zdCBmaWx0ZXJlZERvY3VtZW50cyA9IEFycmF5LmlzQXJyYXkoZG9jdW1lbnRzKSA/IGRvY3VtZW50cy5maWx0ZXIoZG9jID0+IHtcbiAgICBjb25zdCBtYXRjaGVzU2VhcmNoID0gZG9jLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hUZXJtLnRvTG93ZXJDYXNlKCkpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRlc2NyaXB0aW9uPy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaFRlcm0udG9Mb3dlckNhc2UoKSk7XG4gICAgXG4gICAgY29uc3QgbWF0Y2hlc0NhdGVnb3J5ID0gc2VsZWN0ZWRDYXRlZ29yeSA9PT0gJ2FsbCcgfHwgZG9jLmNhdGVnb3J5ID09PSBzZWxlY3RlZENhdGVnb3J5O1xuXG4gICAgcmV0dXJuIG1hdGNoZXNTZWFyY2ggJiYgbWF0Y2hlc0NhdGVnb3J5O1xuICB9KSA6IFtdO1xuXG4gIC8vIEdlbmVyYXRlIGVudGl0eSBuYW1lIGJhc2VkIG9uIHR5cGVcbiAgY29uc3QgZW50aXR5TmFtZSA9IHR5cGUgPT09ICdyZXNpZGVuY2UnIFxuICAgID8gKGVudGl0eT8udW5pdE51bWJlciB8fCBlbnRpdHk/LnVuaXRfbnVtYmVyID8gYFVuaXQgJHtlbnRpdHkudW5pdE51bWJlciB8fCBlbnRpdHkudW5pdF9udW1iZXJ9YCA6ICdSZXNpZGVuY2UnKVxuICAgIDogZW50aXR5Py5uYW1lO1xuXG4gIGNvbnN0IGRlZmF1bHRCYWNrTGFiZWwgPSBiYWNrTGFiZWwgfHwgKHR5cGUgPT09ICdidWlsZGluZycgPyAnQmFjayB0byBCdWlsZGluZ3MnIDogdCgnYmFja1RvUmVzaWRlbmNlcycpKTtcblxuICAvLyBIYW5kbGUgZG9jdW1lbnQgaW50ZXJhY3Rpb25zXG4gIGNvbnN0IGhhbmRsZURvY3VtZW50VmlldyA9IChkb2N1bWVudElkOiBzdHJpbmcpID0+IHtcbiAgICBzZXRTZWxlY3RlZERvY3VtZW50SWQoZG9jdW1lbnRJZCk7XG4gICAgc2V0SXNWaWV3TW9kYWxPcGVuKHRydWUpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZURvY3VtZW50RWRpdCA9IChkb2N1bWVudElkOiBzdHJpbmcpID0+IHtcbiAgICBzZXRTZWxlY3RlZERvY3VtZW50SWQoZG9jdW1lbnRJZCk7XG4gICAgc2V0SXNFZGl0TW9kYWxPcGVuKHRydWUpO1xuICAgIHNldElzVmlld01vZGFsT3BlbihmYWxzZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQ3JlYXRlRG9jdW1lbnQgPSAoKSA9PiB7XG4gICAgc2V0U2VsZWN0ZWREb2N1bWVudElkKG51bGwpO1xuICAgIHNldElzQ3JlYXRpbmcodHJ1ZSk7XG4gICAgc2V0SXNFZGl0TW9kYWxPcGVuKHRydWUpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZURvY3VtZW50U3VjY2VzcyA9IChkb2N1bWVudElkOiBzdHJpbmcsIGFjdGlvbjogJ2NyZWF0ZWQnIHwgJ3VwZGF0ZWQnIHwgJ2RlbGV0ZWQnKSA9PiB7XG4gICAgY29uc29sZS5sb2coYERvY3VtZW50ICR7YWN0aW9ufTpgLCBkb2N1bWVudElkKTtcbiAgICBzZXRJc0VkaXRNb2RhbE9wZW4oZmFsc2UpO1xuICAgIHNldElzVmlld01vZGFsT3BlbihmYWxzZSk7XG4gICAgc2V0SXNDcmVhdGluZyhmYWxzZSk7XG4gICAgc2V0U2VsZWN0ZWREb2N1bWVudElkKG51bGwpO1xuICB9O1xuXG4gIGNvbnN0IGNsZWFyRmlsdGVycyA9ICgpID0+IHtcbiAgICBzZXRTZWFyY2hUZXJtKCcnKTtcbiAgICBzZXRTZWxlY3RlZENhdGVnb3J5KCdhbGwnKTtcbiAgfTtcblxuICBpZiAoIWVudGl0eUlkKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIGZsZXggZmxleC1jb2wgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMCBtYi00XCI+e3R5cGV9IElEIGlzIHJlcXVpcmVkPC9wPlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG5hdmlnYXRlKGJhY2tQYXRoKX1cbiAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9XCJidXR0b24tYmFjay10by1saXN0XCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPEFycm93TGVmdCBjbGFzc05hbWU9XCJ3LTQgaC00IG1yLTJcIiAvPlxuICAgICAgICAgICAgICB7ZGVmYXVsdEJhY2tMYWJlbH1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICAvLyBIYW5kbGUgZW50aXR5IG5vdCBmb3VuZCAoc3BlY2lmaWMgdG8gcmVzaWRlbmNlIHBhZ2VzIHRoYXQgaGFkIHRoaXMgbG9naWMpXG4gIGlmIChlbnRpdHlFcnJvciAmJiBlcnJvcj8ubWVzc2FnZSA9PT0gJ0VOVElUWV9OT1RfRk9VTkQnICYmIHR5cGUgPT09ICdyZXNpZGVuY2UnKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIGZsZXggZmxleC1jb2wgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBtYXgtdy1tZFwiPlxuICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1zZW1pYm9sZCBtYi00XCI+UmVzaWRlbmNlIE5vdCBGb3VuZDwvaDI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIG1iLTRcIj5cbiAgICAgICAgICAgICAgVGhlIHJlc2lkZW5jZSBJRCBcIntlbnRpdHlJZH1cIiBkb2Vzbid0IGV4aXN0IGluIHRoZSBkZXZlbG9wbWVudCBkYXRhYmFzZS5cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTQwMCBtYi02XCI+XG4gICAgICAgICAgICAgIFRoaXMgbWlnaHQgYmUgYSBwcm9kdWN0aW9uIGRhdGFiYXNlIElELiBQbGVhc2UgdXNlIGEgdmFsaWQgZGV2ZWxvcG1lbnQgcmVzaWRlbmNlIElELlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJkZWZhdWx0XCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBuYXZpZ2F0ZShiYWNrUGF0aCl9XG4gICAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9XCJidXR0b24tYmFjay10by1saXN0XCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGxcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPEFycm93TGVmdCBjbGFzc05hbWU9XCJ3LTQgaC00IG1yLTJcIiAvPlxuICAgICAgICAgICAgICAgIHtiYWNrTGFiZWwgfHwgJ0JhY2sgdG8gUmVzaWRlbmNlcyd9XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+XG4gICAgICAgICAgICAgICAgICBuYXZpZ2F0ZSgnL3Jlc2lkZW50cy9yZXNpZGVuY2VzL2UyN2FjOTI0LTgxMjAtNDkwNC1hNzkxLWQxZTlkYjU0NGQ1OC9kb2N1bWVudHMnKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD1cImJ1dHRvbi1nby10by12YWxpZC1yZXNpZGVuY2VcIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBHbyB0byBVbml0IDEwMSAoVGVzdCBSZXNpZGVuY2UpXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgZmxleCBmbGV4LWNvbCBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgIHsvKiBIZWFkZXIgd2l0aCBCYWNrIEJ1dHRvbiAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC02IHBiLTBcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbWItNlwiPlxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG5hdmlnYXRlKGJhY2tQYXRoKX1cbiAgICAgICAgICAgIGRhdGEtdGVzdGlkPVwiYnV0dG9uLWJhY2tcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxBcnJvd0xlZnQgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgLz5cbiAgICAgICAgICAgIHtkZWZhdWx0QmFja0xhYmVsfVxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1yaWdodFwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtc2VtaWJvbGRcIj5cbiAgICAgICAgICAgICAge3R5cGUgPT09ICdidWlsZGluZycgPyA8QnVpbGRpbmcgY2xhc3NOYW1lPVwidy02IGgtNiBpbmxpbmUgbXItMlwiIC8+IDogPEhvbWUgY2xhc3NOYW1lPVwidy02IGgtNiBpbmxpbmUgbXItMlwiIC8+fVxuICAgICAgICAgICAgICB7ZW50aXR5TmFtZX1cbiAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlxuICAgICAgICAgICAgICB7dHlwZSA9PT0gJ2J1aWxkaW5nJyA/ICdCdWlsZGluZyBEb2N1bWVudHMnIDogJ1Jlc2lkZW5jZSBEb2N1bWVudHMnfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBvdmVyZmxvdy1hdXRvIHB4LTYgcGItNlwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTd4bCBteC1hdXRvIHNwYWNlLXktNlwiPlxuICAgICAgICAgIHsvKiBGaWx0ZXJzIGFuZCBTZWFyY2ggU2VjdGlvbiAqL31cbiAgICAgICAgICA8Q2FyZD5cbiAgICAgICAgICAgIDxDYXJkSGVhZGVyPlxuICAgICAgICAgICAgICA8Q2FyZFRpdGxlIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgPEZpbHRlciBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz5cbiAgICAgICAgICAgICAgICBTZWFyY2ggJiBGaWx0ZXJzXG4gICAgICAgICAgICAgIDwvQ2FyZFRpdGxlPlxuICAgICAgICAgICAgPC9DYXJkSGVhZGVyPlxuICAgICAgICAgICAgPENhcmRDb250ZW50PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTQgZ2FwLTRcIj5cbiAgICAgICAgICAgICAgICB7LyogU2VhcmNoICovfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bVwiPlNlYXJjaDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgICAgICAgIDxTZWFyY2ggY2xhc3NOYW1lPVwiYWJzb2x1dGUgbGVmdC0zIHRvcC0xLzIgdHJhbnNmb3JtIC10cmFuc2xhdGUteS0xLzIgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIHctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlYXJjaCBkb2N1bWVudHMuLi5cIlxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzZWFyY2hUZXJtfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0U2VhcmNoVGVybShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicGwtMTBcIlxuICAgICAgICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPVwiaW5wdXQtc2VhcmNoLWRvY3VtZW50c1wiXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIHsvKiBDYXRlZ29yeSBGaWx0ZXIgKi99XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtXCI+Q2F0ZWdvcnk8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgPFNlbGVjdCB2YWx1ZT17c2VsZWN0ZWRDYXRlZ29yeX0gb25WYWx1ZUNoYW5nZT17c2V0U2VsZWN0ZWRDYXRlZ29yeX0+XG4gICAgICAgICAgICAgICAgICAgIDxTZWxlY3RUcmlnZ2VyIGRhdGEtdGVzdGlkPVwic2VsZWN0LWNhdGVnb3J5LWZpbHRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RWYWx1ZSAvPlxuICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdFRyaWdnZXI+XG4gICAgICAgICAgICAgICAgICAgIDxTZWxlY3RDb250ZW50PlxuICAgICAgICAgICAgICAgICAgICAgIHtET0NVTUVOVF9DQVRFR09SSUVTLm1hcCgoY2F0ZWdvcnkpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIGtleT17Y2F0ZWdvcnkudmFsdWV9IHZhbHVlPXtjYXRlZ29yeS52YWx1ZX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtjYXRlZ29yeS5sYWJlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RDb250ZW50PlxuICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICB7LyogVmlldyBNb2RlIFRvZ2dsZSAqL31cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW1cIj5WaWV3PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD17dmlld01vZGUgPT09ICdncmlkJyA/ICdkZWZhdWx0JyA6ICdvdXRsaW5lJ31cbiAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFZpZXdNb2RlKCdncmlkJyl9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xXCJcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD1cImJ1dHRvbi1ncmlkLXZpZXdcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPEdyaWQgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD17dmlld01vZGUgPT09ICdsaXN0JyA/ICdkZWZhdWx0JyA6ICdvdXRsaW5lJ31cbiAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFZpZXdNb2RlKCdsaXN0Jyl9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xXCJcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD1cImJ1dHRvbi1saXN0LXZpZXdcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPExpc3QgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICB7LyogQWN0aW9ucyAqL31cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gaW52aXNpYmxlXCI+QWN0aW9uczwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAge3VzZXJQZXJtaXNzaW9ucy5jYW5DcmVhdGUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDcmVhdGVEb2N1bWVudH0gXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9XCJidXR0b24tY3JlYXRlLWRvY3VtZW50XCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UGx1cyBjbGFzc05hbWU9XCJ3LTQgaC00IG1yLTJcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgQ3JlYXRlXG4gICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIiBcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtjbGVhckZpbHRlcnN9XG4gICAgICAgICAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9XCJidXR0b24tY2xlYXItZmlsdGVyc1wiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICBDbGVhclxuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICAgICAgPC9DYXJkPlxuXG4gICAgICAgICAgey8qIERvY3VtZW50cyBEaXNwbGF5ICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+XG4gICAgICAgICAgICAgICAge2ZpbHRlcmVkRG9jdW1lbnRzLmxlbmd0aH0gZG9jdW1lbnR7ZmlsdGVyZWREb2N1bWVudHMubGVuZ3RoICE9PSAxID8gJ3MnIDogJyd9IGZvdW5kXG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgeyhzZWFyY2hUZXJtIHx8IHNlbGVjdGVkQ2F0ZWdvcnkgIT09ICdhbGwnKSAmJiAoXG4gICAgICAgICAgICAgICAgPEJhZGdlIHZhcmlhbnQ9XCJzZWNvbmRhcnlcIj5GaWx0ZXJlZDwvQmFkZ2U+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiBEb2N1bWVudHMgQ29udGVudCAqL31cbiAgICAgICAgICB7aXNMb2FkaW5nID8gKFxuICAgICAgICAgICAgPENhcmQ+XG4gICAgICAgICAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9XCJwLTggdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiB3LTggaC04IGJvcmRlci00IGJvcmRlci1wcmltYXJ5IGJvcmRlci10LXRyYW5zcGFyZW50IHJvdW5kZWQtZnVsbCBteC1hdXRvIG1iLTRcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwXCI+TG9hZGluZyBkb2N1bWVudHMuLi48L3A+XG4gICAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICAgICAgICA8L0NhcmQ+XG4gICAgICAgICAgKSA6IGZpbHRlcmVkRG9jdW1lbnRzLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICAgIDxDYXJkPlxuICAgICAgICAgICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPVwicC04IHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTE2IGgtMTYgbXgtYXV0byBtYi00IGJnLW11dGVkIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICA8U2VhcmNoIGNsYXNzTmFtZT1cInctOCBoLTggdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCIgLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktNjAwIG1iLTJcIj5ObyBEb2N1bWVudHMgRm91bmQ8L2gzPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMCBtYi00XCI+XG4gICAgICAgICAgICAgICAgICAgIHtzZWFyY2hUZXJtIHx8IHNlbGVjdGVkQ2F0ZWdvcnkgIT09ICdhbGwnXG4gICAgICAgICAgICAgICAgICAgICAgPyBcIk5vIGRvY3VtZW50cyBtYXRjaCB5b3VyIGN1cnJlbnQgZmlsdGVycy4gVHJ5IGFkanVzdGluZyB5b3VyIHNlYXJjaCBjcml0ZXJpYS5cIlxuICAgICAgICAgICAgICAgICAgICAgIDogYE5vIGRvY3VtZW50cyBoYXZlIGJlZW4gdXBsb2FkZWQgZm9yIHRoaXMgJHt0eXBlfSB5ZXQuIENyZWF0ZSB5b3VyIGZpcnN0IGRvY3VtZW50IHRvIGdldCBzdGFydGVkLmBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0yIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIHsoc2VhcmNoVGVybSB8fCBzZWxlY3RlZENhdGVnb3J5ICE9PSAnYWxsJykgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD1cIm91dGxpbmVcIiBvbkNsaWNrPXtjbGVhckZpbHRlcnN9PlxuICAgICAgICAgICAgICAgICAgICAgICAgQ2xlYXIgRmlsdGVyc1xuICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICB7dXNlclBlcm1pc3Npb25zLmNhbkNyZWF0ZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVDcmVhdGVEb2N1bWVudH0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UGx1cyBjbGFzc05hbWU9XCJ3LTQgaC00IG1yLTJcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgQ3JlYXRlIERvY3VtZW50XG4gICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9DYXJkQ29udGVudD5cbiAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPENhcmQ+XG4gICAgICAgICAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9XCJwLTZcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGdyaWQgZ2FwLTQgJHtcbiAgICAgICAgICAgICAgICAgIHZpZXdNb2RlID09PSAnZ3JpZCcgXG4gICAgICAgICAgICAgICAgICAgID8gJ2dyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIGxnOmdyaWQtY29scy0zIHhsOmdyaWQtY29scy00JyBcbiAgICAgICAgICAgICAgICAgICAgOiAnZ3JpZC1jb2xzLTEnXG4gICAgICAgICAgICAgICAgfWB9PlxuICAgICAgICAgICAgICAgICAge2ZpbHRlcmVkRG9jdW1lbnRzLm1hcCgoZG9jdW1lbnQpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPERvY3VtZW50Q2FyZFxuICAgICAgICAgICAgICAgICAgICAgIGtleT17ZG9jdW1lbnQuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRJZD17ZG9jdW1lbnQuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2RvY3VtZW50Lm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRUeXBlPXtkb2N1bWVudC5jYXRlZ29yeX1cbiAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ9e2RvY3VtZW50LmNyZWF0ZWRBdH1cbiAgICAgICAgICAgICAgICAgICAgICBvblZpZXdDbGljaz17aGFuZGxlRG9jdW1lbnRWaWV3fVxuICAgICAgICAgICAgICAgICAgICAgIG9uRWRpdENsaWNrPXt1c2VyUGVybWlzc2lvbnMuY2FuRWRpdCA/IGhhbmRsZURvY3VtZW50RWRpdCA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgICAgICAgICAgICBjb21wYWN0PXt2aWV3TW9kZSA9PT0gJ2xpc3QnfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICAgICAgICA8L0NhcmQ+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHsvKiBEb2N1bWVudCBWaWV3IE1vZGFsICovfVxuICAgICAgICAgIDxEb2N1bWVudFZpZXdNb2RhbFxuICAgICAgICAgICAgZG9jdW1lbnRJZD17c2VsZWN0ZWREb2N1bWVudElkfVxuICAgICAgICAgICAgdXNlclBlcm1pc3Npb25zPXt1c2VyUGVybWlzc2lvbnN9XG4gICAgICAgICAgICBvbkVkaXRDbGljaz17aGFuZGxlRG9jdW1lbnRFZGl0fVxuICAgICAgICAgICAgaXNPcGVuPXtpc1ZpZXdNb2RhbE9wZW59XG4gICAgICAgICAgICBvbk9wZW5DaGFuZ2U9e3NldElzVmlld01vZGFsT3Blbn1cbiAgICAgICAgICAvPlxuXG4gICAgICAgICAgey8qIERvY3VtZW50IEVkaXQvQ3JlYXRlIE1vZGFsICovfVxuICAgICAgICAgIDxEb2N1bWVudEVkaXRNb2RhbFxuICAgICAgICAgICAgZG9jdW1lbnRJZD17aXNDcmVhdGluZyA/IHVuZGVmaW5lZCA6IHNlbGVjdGVkRG9jdW1lbnRJZH1cbiAgICAgICAgICAgIGVudGl0eVR5cGU9e3R5cGV9XG4gICAgICAgICAgICBlbnRpdHlJZD17ZW50aXR5SWR9XG4gICAgICAgICAgICBpc09wZW49e2lzRWRpdE1vZGFsT3Blbn1cbiAgICAgICAgICAgIG9uT3BlbkNoYW5nZT17c2V0SXNFZGl0TW9kYWxPcGVufVxuICAgICAgICAgICAgb25TdWNjZXNzPXtoYW5kbGVEb2N1bWVudFN1Y2Nlc3N9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn0iXSwidmVyc2lvbiI6M30=