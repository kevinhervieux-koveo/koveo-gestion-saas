{"version":3,"names":["cov_2q6a5ks8o0","actualCoverage","s","exports","UserCalendar","react_1","require","date_fns_1","locale_1","card_1","badge_1","button_1","separator_1","lucide_react_1","calendar_view_1","queryClient_1","use_language_1","use_auth_1","f","t","language","useLanguage","user","useAuth","selectedBooking","setSelectedBooking","useState","handleEventClick","event","booking","generateICSContent","bookings","icsEvents","map","start","parseISO","startTime","end","endTime","formatDate","date","format","id","spaceName","buildingName","join","downloadCalendar","startDate","Date","setMonth","getMonth","endDate","params","URLSearchParams","start_date","toISOString","end_date","view","response","apiRequest","data","json","icsContent","calendar","blob","Blob","type","url","window","URL","createObjectURL","link","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","error","b","jsx_runtime_1","jsx","Card","children","CardContent","className","jsxs","Calendar","Button","variant","onClick","Download","CalendarView","mode","onEventClick","showControls","CardHeader","CardTitle","User","Building2","MapPin","Clock","locale","fr","undefined","Separator","Badge","status","size"],"sources":["/home/runner/workspace/client/src/components/common-spaces/user-calendar.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { format, addDays, parseISO } from 'date-fns';\nimport { fr } from 'date-fns/locale';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { Separator } from '@/components/ui/separator';\nimport { Calendar as CalendarIcon, Clock, MapPin, Download, Building2, User } from 'lucide-react';\nimport { CalendarView } from './calendar-view';\nimport { apiRequest } from '@/lib/queryClient';\nimport { useLanguage } from '@/hooks/use-language';\nimport { useAuth } from '@/hooks/use-auth';\n\n/**\n *\n */\ninterface UserBooking {\n  id: string;\n  startTime: string;\n  endTime: string;\n  status: 'confirmed' | 'cancelled';\n  spaceName: string;\n  spaceId: string;\n  buildingName: string;\n  buildingId: string;\n}\n\n/**\n *\n */\ninterface UserCalendarData {\n  user: {\n    id: string;\n    name: string;\n    role: string;\n  };\n  calendar: {\n    view: string;\n    startDate: string;\n    endDate: string;\n    bookings: UserBooking[];\n  };\n  summary: {\n    totalBookings: number;\n    totalHours: number;\n  };\n}\n\n/**\n *\n */\nexport function UserCalendar() {\n  const { t, language } = useLanguage();\n  const { user } = useAuth();\n  const [selectedBooking, setSelectedBooking] = useState<UserBooking | null>(null);\n\n  const handleEventClick = (event: any) => {\n    // Find the full booking details\n    const booking = event as UserBooking;\n    setSelectedBooking(booking);\n  };\n\n  const generateICSContent = (bookings: UserBooking[]) => {\n    const icsEvents = bookings\n      .map((booking) => {\n        const start = parseISO(booking.startTime);\n        const end = parseISO(booking.endTime);\n        const formatDate = (date: Date) => format(date, \"yyyyMMdd'T'HHmmss'Z'\");\n\n        return [\n          'BEGIN:VEVENT',\n          `UID:${booking.id}@koveo-gestion.com`,\n          `DTSTART:${formatDate(start)}`,\n          `DTEND:${formatDate(end)}`,\n          `SUMMARY:${booking.spaceName} - ${booking.buildingName}`,\n          `LOCATION:${booking.buildingName}`,\n          `DESCRIPTION:Réservation d'espace commun`,\n          'STATUS:CONFIRMED',\n          'END:VEVENT',\n        ].join('\\n');\n      })\n      .join('\\n');\n\n    return [\n      'BEGIN:VCALENDAR',\n      'VERSION:2.0',\n      'PRODID:-//Koveo Gestion//Common Spaces Calendar//FR',\n      'CALSCALE:GREGORIAN',\n      icsEvents,\n      'END:VCALENDAR',\n    ].join('\\n');\n  };\n\n  const downloadCalendar = async () => {\n    try {\n      const startDate = new Date();\n      startDate.setMonth(startDate.getMonth() - 1);\n      const endDate = new Date();\n      endDate.setMonth(endDate.getMonth() + 3);\n\n      const params = new URLSearchParams({\n        start_date: startDate.toISOString(),\n        end_date: endDate.toISOString(),\n        view: 'month',\n      });\n\n      const response = await apiRequest('GET', `/api/common-spaces/user-calendar?${params}`);\n      const data: UserCalendarData = await response.json();\n      const icsContent = generateICSContent(data.calendar.bookings);\n\n      const blob = new Blob([icsContent], { type: 'text/calendar;charset=utf-8' });\n      const url = window.URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `mes-reservations-${format(new Date(), 'yyyy-MM-dd')}.ics`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      window.URL.revokeObjectURL(url);\n    } catch (error) {\n      // Error downloading calendar\n    }\n  };\n\n  if (!user) {\n    return (\n      <Card>\n        <CardContent className='p-6'>\n          <div className='text-center text-muted-foreground'>\n            {language === 'fr' ? 'Connexion requise' : 'Login required'}\n          </div>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <div className='space-y-6' data-testid='user-calendar-container'>\n      {/* Header with user info and actions */}\n      <div className='flex items-center justify-between'>\n        <div>\n          <h1 className='text-2xl font-bold flex items-center gap-2'>\n            <CalendarIcon className='h-6 w-6' />\n            {language === 'fr' ? 'Mon Calendrier' : 'My Calendar'}\n          </h1>\n          <p className='text-muted-foreground'>\n            {language === 'fr'\n              ? \"Consultez et gérez vos réservations d'espaces communs\"\n              : 'View and manage your common space bookings'}\n          </p>\n        </div>\n\n        <div className='flex items-center gap-2'>\n          <Button\n            variant='outline'\n            onClick={downloadCalendar}\n            className='flex items-center gap-2'\n            data-testid='download-calendar-btn'\n          >\n            <Download className='h-4 w-4' />\n            {language === 'fr' ? 'Télécharger (.ics)' : 'Download (.ics)'}\n          </Button>\n        </div>\n      </div>\n\n      {/* Main Calendar View */}\n      <CalendarView\n        mode='user'\n        onEventClick={handleEventClick}\n        showControls={true}\n        className='col-span-2'\n      />\n\n      {/* Selected Booking Details */}\n      {selectedBooking && (\n        <Card data-testid='selected-booking-details'>\n          <CardHeader>\n            <CardTitle className='flex items-center gap-2'>\n              <User className='h-5 w-5' />\n              {language === 'fr' ? 'Détails de la Réservation' : 'Booking Details'}\n            </CardTitle>\n          </CardHeader>\n          <CardContent className='space-y-4'>\n            <div className='grid grid-cols-1 md:grid-cols-2 gap-4'>\n              <div className='space-y-2'>\n                <div className='flex items-center gap-2'>\n                  <Building2 className='h-4 w-4 text-muted-foreground' />\n                  <span className='font-medium'>{selectedBooking.spaceName}</span>\n                </div>\n                <div className='flex items-center gap-2'>\n                  <MapPin className='h-4 w-4 text-muted-foreground' />\n                  <span className='text-sm text-muted-foreground'>\n                    {selectedBooking.buildingName}\n                  </span>\n                </div>\n              </div>\n\n              <div className='space-y-2'>\n                <div className='flex items-center gap-2'>\n                  <Clock className='h-4 w-4 text-muted-foreground' />\n                  <span className='text-sm'>\n                    {format(parseISO(selectedBooking.startTime), 'dd/MM/yyyy', {\n                      locale: language === 'fr' ? fr : undefined,\n                    })}\n                  </span>\n                </div>\n                <div className='flex items-center gap-2 text-sm text-muted-foreground'>\n                  <span>\n                    {format(parseISO(selectedBooking.startTime), 'HH:mm', {\n                      locale: language === 'fr' ? fr : undefined,\n                    })}{' '}\n                    -\n                    {format(parseISO(selectedBooking.endTime), 'HH:mm', {\n                      locale: language === 'fr' ? fr : undefined,\n                    })}\n                  </span>\n                </div>\n              </div>\n            </div>\n\n            <Separator />\n\n            <div className='flex items-center justify-between'>\n              <Badge\n                variant={selectedBooking.status === 'confirmed' ? 'default' : 'secondary'}\n                data-testid='booking-status-badge'\n              >\n                {selectedBooking.status === 'confirmed'\n                  ? language === 'fr'\n                    ? 'Confirmé'\n                    : 'Confirmed'\n                  : language === 'fr'\n                    ? 'Annulé'\n                    : 'Cancelled'}\n              </Badge>\n\n              <Button\n                variant='outline'\n                size='sm'\n                onClick={() => setSelectedBooking(null)}\n                data-testid='close-details-btn'\n              >\n                {language === 'fr' ? 'Fermer' : 'Close'}\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  );\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAYA;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAAAA,cAAA,GAAAE,CAAA;;;;;;AAwCAC,OAAA,CAAAC,YAAA,GAAAA,YAAA;;;;AApDA,MAAAC,OAAA;AAAA;AAAA,CAAAL,cAAA,GAAAE,CAAA,OAAAI,OAAA;AAEA,MAAAC,UAAA;AAAA;AAAA,CAAAP,cAAA,GAAAE,CAAA,OAAAI,OAAA;AACA,MAAAE,QAAA;AAAA;AAAA,CAAAR,cAAA,GAAAE,CAAA,OAAAI,OAAA;AACA,MAAAG,MAAA;AAAA;AAAA,CAAAT,cAAA,GAAAE,CAAA,OAAAI,OAAA;AACA,MAAAI,OAAA;AAAA;AAAA,CAAAV,cAAA,GAAAE,CAAA,OAAAI,OAAA;AACA,MAAAK,QAAA;AAAA;AAAA,CAAAX,cAAA,GAAAE,CAAA,OAAAI,OAAA;AACA,MAAAM,WAAA;AAAA;AAAA,CAAAZ,cAAA,GAAAE,CAAA,OAAAI,OAAA;AACA,MAAAO,cAAA;AAAA;AAAA,CAAAb,cAAA,GAAAE,CAAA,QAAAI,OAAA;AACA,MAAAQ,eAAA;AAAA;AAAA,CAAAd,cAAA,GAAAE,CAAA,QAAAI,OAAA;AACA,MAAAS,aAAA;AAAA;AAAA,CAAAf,cAAA,GAAAE,CAAA,QAAAI,OAAA;AACA,MAAAU,cAAA;AAAA;AAAA,CAAAhB,cAAA,GAAAE,CAAA,QAAAI,OAAA;AACA,MAAAW,UAAA;AAAA;AAAA,CAAAjB,cAAA,GAAAE,CAAA,QAAAI,OAAA;AAqCA;;;AAGA,SAAgBF,YAAYA,CAAA;EAAA;EAAAJ,cAAA,GAAAkB,CAAA;EAC1B,MAAM;IAAEC,CAAC;IAAEC;EAAQ,CAAE;EAAA;EAAA,CAAApB,cAAA,GAAAE,CAAA,QAAG,IAAAc,cAAA,CAAAK,WAAW,GAAE;EACrC,MAAM;IAAEC;EAAI,CAAE;EAAA;EAAA,CAAAtB,cAAA,GAAAE,CAAA,QAAG,IAAAe,UAAA,CAAAM,OAAO,GAAE;EAC1B,MAAM,CAACC,eAAe,EAAEC,kBAAkB,CAAC;EAAA;EAAA,CAAAzB,cAAA,GAAAE,CAAA,QAAG,IAAAG,OAAA,CAAAqB,QAAQ,EAAqB,IAAI,CAAC;EAAC;EAAA1B,cAAA,GAAAE,CAAA;EAEjF,MAAMyB,gBAAgB,GAAIC,KAAU,IAAI;IAAA;IAAA5B,cAAA,GAAAkB,CAAA;IACtC;IACA,MAAMW,OAAO;IAAA;IAAA,CAAA7B,cAAA,GAAAE,CAAA,QAAG0B,KAAoB;IAAC;IAAA5B,cAAA,GAAAE,CAAA;IACrCuB,kBAAkB,CAACI,OAAO,CAAC;EAC7B,CAAC;EAAC;EAAA7B,cAAA,GAAAE,CAAA;EAEF,MAAM4B,kBAAkB,GAAIC,QAAuB,IAAI;IAAA;IAAA/B,cAAA,GAAAkB,CAAA;IACrD,MAAMc,SAAS;IAAA;IAAA,CAAAhC,cAAA,GAAAE,CAAA,QAAG6B,QAAQ,CACvBE,GAAG,CAAEJ,OAAO,IAAI;MAAA;MAAA7B,cAAA,GAAAkB,CAAA;MACf,MAAMgB,KAAK;MAAA;MAAA,CAAAlC,cAAA,GAAAE,CAAA,QAAG,IAAAK,UAAA,CAAA4B,QAAQ,EAACN,OAAO,CAACO,SAAS,CAAC;MACzC,MAAMC,GAAG;MAAA;MAAA,CAAArC,cAAA,GAAAE,CAAA,QAAG,IAAAK,UAAA,CAAA4B,QAAQ,EAACN,OAAO,CAACS,OAAO,CAAC;MAAC;MAAAtC,cAAA,GAAAE,CAAA;MACtC,MAAMqC,UAAU,GAAIC,IAAU,IAAK;QAAA;QAAAxC,cAAA,GAAAkB,CAAA;QAAAlB,cAAA,GAAAE,CAAA;QAAA,WAAAK,UAAA,CAAAkC,MAAM,EAACD,IAAI,EAAE,sBAAsB,CAAC;MAAD,CAAC;MAAC;MAAAxC,cAAA,GAAAE,CAAA;MAExE,OAAO,CACL,cAAc,EACd,OAAO2B,OAAO,CAACa,EAAE,oBAAoB,EACrC,WAAWH,UAAU,CAACL,KAAK,CAAC,EAAE,EAC9B,SAASK,UAAU,CAACF,GAAG,CAAC,EAAE,EAC1B,WAAWR,OAAO,CAACc,SAAS,MAAMd,OAAO,CAACe,YAAY,EAAE,EACxD,YAAYf,OAAO,CAACe,YAAY,EAAE,EAClC,yCAAyC,EACzC,kBAAkB,EAClB,YAAY,CACb,CAACC,IAAI,CAAC,IAAI,CAAC;IACd,CAAC,CAAC,CACDA,IAAI,CAAC,IAAI,CAAC;IAAC;IAAA7C,cAAA,GAAAE,CAAA;IAEd,OAAO,CACL,iBAAiB,EACjB,aAAa,EACb,qDAAqD,EACrD,oBAAoB,EACpB8B,SAAS,EACT,eAAe,CAChB,CAACa,IAAI,CAAC,IAAI,CAAC;EACd,CAAC;EAAC;EAAA7C,cAAA,GAAAE,CAAA;EAEF,MAAM4C,gBAAgB,GAAG,MAAAA,CAAA,KAAW;IAAA;IAAA9C,cAAA,GAAAkB,CAAA;IAAAlB,cAAA,GAAAE,CAAA;IAClC,IAAI;MACF,MAAM6C,SAAS;MAAA;MAAA,CAAA/C,cAAA,GAAAE,CAAA,QAAG,IAAI8C,IAAI,EAAE;MAAC;MAAAhD,cAAA,GAAAE,CAAA;MAC7B6C,SAAS,CAACE,QAAQ,CAACF,SAAS,CAACG,QAAQ,EAAE,GAAG,CAAC,CAAC;MAC5C,MAAMC,OAAO;MAAA;MAAA,CAAAnD,cAAA,GAAAE,CAAA,QAAG,IAAI8C,IAAI,EAAE;MAAC;MAAAhD,cAAA,GAAAE,CAAA;MAC3BiD,OAAO,CAACF,QAAQ,CAACE,OAAO,CAACD,QAAQ,EAAE,GAAG,CAAC,CAAC;MAExC,MAAME,MAAM;MAAA;MAAA,CAAApD,cAAA,GAAAE,CAAA,QAAG,IAAImD,eAAe,CAAC;QACjCC,UAAU,EAAEP,SAAS,CAACQ,WAAW,EAAE;QACnCC,QAAQ,EAAEL,OAAO,CAACI,WAAW,EAAE;QAC/BE,IAAI,EAAE;OACP,CAAC;MAEF,MAAMC,QAAQ;MAAA;MAAA,CAAA1D,cAAA,GAAAE,CAAA,QAAG,MAAM,IAAAa,aAAA,CAAA4C,UAAU,EAAC,KAAK,EAAE,oCAAoCP,MAAM,EAAE,CAAC;MACtF,MAAMQ,IAAI;MAAA;MAAA,CAAA5D,cAAA,GAAAE,CAAA,QAAqB,MAAMwD,QAAQ,CAACG,IAAI,EAAE;MACpD,MAAMC,UAAU;MAAA;MAAA,CAAA9D,cAAA,GAAAE,CAAA,QAAG4B,kBAAkB,CAAC8B,IAAI,CAACG,QAAQ,CAAChC,QAAQ,CAAC;MAE7D,MAAMiC,IAAI;MAAA;MAAA,CAAAhE,cAAA,GAAAE,CAAA,QAAG,IAAI+D,IAAI,CAAC,CAACH,UAAU,CAAC,EAAE;QAAEI,IAAI,EAAE;MAA6B,CAAE,CAAC;MAC5E,MAAMC,GAAG;MAAA;MAAA,CAAAnE,cAAA,GAAAE,CAAA,QAAGkE,MAAM,CAACC,GAAG,CAACC,eAAe,CAACN,IAAI,CAAC;MAC5C,MAAMO,IAAI;MAAA;MAAA,CAAAvE,cAAA,GAAAE,CAAA,QAAGsE,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;MAAC;MAAAzE,cAAA,GAAAE,CAAA;MACzCqE,IAAI,CAACG,IAAI,GAAGP,GAAG;MAAC;MAAAnE,cAAA,GAAAE,CAAA;MAChBqE,IAAI,CAACI,QAAQ,GAAG,oBAAoB,IAAApE,UAAA,CAAAkC,MAAM,EAAC,IAAIO,IAAI,EAAE,EAAE,YAAY,CAAC,MAAM;MAAC;MAAAhD,cAAA,GAAAE,CAAA;MAC3EsE,QAAQ,CAACI,IAAI,CAACC,WAAW,CAACN,IAAI,CAAC;MAAC;MAAAvE,cAAA,GAAAE,CAAA;MAChCqE,IAAI,CAACO,KAAK,EAAE;MAAC;MAAA9E,cAAA,GAAAE,CAAA;MACbsE,QAAQ,CAACI,IAAI,CAACG,WAAW,CAACR,IAAI,CAAC;MAAC;MAAAvE,cAAA,GAAAE,CAAA;MAChCkE,MAAM,CAACC,GAAG,CAACW,eAAe,CAACb,GAAG,CAAC;IACjC,CAAC,CAAC,OAAOc,KAAK,EAAE;MACd;IAAA;EAEJ,CAAC;EAAC;EAAAjF,cAAA,GAAAE,CAAA;EAEF,IAAI,CAACoB,IAAI,EAAE;IAAA;IAAAtB,cAAA,GAAAkF,CAAA;IAAAlF,cAAA,GAAAE,CAAA;IACT,OACE,IAAAiF,aAAA,CAAAC,GAAA,EAAC3E,MAAA,CAAA4E,IAAI;MAAAC,QAAA,EACH,IAAAH,aAAA,CAAAC,GAAA,EAAC3E,MAAA,CAAA8E,WAAW;QAACC,SAAS,EAAC,KAAK;QAAAF,QAAA,EAC1B,IAAAH,aAAA,CAAAC,GAAA;UAAKI,SAAS,EAAC,mCAAmC;UAAAF,QAAA,EAC/ClE,QAAQ,KAAK,IAAI;UAAA;UAAA,CAAApB,cAAA,GAAAkF,CAAA,UAAG,mBAAmB;UAAA;UAAA,CAAAlF,cAAA,GAAAkF,CAAA,UAAG,gBAAgB;QAAA;MACvD;IACM,EACT;EAEX,CAAC;EAAA;EAAA;IAAAlF,cAAA,GAAAkF,CAAA;EAAA;EAAAlF,cAAA,GAAAE,CAAA;EAED,OACE,IAAAiF,aAAA,CAAAM,IAAA;IAAKD,SAAS,EAAC,WAAW;IAAA,eAAa,yBAAyB;IAAAF,QAAA,GAE9D,IAAAH,aAAA,CAAAM,IAAA;MAAKD,SAAS,EAAC,mCAAmC;MAAAF,QAAA,GAChD,IAAAH,aAAA,CAAAM,IAAA;QAAAH,QAAA,GACE,IAAAH,aAAA,CAAAM,IAAA;UAAID,SAAS,EAAC,4CAA4C;UAAAF,QAAA,GACxD,IAAAH,aAAA,CAAAC,GAAA,EAACvE,cAAA,CAAA6E,QAAY;YAACF,SAAS,EAAC;UAAS,EAAG,EACnCpE,QAAQ,KAAK,IAAI;UAAA;UAAA,CAAApB,cAAA,GAAAkF,CAAA,UAAG,gBAAgB;UAAA;UAAA,CAAAlF,cAAA,GAAAkF,CAAA,UAAG,aAAa;QAAA,EAClD,EACL,IAAAC,aAAA,CAAAC,GAAA;UAAGI,SAAS,EAAC,uBAAuB;UAAAF,QAAA,EACjClE,QAAQ,KAAK,IAAI;UAAA;UAAA,CAAApB,cAAA,GAAAkF,CAAA,UACd,uDAAuD;UAAA;UAAA,CAAAlF,cAAA,GAAAkF,CAAA,UACvD,4CAA4C;QAAA,EAC9C;MAAA,EACA,EAEN,IAAAC,aAAA,CAAAC,GAAA;QAAKI,SAAS,EAAC,yBAAyB;QAAAF,QAAA,EACtC,IAAAH,aAAA,CAAAM,IAAA,EAAC9E,QAAA,CAAAgF,MAAM;UACLC,OAAO,EAAC,SAAS;UACjBC,OAAO,EAAE/C,gBAAgB;UACzB0C,SAAS,EAAC,yBAAyB;UAAA,eACvB,uBAAuB;UAAAF,QAAA,GAEnC,IAAAH,aAAA,CAAAC,GAAA,EAACvE,cAAA,CAAAiF,QAAQ;YAACN,SAAS,EAAC;UAAS,EAAG,EAC/BpE,QAAQ,KAAK,IAAI;UAAA;UAAA,CAAApB,cAAA,GAAAkF,CAAA,UAAG,oBAAoB;UAAA;UAAA,CAAAlF,cAAA,GAAAkF,CAAA,UAAG,iBAAiB;QAAA;MACtD,EACL;IAAA,EACF,EAGN,IAAAC,aAAA,CAAAC,GAAA,EAACtE,eAAA,CAAAiF,YAAY;MACXC,IAAI,EAAC,MAAM;MACXC,YAAY,EAAEtE,gBAAgB;MAC9BuE,YAAY,EAAE,IAAI;MAClBV,SAAS,EAAC;IAAY,EACtB;IAGD;IAAA,CAAAxF,cAAA,GAAAkF,CAAA,UAAA1D,eAAe;IAAA;IAAA,CAAAxB,cAAA,GAAAkF,CAAA,UACd,IAAAC,aAAA,CAAAM,IAAA,EAAChF,MAAA,CAAA4E,IAAI;MAAA,eAAa,0BAA0B;MAAAC,QAAA,GAC1C,IAAAH,aAAA,CAAAC,GAAA,EAAC3E,MAAA,CAAA0F,UAAU;QAAAb,QAAA,EACT,IAAAH,aAAA,CAAAM,IAAA,EAAChF,MAAA,CAAA2F,SAAS;UAACZ,SAAS,EAAC,yBAAyB;UAAAF,QAAA,GAC5C,IAAAH,aAAA,CAAAC,GAAA,EAACvE,cAAA,CAAAwF,IAAI;YAACb,SAAS,EAAC;UAAS,EAAG,EAC3BpE,QAAQ,KAAK,IAAI;UAAA;UAAA,CAAApB,cAAA,GAAAkF,CAAA,UAAG,2BAA2B;UAAA;UAAA,CAAAlF,cAAA,GAAAkF,CAAA,UAAG,iBAAiB;QAAA;MAC1D,EACD,EACb,IAAAC,aAAA,CAAAM,IAAA,EAAChF,MAAA,CAAA8E,WAAW;QAACC,SAAS,EAAC,WAAW;QAAAF,QAAA,GAChC,IAAAH,aAAA,CAAAM,IAAA;UAAKD,SAAS,EAAC,uCAAuC;UAAAF,QAAA,GACpD,IAAAH,aAAA,CAAAM,IAAA;YAAKD,SAAS,EAAC,WAAW;YAAAF,QAAA,GACxB,IAAAH,aAAA,CAAAM,IAAA;cAAKD,SAAS,EAAC,yBAAyB;cAAAF,QAAA,GACtC,IAAAH,aAAA,CAAAC,GAAA,EAACvE,cAAA,CAAAyF,SAAS;gBAACd,SAAS,EAAC;cAA+B,EAAG,EACvD,IAAAL,aAAA,CAAAC,GAAA;gBAAMI,SAAS,EAAC,aAAa;gBAAAF,QAAA,EAAE9D,eAAe,CAACmB;cAAS,EAAQ;YAAA,EAC5D,EACN,IAAAwC,aAAA,CAAAM,IAAA;cAAKD,SAAS,EAAC,yBAAyB;cAAAF,QAAA,GACtC,IAAAH,aAAA,CAAAC,GAAA,EAACvE,cAAA,CAAA0F,MAAM;gBAACf,SAAS,EAAC;cAA+B,EAAG,EACpD,IAAAL,aAAA,CAAAC,GAAA;gBAAMI,SAAS,EAAC,+BAA+B;gBAAAF,QAAA,EAC5C9D,eAAe,CAACoB;cAAY,EACxB;YAAA,EACH;UAAA,EACF,EAEN,IAAAuC,aAAA,CAAAM,IAAA;YAAKD,SAAS,EAAC,WAAW;YAAAF,QAAA,GACxB,IAAAH,aAAA,CAAAM,IAAA;cAAKD,SAAS,EAAC,yBAAyB;cAAAF,QAAA,GACtC,IAAAH,aAAA,CAAAC,GAAA,EAACvE,cAAA,CAAA2F,KAAK;gBAAChB,SAAS,EAAC;cAA+B,EAAG,EACnD,IAAAL,aAAA,CAAAC,GAAA;gBAAMI,SAAS,EAAC,SAAS;gBAAAF,QAAA,EACtB,IAAA/E,UAAA,CAAAkC,MAAM,EAAC,IAAAlC,UAAA,CAAA4B,QAAQ,EAACX,eAAe,CAACY,SAAS,CAAC,EAAE,YAAY,EAAE;kBACzDqE,MAAM,EAAErF,QAAQ,KAAK,IAAI;kBAAA;kBAAA,CAAApB,cAAA,GAAAkF,CAAA,UAAG1E,QAAA,CAAAkG,EAAE;kBAAA;kBAAA,CAAA1G,cAAA,GAAAkF,CAAA,UAAGyB,SAAS;iBAC3C;cAAC,EACG;YAAA,EACH,EACN,IAAAxB,aAAA,CAAAC,GAAA;cAAKI,SAAS,EAAC,uDAAuD;cAAAF,QAAA,EACpE,IAAAH,aAAA,CAAAM,IAAA;gBAAAH,QAAA,GACG,IAAA/E,UAAA,CAAAkC,MAAM,EAAC,IAAAlC,UAAA,CAAA4B,QAAQ,EAACX,eAAe,CAACY,SAAS,CAAC,EAAE,OAAO,EAAE;kBACpDqE,MAAM,EAAErF,QAAQ,KAAK,IAAI;kBAAA;kBAAA,CAAApB,cAAA,GAAAkF,CAAA,UAAG1E,QAAA,CAAAkG,EAAE;kBAAA;kBAAA,CAAA1G,cAAA,GAAAkF,CAAA,UAAGyB,SAAS;iBAC3C,CAAC,EAAE,GAAG,OAEN,IAAApG,UAAA,CAAAkC,MAAM,EAAC,IAAAlC,UAAA,CAAA4B,QAAQ,EAACX,eAAe,CAACc,OAAO,CAAC,EAAE,OAAO,EAAE;kBAClDmE,MAAM,EAAErF,QAAQ,KAAK,IAAI;kBAAA;kBAAA,CAAApB,cAAA,GAAAkF,CAAA,UAAG1E,QAAA,CAAAkG,EAAE;kBAAA;kBAAA,CAAA1G,cAAA,GAAAkF,CAAA,UAAGyB,SAAS;iBAC3C,CAAC;cAAA;YACG,EACH;UAAA,EACF;QAAA,EACF,EAEN,IAAAxB,aAAA,CAAAC,GAAA,EAACxE,WAAA,CAAAgG,SAAS,KAAG,EAEb,IAAAzB,aAAA,CAAAM,IAAA;UAAKD,SAAS,EAAC,mCAAmC;UAAAF,QAAA,GAChD,IAAAH,aAAA,CAAAC,GAAA,EAAC1E,OAAA,CAAAmG,KAAK;YACJjB,OAAO,EAAEpE,eAAe,CAACsF,MAAM,KAAK,WAAW;YAAA;YAAA,CAAA9G,cAAA,GAAAkF,CAAA,WAAG,SAAS;YAAA;YAAA,CAAAlF,cAAA,GAAAkF,CAAA,WAAG,WAAW;YAAA,eAC7D,sBAAsB;YAAAI,QAAA,EAEjC9D,eAAe,CAACsF,MAAM,KAAK,WAAW;YAAA;YAAA,CAAA9G,cAAA,GAAAkF,CAAA,WACnC9D,QAAQ,KAAK,IAAI;YAAA;YAAA,CAAApB,cAAA,GAAAkF,CAAA,WACf,UAAU;YAAA;YAAA,CAAAlF,cAAA,GAAAkF,CAAA,WACV,WAAW;YAAA;YAAA,CAAAlF,cAAA,GAAAkF,CAAA,WACb9D,QAAQ,KAAK,IAAI;YAAA;YAAA,CAAApB,cAAA,GAAAkF,CAAA,WACf,QAAQ;YAAA;YAAA,CAAAlF,cAAA,GAAAkF,CAAA,WACR,WAAW;UAAA,EACX,EAER,IAAAC,aAAA,CAAAC,GAAA,EAACzE,QAAA,CAAAgF,MAAM;YACLC,OAAO,EAAC,SAAS;YACjBmB,IAAI,EAAC,IAAI;YACTlB,OAAO,EAAEA,CAAA,KAAM;cAAA;cAAA7F,cAAA,GAAAkB,CAAA;cAAAlB,cAAA,GAAAE,CAAA;cAAA,OAAAuB,kBAAkB,CAAC,IAAI,CAAC;YAAD,CAAC;YAAA,eAC3B,mBAAmB;YAAA6D,QAAA,EAE9BlE,QAAQ,KAAK,IAAI;YAAA;YAAA,CAAApB,cAAA,GAAAkF,CAAA,WAAG,QAAQ;YAAA;YAAA,CAAAlF,cAAA,GAAAkF,CAAA,WAAG,OAAO;UAAA,EAChC;QAAA,EACL;MAAA,EACM;IAAA,EACT,CACR;EAAA,EACG;AAEV","ignoreList":[]}