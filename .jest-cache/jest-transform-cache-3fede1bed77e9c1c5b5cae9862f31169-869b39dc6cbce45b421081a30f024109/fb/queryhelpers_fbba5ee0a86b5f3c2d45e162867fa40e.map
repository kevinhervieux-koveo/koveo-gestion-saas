{"file":"/home/runner/workspace/node_modules/@testing-library/dom/dist/query-helpers.js","mappings":"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","names":[],"sources":["/home/runner/workspace/node_modules/@testing-library/dom/dist/query-helpers.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.buildQueries = buildQueries;\nexports.getElementError = getElementError;\nexports.getMultipleElementsFoundError = getMultipleElementsFoundError;\nexports.makeFindQuery = makeFindQuery;\nexports.makeGetAllQuery = makeGetAllQuery;\nexports.makeSingleQuery = makeSingleQuery;\nexports.queryAllByAttribute = queryAllByAttribute;\nexports.queryByAttribute = queryByAttribute;\nexports.wrapSingleQueryWithSuggestion = exports.wrapAllByQueryWithSuggestion = void 0;\nvar _suggestions = require(\"./suggestions\");\nvar _matches = require(\"./matches\");\nvar _waitFor = require(\"./wait-for\");\nvar _config = require(\"./config\");\nfunction getElementError(message, container) {\n  return (0, _config.getConfig)().getElementError(message, container);\n}\nfunction getMultipleElementsFoundError(message, container) {\n  return getElementError(`${message}\\n\\n(If this is intentional, then use the \\`*AllBy*\\` variant of the query (like \\`queryAllByText\\`, \\`getAllByText\\`, or \\`findAllByText\\`)).`, container);\n}\nfunction queryAllByAttribute(attribute, container, text, {\n  exact = true,\n  collapseWhitespace,\n  trim,\n  normalizer\n} = {}) {\n  const matcher = exact ? _matches.matches : _matches.fuzzyMatches;\n  const matchNormalizer = (0, _matches.makeNormalizer)({\n    collapseWhitespace,\n    trim,\n    normalizer\n  });\n  return Array.from(container.querySelectorAll(`[${attribute}]`)).filter(node => matcher(node.getAttribute(attribute), node, text, matchNormalizer));\n}\nfunction queryByAttribute(attribute, container, text, options) {\n  const els = queryAllByAttribute(attribute, container, text, options);\n  if (els.length > 1) {\n    throw getMultipleElementsFoundError(`Found multiple elements by [${attribute}=${text}]`, container);\n  }\n  return els[0] || null;\n}\n\n// this accepts a query function and returns a function which throws an error\n// if more than one elements is returned, otherwise it returns the first\n// element or null\nfunction makeSingleQuery(allQuery, getMultipleError) {\n  return (container, ...args) => {\n    const els = allQuery(container, ...args);\n    if (els.length > 1) {\n      const elementStrings = els.map(element => getElementError(null, element).message).join('\\n\\n');\n      throw getMultipleElementsFoundError(`${getMultipleError(container, ...args)}\n\nHere are the matching elements:\n\n${elementStrings}`, container);\n    }\n    return els[0] || null;\n  };\n}\nfunction getSuggestionError(suggestion, container) {\n  return (0, _config.getConfig)().getElementError(`A better query is available, try this:\n${suggestion.toString()}\n`, container);\n}\n\n// this accepts a query function and returns a function which throws an error\n// if an empty list of elements is returned\nfunction makeGetAllQuery(allQuery, getMissingError) {\n  return (container, ...args) => {\n    const els = allQuery(container, ...args);\n    if (!els.length) {\n      throw (0, _config.getConfig)().getElementError(getMissingError(container, ...args), container);\n    }\n    return els;\n  };\n}\n\n// this accepts a getter query function and returns a function which calls\n// waitFor and passing a function which invokes the getter.\nfunction makeFindQuery(getter) {\n  return (container, text, options, waitForOptions) => {\n    return (0, _waitFor.waitFor)(() => {\n      return getter(container, text, options);\n    }, {\n      container,\n      ...waitForOptions\n    });\n  };\n}\nconst wrapSingleQueryWithSuggestion = (query, queryAllByName, variant) => (container, ...args) => {\n  const element = query(container, ...args);\n  const [{\n    suggest = (0, _config.getConfig)().throwSuggestions\n  } = {}] = args.slice(-1);\n  if (element && suggest) {\n    const suggestion = (0, _suggestions.getSuggestedQuery)(element, variant);\n    if (suggestion && !queryAllByName.endsWith(suggestion.queryName)) {\n      throw getSuggestionError(suggestion.toString(), container);\n    }\n  }\n  return element;\n};\nexports.wrapSingleQueryWithSuggestion = wrapSingleQueryWithSuggestion;\nconst wrapAllByQueryWithSuggestion = (query, queryAllByName, variant) => (container, ...args) => {\n  const els = query(container, ...args);\n  const [{\n    suggest = (0, _config.getConfig)().throwSuggestions\n  } = {}] = args.slice(-1);\n  if (els.length && suggest) {\n    // get a unique list of all suggestion messages.  We are only going to make a suggestion if\n    // all the suggestions are the same\n    const uniqueSuggestionMessages = [...new Set(els.map(element => (0, _suggestions.getSuggestedQuery)(element, variant)?.toString()))];\n    if (\n    // only want to suggest if all the els have the same suggestion.\n    uniqueSuggestionMessages.length === 1 && !queryAllByName.endsWith(\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- TODO: Can this be null at runtime?\n    (0, _suggestions.getSuggestedQuery)(els[0], variant).queryName)) {\n      throw getSuggestionError(uniqueSuggestionMessages[0], container);\n    }\n  }\n  return els;\n};\n\n// TODO: This deviates from the published declarations\n// However, the implementation always required a dyadic (after `container`) not variadic `queryAllBy` considering the implementation of `makeFindQuery`\n// This is at least statically true and can be verified by accepting `QueryMethod<Arguments, HTMLElement[]>`\nexports.wrapAllByQueryWithSuggestion = wrapAllByQueryWithSuggestion;\nfunction buildQueries(queryAllBy, getMultipleError, getMissingError) {\n  const queryBy = wrapSingleQueryWithSuggestion(makeSingleQuery(queryAllBy, getMultipleError), queryAllBy.name, 'query');\n  const getAllBy = makeGetAllQuery(queryAllBy, getMissingError);\n  const getBy = makeSingleQuery(getAllBy, getMultipleError);\n  const getByWithSuggestions = wrapSingleQueryWithSuggestion(getBy, queryAllBy.name, 'get');\n  const getAllWithSuggestions = wrapAllByQueryWithSuggestion(getAllBy, queryAllBy.name.replace('query', 'get'), 'getAll');\n  const findAllBy = makeFindQuery(wrapAllByQueryWithSuggestion(getAllBy, queryAllBy.name, 'findAll'));\n  const findBy = makeFindQuery(wrapSingleQueryWithSuggestion(getBy, queryAllBy.name, 'find'));\n  return [queryBy, getAllWithSuggestions, getByWithSuggestions, findAllBy, findBy];\n}"],"version":3}