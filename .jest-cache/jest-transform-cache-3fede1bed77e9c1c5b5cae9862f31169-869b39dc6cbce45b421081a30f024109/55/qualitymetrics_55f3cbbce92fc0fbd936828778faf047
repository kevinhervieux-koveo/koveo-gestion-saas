3794b68999b5c060cbeef508a14f84ee
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.QualityMetrics = QualityMetrics;
const jsx_runtime_1 = require("react/jsx-runtime");
const card_1 = require("@/components/ui/card");
const lucide_react_1 = require("lucide-react");
const use_language_1 = require("@/hooks/use-language");
const react_query_1 = require("@tanstack/react-query");
const skeleton_1 = require("@/components/ui/skeleton");
/**
 * Quality metrics component that displays comprehensive development quality indicators
 * including code coverage, complexity, performance metrics, and compliance scores.
 * @returns JSX element displaying the quality metrics dashboard.
 */
/**
 * QualityMetrics function.
 * @returns Function result.
 */
function QualityMetrics() {
    const { t } = (0, use_language_1.useLanguage)();
    const { data: metricsData, isLoading } = (0, react_query_1.useQuery)({
        queryKey: ['/api/quality-metrics'],
        staleTime: 5 * 60 * 1000, // 5 minutes
        refetchInterval: 5 * 60 * 1000, // Refetch every 5 minutes
    });
    const getColorByValue = (label, _value) => {
        if (label === t('codeCoverage')) {
            const coverage = parseInt(_value);
            if (coverage >= 80) {
                return { bg: 'bg-green-50', text: 'text-green-600' };
            }
            if (coverage >= 60) {
                return { bg: 'bg-yellow-50', text: 'text-yellow-600' };
            }
            return { bg: 'bg-red-50', text: 'text-red-600' };
        }
        if (label === t('translationCoverage')) {
            const coverage = parseInt(_value);
            if (coverage >= 95) {
                return { bg: 'bg-green-50', text: 'text-green-600' };
            }
            if (coverage >= 80) {
                return { bg: 'bg-blue-50', text: 'text-blue-600' };
            }
            if (coverage >= 60) {
                return { bg: 'bg-yellow-50', text: 'text-yellow-600' };
            }
            return { bg: 'bg-red-50', text: 'text-red-600' };
        }
        if (label === t('codeQuality')) {
            if (['A+', 'A'].includes(_value)) {
                return { bg: 'bg-green-50', text: 'text-green-600' };
            }
            if (['B+', 'B'].includes(_value)) {
                return { bg: 'bg-blue-50', text: 'text-blue-600' };
            }
            return { bg: 'bg-yellow-50', text: 'text-yellow-600' };
        }
        if (label === t('securityIssues')) {
            const issues = parseInt(_value);
            if (issues === 0) {
                return { bg: 'bg-green-50', text: 'text-green-600' };
            }
            if (issues <= 5) {
                return { bg: 'bg-yellow-50', text: 'text-yellow-600' };
            }
            return { bg: 'bg-red-50', text: 'text-red-600' };
        }
        // Performance metrics color coding with null safety
        if (label === t('responseTime')) {
            const timeMs = parseInt((_value || '0ms').replace('ms', ''));
            if (timeMs <= 100) {
                return { bg: 'bg-green-50', text: 'text-green-600' };
            }
            if (timeMs <= 200) {
                return { bg: 'bg-yellow-50', text: 'text-yellow-600' };
            }
            return { bg: 'bg-red-50', text: 'text-red-600' };
        }
        if (label === t('memoryUsage')) {
            const memoryMB = parseInt((_value || '0MB').replace('MB', ''));
            if (memoryMB <= 50) {
                return { bg: 'bg-green-50', text: 'text-green-600' };
            }
            if (memoryMB <= 100) {
                return { bg: 'bg-yellow-50', text: 'text-yellow-600' };
            }
            return { bg: 'bg-red-50', text: 'text-red-600' };
        }
        if (label === t('bundleSize')) {
            const sizeMB = parseFloat((_value || '0MB').replace('MB', ''));
            if (sizeMB <= 2) {
                return { bg: 'bg-green-50', text: 'text-green-600' };
            }
            if (sizeMB <= 5) {
                return { bg: 'bg-yellow-50', text: 'text-yellow-600' };
            }
            return { bg: 'bg-red-50', text: 'text-red-600' };
        }
        if (label === t('dbQueryTime')) {
            const queryMs = parseInt((_value || '0ms').replace('ms', ''));
            if (queryMs <= 50) {
                return { bg: 'bg-green-50', text: 'text-green-600' };
            }
            if (queryMs <= 100) {
                return { bg: 'bg-yellow-50', text: 'text-yellow-600' };
            }
            return { bg: 'bg-red-50', text: 'text-red-600' };
        }
        if (label === t('pageLoadTime')) {
            const loadMs = parseInt((_value || '0ms').replace('ms', ''));
            if (loadMs <= 1000) {
                return { bg: 'bg-green-50', text: 'text-green-600' };
            }
            if (loadMs <= 2000) {
                return { bg: 'bg-yellow-50', text: 'text-yellow-600' };
            }
            return { bg: 'bg-red-50', text: 'text-red-600' };
        }
        return { bg: 'bg-orange-50', text: 'text-orange-600' };
    };
    const metrics = metricsData
        ? [
            {
                _value: metricsData.coverage,
                label: t('codeCoverage'),
                ...getColorByValue(t('codeCoverage'), metricsData.coverage),
            },
            {
                _value: metricsData.codeQuality,
                label: t('codeQuality'),
                ...getColorByValue(t('codeQuality'), metricsData.codeQuality),
            },
            {
                _value: metricsData.securityIssues,
                label: t('securityIssues'),
                ...getColorByValue(t('securityIssues'), metricsData.securityIssues),
            },
            {
                _value: metricsData.buildTime,
                label: t('buildTime'),
                ...getColorByValue(t('buildTime'), metricsData.buildTime),
            },
            {
                _value: metricsData.translationCoverage,
                label: t('translationCoverage'),
                ...getColorByValue(t('translationCoverage'), metricsData.translationCoverage),
            },
            // Performance metrics with null safety
            {
                _value: metricsData.responseTime || 'N/A',
                label: t('responseTime'),
                ...getColorByValue(t('responseTime'), metricsData.responseTime || '0ms'),
            },
            {
                _value: metricsData.memoryUsage || 'N/A',
                label: t('memoryUsage'),
                ...getColorByValue(t('memoryUsage'), metricsData.memoryUsage || '0MB'),
            },
            {
                _value: metricsData.bundleSize || 'N/A',
                label: t('bundleSize'),
                ...getColorByValue(t('bundleSize'), metricsData.bundleSize || '0MB'),
            },
            {
                _value: metricsData.dbQueryTime || 'N/A',
                label: t('dbQueryTime'),
                ...getColorByValue(t('dbQueryTime'), metricsData.dbQueryTime || '0ms'),
            },
            {
                _value: metricsData.pageLoadTime || 'N/A',
                label: t('pageLoadTime'),
                ...getColorByValue(t('pageLoadTime'), metricsData.pageLoadTime || '0ms'),
            },
        ]
        : [];
    return ((0, jsx_runtime_1.jsx)(card_1.Card, { children: (0, jsx_runtime_1.jsxs)(card_1.CardContent, { className: 'p-6', children: [(0, jsx_runtime_1.jsxs)("h3", { className: 'text-lg font-semibold text-gray-900 mb-4 flex items-center', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.TrendingUp, { className: 'text-koveo-navy mr-3', size: 20 }), t('qualityMetrics')] }), (0, jsx_runtime_1.jsx)("div", { className: 'grid grid-cols-2 lg:grid-cols-5 xl:grid-cols-10 gap-4', children: isLoading
                        ? // Loading skeleton
                            Array.from({ length: 10 }).map((_, _index) => ((0, jsx_runtime_1.jsxs)("div", { className: 'text-center p-4 bg-gray-50 rounded-lg', children: [(0, jsx_runtime_1.jsx)(skeleton_1.Skeleton, { className: 'h-8 w-16 mx-auto mb-2' }), (0, jsx_runtime_1.jsx)(skeleton_1.Skeleton, { className: 'h-4 w-20 mx-auto' })] }, `skeleton-${_index}`)))
                        : metrics.map((metric) => ((0, jsx_runtime_1.jsxs)("div", { className: `text-center p-4 ${metric.bg} rounded-lg`, children: [(0, jsx_runtime_1.jsx)("div", { className: `text-2xl font-bold ${metric.text}`, children: metric._value }), (0, jsx_runtime_1.jsx)("div", { className: 'text-sm text-gray-600', children: metric.label })] }, metric.label))) })] }) }));
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9jbGllbnQvc3JjL2NvbXBvbmVudHMvZGFzaGJvYXJkL3F1YWxpdHktbWV0cmljcy50c3giLCJtYXBwaW5ncyI6Ijs7QUFnQ0Esd0NBc01DOztBQXRPRCwrQ0FBeUQ7QUFDekQsK0NBQTBDO0FBQzFDLHVEQUFtRDtBQUNuRCx1REFBaUQ7QUFDakQsdURBQW9EO0FBbUJwRDs7OztHQUlHO0FBQ0g7OztHQUdHO0FBQ0gsU0FBZ0IsY0FBYztJQUM1QixNQUFNLEVBQUUsQ0FBQyxFQUFFLEdBQUcsSUFBQSwwQkFBVyxHQUFFLENBQUM7SUFFNUIsTUFBTSxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUUsU0FBUyxFQUFFLEdBQUcsSUFBQSxzQkFBUSxFQUFxQjtRQUNwRSxRQUFRLEVBQUUsQ0FBQyxzQkFBc0IsQ0FBQztRQUNsQyxTQUFTLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxJQUFJLEVBQUUsWUFBWTtRQUN0QyxlQUFlLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxJQUFJLEVBQUUsMEJBQTBCO0tBQzNELENBQUMsQ0FBQztJQUVILE1BQU0sZUFBZSxHQUFHLENBQUMsS0FBYSxFQUFFLE1BQWMsRUFBRSxFQUFFO1FBQ3hELElBQUksS0FBSyxLQUFLLENBQUMsQ0FBQyxjQUFjLENBQUMsRUFBRSxDQUFDO1lBQ2hDLE1BQU0sUUFBUSxHQUFHLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNsQyxJQUFJLFFBQVEsSUFBSSxFQUFFLEVBQUUsQ0FBQztnQkFDbkIsT0FBTyxFQUFFLEVBQUUsRUFBRSxhQUFhLEVBQUUsSUFBSSxFQUFFLGdCQUFnQixFQUFFLENBQUM7WUFDdkQsQ0FBQztZQUNELElBQUksUUFBUSxJQUFJLEVBQUUsRUFBRSxDQUFDO2dCQUNuQixPQUFPLEVBQUUsRUFBRSxFQUFFLGNBQWMsRUFBRSxJQUFJLEVBQUUsaUJBQWlCLEVBQUUsQ0FBQztZQUN6RCxDQUFDO1lBQ0QsT0FBTyxFQUFFLEVBQUUsRUFBRSxXQUFXLEVBQUUsSUFB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QkFBVSxJQUFDLFNBQVMsRUFBQyxzQkFBc0IsRUFBQyxJQUFJLEVBQUUsRUFBRSxHQUFJLEVBQ3hELENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUNqQixFQUVMLGdDQUFLLFNBQVMsRUFBQyx1REFBdUQsWUFDbkUsU0FBUzt3QkFDUixDQUFDLENBQUMsbUJBQW1COzRCQUNuQixLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsTUFBTSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLE1BQU0sRUFBRSxFQUFFLENBQUMsQ0FDNUMsaUNBQWdDLFNBQVMsRUFBQyx1Q0FBdUMsYUFDL0UsdUJBQUMsbUJBQVEsSUFBQyxTQUFTLEVBQUMsdUJBQXVCLEdBQUcsRUFDOUMsdUJBQUMsbUJBQVEsSUFBQyxTQUFTLEVBQUMsa0JBQWtCLEdBQUcsS0FGakMsWUFBWSxNQUFNLEVBQUUsQ0FHeEIsQ0FDUCxDQUFDO3dCQUNKLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQyxDQUN0QixpQ0FBd0IsU0FBUyxFQUFFLG1CQUFtQixNQUFNLENBQUMsRUFBRSxhQUFhLGFBQzFFLGdDQUFLLFNBQVMsRUFBRSxzQkFBc0IsTUFBTSxDQUFDLElBQUksRUFBRSxZQUFHLE1BQU0sQ0FBQyxNQUFNLEdBQU8sRUFDMUUsZ0NBQUssU0FBUyxFQUFDLHVCQUF1QixZQUFFLE1BQU0sQ0FBQyxLQUFLLEdBQU8sS0FGbkQsTUFBTSxDQUFDLEtBQUssQ0FHaEIsQ0FDUCxDQUFDLEdBQ0YsSUFDTSxHQUNULENBQ1IsQ0FBQztBQUNKLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9jbGllbnQvc3JjL2NvbXBvbmVudHMvZGFzaGJvYXJkL3F1YWxpdHktbWV0cmljcy50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2FyZCwgQ2FyZENvbnRlbnQgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvY2FyZCc7XG5pbXBvcnQgeyBUcmVuZGluZ1VwIH0gZnJvbSAnbHVjaWRlLXJlYWN0JztcbmltcG9ydCB7IHVzZUxhbmd1YWdlIH0gZnJvbSAnQC9ob29rcy91c2UtbGFuZ3VhZ2UnO1xuaW1wb3J0IHsgdXNlUXVlcnkgfSBmcm9tICdAdGFuc3RhY2svcmVhY3QtcXVlcnknO1xuaW1wb3J0IHsgU2tlbGV0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvc2tlbGV0b24nO1xuXG4vKipcbiAqIEludGVyZmFjZSBmb3IgcXVhbGl0eSBtZXRyaWNzIGRhdGEgZnJvbSB0aGUgQVBJIGluY2x1ZGluZyBwZXJmb3JtYW5jZSBtZXRyaWNzLlxuICovXG5pbnRlcmZhY2UgUXVhbGl0eU1ldHJpY3NEYXRhIHtcbiAgY292ZXJhZ2U6IHN0cmluZztcbiAgY29kZVF1YWxpdHk6IHN0cmluZztcbiAgc2VjdXJpdHlJc3N1ZXM6IHN0cmluZztcbiAgYnVpbGRUaW1lOiBzdHJpbmc7XG4gIHRyYW5zbGF0aW9uQ292ZXJhZ2U6IHN0cmluZztcbiAgLy8gUGVyZm9ybWFuY2UgbWV0cmljc1xuICByZXNwb25zZVRpbWU6IHN0cmluZztcbiAgbWVtb3J5VXNhZ2U6IHN0cmluZztcbiAgYnVuZGxlU2l6ZTogc3RyaW5nO1xuICBkYlF1ZXJ5VGltZTogc3RyaW5nO1xuICBwYWdlTG9hZFRpbWU6IHN0cmluZztcbn1cblxuLyoqXG4gKiBRdWFsaXR5IG1ldHJpY3MgY29tcG9uZW50IHRoYXQgZGlzcGxheXMgY29tcHJlaGVuc2l2ZSBkZXZlbG9wbWVudCBxdWFsaXR5IGluZGljYXRvcnNcbiAqIGluY2x1ZGluZyBjb2RlIGNvdmVyYWdlLCBjb21wbGV4aXR5LCBwZXJmb3JtYW5jZSBtZXRyaWNzLCBhbmQgY29tcGxpYW5jZSBzY29yZXMuXG4gKiBAcmV0dXJucyBKU1ggZWxlbWVudCBkaXNwbGF5aW5nIHRoZSBxdWFsaXR5IG1ldHJpY3MgZGFzaGJvYXJkLlxuICovXG4vKipcbiAqIFF1YWxpdHlNZXRyaWNzIGZ1bmN0aW9uLlxuICogQHJldHVybnMgRnVuY3Rpb24gcmVzdWx0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gUXVhbGl0eU1ldHJpY3MoKSB7XG4gIGNvbnN0IHsgdCB9ID0gdXNlTGFuZ3VhZ2UoKTtcblxuICBjb25zdCB7IGRhdGE6IG1ldHJpY3NEYXRhLCBpc0xvYWRpbmcgfSA9IHVzZVF1ZXJ5PFF1YWxpdHlNZXRyaWNzRGF0YT4oe1xuICAgIHF1ZXJ5S2V5OiBbJy9hcGkvcXVhbGl0eS1tZXRyaWNzJ10sXG4gICAgc3RhbGVUaW1lOiA1ICogNjAgKiAxMDAwLCAvLyA1IG1pbnV0ZXNcbiAgICByZWZldGNoSW50ZXJ2YWw6IDUgKiA2MCAqIDEwMDAsIC8vIFJlZmV0Y2ggZXZlcnkgNSBtaW51dGVzXG4gIH0pO1xuXG4gIGNvbnN0IGdldENvbG9yQnlWYWx1ZSA9IChsYWJlbDogc3RyaW5nLCBfdmFsdWU6IHN0cmluZykgPT4ge1xuICAgIGlmIChsYWJlbCA9PT0gdCgnY29kZUNvdmVyYWdlJykpIHtcbiAgICAgIGNvbnN0IGNvdmVyYWdlID0gcGFyc2VJbnQoX3ZhbHVlKTtcbiAgICAgIGlmIChjb3ZlcmFnZSA+PSA4MCkge1xuICAgICAgICByZXR1cm4geyBiZzogJ2JnLWdyZWVuLTUwJywgdGV4dDogJ3RleHQtZ3JlZW4tNjAwJyB9O1xuICAgICAgfVxuICAgICAgaWYgKGNvdmVyYWdlID49IDYwKSB7XG4gICAgICAgIHJldHVybiB7IGJnOiAnYmcteWVsbG93LTUwJywgdGV4dDogJ3RleHQteWVsbG93LTYwMCcgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7IGJnOiAnYmctcmVkLTUwJywgdGV4dDogJ3RleHQtcmVkLTYwMCcgfTtcbiAgICB9XG5cbiAgICBpZiAobGFiZWwgPT09IHQoJ3RyYW5zbGF0aW9uQ292ZXJhZ2UnKSkge1xuICAgICAgY29uc3QgY292ZXJhZ2UgPSBwYXJzZUludChfdmFsdWUpO1xuICAgICAgaWYgKGNvdmVyYWdlID49IDk1KSB7XG4gICAgICAgIHJldHVybiB7IGJnOiAnYmctZ3JlZW4tNTAnLCB0ZXh0OiAndGV4dC1ncmVlbi02MDAnIH07XG4gICAgICB9XG4gICAgICBpZiAoY292ZXJhZ2UgPj0gODApIHtcbiAgICAgICAgcmV0dXJuIHsgYmc6ICdiZy1ibHVlLTUwJywgdGV4dDogJ3RleHQtYmx1ZS02MDAnIH07XG4gICAgICB9XG4gICAgICBpZiAoY292ZXJhZ2UgPj0gNjApIHtcbiAgICAgICAgcmV0dXJuIHsgYmc6ICdiZy15ZWxsb3ctNTAnLCB0ZXh0OiAndGV4dC15ZWxsb3ctNjAwJyB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHsgYmc6ICdiZy1yZWQtNTAnLCB0ZXh0OiAndGV4dC1yZWQtNjAwJyB9O1xuICAgIH1cblxuICAgIGlmIChsYWJlbCA9PT0gdCgnY29kZVF1YWxpdHknKSkge1xuICAgICAgaWYgKFsnQSsnLCAnQSddLmluY2x1ZGVzKF92YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHsgYmc6ICdiZy1ncmVlbi01MCcsIHRleHQ6ICd0ZXh0LWdyZWVuLTYwMCcgfTtcbiAgICAgIH1cbiAgICAgIGlmIChbJ0IrJywgJ0InXS5pbmNsdWRlcyhfdmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB7IGJnOiAnYmctYmx1ZS01MCcsIHRleHQ6ICd0ZXh0LWJsdWUtNjAwJyB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHsgYmc6ICdiZy15ZWxsb3ctNTAnLCB0ZXh0OiAndGV4dC15ZWxsb3ctNjAwJyB9O1xuICAgIH1cblxuICAgIGlmIChsYWJlbCA9PT0gdCgnc2VjdXJpdHlJc3N1ZXMnKSkge1xuICAgICAgY29uc3QgaXNzdWVzID0gcGFyc2VJbnQoX3ZhbHVlKTtcbiAgICAgIGlmIChpc3N1ZXMgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHsgYmc6ICdiZy1ncmVlbi01MCcsIHRleHQ6ICd0ZXh0LWdyZWVuLTYwMCcgfTtcbiAgICAgIH1cbiAgICAgIGlmIChpc3N1ZXMgPD0gNSkge1xuICAgICAgICByZXR1cm4geyBiZzogJ2JnLXllbGxvdy01MCcsIHRleHQ6ICd0ZXh0LXllbGxvdy02MDAnIH07XG4gICAgICB9XG4gICAgICByZXR1cm4geyBiZzogJ2JnLXJlZC01MCcsIHRleHQ6ICd0ZXh0LXJlZC02MDAnIH07XG4gICAgfVxuXG4gICAgLy8gUGVyZm9ybWFuY2UgbWV0cmljcyBjb2xvciBjb2Rpbmcgd2l0aCBudWxsIHNhZmV0eVxuICAgIGlmIChsYWJlbCA9PT0gdCgncmVzcG9uc2VUaW1lJykpIHtcbiAgICAgIGNvbnN0IHRpbWVNcyA9IHBhcnNlSW50KChfdmFsdWUgfHwgJzBtcycpLnJlcGxhY2UoJ21zJywgJycpKTtcbiAgICAgIGlmICh0aW1lTXMgPD0gMTAwKSB7XG4gICAgICAgIHJldHVybiB7IGJnOiAnYmctZ3JlZW4tNTAnLCB0ZXh0OiAndGV4dC1ncmVlbi02MDAnIH07XG4gICAgICB9XG4gICAgICBpZiAodGltZU1zIDw9IDIwMCkge1xuICAgICAgICByZXR1cm4geyBiZzogJ2JnLXllbGxvdy01MCcsIHRleHQ6ICd0ZXh0LXllbGxvdy02MDAnIH07XG4gICAgICB9XG4gICAgICByZXR1cm4geyBiZzogJ2JnLXJlZC01MCcsIHRleHQ6ICd0ZXh0LXJlZC02MDAnIH07XG4gICAgfVxuXG4gICAgaWYgKGxhYmVsID09PSB0KCdtZW1vcnlVc2FnZScpKSB7XG4gICAgICBjb25zdCBtZW1vcnlNQiA9IHBhcnNlSW50KChfdmFsdWUgfHwgJzBNQicpLnJlcGxhY2UoJ01CJywgJycpKTtcbiAgICAgIGlmIChtZW1vcnlNQiA8PSA1MCkge1xuICAgICAgICByZXR1cm4geyBiZzogJ2JnLWdyZWVuLTUwJywgdGV4dDogJ3RleHQtZ3JlZW4tNjAwJyB9O1xuICAgICAgfVxuICAgICAgaWYgKG1lbW9yeU1CIDw9IDEwMCkge1xuICAgICAgICByZXR1cm4geyBiZzogJ2JnLXllbGxvdy01MCcsIHRleHQ6ICd0ZXh0LXllbGxvdy02MDAnIH07XG4gICAgICB9XG4gICAgICByZXR1cm4geyBiZzogJ2JnLXJlZC01MCcsIHRleHQ6ICd0ZXh0LXJlZC02MDAnIH07XG4gICAgfVxuXG4gICAgaWYgKGxhYmVsID09PSB0KCdidW5kbGVTaXplJykpIHtcbiAgICAgIGNvbnN0IHNpemVNQiA9IHBhcnNlRmxvYXQoKF92YWx1ZSB8fCAnME1CJykucmVwbGFjZSgnTUInLCAnJykpO1xuICAgICAgaWYgKHNpemVNQiA8PSAyKSB7XG4gICAgICAgIHJldHVybiB7IGJnOiAnYmctZ3JlZW4tNTAnLCB0ZXh0OiAndGV4dC1ncmVlbi02MDAnIH07XG4gICAgICB9XG4gICAgICBpZiAoc2l6ZU1CIDw9IDUpIHtcbiAgICAgICAgcmV0dXJuIHsgYmc6ICdiZy15ZWxsb3ctNTAnLCB0ZXh0OiAndGV4dC15ZWxsb3ctNjAwJyB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHsgYmc6ICdiZy1yZWQtNTAnLCB0ZXh0OiAndGV4dC1yZWQtNjAwJyB9O1xuICAgIH1cblxuICAgIGlmIChsYWJlbCA9PT0gdCgnZGJRdWVyeVRpbWUnKSkge1xuICAgICAgY29uc3QgcXVlcnlNcyA9IHBhcnNlSW50KChfdmFsdWUgfHwgJzBtcycpLnJlcGxhY2UoJ21zJywgJycpKTtcbiAgICAgIGlmIChxdWVyeU1zIDw9IDUwKSB7XG4gICAgICAgIHJldHVybiB7IGJnOiAnYmctZ3JlZW4tNTAnLCB0ZXh0OiAndGV4dC1ncmVlbi02MDAnIH07XG4gICAgICB9XG4gICAgICBpZiAocXVlcnlNcyA8PSAxMDApIHtcbiAgICAgICAgcmV0dXJuIHsgYmc6ICdiZy15ZWxsb3ctNTAnLCB0ZXh0OiAndGV4dC15ZWxsb3ctNjAwJyB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHsgYmc6ICdiZy1yZWQtNTAnLCB0ZXh0OiAndGV4dC1yZWQtNjAwJyB9O1xuICAgIH1cblxuICAgIGlmIChsYWJlbCA9PT0gdCgncGFnZUxvYWRUaW1lJykpIHtcbiAgICAgIGNvbnN0IGxvYWRNcyA9IHBhcnNlSW50KChfdmFsdWUgfHwgJzBtcycpLnJlcGxhY2UoJ21zJywgJycpKTtcbiAgICAgIGlmIChsb2FkTXMgPD0gMTAwMCkge1xuICAgICAgICByZXR1cm4geyBiZzogJ2JnLWdyZWVuLTUwJywgdGV4dDogJ3RleHQtZ3JlZW4tNjAwJyB9O1xuICAgICAgfVxuICAgICAgaWYgKGxvYWRNcyA8PSAyMDAwKSB7XG4gICAgICAgIHJldHVybiB7IGJnOiAnYmcteWVsbG93LTUwJywgdGV4dDogJ3RleHQteWVsbG93LTYwMCcgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7IGJnOiAnYmctcmVkLTUwJywgdGV4dDogJ3RleHQtcmVkLTYwMCcgfTtcbiAgICB9XG5cbiAgICByZXR1cm4geyBiZzogJ2JnLW9yYW5nZS01MCcsIHRleHQ6ICd0ZXh0LW9yYW5nZS02MDAnIH07XG4gIH07XG5cbiAgY29uc3QgbWV0cmljcyA9IG1ldHJpY3NEYXRhXG4gICAgPyBbXG4gICAgICAgIHtcbiAgICAgICAgICBfdmFsdWU6IG1ldHJpY3NEYXRhLmNvdmVyYWdlLFxuICAgICAgICAgIGxhYmVsOiB0KCdjb2RlQ292ZXJhZ2UnKSxcbiAgICAgICAgICAuLi5nZXRDb2xvckJ5VmFsdWUodCgnY29kZUNvdmVyYWdlJyksIG1ldHJpY3NEYXRhLmNvdmVyYWdlKSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIF92YWx1ZTogbWV0cmljc0RhdGEuY29kZVF1YWxpdHksXG4gICAgICAgICAgbGFiZWw6IHQoJ2NvZGVRdWFsaXR5JyksXG4gICAgICAgICAgLi4uZ2V0Q29sb3JCeVZhbHVlKHQoJ2NvZGVRdWFsaXR5JyksIG1ldHJpY3NEYXRhLmNvZGVRdWFsaXR5KSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIF92YWx1ZTogbWV0cmljc0RhdGEuc2VjdXJpdHlJc3N1ZXMsXG4gICAgICAgICAgbGFiZWw6IHQoJ3NlY3VyaXR5SXNzdWVzJyksXG4gICAgICAgICAgLi4uZ2V0Q29sb3JCeVZhbHVlKHQoJ3NlY3VyaXR5SXNzdWVzJyksIG1ldHJpY3NEYXRhLnNlY3VyaXR5SXNzdWVzKSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIF92YWx1ZTogbWV0cmljc0RhdGEuYnVpbGRUaW1lLFxuICAgICAgICAgIGxhYmVsOiB0KCdidWlsZFRpbWUnKSxcbiAgICAgICAgICAuLi5nZXRDb2xvckJ5VmFsdWUodCgnYnVpbGRUaW1lJyksIG1ldHJpY3NEYXRhLmJ1aWxkVGltZSksXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBfdmFsdWU6IG1ldHJpY3NEYXRhLnRyYW5zbGF0aW9uQ292ZXJhZ2UsXG4gICAgICAgICAgbGFiZWw6IHQoJ3RyYW5zbGF0aW9uQ292ZXJhZ2UnKSxcbiAgICAgICAgICAuLi5nZXRDb2xvckJ5VmFsdWUodCgndHJhbnNsYXRpb25Db3ZlcmFnZScpLCBtZXRyaWNzRGF0YS50cmFuc2xhdGlvbkNvdmVyYWdlKSxcbiAgICAgICAgfSxcbiAgICAgICAgLy8gUGVyZm9ybWFuY2UgbWV0cmljcyB3aXRoIG51bGwgc2FmZXR5XG4gICAgICAgIHtcbiAgICAgICAgICBfdmFsdWU6IG1ldHJpY3NEYXRhLnJlc3BvbnNlVGltZSB8fCAnTi9BJyxcbiAgICAgICAgICBsYWJlbDogdCgncmVzcG9uc2VUaW1lJyksXG4gICAgICAgICAgLi4uZ2V0Q29sb3JCeVZhbHVlKHQoJ3Jlc3BvbnNlVGltZScpLCBtZXRyaWNzRGF0YS5yZXNwb25zZVRpbWUgfHwgJzBtcycpLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgX3ZhbHVlOiBtZXRyaWNzRGF0YS5tZW1vcnlVc2FnZSB8fCAnTi9BJyxcbiAgICAgICAgICBsYWJlbDogdCgnbWVtb3J5VXNhZ2UnKSxcbiAgICAgICAgICAuLi5nZXRDb2xvckJ5VmFsdWUodCgnbWVtb3J5VXNhZ2UnKSwgbWV0cmljc0RhdGEubWVtb3J5VXNhZ2UgfHwgJzBNQicpLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgX3ZhbHVlOiBtZXRyaWNzRGF0YS5idW5kbGVTaXplIHx8ICdOL0EnLFxuICAgICAgICAgIGxhYmVsOiB0KCdidW5kbGVTaXplJyksXG4gICAgICAgICAgLi4uZ2V0Q29sb3JCeVZhbHVlKHQoJ2J1bmRsZVNpemUnKSwgbWV0cmljc0RhdGEuYnVuZGxlU2l6ZSB8fCAnME1CJyksXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBfdmFsdWU6IG1ldHJpY3NEYXRhLmRiUXVlcnlUaW1lIHx8ICdOL0EnLFxuICAgICAgICAgIGxhYmVsOiB0KCdkYlF1ZXJ5VGltZScpLFxuICAgICAgICAgIC4uLmdldENvbG9yQnlWYWx1ZSh0KCdkYlF1ZXJ5VGltZScpLCBtZXRyaWNzRGF0YS5kYlF1ZXJ5VGltZSB8fCAnMG1zJyksXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBfdmFsdWU6IG1ldHJpY3NEYXRhLnBhZ2VMb2FkVGltZSB8fCAnTi9BJyxcbiAgICAgICAgICBsYWJlbDogdCgncGFnZUxvYWRUaW1lJyksXG4gICAgICAgICAgLi4uZ2V0Q29sb3JCeVZhbHVlKHQoJ3BhZ2VMb2FkVGltZScpLCBtZXRyaWNzRGF0YS5wYWdlTG9hZFRpbWUgfHwgJzBtcycpLFxuICAgICAgICB9LFxuICAgICAgXVxuICAgIDogW107XG5cbiAgcmV0dXJuIChcbiAgICA8Q2FyZD5cbiAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9J3AtNic+XG4gICAgICAgIDxoMyBjbGFzc05hbWU9J3RleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwIG1iLTQgZmxleCBpdGVtcy1jZW50ZXInPlxuICAgICAgICAgIDxUcmVuZGluZ1VwIGNsYXNzTmFtZT0ndGV4dC1rb3Zlby1uYXZ5IG1yLTMnIHNpemU9ezIwfSAvPlxuICAgICAgICAgIHt0KCdxdWFsaXR5TWV0cmljcycpfVxuICAgICAgICA8L2gzPlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdncmlkIGdyaWQtY29scy0yIGxnOmdyaWQtY29scy01IHhsOmdyaWQtY29scy0xMCBnYXAtNCc+XG4gICAgICAgICAge2lzTG9hZGluZ1xuICAgICAgICAgICAgPyAvLyBMb2FkaW5nIHNrZWxldG9uXG4gICAgICAgICAgICAgIEFycmF5LmZyb20oeyBsZW5ndGg6IDEwIH0pLm1hcCgoXywgX2luZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgPGRpdiBrZXk9e2Bza2VsZXRvbi0ke19pbmRleH1gfSBjbGFzc05hbWU9J3RleHQtY2VudGVyIHAtNCBiZy1ncmF5LTUwIHJvdW5kZWQtbGcnPlxuICAgICAgICAgICAgICAgICAgPFNrZWxldG9uIGNsYXNzTmFtZT0naC04IHctMTYgbXgtYXV0byBtYi0yJyAvPlxuICAgICAgICAgICAgICAgICAgPFNrZWxldG9uIGNsYXNzTmFtZT0naC00IHctMjAgbXgtYXV0bycgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgIDogbWV0cmljcy5tYXAoKG1ldHJpYykgPT4gKFxuICAgICAgICAgICAgICAgIDxkaXYga2V5PXttZXRyaWMubGFiZWx9IGNsYXNzTmFtZT17YHRleHQtY2VudGVyIHAtNCAke21ldHJpYy5iZ30gcm91bmRlZC1sZ2B9PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2B0ZXh0LTJ4bCBmb250LWJvbGQgJHttZXRyaWMudGV4dH1gfT57bWV0cmljLl92YWx1ZX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd0ZXh0LXNtIHRleHQtZ3JheS02MDAnPnttZXRyaWMubGFiZWx9PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgPC9DYXJkPlxuICApO1xufVxuIl0sInZlcnNpb24iOjN9