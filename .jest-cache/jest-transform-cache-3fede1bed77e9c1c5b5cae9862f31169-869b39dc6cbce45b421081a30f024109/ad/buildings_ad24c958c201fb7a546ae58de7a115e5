02bcccb4de110f7ae5d07b888e4b872e
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = Buildings;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("react");
const react_query_1 = require("@tanstack/react-query");
const card_1 = require("@/components/ui/card");
const button_1 = require("@/components/ui/button");
const badge_1 = require("@/components/ui/badge");
const no_data_card_1 = require("@/components/ui/no-data-card");
const input_1 = require("@/components/ui/input");
const select_1 = require("@/components/ui/select");
const dialog_1 = require("@/components/ui/dialog");
const form_1 = require("@/components/ui/form");
const use_toast_1 = require("@/hooks/use-toast");
const use_language_1 = require("@/hooks/use-language");
const react_hook_form_1 = require("react-hook-form");
const zod_1 = require("@hookform/resolvers/zod");
const zod_2 = require("zod");
const queryClient_1 = require("@/lib/queryClient");
const lucide_react_1 = require("lucide-react");
const header_1 = require("@/components/layout/header");
const wouter_1 = require("wouter");
/**
 *
 * @param root0
 * @param root0.building
 * @param root0.userRole
 * @param root0.onEdit
 * @param root0.onDelete
 */
function BuildingCard({ building, userRole, onEdit, onDelete, t }) {
    const isAdmin = userRole === 'admin';
    const canEdit = ['admin', 'manager'].includes(userRole || '');
    return ((0, jsx_runtime_1.jsxs)(card_1.Card, { className: 'h-full', children: [(0, jsx_runtime_1.jsx)(card_1.CardHeader, { children: (0, jsx_runtime_1.jsxs)("div", { className: 'flex items-start justify-between', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center space-x-2', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Building, { className: 'h-5 w-5 text-blue-600' }), (0, jsx_runtime_1.jsx)(card_1.CardTitle, { className: 'text-lg line-clamp-2 break-words', children: building.name })] }), canEdit && ((0, jsx_runtime_1.jsxs)("div", { className: 'flex gap-1', children: [(0, jsx_runtime_1.jsx)(button_1.Button, { size: 'sm', variant: 'ghost', onClick: () => onEdit(building), children: (0, jsx_runtime_1.jsx)(lucide_react_1.Edit, { className: 'h-3 w-3' }) }), isAdmin && ((0, jsx_runtime_1.jsx)(button_1.Button, { size: 'sm', variant: 'ghost', onClick: () => onDelete(building), className: 'text-red-600 hover:text-red-700', children: (0, jsx_runtime_1.jsx)(lucide_react_1.Trash2, { className: 'h-3 w-3' }) }))] }))] }) }), (0, jsx_runtime_1.jsx)(card_1.CardContent, { children: (0, jsx_runtime_1.jsxs)("div", { className: 'space-y-2', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center text-sm text-gray-600', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.MapPin, { className: 'h-4 w-4 mr-2' }), (0, jsx_runtime_1.jsx)("span", { className: 'line-clamp-2 break-words flex-1', children: building.address })] }), (0, jsx_runtime_1.jsx)("div", { className: 'flex items-center text-sm text-gray-600', children: (0, jsx_runtime_1.jsxs)("span", { children: [building.city, ", ", building.province, " ", building.postalCode] }) }), (0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center justify-between pt-2', children: [(0, jsx_runtime_1.jsxs)(badge_1.Badge, { variant: 'outline', children: [building.totalUnits, " ", t('unitsCount')] }), (0, jsx_runtime_1.jsx)(badge_1.Badge, { variant: 'secondary', children: building.buildingType })] }), (0, jsx_runtime_1.jsxs)("div", { className: 'pt-2 flex gap-2', children: [(0, jsx_runtime_1.jsx)(wouter_1.Link, { href: `/manager/buildings/${building.id}/documents`, children: (0, jsx_runtime_1.jsx)(button_1.Button, { size: 'sm', variant: 'outline', className: 'flex-1', children: "Documents" }) }), (0, jsx_runtime_1.jsx)(wouter_1.Link, { href: `/manager/residences?buildingId=${building.id}`, children: (0, jsx_runtime_1.jsx)(button_1.Button, { size: 'sm', variant: 'outline', className: 'flex-1', children: "Residences" }) })] })] }) })] }));
}
/**
 *
 * @param root0
 * @param root0.isOpen
 * @param root0.onOpenChange
 * @param root0.form
 * @param root0.onSubmit
 * @param root0.organizations
 * @param root0.isSubmitting
 * @param root0.title
 * @param root0.submitLabel
 */
function BuildingForm({ isOpen, onOpenChange, form, onSubmit, organizations, isSubmitting, title, submitLabel, t, }) {
    return ((0, jsx_runtime_1.jsx)(dialog_1.Dialog, { open: isOpen, onOpenChange: onOpenChange, children: (0, jsx_runtime_1.jsxs)(dialog_1.DialogContent, { className: 'max-w-2xl', children: [(0, jsx_runtime_1.jsxs)(dialog_1.DialogHeader, { children: [(0, jsx_runtime_1.jsx)(dialog_1.DialogTitle, { children: title }), (0, jsx_runtime_1.jsx)(dialog_1.DialogDescription, { children: t('fillBuildingInfo') })] }), (0, jsx_runtime_1.jsx)(form_1.Form, { ...form, children: (0, jsx_runtime_1.jsxs)("form", { onSubmit: form.handleSubmit(onSubmit), className: 'space-y-4', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'grid grid-cols-1 md:grid-cols-2 gap-4', children: [(0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'name', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { className: 'md:col-span-2', children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: t('buildingName') }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(input_1.Input, { placeholder: t('enterBuildingName'), ...field }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'address', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { className: 'md:col-span-2', children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: t('buildingAddress') }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(input_1.Input, { placeholder: t('enterStreetAddress'), ...field }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'city', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: t('buildingCity') }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(input_1.Input, { placeholder: t('enterCity'), ...field }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'province', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: t('buildingProvince') }), (0, jsx_runtime_1.jsxs)(select_1.Select, { onValueChange: field.onChange, value: field.value, children: [(0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(select_1.SelectTrigger, { children: (0, jsx_runtime_1.jsx)(select_1.SelectValue, { placeholder: t('selectProvince') }) }) }), (0, jsx_runtime_1.jsxs)(select_1.SelectContent, { children: [(0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'QC', children: "Quebec" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'ON', children: "Ontario" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'BC', children: "British Columbia" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'AB', children: "Alberta" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'MB', children: "Manitoba" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'SK', children: "Saskatchewan" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'NS', children: "Nova Scotia" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'NB', children: "New Brunswick" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'PE', children: "Prince Edward Island" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'NL', children: "Newfoundland and Labrador" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'NT', children: "Northwest Territories" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'NU', children: "Nunavut" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'YT', children: "Yukon" })] })] }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'postalCode', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: t('buildingPostalCode') }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(input_1.Input, { placeholder: t('enterPostalCode'), ...field }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'buildingType', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: t('buildingType') }), (0, jsx_runtime_1.jsxs)(select_1.Select, { onValueChange: field.onChange, value: field.value, children: [(0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(select_1.SelectTrigger, { children: (0, jsx_runtime_1.jsx)(select_1.SelectValue, { placeholder: t('selectBuildingType') }) }) }), (0, jsx_runtime_1.jsxs)(select_1.SelectContent, { children: [(0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'condo', children: t('condoType') }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'appartement', children: t('appartementType') })] })] }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'totalUnits', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: t('totalUnits') }), (0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(input_1.Input, { type: 'number', placeholder: 'Enter total units', ...field, onChange: (e) => field.onChange(parseInt(e.target.value) || 0) }) }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) }), (0, jsx_runtime_1.jsx)(form_1.FormField, { control: form.control, name: 'organizationId', render: ({ field }) => ((0, jsx_runtime_1.jsxs)(form_1.FormItem, { children: [(0, jsx_runtime_1.jsx)(form_1.FormLabel, { children: t('organizationLabel') }), (0, jsx_runtime_1.jsxs)(select_1.Select, { onValueChange: field.onChange, value: field.value, children: [(0, jsx_runtime_1.jsx)(form_1.FormControl, { children: (0, jsx_runtime_1.jsx)(select_1.SelectTrigger, { children: (0, jsx_runtime_1.jsx)(select_1.SelectValue, { placeholder: t('selectOrganization') }) }) }), (0, jsx_runtime_1.jsx)(select_1.SelectContent, { children: organizations.map((org) => ((0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: org.id, children: org.name }, org.id))) })] }), (0, jsx_runtime_1.jsx)(form_1.FormMessage, {})] })) })] }), (0, jsx_runtime_1.jsxs)(dialog_1.DialogFooter, { children: [(0, jsx_runtime_1.jsx)(button_1.Button, { type: 'button', variant: 'outline', onClick: () => onOpenChange(false), children: t('cancel') }), (0, jsx_runtime_1.jsx)(button_1.Button, { type: 'submit', disabled: isSubmitting, children: isSubmitting ? t('saving') : submitLabel })] })] }) })] }) }));
}
/**
 *
 */
function Buildings() {
    const { toast } = (0, use_toast_1.useToast)();
    const queryClient = (0, react_query_1.useQueryClient)();
    const { t } = (0, use_language_1.useLanguage)();
    // Create schema with translations
    const buildingFormSchema = zod_2.z.object({
        name: zod_2.z.string().min(1, t('buildingNameRequired')).max(255, t('nameTooLong')),
        address: zod_2.z.string().min(1, t('addressRequired')).max(500, t('addressTooLong')),
        city: zod_2.z.string().min(1, t('cityRequired')).max(100, t('cityTooLong')),
        province: zod_2.z.string().min(1, t('provinceRequired')).max(100, t('provinceTooLong')),
        postalCode: zod_2.z.string().min(1, t('postalCodeRequired')).max(20, t('postalCodeTooLong')),
        buildingType: zod_2.z.enum(['condo', 'appartement']),
        totalUnits: zod_2.z
            .number()
            .int()
            .min(1, t('mustHaveAtLeastOneUnit'))
            .max(300, t('maximumUnitsAllowed')),
        organizationId: zod_2.z.string().min(1, t('organizationRequired')),
    });
    // State variables
    const [searchTerm, setSearchTerm] = (0, react_1.useState)('');
    const [isAddDialogOpen, setIsAddDialogOpen] = (0, react_1.useState)(false);
    const [isEditDialogOpen, setIsEditDialogOpen] = (0, react_1.useState)(false);
    const [editingBuilding, setEditingBuilding] = (0, react_1.useState)(null);
    const [deletingBuilding, setDeletingBuilding] = (0, react_1.useState)(null);
    // Get current user
    const { data: user } = (0, react_query_1.useQuery)({
        queryKey: ['/api/auth/user'],
        queryFn: () => (0, queryClient_1.apiRequest)('GET', '/api/auth/user'),
    });
    // Fetch organizations for form
    const { data: organizations = [] } = (0, react_query_1.useQuery)({
        queryKey: ['/api/organizations'],
        queryFn: async () => {
            const response = await (0, queryClient_1.apiRequest)('GET', '/api/organizations');
            return await response.json();
        },
    });
    // Fetch buildings using the working manager endpoint
    const { data: buildingsData, isLoading, error: _error, } = (0, react_query_1.useQuery)({
        queryKey: ['/api/manager/buildings'],
        queryFn: async () => {
            const response = await (0, queryClient_1.apiRequest)('GET', '/api/manager/buildings');
            return await response.json();
        },
    });
    // Extract buildings array from the wrapped response
    const buildings = buildingsData?.buildings || [];
    // Filter buildings based on search
    const filteredBuildings = (0, react_1.useMemo)(() => {
        if (!Array.isArray(buildings)) {
            return [];
        }
        return buildings.filter((building) => building.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
            building.address.toLowerCase().includes(searchTerm.toLowerCase()));
    }, [buildings, searchTerm]);
    // Form for creating buildings
    const form = (0, react_hook_form_1.useForm)({
        resolver: (0, zod_1.zodResolver)(buildingFormSchema),
        defaultValues: {
            name: '',
            address: '',
            city: '',
            province: 'QC',
            postalCode: '',
            buildingType: 'condo',
            totalUnits: 1,
            organizationId: '',
        },
    });
    // Form for editing buildings
    const editForm = (0, react_hook_form_1.useForm)({
        resolver: (0, zod_1.zodResolver)(buildingFormSchema),
    });
    // Mutations
    const createBuildingMutation = (0, react_query_1.useMutation)({
        mutationFn: (data) => (0, queryClient_1.apiRequest)('POST', '/api/admin/buildings', data),
        onSuccess: () => {
            queryClient.invalidateQueries({ queryKey: ['/api/manager/buildings'] });
            setIsAddDialogOpen(false);
            form.reset();
            toast({
                title: 'Success',
                description: 'Building created successfully',
            });
        },
        onError: (error) => {
            toast({
                title: 'Error',
                description: error.message || 'Failed to create building',
                variant: 'destructive',
            });
        },
    });
    const updateBuildingMutation = (0, react_query_1.useMutation)({
        mutationFn: ({ id, data }) => (0, queryClient_1.apiRequest)('PUT', `/api/admin/buildings/${id}`, data),
        onSuccess: () => {
            queryClient.invalidateQueries({ queryKey: ['/api/manager/buildings'] });
            setIsEditDialogOpen(false);
            setEditingBuilding(null);
            editForm.reset();
            toast({
                title: 'Success',
                description: 'Building updated successfully',
            });
        },
        onError: (error) => {
            toast({
                title: 'Error',
                description: error.message || 'Failed to update building',
                variant: 'destructive',
            });
        },
    });
    const deleteBuildingMutation = (0, react_query_1.useMutation)({
        mutationFn: (buildingId) => (0, queryClient_1.apiRequest)('DELETE', `/api/admin/buildings/${buildingId}`),
        onSuccess: () => {
            queryClient.invalidateQueries({ queryKey: ['/api/manager/buildings'] });
            queryClient.invalidateQueries({ queryKey: ['/api/buildings'] });
            setDeletingBuilding(null);
            toast({
                title: 'Success',
                description: 'Building deleted successfully',
            });
        },
        onError: (error) => {
            toast({
                title: 'Error',
                description: error.message || 'Failed to delete building',
                variant: 'destructive',
            });
        },
    });
    // Event handlers
    const handleCreateBuilding = async (data) => {
        createBuildingMutation.mutate(data);
    };
    const handleEditBuilding = (building) => {
        setEditingBuilding(building);
        editForm.reset({
            name: building.name,
            address: building.address,
            city: building.city,
            province: building.province,
            postalCode: building.postalCode,
            buildingType: building.buildingType,
            totalUnits: building.totalUnits,
            organizationId: building.organizationId,
        });
        setIsEditDialogOpen(true);
    };
    const handleUpdateBuilding = async (data) => {
        if (editingBuilding) {
            updateBuildingMutation.mutate({ id: editingBuilding.id, data });
        }
    };
    const handleDeleteBuilding = (building) => {
        setDeletingBuilding(building);
    };
    const confirmDeleteBuilding = () => {
        if (deletingBuilding) {
            deleteBuildingMutation.mutate(deletingBuilding.id);
        }
    };
    if (isLoading) {
        return ((0, jsx_runtime_1.jsxs)("div", { className: 'flex-1 flex flex-col overflow-hidden', children: [(0, jsx_runtime_1.jsx)(header_1.Header, { title: 'Buildings', subtitle: 'Loading buildings...' }), (0, jsx_runtime_1.jsx)("div", { className: 'flex-1 overflow-auto p-6', children: (0, jsx_runtime_1.jsx)("div", { className: 'text-center py-8', children: "Loading buildings..." }) })] }));
    }
    if (_error) {
        return ((0, jsx_runtime_1.jsxs)("div", { className: 'flex-1 flex flex-col overflow-hidden', children: [(0, jsx_runtime_1.jsx)(header_1.Header, { title: 'Buildings', subtitle: 'Error loading buildings' }), (0, jsx_runtime_1.jsx)("div", { className: 'flex-1 overflow-auto p-6', children: (0, jsx_runtime_1.jsx)("div", { className: 'max-w-4xl mx-auto', children: (0, jsx_runtime_1.jsx)(card_1.Card, { children: (0, jsx_runtime_1.jsxs)(card_1.CardContent, { className: 'p-8 text-center', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Building, { className: 'w-16 h-16 mx-auto text-red-400 mb-4' }), (0, jsx_runtime_1.jsx)("h3", { className: 'text-lg font-semibold text-red-600 mb-2', children: "Error Loading Buildings" }), (0, jsx_runtime_1.jsx)("p", { className: 'text-red-500 mb-4', children: "Failed to load buildings data. Please try again later." }), (0, jsx_runtime_1.jsx)(badge_1.Badge, { variant: 'destructive', children: "Error" })] }) }) }) })] }));
    }
    return ((0, jsx_runtime_1.jsxs)("div", { className: 'flex-1 flex flex-col overflow-hidden', children: [(0, jsx_runtime_1.jsx)(header_1.Header, { title: t('buildings'), subtitle: t('manageBuildings') }), (0, jsx_runtime_1.jsx)("div", { className: 'flex-1 overflow-auto p-6', children: (0, jsx_runtime_1.jsxs)("div", { className: 'max-w-6xl mx-auto space-y-6', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'flex flex-col sm:flex-row gap-4 items-center justify-between', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'relative w-full sm:w-96', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Search, { className: 'absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4' }), (0, jsx_runtime_1.jsx)(input_1.Input, { placeholder: t('searchBuildingsAddress'), value: searchTerm, onChange: (e) => setSearchTerm(e.target.value), className: 'pl-10' })] }), user?.role === 'admin' && ((0, jsx_runtime_1.jsxs)(button_1.Button, { onClick: () => setIsAddDialogOpen(true), children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Plus, { className: 'w-4 h-4 mr-2' }), t('addBuilding')] }))] }), filteredBuildings.length > 0 ? ((0, jsx_runtime_1.jsx)("div", { className: 'grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6', children: filteredBuildings.map((building) => ((0, jsx_runtime_1.jsx)(BuildingCard, { building: building, userRole: user?.role, onEdit: handleEditBuilding, onDelete: handleDeleteBuilding, t: t }, building.id))) })) : ((0, jsx_runtime_1.jsx)(no_data_card_1.NoDataCard, { icon: lucide_react_1.Building, titleKey: "noBuildingsFound", descriptionKey: user?.role === 'admin' ? 'noBuildingsAdminMessage' : 'noBuildingsUserMessage', badgeKey: "noData", testId: "no-buildings-message" })), (0, jsx_runtime_1.jsx)(BuildingForm, { isOpen: isAddDialogOpen, onOpenChange: setIsAddDialogOpen, form: form, onSubmit: handleCreateBuilding, organizations: organizations, isSubmitting: createBuildingMutation.isPending, title: t('addBuilding'), submitLabel: t('createBuilding'), t: t }), (0, jsx_runtime_1.jsx)(BuildingForm, { isOpen: isEditDialogOpen, onOpenChange: setIsEditDialogOpen, form: editForm, onSubmit: handleUpdateBuilding, organizations: organizations, isSubmitting: updateBuildingMutation.isPending, title: t('editBuilding'), submitLabel: t('save'), t: t }), (0, jsx_runtime_1.jsx)(dialog_1.Dialog, { open: !!deletingBuilding, onOpenChange: () => setDeletingBuilding(null), children: (0, jsx_runtime_1.jsxs)(dialog_1.DialogContent, { children: [(0, jsx_runtime_1.jsxs)(dialog_1.DialogHeader, { children: [(0, jsx_runtime_1.jsx)(dialog_1.DialogTitle, { children: "Delete Building" }), (0, jsx_runtime_1.jsxs)(dialog_1.DialogDescription, { children: ["Are you sure you want to delete \"", deletingBuilding?.name, "\"? This action cannot be undone."] })] }), (0, jsx_runtime_1.jsxs)(dialog_1.DialogFooter, { children: [(0, jsx_runtime_1.jsx)(button_1.Button, { variant: 'outline', onClick: () => setDeletingBuilding(null), children: "Cancel" }), (0, jsx_runtime_1.jsx)(button_1.Button, { variant: 'destructive', onClick: confirmDeleteBuilding, disabled: deleteBuildingMutation.isPending, children: deleteBuildingMutation.isPending ? 'Deleting...' : 'Delete' })] })] }) })] }) })] }));
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9jbGllbnQvc3JjL3BhZ2VzL21hbmFnZXIvYnVpbGRpbmdzLnRzeCIsIm1hcHBpbmdzIjoiOztBQXFZQSw0QkEyVUM7O0FBaHRCRCxpQ0FBMEM7QUFDMUMsdURBQThFO0FBQzlFLCtDQUFpRztBQUNqRyxtREFBZ0Q7QUFDaEQsaURBQThDO0FBQzlDLCtEQUEwRDtBQUMxRCxpREFBOEM7QUFHOUMsbURBTWdDO0FBQ2hDLG1EQVFnQztBQUNoQywrQ0FROEI7QUFDOUIsaURBQTZDO0FBQzdDLHVEQUFtRDtBQUNuRCxxREFBMEM7QUFDMUMsaURBQXNEO0FBQ3RELDZCQUF3QjtBQUN4QixtREFBK0M7QUFDL0MsK0NBV3NCO0FBQ3RCLHVEQUFvRDtBQUNwRCxtQ0FBOEI7QUF1QzlCOzs7Ozs7O0dBT0c7QUFDSCxTQUFTLFlBQVksQ0FBQyxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxDQUFDLEVBQXFCO0lBQ2xGLE1BQU0sT0FBTyxHQUFHLFFBQVEsS0FBSyxPQUFPLENBQUM7SUFDckMsTUFBTSxPQUFPLEdBQUcsQ0FBQyxPQUFPLEVBQUUsU0FBUyxDQUFDLENBQUMsUUFBUSxDQUFDLFFBQVEsSUFBSSxFQUFFLENBQUMsQ0FBQztJQUU5RCxPQUFPLENBQ0wsd0JBQUMsV0FBSSxJQUFDLFNBQVMsRUFBQyxRQUFRLGFBQ3RCLHVCQUFDLGlCQUFVLGNBQ1QsaUNBQUssU0FBUyxFQUFDLGtDQUFrQyxhQUMvQyxpQ0FBSyxTQUFTLEVBQUMsNkJBQTZCLGFBQzFDLHVCQUFDLHVCQUFRLElBQUMsU0FBUyxFQUFDLHVCQUF1QixHQUFHLEVBQzlDLHVCQUFDLGdCQUFTLElBQUMsU0FBUyxFQUFDLGtDQUFrQyxZQUFFLFFBQVEsQ0FBQyxJQUFJLEdBQWEsSUFDL0UsRUFDTCxPQUFPLElBQUksQ0FDVixpQ0FBSyxTQUFTLEVBQUMsWUFBWSxhQUN6Qix1QkFBQyxlQUFNLElBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxPQUFPLEVBQUMs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LEVBQzFDLHdCQUFDLDBCQUFpQixxREFDa0IsZ0JBQWdCLEVBQUUsSUFBSSx5Q0FFdEMsSUFDUCxFQUNmLHdCQUFDLHFCQUFZLGVBQ1gsdUJBQUMsZUFBTSxJQUFDLE9BQU8sRUFBQyxTQUFTLEVBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyx1QkFFekQsRUFDVCx1QkFBQyxlQUFNLElBQ0wsT0FBTyxFQUFDLGFBQWEsRUFDckIsT0FBTyxFQUFFLHFCQUFxQixFQUM5QixRQUFRLEVBQUUsc0JBQXNCLENBQUMsU0FBUyxZQUV6QyxzQkFBc0IsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsUUFBUSxHQUNyRCxJQUNJLElBQ0QsR0FDVCxJQUNMLEdBQ0YsSUFDRixDQUNQLENBQUM7QUFDSixDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3Jrc3BhY2UvY2xpZW50L3NyYy9wYWdlcy9tYW5hZ2VyL2J1aWxkaW5ncy50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VRdWVyeSwgdXNlTXV0YXRpb24sIHVzZVF1ZXJ5Q2xpZW50IH0gZnJvbSAnQHRhbnN0YWNrL3JlYWN0LXF1ZXJ5JztcbmltcG9ydCB7IENhcmQsIENhcmRDb250ZW50LCBDYXJkRGVzY3JpcHRpb24sIENhcmRIZWFkZXIsIENhcmRUaXRsZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9jYXJkJztcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9idXR0b24nO1xuaW1wb3J0IHsgQmFkZ2UgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYmFkZ2UnO1xuaW1wb3J0IHsgTm9EYXRhQ2FyZCB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9uby1kYXRhLWNhcmQnO1xuaW1wb3J0IHsgSW5wdXQgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvaW5wdXQnO1xuaW1wb3J0IHsgTGFiZWwgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvbGFiZWwnO1xuaW1wb3J0IHsgVGV4dGFyZWEgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvdGV4dGFyZWEnO1xuaW1wb3J0IHtcbiAgU2VsZWN0LFxuICBTZWxlY3RDb250ZW50LFxuICBTZWxlY3RJdGVtLFxuICBTZWxlY3RUcmlnZ2VyLFxuICBTZWxlY3RWYWx1ZSxcbn0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3NlbGVjdCc7XG5pbXBvcnQge1xuICBEaWFsb2csXG4gIERpYWxvZ0NvbnRlbnQsXG4gIERpYWxvZ0Rlc2NyaXB0aW9uLFxuICBEaWFsb2dGb290ZXIsXG4gIERpYWxvZ0hlYWRlcixcbiAgRGlhbG9nVGl0bGUsXG4gIERpYWxvZ1RyaWdnZXIsXG59IGZyb20gJ0AvY29tcG9uZW50cy91aS9kaWFsb2cnO1xuaW1wb3J0IHtcbiAgRm9ybSxcbiAgRm9ybUNvbnRyb2wsXG4gIEZvcm1EZXNjcmlwdGlvbixcbiAgRm9ybUZpZWxkLFxuICBGb3JtSXRlbSxcbiAgRm9ybUxhYmVsLFxuICBGb3JtTWVzc2FnZSxcbn0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2Zvcm0nO1xuaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tICdAL2hvb2tzL3VzZS10b2FzdCc7XG5pbXBvcnQgeyB1c2VMYW5ndWFnZSB9IGZyb20gJ0AvaG9va3MvdXNlLWxhbmd1YWdlJztcbmltcG9ydCB7IHVzZUZvcm0gfSBmcm9tICdyZWFjdC1ob29rLWZvcm0nO1xuaW1wb3J0IHsgem9kUmVzb2x2ZXIgfSBmcm9tICdAaG9va2Zvcm0vcmVzb2x2ZXJzL3pvZCc7XG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcbmltcG9ydCB7IGFwaVJlcXVlc3QgfSBmcm9tICdAL2xpYi9xdWVyeUNsaWVudCc7XG5pbXBvcnQge1xuICBCdWlsZGluZyxcbiAgU2VhcmNoLFxuICBQbHVzLFxuICBFZGl0LFxuICBUcmFzaDIsXG4gIE1hcFBpbixcbiAgUGhvbmUsXG4gIE1haWwsXG4gIENhbGVuZGFyLFxuICBVc2Vycyxcbn0gZnJvbSAnbHVjaWRlLXJlYWN0JztcbmltcG9ydCB7IEhlYWRlciB9IGZyb20gJ0AvY29tcG9uZW50cy9sYXlvdXQvaGVhZGVyJztcbmltcG9ydCB7IExpbmsgfSBmcm9tICd3b3V0ZXInO1xuXG4vLyBGb3JtIHNjaGVtYSBmb3IgY3JlYXRpbmcvZWRpdGluZyBidWlsZGluZ3Ncbi8vIFNjaGVtYSB3aWxsIGJlIGNyZWF0ZWQgaW5zaWRlIGNvbXBvbmVudCB3aXRoIHRyYW5zbGF0aW9uc1xuXG4vKipcbiAqXG4gKi9cbnR5cGUgQnVpbGRpbmdGb3JtRGF0YSA9IHouaW5mZXI8dHlwZW9mIGJ1aWxkaW5nRm9ybVNjaGVtYT47XG5cbi8qKlxuICpcbiAqL1xuaW50ZXJmYWNlIEJ1aWxkaW5nRGF0YSB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgYWRkcmVzczogc3RyaW5nO1xuICBjaXR5OiBzdHJpbmc7XG4gIHByb3ZpbmNlOiBzdHJpbmc7XG4gIHBvc3RhbENvZGU6IHN0cmluZztcbiAgYnVpbGRpbmdUeXBlOiBzdHJpbmc7XG4gIHRvdGFsVW5pdHM6IG51bWJlcjtcbiAgb3JnYW5pemF0aW9uSWQ6IHN0cmluZztcbiAgaXNBY3RpdmU6IGJvb2xlYW47XG4gIGNyZWF0ZWRBdDogRGF0ZTtcbiAgdXBkYXRlZEF0OiBEYXRlO1xufVxuXG4vKipcbiAqXG4gKi9cbmludGVyZmFjZSBCdWlsZGluZ0NhcmRQcm9wcyB7XG4gIGJ1aWxkaW5nOiBCdWlsZGluZ0RhdGE7XG4gIHVzZXJSb2xlPzogc3RyaW5nO1xuICBvbkVkaXQ6IChidWlsZGluZzogQnVpbGRpbmdEYXRhKSA9PiB2b2lkO1xuICBvbkRlbGV0ZTogKGJ1aWxkaW5nOiBCdWlsZGluZ0RhdGEpID0+IHZvaWQ7XG4gIHQ6IChrZXk6IHN0cmluZykgPT4gc3RyaW5nO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0gcm9vdDBcbiAqIEBwYXJhbSByb290MC5idWlsZGluZ1xuICogQHBhcmFtIHJvb3QwLnVzZXJSb2xlXG4gKiBAcGFyYW0gcm9vdDAub25FZGl0XG4gKiBAcGFyYW0gcm9vdDAub25EZWxldGVcbiAqL1xuZnVuY3Rpb24gQnVpbGRpbmdDYXJkKHsgYnVpbGRpbmcsIHVzZXJSb2xlLCBvbkVkaXQsIG9uRGVsZXRlLCB0IH06IEJ1aWxkaW5nQ2FyZFByb3BzKSB7XG4gIGNvbnN0IGlzQWRtaW4gPSB1c2VyUm9sZSA9PT0gJ2FkbWluJztcbiAgY29uc3QgY2FuRWRpdCA9IFsnYWRtaW4nLCAnbWFuYWdlciddLmluY2x1ZGVzKHVzZXJSb2xlIHx8ICcnKTtcblxuICByZXR1cm4gKFxuICAgIDxDYXJkIGNsYXNzTmFtZT0naC1mdWxsJz5cbiAgICAgIDxDYXJkSGVhZGVyPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBpdGVtcy1zdGFydCBqdXN0aWZ5LWJldHdlZW4nPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTInPlxuICAgICAgICAgICAgPEJ1aWxkaW5nIGNsYXNzTmFtZT0naC01IHctNSB0ZXh0LWJsdWUtNjAwJyAvPlxuICAgICAgICAgICAgPENhcmRUaXRsZSBjbGFzc05hbWU9J3RleHQtbGcgbGluZS1jbGFtcC0yIGJyZWFrLXdvcmRzJz57YnVpbGRpbmcubmFtZX08L0NhcmRUaXRsZT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7Y2FuRWRpdCAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBnYXAtMSc+XG4gICAgICAgICAgICAgIDxCdXR0b24gc2l6ZT0nc20nIHZhcmlhbnQ9J2dob3N0JyBvbkNsaWNrPXsoKSA9PiBvbkVkaXQoYnVpbGRpbmcpfT5cbiAgICAgICAgICAgICAgICA8RWRpdCBjbGFzc05hbWU9J2gtMyB3LTMnIC8+XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICB7aXNBZG1pbiAmJiAoXG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgc2l6ZT0nc20nXG4gICAgICAgICAgICAgICAgICB2YXJpYW50PSdnaG9zdCdcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG9uRGVsZXRlKGJ1aWxkaW5nKX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0ndGV4dC1yZWQtNjAwIGhvdmVyOnRleHQtcmVkLTcwMCdcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8VHJhc2gyIGNsYXNzTmFtZT0naC0zIHctMycgLz5cbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9DYXJkSGVhZGVyPlxuICAgICAgPENhcmRDb250ZW50PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc3BhY2UteS0yJz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBpdGVtcy1jZW50ZXIgdGV4dC1zbSB0ZXh0LWdyYXktNjAwJz5cbiAgICAgICAgICAgIDxNYXBQaW4gY2xhc3NOYW1lPSdoLTQgdy00IG1yLTInIC8+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2xpbmUtY2xhbXAtMiBicmVhay13b3JkcyBmbGV4LTEnPntidWlsZGluZy5hZGRyZXNzfTwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBpdGVtcy1jZW50ZXIgdGV4dC1zbSB0ZXh0LWdyYXktNjAwJz5cbiAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICB7YnVpbGRpbmcuY2l0eX0sIHtidWlsZGluZy5wcm92aW5jZX0ge2J1aWxkaW5nLnBvc3RhbENvZGV9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBwdC0yJz5cbiAgICAgICAgICAgIDxCYWRnZSB2YXJpYW50PSdvdXRsaW5lJz57YnVpbGRpbmcudG90YWxVbml0c30ge3QoJ3VuaXRzQ291bnQnKX08L0JhZGdlPlxuICAgICAgICAgICAgPEJhZGdlIHZhcmlhbnQ9J3NlY29uZGFyeSc+e2J1aWxkaW5nLmJ1aWxkaW5nVHlwZX08L0JhZGdlPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwdC0yIGZsZXggZ2FwLTInPlxuICAgICAgICAgICAgPExpbmsgaHJlZj17YC9tYW5hZ2VyL2J1aWxkaW5ncy8ke2J1aWxkaW5nLmlkfS9kb2N1bWVudHNgfT5cbiAgICAgICAgICAgICAgPEJ1dHRvbiBzaXplPSdzbScgdmFyaWFudD0nb3V0bGluZScgY2xhc3NOYW1lPSdmbGV4LTEnPlxuICAgICAgICAgICAgICAgIERvY3VtZW50c1xuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgIDxMaW5rIGhyZWY9e2AvbWFuYWdlci9yZXNpZGVuY2VzP2J1aWxkaW5nSWQ9JHtidWlsZGluZy5pZH1gfT5cbiAgICAgICAgICAgICAgPEJ1dHRvbiBzaXplPSdzbScgdmFyaWFudD0nb3V0bGluZScgY2xhc3NOYW1lPSdmbGV4LTEnPlxuICAgICAgICAgICAgICAgIFJlc2lkZW5jZXNcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9DYXJkQ29udGVudD5cbiAgICA8L0NhcmQ+XG4gICk7XG59XG5cbi8qKlxuICpcbiAqL1xuaW50ZXJmYWNlIEJ1aWxkaW5nRm9ybVByb3BzIHtcbiAgaXNPcGVuOiBib29sZWFuO1xuICBvbk9wZW5DaGFuZ2U6IChvcGVuOiBib29sZWFuKSA9PiB2b2lkO1xuICBmb3JtOiBhbnk7XG4gIG9uU3VibWl0OiAoZGF0YTogQnVpbGRpbmdGb3JtRGF0YSkgPT4gdm9pZDtcbiAgb3JnYW5pemF0aW9uczogYW55W107XG4gIGlzU3VibWl0dGluZzogYm9vbGVhbjtcbiAgdGl0bGU6IHN0cmluZztcbiAgc3VibWl0TGFiZWw6IHN0cmluZztcbiAgdDogKGtleTogc3RyaW5nKSA9PiBzdHJpbmc7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSByb290MFxuICogQHBhcmFtIHJvb3QwLmlzT3BlblxuICogQHBhcmFtIHJvb3QwLm9uT3BlbkNoYW5nZVxuICogQHBhcmFtIHJvb3QwLmZvcm1cbiAqIEBwYXJhbSByb290MC5vblN1Ym1pdFxuICogQHBhcmFtIHJvb3QwLm9yZ2FuaXphdGlvbnNcbiAqIEBwYXJhbSByb290MC5pc1N1Ym1pdHRpbmdcbiAqIEBwYXJhbSByb290MC50aXRsZVxuICogQHBhcmFtIHJvb3QwLnN1Ym1pdExhYmVsXG4gKi9cbmZ1bmN0aW9uIEJ1aWxkaW5nRm9ybSh7XG4gIGlzT3BlbixcbiAgb25PcGVuQ2hhbmdlLFxuICBmb3JtLFxuICBvblN1Ym1pdCxcbiAgb3JnYW5pemF0aW9ucyxcbiAgaXNTdWJtaXR0aW5nLFxuICB0aXRsZSxcbiAgc3VibWl0TGFiZWwsXG4gIHQsXG59OiBCdWlsZGluZ0Zvcm1Qcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxEaWFsb2cgb3Blbj17aXNPcGVufSBvbk9wZW5DaGFuZ2U9e29uT3BlbkNoYW5nZX0+XG4gICAgICA8RGlhbG9nQ29udGVudCBjbGFzc05hbWU9J21heC13LTJ4bCc+XG4gICAgICAgIDxEaWFsb2dIZWFkZXI+XG4gICAgICAgICAgPERpYWxvZ1RpdGxlPnt0aXRsZX08L0RpYWxvZ1RpdGxlPlxuICAgICAgICAgIDxEaWFsb2dEZXNjcmlwdGlvbj5cbiAgICAgICAgICAgIHt0KCdmaWxsQnVpbGRpbmdJbmZvJyl9XG4gICAgICAgICAgPC9EaWFsb2dEZXNjcmlwdGlvbj5cbiAgICAgICAgPC9EaWFsb2dIZWFkZXI+XG5cbiAgICAgICAgPEZvcm0gey4uLmZvcm19PlxuICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXtmb3JtLmhhbmRsZVN1Ym1pdChvblN1Ym1pdCl9IGNsYXNzTmFtZT0nc3BhY2UteS00Jz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIGdhcC00Jz5cbiAgICAgICAgICAgICAgPEZvcm1GaWVsZFxuICAgICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH1cbiAgICAgICAgICAgICAgICBuYW1lPSduYW1lJ1xuICAgICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKFxuICAgICAgICAgICAgICAgICAgPEZvcm1JdGVtIGNsYXNzTmFtZT0nbWQ6Y29sLXNwYW4tMic+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtTGFiZWw+e3QoJ2J1aWxkaW5nTmFtZScpfTwvRm9ybUxhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICAgICAgPElucHV0IHBsYWNlaG9sZGVyPXt0KCdlbnRlckJ1aWxkaW5nTmFtZScpfSB7Li4uZmllbGR9IC8+XG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPlxuICAgICAgICAgICAgICAgICAgPC9Gb3JtSXRlbT5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgIDxGb3JtRmllbGRcbiAgICAgICAgICAgICAgICBjb250cm9sPXtmb3JtLmNvbnRyb2x9XG4gICAgICAgICAgICAgICAgbmFtZT0nYWRkcmVzcydcbiAgICAgICAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+IChcbiAgICAgICAgICAgICAgICAgIDxGb3JtSXRlbSBjbGFzc05hbWU9J21kOmNvbC1zcGFuLTInPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsPnt0KCdidWlsZGluZ0FkZHJlc3MnKX08L0Zvcm1MYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBwbGFjZWhvbGRlcj17dCgnZW50ZXJTdHJlZXRBZGRyZXNzJyl9IHsuLi5maWVsZH0gLz5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1NZXNzYWdlIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgICAgPEZvcm1GaWVsZFxuICAgICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH1cbiAgICAgICAgICAgICAgICBuYW1lPSdjaXR5J1xuICAgICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKFxuICAgICAgICAgICAgICAgICAgPEZvcm1JdGVtPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsPnt0KCdidWlsZGluZ0NpdHknKX08L0Zvcm1MYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBwbGFjZWhvbGRlcj17dCgnZW50ZXJDaXR5Jyl9IHsuLi5maWVsZH0gLz5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1NZXNzYWdlIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgICAgPEZvcm1GaWVsZFxuICAgICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH1cbiAgICAgICAgICAgICAgICBuYW1lPSdwcm92aW5jZSdcbiAgICAgICAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+IChcbiAgICAgICAgICAgICAgICAgIDxGb3JtSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1MYWJlbD57dCgnYnVpbGRpbmdQcm92aW5jZScpfTwvRm9ybUxhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8U2VsZWN0IG9uVmFsdWVDaGFuZ2U9e2ZpZWxkLm9uQ2hhbmdlfSB2YWx1ZT17ZmllbGQudmFsdWV9PlxuICAgICAgICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RUcmlnZ2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0VmFsdWUgcGxhY2Vob2xkZXI9e3QoJ3NlbGVjdFByb3ZpbmNlJyl9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdFRyaWdnZXI+XG4gICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPSdRQyc+UXVlYmVjPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9J09OJz5PbnRhcmlvPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9J0JDJz5Ccml0aXNoIENvbHVtYmlhPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9J0FCJz5BbGJlcnRhPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9J01CJz5NYW5pdG9iYTwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPSdTSyc+U2Fza2F0Y2hld2FuPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9J05TJz5Ob3ZhIFNjb3RpYTwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPSdOQic+TmV3IEJydW5zd2ljazwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPSdQRSc+UHJpbmNlIEVkd2FyZCBJc2xhbmQ8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT0nTkwnPk5ld2ZvdW5kbGFuZCBhbmQgTGFicmFkb3I8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT0nTlQnPk5vcnRod2VzdCBUZXJyaXRvcmllczwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPSdOVSc+TnVuYXZ1dDwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPSdZVCc+WXVrb248L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RDb250ZW50PlxuICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1NZXNzYWdlIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgICAgPEZvcm1GaWVsZFxuICAgICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH1cbiAgICAgICAgICAgICAgICBuYW1lPSdwb3N0YWxDb2RlJ1xuICAgICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKFxuICAgICAgICAgICAgICAgICAgPEZvcm1JdGVtPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsPnt0KCdidWlsZGluZ1Bvc3RhbENvZGUnKX08L0Zvcm1MYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBwbGFjZWhvbGRlcj17dCgnZW50ZXJQb3N0YWxDb2RlJyl9IHsuLi5maWVsZH0gLz5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1NZXNzYWdlIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgICAgPEZvcm1GaWVsZFxuICAgICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH1cbiAgICAgICAgICAgICAgICBuYW1lPSdidWlsZGluZ1R5cGUnXG4gICAgICAgICAgICAgICAgcmVuZGVyPXsoeyBmaWVsZCB9KSA9PiAoXG4gICAgICAgICAgICAgICAgICA8Rm9ybUl0ZW0+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtTGFiZWw+e3QoJ2J1aWxkaW5nVHlwZScpfTwvRm9ybUxhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8U2VsZWN0IG9uVmFsdWVDaGFuZ2U9e2ZpZWxkLm9uQ2hhbmdlfSB2YWx1ZT17ZmllbGQudmFsdWV9PlxuICAgICAgICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RUcmlnZ2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0VmFsdWUgcGxhY2Vob2xkZXI9e3QoJ3NlbGVjdEJ1aWxkaW5nVHlwZScpfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RUcmlnZ2VyPlxuICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT0nY29uZG8nPnt0KCdjb25kb1R5cGUnKX08L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT0nYXBwYXJ0ZW1lbnQnPnt0KCdhcHBhcnRlbWVudFR5cGUnKX08L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RDb250ZW50PlxuICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1NZXNzYWdlIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgICAgPEZvcm1GaWVsZFxuICAgICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH1cbiAgICAgICAgICAgICAgICBuYW1lPSd0b3RhbFVuaXRzJ1xuICAgICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKFxuICAgICAgICAgICAgICAgICAgPEZvcm1JdGVtPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsPnt0KCd0b3RhbFVuaXRzJyl9PC9Gb3JtTGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9J251bWJlcidcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPSdFbnRlciB0b3RhbCB1bml0cydcbiAgICAgICAgICAgICAgICAgICAgICAgIHsuLi5maWVsZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gZmllbGQub25DaGFuZ2UocGFyc2VJbnQoZS50YXJnZXQudmFsdWUpIHx8IDApfVxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPlxuICAgICAgICAgICAgICAgICAgPC9Gb3JtSXRlbT5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgIDxGb3JtRmllbGRcbiAgICAgICAgICAgICAgICBjb250cm9sPXtmb3JtLmNvbnRyb2x9XG4gICAgICAgICAgICAgICAgbmFtZT0nb3JnYW5pemF0aW9uSWQnXG4gICAgICAgICAgICAgICAgcmVuZGVyPXsoeyBmaWVsZCB9KSA9PiAoXG4gICAgICAgICAgICAgICAgICA8Rm9ybUl0ZW0+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtTGFiZWw+e3QoJ29yZ2FuaXphdGlvbkxhYmVsJyl9PC9Gb3JtTGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxTZWxlY3Qgb25WYWx1ZUNoYW5nZT17ZmllbGQub25DaGFuZ2V9IHZhbHVlPXtmaWVsZC52YWx1ZX0+XG4gICAgICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFRyaWdnZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RWYWx1ZSBwbGFjZWhvbGRlcj17dCgnc2VsZWN0T3JnYW5pemF0aW9uJyl9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdFRyaWdnZXI+XG4gICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtvcmdhbml6YXRpb25zLm1hcCgob3JnKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIGtleT17b3JnLmlkfSB2YWx1ZT17b3JnLmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7b3JnLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPlxuICAgICAgICAgICAgICAgICAgPC9Gb3JtSXRlbT5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxEaWFsb2dGb290ZXI+XG4gICAgICAgICAgICAgIDxCdXR0b24gdHlwZT0nYnV0dG9uJyB2YXJpYW50PSdvdXRsaW5lJyBvbkNsaWNrPXsoKSA9PiBvbk9wZW5DaGFuZ2UoZmFsc2UpfT5cbiAgICAgICAgICAgICAgICB7dCgnY2FuY2VsJyl9XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9J3N1Ym1pdCcgZGlzYWJsZWQ9e2lzU3VibWl0dGluZ30+XG4gICAgICAgICAgICAgICAge2lzU3VibWl0dGluZyA/IHQoJ3NhdmluZycpIDogc3VibWl0TGFiZWx9XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9EaWFsb2dGb290ZXI+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICA8L0Zvcm0+XG4gICAgICA8L0RpYWxvZ0NvbnRlbnQ+XG4gICAgPC9EaWFsb2c+XG4gICk7XG59XG5cbi8qKlxuICpcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQnVpbGRpbmdzKCkge1xuICBjb25zdCB7IHRvYXN0IH0gPSB1c2VUb2FzdCgpO1xuICBjb25zdCBxdWVyeUNsaWVudCA9IHVzZVF1ZXJ5Q2xpZW50KCk7XG4gIGNvbnN0IHsgdCB9ID0gdXNlTGFuZ3VhZ2UoKTtcblxuICAvLyBDcmVhdGUgc2NoZW1hIHdpdGggdHJhbnNsYXRpb25zXG4gIGNvbnN0IGJ1aWxkaW5nRm9ybVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICBuYW1lOiB6LnN0cmluZygpLm1pbigxLCB0KCdidWlsZGluZ05hbWVSZXF1aXJlZCcpKS5tYXgoMjU1LCB0KCduYW1lVG9vTG9uZycpKSxcbiAgICBhZGRyZXNzOiB6LnN0cmluZygpLm1pbigxLCB0KCdhZGRyZXNzUmVxdWlyZWQnKSkubWF4KDUwMCwgdCgnYWRkcmVzc1Rvb0xvbmcnKSksXG4gICAgY2l0eTogei5zdHJpbmcoKS5taW4oMSwgdCgnY2l0eVJlcXVpcmVkJykpLm1heCgxMDAsIHQoJ2NpdHlUb29Mb25nJykpLFxuICAgIHByb3ZpbmNlOiB6LnN0cmluZygpLm1pbigxLCB0KCdwcm92aW5jZVJlcXVpcmVkJykpLm1heCgxMDAsIHQoJ3Byb3ZpbmNlVG9vTG9uZycpKSxcbiAgICBwb3N0YWxDb2RlOiB6LnN0cmluZygpLm1pbigxLCB0KCdwb3N0YWxDb2RlUmVxdWlyZWQnKSkubWF4KDIwLCB0KCdwb3N0YWxDb2RlVG9vTG9uZycpKSxcbiAgICBidWlsZGluZ1R5cGU6IHouZW51bShbJ2NvbmRvJywgJ2FwcGFydGVtZW50J10pLFxuICAgIHRvdGFsVW5pdHM6IHpcbiAgICAgIC5udW1iZXIoKVxuICAgICAgLmludCgpXG4gICAgICAubWluKDEsIHQoJ211c3RIYXZlQXRMZWFzdE9uZVVuaXQnKSlcbiAgICAgIC5tYXgoMzAwLCB0KCdtYXhpbXVtVW5pdHNBbGxvd2VkJykpLFxuICAgIG9yZ2FuaXphdGlvbklkOiB6LnN0cmluZygpLm1pbigxLCB0KCdvcmdhbml6YXRpb25SZXF1aXJlZCcpKSxcbiAgfSk7XG5cbiAgLy8gU3RhdGUgdmFyaWFibGVzXG4gIGNvbnN0IFtzZWFyY2hUZXJtLCBzZXRTZWFyY2hUZXJtXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2lzQWRkRGlhbG9nT3Blbiwgc2V0SXNBZGREaWFsb2dPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lzRWRpdERpYWxvZ09wZW4sIHNldElzRWRpdERpYWxvZ09wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZWRpdGluZ0J1aWxkaW5nLCBzZXRFZGl0aW5nQnVpbGRpbmddID0gdXNlU3RhdGU8QnVpbGRpbmdEYXRhIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtkZWxldGluZ0J1aWxkaW5nLCBzZXREZWxldGluZ0J1aWxkaW5nXSA9IHVzZVN0YXRlPEJ1aWxkaW5nRGF0YSB8IG51bGw+KG51bGwpO1xuXG4gIC8vIEdldCBjdXJyZW50IHVzZXJcbiAgY29uc3QgeyBkYXRhOiB1c2VyIH0gPSB1c2VRdWVyeSh7XG4gICAgcXVlcnlLZXk6IFsnL2FwaS9hdXRoL3VzZXInXSxcbiAgICBxdWVyeUZuOiAoKSA9PiBhcGlSZXF1ZXN0KCdHRVQnLCAnL2FwaS9hdXRoL3VzZXInKSBhcyBQcm9taXNlPGFueT4sXG4gIH0pO1xuXG4gIC8vIEZldGNoIG9yZ2FuaXphdGlvbnMgZm9yIGZvcm1cbiAgY29uc3QgeyBkYXRhOiBvcmdhbml6YXRpb25zID0gW10gfSA9IHVzZVF1ZXJ5KHtcbiAgICBxdWVyeUtleTogWycvYXBpL29yZ2FuaXphdGlvbnMnXSxcbiAgICBxdWVyeUZuOiBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaVJlcXVlc3QoJ0dFVCcsICcvYXBpL29yZ2FuaXphdGlvbnMnKTtcbiAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgfSxcbiAgfSk7XG5cbiAgLy8gRmV0Y2ggYnVpbGRpbmdzIHVzaW5nIHRoZSB3b3JraW5nIG1hbmFnZXIgZW5kcG9pbnRcbiAgY29uc3Qge1xuICAgIGRhdGE6IGJ1aWxkaW5nc0RhdGEsXG4gICAgaXNMb2FkaW5nLFxuICAgIGVycm9yOiBfZXJyb3IsXG4gIH0gPSB1c2VRdWVyeSh7XG4gICAgcXVlcnlLZXk6IFsnL2FwaS9tYW5hZ2VyL2J1aWxkaW5ncyddLFxuICAgIHF1ZXJ5Rm46IGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpUmVxdWVzdCgnR0VUJywgJy9hcGkvbWFuYWdlci9idWlsZGluZ3MnKTtcbiAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgfSxcbiAgfSk7XG5cbiAgLy8gRXh0cmFjdCBidWlsZGluZ3MgYXJyYXkgZnJvbSB0aGUgd3JhcHBlZCByZXNwb25zZVxuICBjb25zdCBidWlsZGluZ3MgPSAoYnVpbGRpbmdzRGF0YSBhcyBhbnkpPy5idWlsZGluZ3MgfHwgW107XG5cbiAgLy8gRmlsdGVyIGJ1aWxkaW5ncyBiYXNlZCBvbiBzZWFyY2hcbiAgY29uc3QgZmlsdGVyZWRCdWlsZGluZ3MgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYnVpbGRpbmdzKSkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICByZXR1cm4gYnVpbGRpbmdzLmZpbHRlcihcbiAgICAgIChidWlsZGluZykgPT5cbiAgICAgICAgYnVpbGRpbmcubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaFRlcm0udG9Mb3dlckNhc2UoKSkgfHxcbiAgICAgICAgYnVpbGRpbmcuYWRkcmVzcy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaFRlcm0udG9Mb3dlckNhc2UoKSlcbiAgICApO1xuICB9LCBbYnVpbGRpbmdzLCBzZWFyY2hUZXJtXSk7XG5cbiAgLy8gRm9ybSBmb3IgY3JlYXRpbmcgYnVpbGRpbmdzXG4gIGNvbnN0IGZvcm0gPSB1c2VGb3JtPEJ1aWxkaW5nRm9ybURhdGE+KHtcbiAgICByZXNvbHZlcjogem9kUmVzb2x2ZXIoYnVpbGRpbmdGb3JtU2NoZW1hKSxcbiAgICBkZWZhdWx0VmFsdWVzOiB7XG4gICAgICBuYW1lOiAnJyxcbiAgICAgIGFkZHJlc3M6ICcnLFxuICAgICAgY2l0eTogJycsXG4gICAgICBwcm92aW5jZTogJ1FDJyxcbiAgICAgIHBvc3RhbENvZGU6ICcnLFxuICAgICAgYnVpbGRpbmdUeXBlOiAnY29uZG8nLFxuICAgICAgdG90YWxVbml0czogMSxcbiAgICAgIG9yZ2FuaXphdGlvbklkOiAnJyxcbiAgICB9LFxuICB9KTtcblxuICAvLyBGb3JtIGZvciBlZGl0aW5nIGJ1aWxkaW5nc1xuICBjb25zdCBlZGl0Rm9ybSA9IHVzZUZvcm08QnVpbGRpbmdGb3JtRGF0YT4oe1xuICAgIHJlc29sdmVyOiB6b2RSZXNvbHZlcihidWlsZGluZ0Zvcm1TY2hlbWEpLFxuICB9KTtcblxuICAvLyBNdXRhdGlvbnNcbiAgY29uc3QgY3JlYXRlQnVpbGRpbmdNdXRhdGlvbiA9IHVzZU11dGF0aW9uKHtcbiAgICBtdXRhdGlvbkZuOiAoZGF0YTogQnVpbGRpbmdGb3JtRGF0YSkgPT4gYXBpUmVxdWVzdCgnUE9TVCcsICcvYXBpL2FkbWluL2J1aWxkaW5ncycsIGRhdGEpLFxuICAgIG9uU3VjY2VzczogKCkgPT4ge1xuICAgICAgcXVlcnlDbGllbnQuaW52YWxpZGF0ZVF1ZXJpZXMoeyBxdWVyeUtleTogWycvYXBpL21hbmFnZXIvYnVpbGRpbmdzJ10gfSk7XG4gICAgICBzZXRJc0FkZERpYWxvZ09wZW4oZmFsc2UpO1xuICAgICAgZm9ybS5yZXNldCgpO1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ1N1Y2Nlc3MnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0J1aWxkaW5nIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5JyxcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgb25FcnJvcjogKGVycm9yOiBhbnkpID0+IHtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6ICdFcnJvcicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gY3JlYXRlIGJ1aWxkaW5nJyxcbiAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJyxcbiAgICAgIH0pO1xuICAgIH0sXG4gIH0pO1xuXG4gIGNvbnN0IHVwZGF0ZUJ1aWxkaW5nTXV0YXRpb24gPSB1c2VNdXRhdGlvbih7XG4gICAgbXV0YXRpb25GbjogKHsgaWQsIGRhdGEgfTogeyBpZDogc3RyaW5nOyBkYXRhOiBCdWlsZGluZ0Zvcm1EYXRhIH0pID0+XG4gICAgICBhcGlSZXF1ZXN0KCdQVVQnLCBgL2FwaS9hZG1pbi9idWlsZGluZ3MvJHtpZH1gLCBkYXRhKSxcbiAgICBvblN1Y2Nlc3M6ICgpID0+IHtcbiAgICAgIHF1ZXJ5Q2xpZW50LmludmFsaWRhdGVRdWVyaWVzKHsgcXVlcnlLZXk6IFsnL2FwaS9tYW5hZ2VyL2J1aWxkaW5ncyddIH0pO1xuICAgICAgc2V0SXNFZGl0RGlhbG9nT3BlbihmYWxzZSk7XG4gICAgICBzZXRFZGl0aW5nQnVpbGRpbmcobnVsbCk7XG4gICAgICBlZGl0Rm9ybS5yZXNldCgpO1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ1N1Y2Nlc3MnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0J1aWxkaW5nIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5JyxcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgb25FcnJvcjogKGVycm9yOiBhbnkpID0+IHtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6ICdFcnJvcicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gdXBkYXRlIGJ1aWxkaW5nJyxcbiAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJyxcbiAgICAgIH0pO1xuICAgIH0sXG4gIH0pO1xuXG4gIGNvbnN0IGRlbGV0ZUJ1aWxkaW5nTXV0YXRpb24gPSB1c2VNdXRhdGlvbih7XG4gICAgbXV0YXRpb25GbjogKGJ1aWxkaW5nSWQ6IHN0cmluZykgPT4gYXBpUmVxdWVzdCgnREVMRVRFJywgYC9hcGkvYWRtaW4vYnVpbGRpbmdzLyR7YnVpbGRpbmdJZH1gKSxcbiAgICBvblN1Y2Nlc3M6ICgpID0+IHtcbiAgICAgIHF1ZXJ5Q2xpZW50LmludmFsaWRhdGVRdWVyaWVzKHsgcXVlcnlLZXk6IFsnL2FwaS9tYW5hZ2VyL2J1aWxkaW5ncyddIH0pO1xuICAgICAgcXVlcnlDbGllbnQuaW52YWxpZGF0ZVF1ZXJpZXMoeyBxdWVyeUtleTogWycvYXBpL2J1aWxkaW5ncyddIH0pO1xuICAgICAgc2V0RGVsZXRpbmdCdWlsZGluZyhudWxsKTtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6ICdTdWNjZXNzJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdCdWlsZGluZyBkZWxldGVkIHN1Y2Nlc3NmdWxseScsXG4gICAgICB9KTtcbiAgICB9LFxuICAgIG9uRXJyb3I6IChlcnJvcjogYW55KSA9PiB7XG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiAnRXJyb3InLFxuICAgICAgICBkZXNjcmlwdGlvbjogZXJyb3IubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGRlbGV0ZSBidWlsZGluZycsXG4gICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsXG4gICAgICB9KTtcbiAgICB9LFxuICB9KTtcblxuICAvLyBFdmVudCBoYW5kbGVyc1xuICBjb25zdCBoYW5kbGVDcmVhdGVCdWlsZGluZyA9IGFzeW5jIChkYXRhOiBCdWlsZGluZ0Zvcm1EYXRhKSA9PiB7XG4gICAgY3JlYXRlQnVpbGRpbmdNdXRhdGlvbi5tdXRhdGUoZGF0YSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRWRpdEJ1aWxkaW5nID0gKGJ1aWxkaW5nOiBCdWlsZGluZ0RhdGEpID0+IHtcbiAgICBzZXRFZGl0aW5nQnVpbGRpbmcoYnVpbGRpbmcpO1xuICAgIGVkaXRGb3JtLnJlc2V0KHtcbiAgICAgIG5hbWU6IGJ1aWxkaW5nLm5hbWUsXG4gICAgICBhZGRyZXNzOiBidWlsZGluZy5hZGRyZXNzLFxuICAgICAgY2l0eTogYnVpbGRpbmcuY2l0eSxcbiAgICAgIHByb3ZpbmNlOiBidWlsZGluZy5wcm92aW5jZSxcbiAgICAgIHBvc3RhbENvZGU6IGJ1aWxkaW5nLnBvc3RhbENvZGUsXG4gICAgICBidWlsZGluZ1R5cGU6IGJ1aWxkaW5nLmJ1aWxkaW5nVHlwZSBhcyBhbnksXG4gICAgICB0b3RhbFVuaXRzOiBidWlsZGluZy50b3RhbFVuaXRzLFxuICAgICAgb3JnYW5pemF0aW9uSWQ6IGJ1aWxkaW5nLm9yZ2FuaXphdGlvbklkLFxuICAgIH0pO1xuICAgIHNldElzRWRpdERpYWxvZ09wZW4odHJ1ZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlVXBkYXRlQnVpbGRpbmcgPSBhc3luYyAoZGF0YTogQnVpbGRpbmdGb3JtRGF0YSkgPT4ge1xuICAgIGlmIChlZGl0aW5nQnVpbGRpbmcpIHtcbiAgICAgIHVwZGF0ZUJ1aWxkaW5nTXV0YXRpb24ubXV0YXRlKHsgaWQ6IGVkaXRpbmdCdWlsZGluZy5pZCwgZGF0YSB9KTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRGVsZXRlQnVpbGRpbmcgPSAoYnVpbGRpbmc6IEJ1aWxkaW5nRGF0YSkgPT4ge1xuICAgIHNldERlbGV0aW5nQnVpbGRpbmcoYnVpbGRpbmcpO1xuICB9O1xuXG4gIGNvbnN0IGNvbmZpcm1EZWxldGVCdWlsZGluZyA9ICgpID0+IHtcbiAgICBpZiAoZGVsZXRpbmdCdWlsZGluZykge1xuICAgICAgZGVsZXRlQnVpbGRpbmdNdXRhdGlvbi5tdXRhdGUoZGVsZXRpbmdCdWlsZGluZy5pZCk7XG4gICAgfVxuICB9O1xuXG4gIGlmIChpc0xvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXgtMSBmbGV4IGZsZXgtY29sIG92ZXJmbG93LWhpZGRlbic+XG4gICAgICAgIDxIZWFkZXIgdGl0bGU9J0J1aWxkaW5ncycgc3VidGl0bGU9J0xvYWRpbmcgYnVpbGRpbmdzLi4uJyAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleC0xIG92ZXJmbG93LWF1dG8gcC02Jz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndGV4dC1jZW50ZXIgcHktOCc+TG9hZGluZyBidWlsZGluZ3MuLi48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgaWYgKF9lcnJvcikge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleC0xIGZsZXggZmxleC1jb2wgb3ZlcmZsb3ctaGlkZGVuJz5cbiAgICAgICAgPEhlYWRlciB0aXRsZT0nQnVpbGRpbmdzJyBzdWJ0aXRsZT0nRXJyb3IgbG9hZGluZyBidWlsZGluZ3MnIC8+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXgtMSBvdmVyZmxvdy1hdXRvIHAtNic+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J21heC13LTR4bCBteC1hdXRvJz5cbiAgICAgICAgICAgIDxDYXJkPlxuICAgICAgICAgICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPSdwLTggdGV4dC1jZW50ZXInPlxuICAgICAgICAgICAgICAgIDxCdWlsZGluZyBjbGFzc05hbWU9J3ctMTYgaC0xNiBteC1hdXRvIHRleHQtcmVkLTQwMCBtYi00JyAvPlxuICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9J3RleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LXJlZC02MDAgbWItMic+RXJyb3IgTG9hZGluZyBCdWlsZGluZ3M8L2gzPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0ndGV4dC1yZWQtNTAwIG1iLTQnPlxuICAgICAgICAgICAgICAgICAgRmFpbGVkIHRvIGxvYWQgYnVpbGRpbmdzIGRhdGEuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuXG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDxCYWRnZSB2YXJpYW50PSdkZXN0cnVjdGl2ZSc+RXJyb3I8L0JhZGdlPlxuICAgICAgICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgICAgICAgPC9DYXJkPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4LTEgZmxleCBmbGV4LWNvbCBvdmVyZmxvdy1oaWRkZW4nPlxuICAgICAgPEhlYWRlclxuICAgICAgICB0aXRsZT17dCgnYnVpbGRpbmdzJyl9XG4gICAgICAgIHN1YnRpdGxlPXt0KCdtYW5hZ2VCdWlsZGluZ3MnKX1cbiAgICAgIC8+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4LTEgb3ZlcmZsb3ctYXV0byBwLTYnPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbWF4LXctNnhsIG14LWF1dG8gc3BhY2UteS02Jz5cbiAgICAgICAgICB7LyogU2VhcmNoIGFuZCBBZGQgQnVpbGRpbmcgQ29udHJvbHMgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXggZmxleC1jb2wgc206ZmxleC1yb3cgZ2FwLTQgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2Vlbic+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncmVsYXRpdmUgdy1mdWxsIHNtOnctOTYnPlxuICAgICAgICAgICAgICA8U2VhcmNoIGNsYXNzTmFtZT0nYWJzb2x1dGUgbGVmdC0zIHRvcC0xLzIgdHJhbnNmb3JtIC10cmFuc2xhdGUteS0xLzIgdGV4dC1ncmF5LTQwMCB3LTQgaC00JyAvPlxuICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17dCgnc2VhcmNoQnVpbGRpbmdzQWRkcmVzcycpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXtzZWFyY2hUZXJtfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0U2VhcmNoVGVybShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdwbC0xMCdcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7dXNlcj8ucm9sZSA9PT0gJ2FkbWluJyAmJiAoXG4gICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17KCkgPT4gc2V0SXNBZGREaWFsb2dPcGVuKHRydWUpfT5cbiAgICAgICAgICAgICAgICA8UGx1cyBjbGFzc05hbWU9J3ctNCBoLTQgbXItMicgLz5cbiAgICAgICAgICAgICAgICB7dCgnYWRkQnVpbGRpbmcnKX1cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIEJ1aWxkaW5ncyBHcmlkICovfVxuICAgICAgICAgIHtmaWx0ZXJlZEJ1aWxkaW5ncy5sZW5ndGggPiAwID8gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2dyaWQgZ3JpZC1jb2xzLTEgbGc6Z3JpZC1jb2xzLTIgeGw6Z3JpZC1jb2xzLTMgZ2FwLTYnPlxuICAgICAgICAgICAgICB7ZmlsdGVyZWRCdWlsZGluZ3MubWFwKChidWlsZGluZykgPT4gKFxuICAgICAgICAgICAgICAgIDxCdWlsZGluZ0NhcmRcbiAgICAgICAgICAgICAgICAgIGtleT17YnVpbGRpbmcuaWR9XG4gICAgICAgICAgICAgICAgICBidWlsZGluZz17YnVpbGRpbmd9XG4gICAgICAgICAgICAgICAgICB1c2VyUm9sZT17dXNlcj8ucm9sZX1cbiAgICAgICAgICAgICAgICAgIG9uRWRpdD17aGFuZGxlRWRpdEJ1aWxkaW5nfVxuICAgICAgICAgICAgICAgICAgb25EZWxldGU9e2hhbmRsZURlbGV0ZUJ1aWxkaW5nfVxuICAgICAgICAgICAgICAgICAgdD17dH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8Tm9EYXRhQ2FyZFxuICAgICAgICAgICAgICBpY29uPXtCdWlsZGluZ31cbiAgICAgICAgICAgICAgdGl0bGVLZXk9XCJub0J1aWxkaW5nc0ZvdW5kXCJcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb25LZXk9e3VzZXI/LnJvbGUgPT09ICdhZG1pbicgPyAnbm9CdWlsZGluZ3NBZG1pbk1lc3NhZ2UnIDogJ25vQnVpbGRpbmdzVXNlck1lc3NhZ2UnfVxuICAgICAgICAgICAgICBiYWRnZUtleT1cIm5vRGF0YVwiXG4gICAgICAgICAgICAgIHRlc3RJZD1cIm5vLWJ1aWxkaW5ncy1tZXNzYWdlXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHsvKiBBZGQgQnVpbGRpbmcgRGlhbG9nICovfVxuICAgICAgICAgIDxCdWlsZGluZ0Zvcm1cbiAgICAgICAgICAgIGlzT3Blbj17aXNBZGREaWFsb2dPcGVufVxuICAgICAgICAgICAgb25PcGVuQ2hhbmdlPXtzZXRJc0FkZERpYWxvZ09wZW59XG4gICAgICAgICAgICBmb3JtPXtmb3JtfVxuICAgICAgICAgICAgb25TdWJtaXQ9e2hhbmRsZUNyZWF0ZUJ1aWxkaW5nfVxuICAgICAgICAgICAgb3JnYW5pemF0aW9ucz17b3JnYW5pemF0aW9uc31cbiAgICAgICAgICAgIGlzU3VibWl0dGluZz17Y3JlYXRlQnVpbGRpbmdNdXRhdGlvbi5pc1BlbmRpbmd9XG4gICAgICAgICAgICB0aXRsZT17dCgnYWRkQnVpbGRpbmcnKX1cbiAgICAgICAgICAgIHN1Ym1pdExhYmVsPXt0KCdjcmVhdGVCdWlsZGluZycpfVxuICAgICAgICAgICAgdD17dH1cbiAgICAgICAgICAvPlxuXG4gICAgICAgICAgey8qIEVkaXQgQnVpbGRpbmcgRGlhbG9nICovfVxuICAgICAgICAgIDxCdWlsZGluZ0Zvcm1cbiAgICAgICAgICAgIGlzT3Blbj17aXNFZGl0RGlhbG9nT3Blbn1cbiAgICAgICAgICAgIG9uT3BlbkNoYW5nZT17c2V0SXNFZGl0RGlhbG9nT3Blbn1cbiAgICAgICAgICAgIGZvcm09e2VkaXRGb3JtfVxuICAgICAgICAgICAgb25TdWJtaXQ9e2hhbmRsZVVwZGF0ZUJ1aWxkaW5nfVxuICAgICAgICAgICAgb3JnYW5pemF0aW9ucz17b3JnYW5pemF0aW9uc31cbiAgICAgICAgICAgIGlzU3VibWl0dGluZz17dXBkYXRlQnVpbGRpbmdNdXRhdGlvbi5pc1BlbmRpbmd9XG4gICAgICAgICAgICB0aXRsZT17dCgnZWRpdEJ1aWxkaW5nJyl9XG4gICAgICAgICAgICBzdWJtaXRMYWJlbD17dCgnc2F2ZScpfVxuICAgICAgICAgICAgdD17dH1cbiAgICAgICAgICAvPlxuXG4gICAgICAgICAgey8qIERlbGV0ZSBDb25maXJtYXRpb24gRGlhbG9nICovfVxuICAgICAgICAgIDxEaWFsb2cgb3Blbj17ISFkZWxldGluZ0J1aWxkaW5nfSBvbk9wZW5DaGFuZ2U9eygpID0+IHNldERlbGV0aW5nQnVpbGRpbmcobnVsbCl9PlxuICAgICAgICAgICAgPERpYWxvZ0NvbnRlbnQ+XG4gICAgICAgICAgICAgIDxEaWFsb2dIZWFkZXI+XG4gICAgICAgICAgICAgICAgPERpYWxvZ1RpdGxlPkRlbGV0ZSBCdWlsZGluZzwvRGlhbG9nVGl0bGU+XG4gICAgICAgICAgICAgICAgPERpYWxvZ0Rlc2NyaXB0aW9uPlxuICAgICAgICAgICAgICAgICAgQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSBcIntkZWxldGluZ0J1aWxkaW5nPy5uYW1lfVwiPyBUaGlzIGFjdGlvbiBjYW5ub3QgYmVcbiAgICAgICAgICAgICAgICAgIHVuZG9uZS5cbiAgICAgICAgICAgICAgICA8L0RpYWxvZ0Rlc2NyaXB0aW9uPlxuICAgICAgICAgICAgICA8L0RpYWxvZ0hlYWRlcj5cbiAgICAgICAgICAgICAgPERpYWxvZ0Zvb3Rlcj5cbiAgICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9J291dGxpbmUnIG9uQ2xpY2s9eygpID0+IHNldERlbGV0aW5nQnVpbGRpbmcobnVsbCl9PlxuICAgICAgICAgICAgICAgICAgQ2FuY2VsXG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgdmFyaWFudD0nZGVzdHJ1Y3RpdmUnXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtjb25maXJtRGVsZXRlQnVpbGRpbmd9XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGVsZXRlQnVpbGRpbmdNdXRhdGlvbi5pc1BlbmRpbmd9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge2RlbGV0ZUJ1aWxkaW5nTXV0YXRpb24uaXNQZW5kaW5nID8gJ0RlbGV0aW5nLi4uJyA6ICdEZWxldGUnfVxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8L0RpYWxvZ0Zvb3Rlcj5cbiAgICAgICAgICAgIDwvRGlhbG9nQ29udGVudD5cbiAgICAgICAgICA8L0RpYWxvZz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJ2ZXJzaW9uIjozfQ==