492761b62732f872be95c2d40e668a0e
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = Permissions;
const jsx_runtime_1 = require("react/jsx-runtime");
const header_1 = require("@/components/layout/header");
const card_1 = require("@/components/ui/card");
const badge_1 = require("@/components/ui/badge");
const button_1 = require("@/components/ui/button");
const table_1 = require("@/components/ui/table");
const tabs_1 = require("@/components/ui/tabs");
const select_1 = require("@/components/ui/select");
const input_1 = require("@/components/ui/input");
const react_query_1 = require("@tanstack/react-query");
const use_language_1 = require("@/hooks/use-language");
const lucide_react_1 = require("lucide-react");
const react_1 = require("react");
const queryClient_1 = require("@/lib/queryClient");
const use_toast_1 = require("@/hooks/use-toast");
// Permissions config reference for display purposes
const permissionsConfig = {
    admin: { length: 148 },
    manager: { length: 70 },
    tenant: { length: 9 },
    resident: { length: 9 },
};
/**
 * RBAC Permissions Management Page
 * Shows actual permissions being used in the platform and provides management capabilities.
 */
function Permissions() {
    const { t } = (0, use_language_1.useLanguage)();
    const { toast } = (0, use_toast_1.useToast)();
    const [activeTab, setActiveTab] = (0, react_1.useState)('users');
    const [searchQuery, setSearchQuery] = (0, react_1.useState)('');
    const [filterRole, setFilterRole] = (0, react_1.useState)('all');
    const [editingUser, setEditingUser] = (0, react_1.useState)(null);
    const [showNewPermissionForm, setShowNewPermissionForm] = (0, react_1.useState)(false);
    const [selectedCategory, setSelectedCategory] = (0, react_1.useState)('all');
    const [currentPage, setCurrentPage] = (0, react_1.useState)(1);
    const itemsPerPage = 5;
    // Additional filters
    const [filterUserStatus, setFilterUserStatus] = (0, react_1.useState)('all'); // active, inactive, all
    const [filterPermissionStatus, setFilterPermissionStatus] = (0, react_1.useState)('all'); // granted, revoked, all
    const [permissionSearchQuery, setPermissionSearchQuery] = (0, react_1.useState)('');
    const [filterActionType, setFilterActionType] = (0, react_1.useState)('all'); // read, write, delete, all
    const [sortBy, setSortBy] = (0, react_1.useState)('name'); // name, resource, action, date
    // Fetch permissions matrix (includes all permission data grouped by resource)
    const { data: permissionsMatrix, isLoading: matrixLoading } = (0, react_query_1.useQuery)({
        queryKey: ['/api/permissions-matrix'],
    });
    // Fetch user permissions
    const { data: userPermissions, isLoading: userPermissionsLoading } = (0, react_query_1.useQuery)({
        queryKey: ['/api/user-permissions'],
    });
    // Fetch users
    const { data: users, isLoading: usersLoading } = (0, react_query_1.useQuery)({
        queryKey: ['/api/users'],
    });
    const isLoading = matrixLoading || userPermissionsLoading || usersLoading;
    // Extract data from matrix
    const permissions = permissionsMatrix?.permissions || [];
    const rolePermissions = permissionsMatrix?.rolePermissions || [];
    const permissionsByResource = permissionsMatrix?.permissionsByResource || {};
    const roleMatrix = permissionsMatrix?.roleMatrix || {};
    // Group permissions by role for backward compatibility
    const permissionsByRole = rolePermissions.reduce((acc, rp) => {
        if (!acc[rp.role]) {
            acc[rp.role] = [];
        }
        acc[rp.role].push(rp);
        return acc;
    }, {});
    // Available roles (now from actual RBAC system)
    const roles = ['admin', 'manager', 'tenant', 'resident'];
    // Fetch permission categories for filtering
    const { data: permissionCategories } = (0, react_query_1.useQuery)({
        queryKey: ['/api/permission-categories'],
    });
    // Get unique categories from permissions
    const categories = permissionCategories?.map((cat) => cat.name) || [];
    // Filter users based on search, role, and status
    const filteredUsers = users?.filter((user) => {
        const matchesSearch = searchQuery === '' ||
            user.email.toLowerCase().includes(searchQuery.toLowerCase()) ||
            `${user.firstName} ${user.lastName}`.toLowerCase().includes(searchQuery.toLowerCase());
        const matchesRole = filterRole === 'all' || user.role === filterRole;
        const matchesStatus = filterUserStatus === 'all' ||
            (filterUserStatus === 'active' && user.isActive) ||
            (filterUserStatus === 'inactive' && !user.isActive);
        // Filter by permission status if specified
        if (filterPermissionStatus !== 'all') {
            const userSpecificPermissions = userPermissions?.filter((up) => up.userId === user.id) || [];
            const hasGrantedPermissions = userSpecificPermissions.some((up) => up.granted);
            const hasRevokedPermissions = userSpecificPermissions.some((up) => !up.granted);
            if (filterPermissionStatus === 'granted' && !hasGrantedPermissions) {
                return false;
            }
            if (filterPermissionStatus === 'revoked' && !hasRevokedPermissions) {
                return false;
            }
        }
        return matchesSearch && matchesRole && matchesStatus;
    }) || [];
    // Pagination calculations
    const totalUsers = filteredUsers.length;
    const totalPages = Math.ceil(totalUsers / itemsPerPage);
    const startIndex = (currentPage - 1) * itemsPerPage;
    const endIndex = startIndex + itemsPerPage;
    const currentUsers = filteredUsers.slice(startIndex, endIndex);
    // Reset page when filters change
    const handleSearchChange = (value) => {
        setSearchQuery(value);
        setCurrentPage(1);
    };
    const handleRoleChange = (value) => {
        setFilterRole(value);
        setCurrentPage(1);
    };
    // Set default category to first available category if none selected
    (0, react_1.useEffect)(() => {
        const availableCategories = Object.keys(permissionsByResource);
        if (!selectedCategory && availableCategories.length > 0) {
            setSelectedCategory(availableCategories[0]);
        }
    }, [permissionsByResource, selectedCategory]);
    // Filter permissions by category, search, and action type
    const filteredPermissions = permissions?.filter((permission) => {
        // Category filter
        if (selectedCategory !== 'all' && permission.resourceType !== selectedCategory) {
            return false;
        }
        // Search filter
        if (permissionSearchQuery) {
            const searchLower = permissionSearchQuery.toLowerCase();
            const matchesSearch = permission.name.toLowerCase().includes(searchLower) ||
                permission.displayName.toLowerCase().includes(searchLower) ||
                permission.description.toLowerCase().includes(searchLower) ||
                permission.resourceType.toLowerCase().includes(searchLower);
            if (!matchesSearch) {
                return false;
            }
        }
        // Action type filter
        if (filterActionType !== 'all') {
            const actionMatches = permission.action
                .toLowerCase()
                .includes(filterActionType.toLowerCase());
            if (!actionMatches) {
                return false;
            }
        }
        return true;
    }) || [];
    // Sort permissions
    const sortedPermissions = [...filteredPermissions].sort((a, b) => {
        switch (sortBy) {
            case 'name':
                return a.displayName.localeCompare(b.displayName);
            case 'resource':
                return a.resourceType.localeCompare(b.resourceType);
            case 'action':
                return a.action.localeCompare(b.action);
            case 'date':
                return new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime();
            default:
                return 0;
        }
    });
    // Get unique action types for filter
    const actionTypes = [...new Set(permissions?.map((p) => p.action) || [])];
    // Reset filters functions
    const resetUserFilters = () => {
        setSearchQuery('');
        setFilterRole('all');
        setFilterUserStatus('all');
        setFilterPermissionStatus('all');
        setCurrentPage(1);
    };
    const resetPermissionFilters = () => {
        setPermissionSearchQuery('');
        setSelectedCategory('all');
        setFilterActionType('all');
        setSortBy('name');
    };
    // Mutations for managing permissions
    const grantUserPermissionMutation = (0, react_query_1.useMutation)({
        mutationFn: (data) => (0, queryClient_1.apiRequest)('POST', '/api/user-permissions', data),
        onSuccess: () => {
            queryClient_1.queryClient.invalidateQueries({ queryKey: ['/api/user-permissions'] });
            toast({
                title: 'Permission Granted',
                description: 'User permission has been successfully granted.',
            });
        },
        onError: (error) => {
            toast({
                title: 'Error',
                description: error.response?.data?.message || 'Failed to grant permission',
                variant: 'destructive',
            });
        },
    });
    const validatePermissionMutation = (0, react_query_1.useMutation)({
        mutationFn: (permission) => (0, queryClient_1.apiRequest)('POST', '/api/permissions/validate', { permission }),
        onSuccess: (data) => {
            toast({
                title: 'Permission Validation',
                description: `${data.message} for role: ${data.role}`,
                variant: data.hasPermission ? 'default' : 'destructive',
            });
        },
    });
    return ((0, jsx_runtime_1.jsxs)("div", { className: 'flex-1 flex flex-col overflow-hidden', children: [(0, jsx_runtime_1.jsx)(header_1.Header, { title: 'RBAC Permissions', subtitle: 'Manage role-based access control and user permissions' }), (0, jsx_runtime_1.jsx)("div", { className: 'flex-1 overflow-auto p-6', children: (0, jsx_runtime_1.jsxs)("div", { className: 'max-w-7xl mx-auto space-y-6', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'grid grid-cols-1 md:grid-cols-4 gap-6', children: [(0, jsx_runtime_1.jsx)(card_1.Card, { className: 'hover:shadow-md transition-shadow cursor-pointer', onClick: () => setActiveTab('permissions'), children: (0, jsx_runtime_1.jsx)(card_1.CardContent, { className: 'p-6', children: (0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center justify-between', children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("p", { className: 'text-sm font-medium text-gray-600', children: "System Permissions" }), (0, jsx_runtime_1.jsx)("p", { className: 'text-2xl font-bold text-koveo-navy', children: permissions?.length || 0 }), (0, jsx_runtime_1.jsx)("p", { className: 'text-xs text-gray-500 mt-1', children: "Active permissions" })] }), (0, jsx_runtime_1.jsx)(lucide_react_1.Shield, { className: 'h-8 w-8 text-koveo-navy' })] }) }) }), (0, jsx_runtime_1.jsx)(card_1.Card, { className: 'hover:shadow-md transition-shadow cursor-pointer', onClick: () => setActiveTab('permissions'), children: (0, jsx_runtime_1.jsx)(card_1.CardContent, { className: 'p-6', children: (0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center justify-between', children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("p", { className: 'text-sm font-medium text-gray-600', children: "Role Hierarchy" }), (0, jsx_runtime_1.jsx)("p", { className: 'text-2xl font-bold text-koveo-navy', children: roles.length }), (0, jsx_runtime_1.jsx)("p", { className: 'text-xs text-gray-500 mt-1', children: "Admin \u2192 Manager \u2192 Resident \u2192 Tenant" })] }), (0, jsx_runtime_1.jsx)(lucide_react_1.Users, { className: 'h-8 w-8 text-koveo-navy' })] }) }) }), (0, jsx_runtime_1.jsx)(card_1.Card, { className: 'hover:shadow-md transition-shadow cursor-pointer', onClick: () => setActiveTab('permissions'), children: (0, jsx_runtime_1.jsx)(card_1.CardContent, { className: 'p-6', children: (0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center justify-between', children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("p", { className: 'text-sm font-medium text-gray-600', children: "Permission Matrix" }), (0, jsx_runtime_1.jsx)("p", { className: 'text-2xl font-bold text-koveo-navy', children: "12" }), (0, jsx_runtime_1.jsx)("p", { className: 'text-xs text-gray-500 mt-1', children: "Permission categories" })] }), (0, jsx_runtime_1.jsx)(lucide_react_1.Settings, { className: 'h-8 w-8 text-koveo-navy' })] }) }) }), (0, jsx_runtime_1.jsx)(card_1.Card, { className: 'hover:shadow-md transition-shadow cursor-pointer', onClick: () => setActiveTab('users'), children: (0, jsx_runtime_1.jsx)(card_1.CardContent, { className: 'p-6', children: (0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center justify-between', children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("p", { className: 'text-sm font-medium text-gray-600', children: "User Overrides" }), (0, jsx_runtime_1.jsx)("p", { className: 'text-2xl font-bold text-koveo-navy', children: userPermissions?.length || 0 }), (0, jsx_runtime_1.jsx)("p", { className: 'text-xs text-gray-500 mt-1', children: userPermissions?.length === 0 ? 'Role-based only' : 'Custom permissions' })] }), (0, jsx_runtime_1.jsx)(lucide_react_1.Shield, { className: 'h-8 w-8 text-koveo-navy' })] }) }) })] }), (0, jsx_runtime_1.jsxs)(tabs_1.Tabs, { value: activeTab, onValueChange: setActiveTab, className: 'w-full', children: [(0, jsx_runtime_1.jsxs)(tabs_1.TabsList, { className: 'grid w-full grid-cols-2', children: [(0, jsx_runtime_1.jsx)(tabs_1.TabsTrigger, { value: 'users', children: "User Permissions" }), (0, jsx_runtime_1.jsx)(tabs_1.TabsTrigger, { value: 'permissions', children: "All Permissions" })] }), (0, jsx_runtime_1.jsx)(tabs_1.TabsContent, { value: 'users', className: 'space-y-6', children: (0, jsx_runtime_1.jsxs)(card_1.Card, { children: [(0, jsx_runtime_1.jsx)(card_1.CardHeader, { children: (0, jsx_runtime_1.jsxs)(card_1.CardTitle, { className: 'flex items-center gap-2', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Shield, { className: 'h-5 w-5' }), "User-Specific Permissions"] }) }), (0, jsx_runtime_1.jsxs)(card_1.CardContent, { children: [(0, jsx_runtime_1.jsxs)("div", { className: 'space-y-4 mb-6', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'flex gap-4', children: [(0, jsx_runtime_1.jsx)("div", { className: 'flex-1', children: (0, jsx_runtime_1.jsxs)("div", { className: 'relative', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Search, { className: 'absolute left-3 top-3 h-4 w-4 text-gray-400' }), (0, jsx_runtime_1.jsx)(input_1.Input, { placeholder: 'Search users by name or email...', value: searchQuery, onChange: (e) => handleSearchChange(e.target.value), className: 'pl-10', "data-testid": 'input-user-search' })] }) }), (0, jsx_runtime_1.jsxs)(select_1.Select, { value: filterRole, onValueChange: handleRoleChange, children: [(0, jsx_runtime_1.jsx)(select_1.SelectTrigger, { className: 'w-40', "data-testid": 'select-role-filter', children: (0, jsx_runtime_1.jsx)(select_1.SelectValue, { placeholder: 'Filter by role' }) }), (0, jsx_runtime_1.jsxs)(select_1.SelectContent, { children: [(0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'all', children: "All Roles" }), roles.map((role) => ((0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: role, children: role.charAt(0).toUpperCase() + role.slice(1) }, role)))] })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: 'flex gap-4 items-center', children: [(0, jsx_runtime_1.jsxs)(select_1.Select, { value: filterUserStatus, onValueChange: setFilterUserStatus, children: [(0, jsx_runtime_1.jsx)(select_1.SelectTrigger, { className: 'w-40', "data-testid": 'select-user-status-filter', children: (0, jsx_runtime_1.jsx)(select_1.SelectValue, { placeholder: 'User status' }) }), (0, jsx_runtime_1.jsxs)(select_1.SelectContent, { children: [(0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'all', children: "All Users" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'active', children: "Active Only" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'inactive', children: "Inactive Only" })] })] }), (0, jsx_runtime_1.jsxs)(select_1.Select, { value: filterPermissionStatus, onValueChange: setFilterPermissionStatus, children: [(0, jsx_runtime_1.jsx)(select_1.SelectTrigger, { className: 'w-48', "data-testid": 'select-permission-status-filter', children: (0, jsx_runtime_1.jsx)(select_1.SelectValue, { placeholder: 'Permission status' }) }), (0, jsx_runtime_1.jsxs)(select_1.SelectContent, { children: [(0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'all', children: "All Permission Types" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'granted', children: "Has Granted Permissions" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'revoked', children: "Has Revoked Permissions" })] })] }), (0, jsx_runtime_1.jsxs)(button_1.Button, { variant: 'outline', size: 'sm', onClick: resetUserFilters, className: 'flex items-center gap-2', "data-testid": 'button-reset-user-filters', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.X, { className: 'h-4 w-4' }), "Reset Filters"] })] }), (0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center gap-4 text-sm text-gray-600', children: [(0, jsx_runtime_1.jsxs)("span", { children: ["Showing ", filteredUsers.length, " of ", users?.length || 0, " users"] }), (searchQuery ||
                                                                        filterRole !== 'all' ||
                                                                        filterUserStatus !== 'all' ||
                                                                        filterPermissionStatus !== 'all') && ((0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center gap-2', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Filter, { className: 'h-4 w-4' }), (0, jsx_runtime_1.jsx)("span", { children: "Filters active" })] }))] })] }), isLoading ? ((0, jsx_runtime_1.jsx)("div", { className: 'flex justify-center items-center py-8', children: (0, jsx_runtime_1.jsx)("div", { className: 'animate-spin rounded-full h-8 w-8 border-b-2 border-koveo-navy' }) })) : ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsxs)("div", { className: 'space-y-4', children: [currentUsers.map((user) => {
                                                                        const userSpecificPermissions = userPermissions?.filter((up) => up.userId === user.id) || [];
                                                                        const rolePermissionsCount = permissionsByRole[user.role]?.length || 0;
                                                                        const totalPermissions = rolePermissionsCount +
                                                                            userSpecificPermissions.filter((up) => up.granted).length;
                                                                        return ((0, jsx_runtime_1.jsxs)("div", { className: 'border rounded-lg p-6 hover:shadow-md transition-shadow', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center justify-between mb-4', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center space-x-3', children: [(0, jsx_runtime_1.jsx)("div", { className: 'w-10 h-10 bg-koveo-navy rounded-full flex items-center justify-center', children: (0, jsx_runtime_1.jsxs)("span", { className: 'text-white text-sm font-medium', children: [user.firstName?.charAt(0), user.lastName?.charAt(0)] }) }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsxs)("h4", { className: 'font-semibold text-gray-900', children: [user.firstName, " ", user.lastName] }), (0, jsx_runtime_1.jsx)("p", { className: 'text-sm text-gray-600', children: user.email })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center gap-2', children: [(0, jsx_runtime_1.jsx)(badge_1.Badge, { variant: 'outline', className: 'capitalize font-medium', children: user.role }), (0, jsx_runtime_1.jsx)(badge_1.Badge, { variant: user.isActive ? 'default' : 'secondary', children: user.isActive ? 'Active' : 'Inactive' })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: 'grid grid-cols-3 gap-4 mb-4 p-3 bg-gray-50 rounded-lg', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'text-center', children: [(0, jsx_runtime_1.jsx)("p", { className: 'text-2xl font-bold text-koveo-navy', children: rolePermissionsCount }), (0, jsx_runtime_1.jsx)("p", { className: 'text-xs text-gray-600', children: "Role Permissions" })] }), (0, jsx_runtime_1.jsxs)("div", { className: 'text-center', children: [(0, jsx_runtime_1.jsx)("p", { className: 'text-2xl font-bold text-blue-600', children: userSpecificPermissions.length }), (0, jsx_runtime_1.jsx)("p", { className: 'text-xs text-gray-600', children: "User Overrides" })] }), (0, jsx_runtime_1.jsxs)("div", { className: 'text-center', children: [(0, jsx_runtime_1.jsx)("p", { className: 'text-2xl font-bold text-green-600', children: totalPermissions }), (0, jsx_runtime_1.jsx)("p", { className: 'text-xs text-gray-600', children: "Total Permissions" })] })] }), userSpecificPermissions.length > 0 ? ((0, jsx_runtime_1.jsxs)("div", { className: 'space-y-2', children: [(0, jsx_runtime_1.jsxs)("h5", { className: 'font-medium text-gray-900 flex items-center gap-2', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Settings, { className: 'h-4 w-4' }), "User-Specific Permissions (", userSpecificPermissions.length, ")"] }), (0, jsx_runtime_1.jsx)("div", { className: 'grid grid-cols-1 md:grid-cols-2 gap-2', children: userSpecificPermissions.map((up) => ((0, jsx_runtime_1.jsxs)("div", { className: `text-sm px-3 py-2 rounded-lg border flex items-center justify-between ${up.granted
                                                                                                    ? 'bg-green-50 border-green-200 text-green-800'
                                                                                                    : 'bg-red-50 border-red-200 text-red-800'}`, children: [(0, jsx_runtime_1.jsxs)("div", { className: 'flex-1', children: [(0, jsx_runtime_1.jsx)("p", { className: 'font-medium', children: up.permission?.displayName || up.permissionId }), up.reason && ((0, jsx_runtime_1.jsx)("p", { className: 'text-xs opacity-75 mt-1', children: up.reason }))] }), (0, jsx_runtime_1.jsx)("div", { className: 'flex items-center gap-2', children: (0, jsx_runtime_1.jsx)(badge_1.Badge, { variant: up.granted ? 'default' : 'destructive', className: 'text-xs', children: up.granted ? 'Granted' : 'Revoked' }) })] }, up.id))) }), (0, jsx_runtime_1.jsxs)("div", { className: 'text-xs text-gray-500 mt-2', children: ["Last modified:", ' ', new Date(userSpecificPermissions[0]?.grantedAt).toLocaleDateString()] })] })) : ((0, jsx_runtime_1.jsxs)("div", { className: 'text-center py-4 text-gray-500', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Shield, { className: 'w-8 h-8 mx-auto mb-2 text-gray-400' }), (0, jsx_runtime_1.jsx)("p", { className: 'text-sm', children: "No user-specific permission overrides" }), (0, jsx_runtime_1.jsxs)("p", { className: 'text-xs text-gray-400', children: ["User inherits all permissions from ", user.role, " role"] })] })), (0, jsx_runtime_1.jsxs)("div", { className: 'flex gap-2 mt-4 pt-4 border-t', children: [(0, jsx_runtime_1.jsxs)(button_1.Button, { variant: 'outline', size: 'sm', onClick: () => setEditingUser(editingUser === user.id ? null : user.id), children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Edit, { className: 'h-4 w-4 mr-2' }), editingUser === user.id ? 'Cancel' : 'Manage Permissions'] }), (0, jsx_runtime_1.jsxs)(button_1.Button, { variant: 'ghost', size: 'sm', onClick: () => {
                                                                                                // View detailed permissions for this user
                                                                                                toast({
                                                                                                    title: 'User Details',
                                                                                                    description: `${user.firstName} ${user.lastName} has ${totalPermissions} total permissions`,
                                                                                                });
                                                                                            }, children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Users, { className: 'h-4 w-4 mr-2' }), "View Details"] })] }), editingUser === user.id && ((0, jsx_runtime_1.jsxs)("div", { className: 'mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200', children: [(0, jsx_runtime_1.jsx)("h6", { className: 'font-medium text-blue-900 mb-3', children: "Manage User Permissions" }), (0, jsx_runtime_1.jsxs)("div", { className: 'space-y-3', children: [(0, jsx_runtime_1.jsxs)(select_1.Select, { onValueChange: (permissionId) => {
                                                                                                        grantUserPermissionMutation.mutate({
                                                                                                            userId: user.id,
                                                                                                            permissionId,
                                                                                                            reason: 'Admin granted via permissions page',
                                                                                                        });
                                                                                                    }, children: [(0, jsx_runtime_1.jsx)(select_1.SelectTrigger, { children: (0, jsx_runtime_1.jsx)(select_1.SelectValue, { placeholder: 'Grant a new permission...' }) }), (0, jsx_runtime_1.jsx)(select_1.SelectContent, { children: permissions
                                                                                                                .filter((p) => !userSpecificPermissions.some((up) => up.permissionId === p.id))
                                                                                                                .map((permission) => ((0, jsx_runtime_1.jsxs)(select_1.SelectItem, { value: permission.id, children: [permission.displayName, " (", permission.resourceType, ")"] }, permission.id))) })] }), (0, jsx_runtime_1.jsxs)("div", { className: 'flex gap-2', children: [(0, jsx_runtime_1.jsx)(button_1.Button, { variant: 'outline', size: 'sm', onClick: () => setEditingUser(null), children: "Cancel" }), (0, jsx_runtime_1.jsx)(button_1.Button, { variant: 'ghost', size: 'sm', disabled: true, children: (0, jsx_runtime_1.jsx)(badge_1.Badge, { variant: 'secondary', children: "Future: Bulk Actions" }) })] })] })] }))] }, user.id));
                                                                    }), filteredUsers.length === 0 && ((0, jsx_runtime_1.jsxs)("div", { className: 'text-center py-8 text-gray-500', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Users, { className: 'w-12 h-12 mx-auto mb-4 text-gray-400' }), (0, jsx_runtime_1.jsx)("p", { children: "No users found matching your search criteria." })] }))] }), totalPages > 1 && ((0, jsx_runtime_1.jsxs)("div", { className: 'flex justify-center items-center gap-4 mt-6', children: [(0, jsx_runtime_1.jsx)(button_1.Button, { variant: 'outline', size: 'sm', onClick: () => setCurrentPage((prev) => Math.max(prev - 1, 1)), disabled: currentPage === 1, children: "Previous" }), (0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center gap-2', children: [(0, jsx_runtime_1.jsx)("span", { className: 'text-sm text-gray-600', children: "Page" }), (0, jsx_runtime_1.jsx)(input_1.Input, { type: 'number', min: '1', max: totalPages, value: currentPage, onChange: (e) => {
                                                                                    const page = parseInt(e.target.value);
                                                                                    if (page >= 1 && page <= totalPages) {
                                                                                        setCurrentPage(page);
                                                                                    }
                                                                                }, onBlur: (e) => {
                                                                                    const page = parseInt(e.target.value);
                                                                                    if (isNaN(page) || page < 1) {
                                                                                        setCurrentPage(1);
                                                                                    }
                                                                                    else if (page > totalPages) {
                                                                                        setCurrentPage(totalPages);
                                                                                    }
                                                                                }, className: 'w-16 text-center' }), (0, jsx_runtime_1.jsxs)("span", { className: 'text-sm text-gray-600', children: ["of ", totalPages] })] }), (0, jsx_runtime_1.jsx)(button_1.Button, { variant: 'outline', size: 'sm', onClick: () => setCurrentPage((prev) => Math.min(prev + 1, totalPages)), disabled: currentPage === totalPages, children: "Next" }), (0, jsx_runtime_1.jsxs)("div", { className: 'text-sm text-gray-600', children: ["Showing ", startIndex + 1, "-", Math.min(endIndex, totalUsers), " of", ' ', totalUsers, " users"] })] }))] }))] })] }) }), (0, jsx_runtime_1.jsx)(tabs_1.TabsContent, { value: 'permissions', className: 'space-y-6', children: (0, jsx_runtime_1.jsxs)(card_1.Card, { children: [(0, jsx_runtime_1.jsxs)(card_1.CardHeader, { children: [(0, jsx_runtime_1.jsxs)(card_1.CardTitle, { className: 'flex items-center gap-2', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Shield, { className: 'h-5 w-5' }), "All Permissions"] }), (0, jsx_runtime_1.jsx)("p", { className: 'text-sm text-gray-600', children: "Complete system permissions table with detailed information about each permission." })] }), (0, jsx_runtime_1.jsxs)(card_1.CardContent, { children: [(0, jsx_runtime_1.jsxs)("div", { className: 'space-y-4 mb-6', children: [(0, jsx_runtime_1.jsxs)("div", { className: 'flex gap-4', children: [(0, jsx_runtime_1.jsx)("div", { className: 'flex-1', children: (0, jsx_runtime_1.jsxs)("div", { className: 'relative', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Search, { className: 'absolute left-3 top-3 h-4 w-4 text-gray-400' }), (0, jsx_runtime_1.jsx)(input_1.Input, { placeholder: 'Search permissions by name, description, or resource type...', value: permissionSearchQuery, onChange: (e) => setPermissionSearchQuery(e.target.value), className: 'pl-10', "data-testid": 'input-permission-search' })] }) }), (0, jsx_runtime_1.jsxs)(select_1.Select, { value: selectedCategory, onValueChange: setSelectedCategory, children: [(0, jsx_runtime_1.jsx)(select_1.SelectTrigger, { className: 'w-48', "data-testid": 'select-category-filter', children: (0, jsx_runtime_1.jsx)(select_1.SelectValue, { placeholder: 'Filter by category' }) }), (0, jsx_runtime_1.jsxs)(select_1.SelectContent, { children: [(0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'all', children: "All Categories" }), Object.keys(permissionsByResource).map((category) => ((0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: category, children: category.charAt(0).toUpperCase() +
                                                                                            category.slice(1).replace(/[_-]/g, ' ') }, category)))] })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: 'flex gap-4 items-center', children: [(0, jsx_runtime_1.jsxs)(select_1.Select, { value: filterActionType, onValueChange: setFilterActionType, children: [(0, jsx_runtime_1.jsx)(select_1.SelectTrigger, { className: 'w-40', "data-testid": 'select-action-filter', children: (0, jsx_runtime_1.jsx)(select_1.SelectValue, { placeholder: 'Action type' }) }), (0, jsx_runtime_1.jsxs)(select_1.SelectContent, { children: [(0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'all', children: "All Actions" }), actionTypes.map((action) => ((0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: action, children: action.toUpperCase() }, action)))] })] }), (0, jsx_runtime_1.jsxs)(select_1.Select, { value: sortBy, onValueChange: setSortBy, children: [(0, jsx_runtime_1.jsx)(select_1.SelectTrigger, { className: 'w-40', "data-testid": 'select-sort-by', children: (0, jsx_runtime_1.jsx)(select_1.SelectValue, { placeholder: 'Sort by' }) }), (0, jsx_runtime_1.jsxs)(select_1.SelectContent, { children: [(0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'name', children: "Sort by Name" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'resource', children: "Sort by Resource" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'action', children: "Sort by Action" }), (0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: 'date', children: "Sort by Date" })] })] }), (0, jsx_runtime_1.jsxs)(button_1.Button, { variant: 'outline', size: 'sm', onClick: resetPermissionFilters, className: 'flex items-center gap-2', "data-testid": 'button-reset-permission-filters', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.X, { className: 'h-4 w-4' }), "Reset Filters"] })] }), (0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center gap-4 text-sm text-gray-600', children: [(0, jsx_runtime_1.jsxs)("span", { children: ["Showing ", sortedPermissions.length, " of ", permissions?.length || 0, " permissions"] }), (permissionSearchQuery ||
                                                                        selectedCategory !== 'all' ||
                                                                        filterActionType !== 'all' ||
                                                                        sortBy !== 'name') && ((0, jsx_runtime_1.jsxs)("div", { className: 'flex items-center gap-2', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Filter, { className: 'h-4 w-4' }), (0, jsx_runtime_1.jsx)("span", { children: "Filters active" })] }))] })] }), isLoading ? ((0, jsx_runtime_1.jsx)("div", { className: 'flex justify-center items-center py-8', children: (0, jsx_runtime_1.jsx)("div", { className: 'animate-spin rounded-full h-8 w-8 border-b-2 border-koveo-navy' }) })) : ((0, jsx_runtime_1.jsxs)("div", { className: 'overflow-x-auto', children: [(0, jsx_runtime_1.jsxs)(table_1.Table, { children: [(0, jsx_runtime_1.jsx)(table_1.TableHeader, { children: (0, jsx_runtime_1.jsxs)(table_1.TableRow, { className: 'bg-gray-50', children: [(0, jsx_runtime_1.jsx)(table_1.TableHead, { className: 'font-semibold text-gray-900', children: "Permission ID" }), (0, jsx_runtime_1.jsx)(table_1.TableHead, { className: 'font-semibold text-gray-900', children: "Display Name" }), (0, jsx_runtime_1.jsx)(table_1.TableHead, { className: 'font-semibold text-gray-900', children: "Resource Type" }), (0, jsx_runtime_1.jsx)(table_1.TableHead, { className: 'font-semibold text-gray-900', children: "Action" }), (0, jsx_runtime_1.jsx)(table_1.TableHead, { className: 'text-center font-semibold text-gray-900', children: "Status" }), (0, jsx_runtime_1.jsx)(table_1.TableHead, { className: 'font-semibold text-gray-900', children: "Description" }), (0, jsx_runtime_1.jsx)(table_1.TableHead, { className: 'text-center font-semibold text-gray-900', children: "Roles" })] }) }), (0, jsx_runtime_1.jsx)(table_1.TableBody, { children: sortedPermissions.map((permission) => {
                                                                            const rolesWithPermission = roles.filter((role) => roleMatrix[role]?.includes(permission.id));
                                                                            return ((0, jsx_runtime_1.jsxs)(table_1.TableRow, { className: 'hover:bg-gray-50', children: [(0, jsx_runtime_1.jsx)(table_1.TableCell, { className: 'font-mono text-xs text-gray-600', children: permission.id }), (0, jsx_runtime_1.jsx)(table_1.TableCell, { className: 'font-medium text-gray-900', children: permission.displayName }), (0, jsx_runtime_1.jsx)(table_1.TableCell, { className: 'capitalize', children: (0, jsx_runtime_1.jsx)(badge_1.Badge, { variant: 'outline', children: permission.resourceType.replace('_', ' ') }) }), (0, jsx_runtime_1.jsx)(table_1.TableCell, { className: 'text-blue-600 font-medium uppercase', children: permission.action }), (0, jsx_runtime_1.jsx)(table_1.TableCell, { className: 'text-center', children: (0, jsx_runtime_1.jsx)(badge_1.Badge, { variant: permission.isActive ? 'default' : 'secondary', children: permission.isActive ? 'Active' : 'Inactive' }) }), (0, jsx_runtime_1.jsx)(table_1.TableCell, { className: 'text-sm text-gray-600 max-w-md', children: permission.description }), (0, jsx_runtime_1.jsx)(table_1.TableCell, { className: 'text-center', children: (0, jsx_runtime_1.jsxs)("div", { className: 'flex flex-wrap gap-1 justify-center', children: [rolesWithPermission.map((role) => ((0, jsx_runtime_1.jsx)(badge_1.Badge, { variant: 'secondary', className: 'text-xs', children: role.charAt(0).toUpperCase() + role.slice(1) }, role))), rolesWithPermission.length === 0 && ((0, jsx_runtime_1.jsx)("span", { className: 'text-xs text-gray-400', children: "None" }))] }) })] }, permission.id));
                                                                        }) })] }), sortedPermissions.length === 0 && ((0, jsx_runtime_1.jsxs)("div", { className: 'text-center py-8 text-gray-500', children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Shield, { className: 'w-12 h-12 mx-auto mb-4 text-gray-400' }), (0, jsx_runtime_1.jsx)("p", { children: "No permissions found matching your search criteria." })] }))] }))] })] }) })] })] }) })] }));
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9jbGllbnQvc3JjL3BhZ2VzL2FkbWluL3Blcm1pc3Npb25zLnRzeCIsIm1hcHBpbmdzIjoiOztBQTBHQSw4QkFpM0JDOztBQTM5QkQsdURBQW9EO0FBQ3BELCtDQUFnRjtBQUNoRixpREFBOEM7QUFDOUMsbURBQWdEO0FBQ2hELGlEQU8rQjtBQUMvQiwrQ0FBZ0Y7QUFDaEYsbURBTWdDO0FBQ2hDLGlEQUE4QztBQUc5Qyx1REFBOEQ7QUFDOUQsdURBQW1EO0FBQ25ELCtDQVlzQjtBQUN0QixpQ0FBNEM7QUFDNUMsbURBQTREO0FBQzVELGlEQUE2QztBQUU3QyxvREFBb0Q7QUFDcEQsTUFBTSxpQkFBaUIsR0FBRztJQUN4QixLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFO0lBQ3RCLE9BQU8sRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLEVBQUU7SUFDdkIsTUFBTSxFQUFFLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRTtJQUNyQixRQUFRLEVBQUUsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFO0NBQ3hCLENBQUM7QUFzREY7OztHQUdHO0FBQ0gsU0FBd0IsV0FBVztJQUNqQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEdBQUcsSUFBQSwwQkFBVyxHQUFFLENBQUM7SUFDNUIsTUFBTSxFQUFFLEtBQUssRUFBRSxHQUFHLElBQUEsb0JBQVEsR0FBRSxDQUFDO0lBQzdCLE1BQU0sQ0FBQyxTQUFTLEVBQUUsWUFBWSxDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3BELE1BQU0sQ0FBQyxXQUFXLEVBQUUsY0FBYyxDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ25ELE1BQU0sQ0FBQyxVQUFVLEVBQUUsYUFBYSxDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3BELE1BQU0sQ0FBQyxXQUFXLEVBQUUsY0FBYyxDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUFn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RSxDQUFDLENBQ2pDLHVCQUFDLGFBQUssSUFBWSxPQUFPLEVBQUMsV0FBVyxFQUFDLFNBQVMsRUFBQyxTQUFTLFlBQ3RELElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxFQUFFLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFEbkMsSUFBSSxDQUVSLENBQ1QsQ0FBQyxFQUNELG1CQUFtQixDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksQ0FDbkMsaUNBQU0sU0FBUyxFQUFDLHVCQUF1QixxQkFBWSxDQUNwRCxJQUNHLEdBQ0ksS0FsQ0MsVUFBVSxDQUFDLEVBQUUsQ0FtQ2pCLENBQ1osQ0FBQzt3RUFDSixDQUFDLENBQUMsR0FDUSxJQUNOLEVBRVAsaUJBQWlCLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxDQUNqQyxpQ0FBSyxTQUFTLEVBQUMsZ0NBQWdDLGFBQzdDLHVCQUFDLHFCQUFNLElBQUMsU0FBUyxFQUFDLHNDQUFzQyxHQUFHLEVBQzNELGdHQUEwRCxJQUN0RCxDQUNQLElBQ0csQ0FDUCxJQUNXLElBQ1QsR0FDSyxJQUNULElBQ0gsR0FDRixJQUNGLENBQ1AsQ0FBQztBQUNKLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9jbGllbnQvc3JjL3BhZ2VzL2FkbWluL3Blcm1pc3Npb25zLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIZWFkZXIgfSBmcm9tICdAL2NvbXBvbmVudHMvbGF5b3V0L2hlYWRlcic7XG5pbXBvcnQgeyBDYXJkLCBDYXJkQ29udGVudCwgQ2FyZEhlYWRlciwgQ2FyZFRpdGxlIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2NhcmQnO1xuaW1wb3J0IHsgQmFkZ2UgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYmFkZ2UnO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbic7XG5pbXBvcnQge1xuICBUYWJsZSxcbiAgVGFibGVCb2R5LFxuICBUYWJsZUNlbGwsXG4gIFRhYmxlSGVhZCxcbiAgVGFibGVIZWFkZXIsXG4gIFRhYmxlUm93LFxufSBmcm9tICdAL2NvbXBvbmVudHMvdWkvdGFibGUnO1xuaW1wb3J0IHsgVGFicywgVGFic0NvbnRlbnQsIFRhYnNMaXN0LCBUYWJzVHJpZ2dlciB9IGZyb20gJ0AvY29tcG9uZW50cy91aS90YWJzJztcbmltcG9ydCB7XG4gIFNlbGVjdCxcbiAgU2VsZWN0Q29udGVudCxcbiAgU2VsZWN0SXRlbSxcbiAgU2VsZWN0VHJpZ2dlcixcbiAgU2VsZWN0VmFsdWUsXG59IGZyb20gJ0AvY29tcG9uZW50cy91aS9zZWxlY3QnO1xuaW1wb3J0IHsgSW5wdXQgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvaW5wdXQnO1xuaW1wb3J0IHsgTGFiZWwgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvbGFiZWwnO1xuaW1wb3J0IHsgU3dpdGNoIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3N3aXRjaCc7XG5pbXBvcnQgeyB1c2VRdWVyeSwgdXNlTXV0YXRpb24gfSBmcm9tICdAdGFuc3RhY2svcmVhY3QtcXVlcnknO1xuaW1wb3J0IHsgdXNlTGFuZ3VhZ2UgfSBmcm9tICdAL2hvb2tzL3VzZS1sYW5ndWFnZSc7XG5pbXBvcnQge1xuICBTaGllbGQsXG4gIFVzZXJzLFxuICBTZXR0aW5ncyxcbiAgUGx1cyxcbiAgU2VhcmNoLFxuICBGaWx0ZXIsXG4gIEVkaXQsXG4gIFNhdmUsXG4gIFgsXG4gIENoZWNrLFxuICBBbGVydFRyaWFuZ2xlLFxufSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHF1ZXJ5Q2xpZW50LCBhcGlSZXF1ZXN0IH0gZnJvbSAnQC9saWIvcXVlcnlDbGllbnQnO1xuaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tICdAL2hvb2tzL3VzZS10b2FzdCc7XG5cbi8vIFBlcm1pc3Npb25zIGNvbmZpZyByZWZlcmVuY2UgZm9yIGRpc3BsYXkgcHVycG9zZXNcbmNvbnN0IHBlcm1pc3Npb25zQ29uZmlnID0ge1xuICBhZG1pbjogeyBsZW5ndGg6IDE0OCB9LFxuICBtYW5hZ2VyOiB7IGxlbmd0aDogNzAgfSxcbiAgdGVuYW50OiB7IGxlbmd0aDogOSB9LFxuICByZXNpZGVudDogeyBsZW5ndGg6IDkgfSxcbn07XG5cbi8qKlxuICpcbiAqL1xuaW50ZXJmYWNlIFBlcm1pc3Npb24ge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIGRpc3BsYXlOYW1lOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIHJlc291cmNlVHlwZTogc3RyaW5nO1xuICBhY3Rpb246IHN0cmluZztcbiAgaXNBY3RpdmU6IGJvb2xlYW47XG4gIGNyZWF0ZWRBdDogc3RyaW5nO1xufVxuXG4vKipcbiAqXG4gKi9cbmludGVyZmFjZSBSb2xlUGVybWlzc2lvbiB7XG4gIGlkOiBzdHJpbmc7XG4gIHJvbGU6IHN0cmluZztcbiAgcGVybWlzc2lvbklkOiBzdHJpbmc7XG4gIHBlcm1pc3Npb24/OiBQZXJtaXNzaW9uO1xuICBncmFudGVkQnk6IHN0cmluZztcbiAgZ3JhbnRlZEF0OiBzdHJpbmc7XG59XG5cbi8qKlxuICpcbiAqL1xuaW50ZXJmYWNlIFVzZXJQZXJtaXNzaW9uIHtcbiAgaWQ6IHN0cmluZztcbiAgdXNlcklkOiBzdHJpbmc7XG4gIHBlcm1pc3Npb25JZDogc3RyaW5nO1xuICBwZXJtaXNzaW9uPzogUGVybWlzc2lvbjtcbiAgZ3JhbnRlZDogYm9vbGVhbjtcbiAgZ3JhbnRlZEJ5OiBzdHJpbmc7XG4gIHJlYXNvbj86IHN0cmluZztcbiAgZ3JhbnRlZEF0OiBzdHJpbmc7XG59XG5cbi8qKlxuICpcbiAqL1xuaW50ZXJmYWNlIFVzZXIge1xuICBpZDogc3RyaW5nO1xuICBlbWFpbDogc3RyaW5nO1xuICBmaXJzdE5hbWU6IHN0cmluZztcbiAgbGFzdE5hbWU6IHN0cmluZztcbiAgcm9sZTogc3RyaW5nO1xuICBpc0FjdGl2ZTogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBSQkFDIFBlcm1pc3Npb25zIE1hbmFnZW1lbnQgUGFnZVxuICogU2hvd3MgYWN0dWFsIHBlcm1pc3Npb25zIGJlaW5nIHVzZWQgaW4gdGhlIHBsYXRmb3JtIGFuZCBwcm92aWRlcyBtYW5hZ2VtZW50IGNhcGFiaWxpdGllcy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUGVybWlzc2lvbnMoKSB7XG4gIGNvbnN0IHsgdCB9ID0gdXNlTGFuZ3VhZ2UoKTtcbiAgY29uc3QgeyB0b2FzdCB9ID0gdXNlVG9hc3QoKTtcbiAgY29uc3QgW2FjdGl2ZVRhYiwgc2V0QWN0aXZlVGFiXSA9IHVzZVN0YXRlKCd1c2VycycpO1xuICBjb25zdCBbc2VhcmNoUXVlcnksIHNldFNlYXJjaFF1ZXJ5XSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2ZpbHRlclJvbGUsIHNldEZpbHRlclJvbGVdID0gdXNlU3RhdGUoJ2FsbCcpO1xuICBjb25zdCBbZWRpdGluZ1VzZXIsIHNldEVkaXRpbmdVc2VyXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc2hvd05ld1Blcm1pc3Npb25Gb3JtLCBzZXRTaG93TmV3UGVybWlzc2lvbkZvcm1dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2VsZWN0ZWRDYXRlZ29yeSwgc2V0U2VsZWN0ZWRDYXRlZ29yeV0gPSB1c2VTdGF0ZSgnYWxsJyk7XG4gIGNvbnN0IFtjdXJyZW50UGFnZSwgc2V0Q3VycmVudFBhZ2VdID0gdXNlU3RhdGUoMSk7XG4gIGNvbnN0IGl0ZW1zUGVyUGFnZSA9IDU7XG4gIC8vIEFkZGl0aW9uYWwgZmlsdGVyc1xuICBjb25zdCBbZmlsdGVyVXNlclN0YXR1cywgc2V0RmlsdGVyVXNlclN0YXR1c10gPSB1c2VTdGF0ZSgnYWxsJyk7IC8vIGFjdGl2ZSwgaW5hY3RpdmUsIGFsbFxuICBjb25zdCBbZmlsdGVyUGVybWlzc2lvblN0YXR1cywgc2V0RmlsdGVyUGVybWlzc2lvblN0YXR1c10gPSB1c2VTdGF0ZSgnYWxsJyk7IC8vIGdyYW50ZWQsIHJldm9rZWQsIGFsbFxuICBjb25zdCBbcGVybWlzc2lvblNlYXJjaFF1ZXJ5LCBzZXRQZXJtaXNzaW9uU2VhcmNoUXVlcnldID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbZmlsdGVyQWN0aW9uVHlwZSwgc2V0RmlsdGVyQWN0aW9uVHlwZV0gPSB1c2VTdGF0ZSgnYWxsJyk7IC8vIHJlYWQsIHdyaXRlLCBkZWxldGUsIGFsbFxuICBjb25zdCBbc29ydEJ5LCBzZXRTb3J0QnldID0gdXNlU3RhdGUoJ25hbWUnKTsgLy8gbmFtZSwgcmVzb3VyY2UsIGFjdGlvbiwgZGF0ZVxuXG4gIC8vIEZldGNoIHBlcm1pc3Npb25zIG1hdHJpeCAoaW5jbHVkZXMgYWxsIHBlcm1pc3Npb24gZGF0YSBncm91cGVkIGJ5IHJlc291cmNlKVxuICBjb25zdCB7IGRhdGE6IHBlcm1pc3Npb25zTWF0cml4LCBpc0xvYWRpbmc6IG1hdHJpeExvYWRpbmcgfSA9IHVzZVF1ZXJ5PHtcbiAgICBwZXJtaXNzaW9uc0J5UmVzb3VyY2U6IFJlY29yZDxzdHJpbmcsIFBlcm1pc3Npb25bXT47XG4gICAgcm9sZU1hdHJpeDogUmVjb3JkPHN0cmluZywgc3RyaW5nW10+O1xuICAgIHBlcm1pc3Npb25zOiBQZXJtaXNzaW9uW107XG4gICAgcm9sZVBlcm1pc3Npb25zOiBSb2xlUGVybWlzc2lvbltdO1xuICB9Pih7XG4gICAgcXVlcnlLZXk6IFsnL2FwaS9wZXJtaXNzaW9ucy1tYXRyaXgnXSxcbiAgfSk7XG5cbiAgLy8gRmV0Y2ggdXNlciBwZXJtaXNzaW9uc1xuICBjb25zdCB7IGRhdGE6IHVzZXJQZXJtaXNzaW9ucywgaXNMb2FkaW5nOiB1c2VyUGVybWlzc2lvbnNMb2FkaW5nIH0gPSB1c2VRdWVyeTxVc2VyUGVybWlzc2lvbltdPih7XG4gICAgcXVlcnlLZXk6IFsnL2FwaS91c2VyLXBlcm1pc3Npb25zJ10sXG4gIH0pO1xuXG4gIC8vIEZldGNoIHVzZXJzXG4gIGNvbnN0IHsgZGF0YTogdXNlcnMsIGlzTG9hZGluZzogdXNlcnNMb2FkaW5nIH0gPSB1c2VRdWVyeTxVc2VyW10+KHtcbiAgICBxdWVyeUtleTogWycvYXBpL3VzZXJzJ10sXG4gIH0pO1xuXG4gIGNvbnN0IGlzTG9hZGluZyA9IG1hdHJpeExvYWRpbmcgfHwgdXNlclBlcm1pc3Npb25zTG9hZGluZyB8fCB1c2Vyc0xvYWRpbmc7XG5cbiAgLy8gRXh0cmFjdCBkYXRhIGZyb20gbWF0cml4XG4gIGNvbnN0IHBlcm1pc3Npb25zID0gcGVybWlzc2lvbnNNYXRyaXg/LnBlcm1pc3Npb25zIHx8IFtdO1xuICBjb25zdCByb2xlUGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uc01hdHJpeD8ucm9sZVBlcm1pc3Npb25zIHx8IFtdO1xuICBjb25zdCBwZXJtaXNzaW9uc0J5UmVzb3VyY2UgPSBwZXJtaXNzaW9uc01hdHJpeD8ucGVybWlzc2lvbnNCeVJlc291cmNlIHx8IHt9O1xuICBjb25zdCByb2xlTWF0cml4ID0gcGVybWlzc2lvbnNNYXRyaXg/LnJvbGVNYXRyaXggfHwge307XG5cbiAgLy8gR3JvdXAgcGVybWlzc2lvbnMgYnkgcm9sZSBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuICBjb25zdCBwZXJtaXNzaW9uc0J5Um9sZSA9IHJvbGVQZXJtaXNzaW9ucy5yZWR1Y2UoXG4gICAgKGFjYywgcnApID0+IHtcbiAgICAgIGlmICghYWNjW3JwLnJvbGVdKSB7XG4gICAgICAgIGFjY1tycC5yb2xlXSA9IFtdO1xuICAgICAgfVxuICAgICAgYWNjW3JwLnJvbGVdLnB1c2gocnApO1xuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LFxuICAgIHt9IGFzIFJlY29yZDxzdHJpbmcsIFJvbGVQZXJtaXNzaW9uW10+XG4gICk7XG5cbiAgLy8gQXZhaWxhYmxlIHJvbGVzIChub3cgZnJvbSBhY3R1YWwgUkJBQyBzeXN0ZW0pXG4gIGNvbnN0IHJvbGVzID0gWydhZG1pbicsICdtYW5hZ2VyJywgJ3RlbmFudCcsICdyZXNpZGVudCddO1xuXG4gIC8vIEZldGNoIHBlcm1pc3Npb24gY2F0ZWdvcmllcyBmb3IgZmlsdGVyaW5nXG4gIGNvbnN0IHsgZGF0YTogcGVybWlzc2lvbkNhdGVnb3JpZXMgfSA9IHVzZVF1ZXJ5PGFueVtdPih7XG4gICAgcXVlcnlLZXk6IFsnL2FwaS9wZXJtaXNzaW9uLWNhdGVnb3JpZXMnXSxcbiAgfSk7XG5cbiAgLy8gR2V0IHVuaXF1ZSBjYXRlZ29yaWVzIGZyb20gcGVybWlzc2lvbnNcbiAgY29uc3QgY2F0ZWdvcmllcyA9IHBlcm1pc3Npb25DYXRlZ29yaWVzPy5tYXAoKGNhdCkgPT4gY2F0Lm5hbWUpIHx8IFtdO1xuXG4gIC8vIEZpbHRlciB1c2VycyBiYXNlZCBvbiBzZWFyY2gsIHJvbGUsIGFuZCBzdGF0dXNcbiAgY29uc3QgZmlsdGVyZWRVc2VycyA9XG4gICAgdXNlcnM/LmZpbHRlcigodXNlcikgPT4ge1xuICAgICAgY29uc3QgbWF0Y2hlc1NlYXJjaCA9XG4gICAgICAgIHNlYXJjaFF1ZXJ5ID09PSAnJyB8fFxuICAgICAgICB1c2VyLmVtYWlsLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoUXVlcnkudG9Mb3dlckNhc2UoKSkgfHxcbiAgICAgICAgYCR7dXNlci5maXJzdE5hbWV9ICR7dXNlci5sYXN0TmFtZX1gLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoUXVlcnkudG9Mb3dlckNhc2UoKSk7XG4gICAgICBjb25zdCBtYXRjaGVzUm9sZSA9IGZpbHRlclJvbGUgPT09ICdhbGwnIHx8IHVzZXIucm9sZSA9PT0gZmlsdGVyUm9sZTtcbiAgICAgIGNvbnN0IG1hdGNoZXNTdGF0dXMgPVxuICAgICAgICBmaWx0ZXJVc2VyU3RhdHVzID09PSAnYWxsJyB8fFxuICAgICAgICAoZmlsdGVyVXNlclN0YXR1cyA9PT0gJ2FjdGl2ZScgJiYgdXNlci5pc0FjdGl2ZSkgfHxcbiAgICAgICAgKGZpbHRlclVzZXJTdGF0dXMgPT09ICdpbmFjdGl2ZScgJiYgIXVzZXIuaXNBY3RpdmUpO1xuXG4gICAgICAvLyBGaWx0ZXIgYnkgcGVybWlzc2lvbiBzdGF0dXMgaWYgc3BlY2lmaWVkXG4gICAgICBpZiAoZmlsdGVyUGVybWlzc2lvblN0YXR1cyAhPT0gJ2FsbCcpIHtcbiAgICAgICAgY29uc3QgdXNlclNwZWNpZmljUGVybWlzc2lvbnMgPVxuICAgICAgICAgIHVzZXJQZXJtaXNzaW9ucz8uZmlsdGVyKCh1cCkgPT4gdXAudXNlcklkID09PSB1c2VyLmlkKSB8fCBbXTtcbiAgICAgICAgY29uc3QgaGFzR3JhbnRlZFBlcm1pc3Npb25zID0gdXNlclNwZWNpZmljUGVybWlzc2lvbnMuc29tZSgodXApID0+IHVwLmdyYW50ZWQpO1xuICAgICAgICBjb25zdCBoYXNSZXZva2VkUGVybWlzc2lvbnMgPSB1c2VyU3BlY2lmaWNQZXJtaXNzaW9ucy5zb21lKCh1cCkgPT4gIXVwLmdyYW50ZWQpO1xuXG4gICAgICAgIGlmIChmaWx0ZXJQZXJtaXNzaW9uU3RhdHVzID09PSAnZ3JhbnRlZCcgJiYgIWhhc0dyYW50ZWRQZXJtaXNzaW9ucykge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlsdGVyUGVybWlzc2lvblN0YXR1cyA9PT0gJ3Jldm9rZWQnICYmICFoYXNSZXZva2VkUGVybWlzc2lvbnMpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1hdGNoZXNTZWFyY2ggJiYgbWF0Y2hlc1JvbGUgJiYgbWF0Y2hlc1N0YXR1cztcbiAgICB9KSB8fCBbXTtcblxuICAvLyBQYWdpbmF0aW9uIGNhbGN1bGF0aW9uc1xuICBjb25zdCB0b3RhbFVzZXJzID0gZmlsdGVyZWRVc2Vycy5sZW5ndGg7XG4gIGNvbnN0IHRvdGFsUGFnZXMgPSBNYXRoLmNlaWwodG90YWxVc2VycyAvIGl0ZW1zUGVyUGFnZSk7XG4gIGNvbnN0IHN0YXJ0SW5kZXggPSAoY3VycmVudFBhZ2UgLSAxKSAqIGl0ZW1zUGVyUGFnZTtcbiAgY29uc3QgZW5kSW5kZXggPSBzdGFydEluZGV4ICsgaXRlbXNQZXJQYWdlO1xuICBjb25zdCBjdXJyZW50VXNlcnMgPSBmaWx0ZXJlZFVzZXJzLnNsaWNlKHN0YXJ0SW5kZXgsIGVuZEluZGV4KTtcblxuICAvLyBSZXNldCBwYWdlIHdoZW4gZmlsdGVycyBjaGFuZ2VcbiAgY29uc3QgaGFuZGxlU2VhcmNoQ2hhbmdlID0gKHZhbHVlOiBzdHJpbmcpID0+IHtcbiAgICBzZXRTZWFyY2hRdWVyeSh2YWx1ZSk7XG4gICAgc2V0Q3VycmVudFBhZ2UoMSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlUm9sZUNoYW5nZSA9ICh2YWx1ZTogc3RyaW5nKSA9PiB7XG4gICAgc2V0RmlsdGVyUm9sZSh2YWx1ZSk7XG4gICAgc2V0Q3VycmVudFBhZ2UoMSk7XG4gIH07XG5cbiAgLy8gU2V0IGRlZmF1bHQgY2F0ZWdvcnkgdG8gZmlyc3QgYXZhaWxhYmxlIGNhdGVnb3J5IGlmIG5vbmUgc2VsZWN0ZWRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBhdmFpbGFibGVDYXRlZ29yaWVzID0gT2JqZWN0LmtleXMocGVybWlzc2lvbnNCeVJlc291cmNlKTtcbiAgICBpZiAoIXNlbGVjdGVkQ2F0ZWdvcnkgJiYgYXZhaWxhYmxlQ2F0ZWdvcmllcy5sZW5ndGggPiAwKSB7XG4gICAgICBzZXRTZWxlY3RlZENhdGVnb3J5KGF2YWlsYWJsZUNhdGVnb3JpZXNbMF0pO1xuICAgIH1cbiAgfSwgW3Blcm1pc3Npb25zQnlSZXNvdXJjZSwgc2VsZWN0ZWRDYXRlZ29yeV0pO1xuXG4gIC8vIEZpbHRlciBwZXJtaXNzaW9ucyBieSBjYXRlZ29yeSwgc2VhcmNoLCBhbmQgYWN0aW9uIHR5cGVcbiAgY29uc3QgZmlsdGVyZWRQZXJtaXNzaW9ucyA9XG4gICAgcGVybWlzc2lvbnM/LmZpbHRlcigocGVybWlzc2lvbikgPT4ge1xuICAgICAgLy8gQ2F0ZWdvcnkgZmlsdGVyXG4gICAgICBpZiAoc2VsZWN0ZWRDYXRlZ29yeSAhPT0gJ2FsbCcgJiYgcGVybWlzc2lvbi5yZXNvdXJjZVR5cGUgIT09IHNlbGVjdGVkQ2F0ZWdvcnkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyBTZWFyY2ggZmlsdGVyXG4gICAgICBpZiAocGVybWlzc2lvblNlYXJjaFF1ZXJ5KSB7XG4gICAgICAgIGNvbnN0IHNlYXJjaExvd2VyID0gcGVybWlzc2lvblNlYXJjaFF1ZXJ5LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbnN0IG1hdGNoZXNTZWFyY2ggPVxuICAgICAgICAgIHBlcm1pc3Npb24ubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaExvd2VyKSB8fFxuICAgICAgICAgIHBlcm1pc3Npb24uZGlzcGxheU5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hMb3dlcikgfHxcbiAgICAgICAgICBwZXJtaXNzaW9uLmRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoTG93ZXIpIHx8XG4gICAgICAgICAgcGVybWlzc2lvbi5yZXNvdXJjZVR5cGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hMb3dlcik7XG4gICAgICAgIGlmICghbWF0Y2hlc1NlYXJjaCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBBY3Rpb24gdHlwZSBmaWx0ZXJcbiAgICAgIGlmIChmaWx0ZXJBY3Rpb25UeXBlICE9PSAnYWxsJykge1xuICAgICAgICBjb25zdCBhY3Rpb25NYXRjaGVzID0gcGVybWlzc2lvbi5hY3Rpb25cbiAgICAgICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgICAgIC5pbmNsdWRlcyhmaWx0ZXJBY3Rpb25UeXBlLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICBpZiAoIWFjdGlvbk1hdGNoZXMpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSkgfHwgW107XG5cbiAgLy8gU29ydCBwZXJtaXNzaW9uc1xuICBjb25zdCBzb3J0ZWRQZXJtaXNzaW9ucyA9IFsuLi5maWx0ZXJlZFBlcm1pc3Npb25zXS5zb3J0KChhLCBiKSA9PiB7XG4gICAgc3dpdGNoIChzb3J0QnkpIHtcbiAgICAgIGNhc2UgJ25hbWUnOlxuICAgICAgICByZXR1cm4gYS5kaXNwbGF5TmFtZS5sb2NhbGVDb21wYXJlKGIuZGlzcGxheU5hbWUpO1xuICAgICAgY2FzZSAncmVzb3VyY2UnOlxuICAgICAgICByZXR1cm4gYS5yZXNvdXJjZVR5cGUubG9jYWxlQ29tcGFyZShiLnJlc291cmNlVHlwZSk7XG4gICAgICBjYXNlICdhY3Rpb24nOlxuICAgICAgICByZXR1cm4gYS5hY3Rpb24ubG9jYWxlQ29tcGFyZShiLmFjdGlvbik7XG4gICAgICBjYXNlICdkYXRlJzpcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGIuY3JlYXRlZEF0KS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShhLmNyZWF0ZWRBdCkuZ2V0VGltZSgpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICB9KTtcblxuICAvLyBHZXQgdW5pcXVlIGFjdGlvbiB0eXBlcyBmb3IgZmlsdGVyXG4gIGNvbnN0IGFjdGlvblR5cGVzID0gWy4uLm5ldyBTZXQocGVybWlzc2lvbnM/Lm1hcCgocCkgPT4gcC5hY3Rpb24pIHx8IFtdKV07XG5cbiAgLy8gUmVzZXQgZmlsdGVycyBmdW5jdGlvbnNcbiAgY29uc3QgcmVzZXRVc2VyRmlsdGVycyA9ICgpID0+IHtcbiAgICBzZXRTZWFyY2hRdWVyeSgnJyk7XG4gICAgc2V0RmlsdGVyUm9sZSgnYWxsJyk7XG4gICAgc2V0RmlsdGVyVXNlclN0YXR1cygnYWxsJyk7XG4gICAgc2V0RmlsdGVyUGVybWlzc2lvblN0YXR1cygnYWxsJyk7XG4gICAgc2V0Q3VycmVudFBhZ2UoMSk7XG4gIH07XG5cbiAgY29uc3QgcmVzZXRQZXJtaXNzaW9uRmlsdGVycyA9ICgpID0+IHtcbiAgICBzZXRQZXJtaXNzaW9uU2VhcmNoUXVlcnkoJycpO1xuICAgIHNldFNlbGVjdGVkQ2F0ZWdvcnkoJ2FsbCcpO1xuICAgIHNldEZpbHRlckFjdGlvblR5cGUoJ2FsbCcpO1xuICAgIHNldFNvcnRCeSgnbmFtZScpO1xuICB9O1xuXG4gIC8vIE11dGF0aW9ucyBmb3IgbWFuYWdpbmcgcGVybWlzc2lvbnNcbiAgY29uc3QgZ3JhbnRVc2VyUGVybWlzc2lvbk11dGF0aW9uID0gdXNlTXV0YXRpb24oe1xuICAgIG11dGF0aW9uRm46IChkYXRhOiB7IHVzZXJJZDogc3RyaW5nOyBwZXJtaXNzaW9uSWQ6IHN0cmluZzsgcmVhc29uPzogc3RyaW5nIH0pID0+XG4gICAgICBhcGlSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdXNlci1wZXJtaXNzaW9ucycsIGRhdGEpLFxuICAgIG9uU3VjY2VzczogKCkgPT4ge1xuICAgICAgcXVlcnlDbGllbnQuaW52YWxpZGF0ZVF1ZXJpZXMoeyBxdWVyeUtleTogWycvYXBpL3VzZXItcGVybWlzc2lvbnMnXSB9KTtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6ICdQZXJtaXNzaW9uIEdyYW50ZWQnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1VzZXIgcGVybWlzc2lvbiBoYXMgYmVlbiBzdWNjZXNzZnVsbHkgZ3JhbnRlZC4nLFxuICAgICAgfSk7XG4gICAgfSxcbiAgICBvbkVycm9yOiAoZXJyb3I6IGFueSkgPT4ge1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ0Vycm9yJyxcbiAgICAgICAgZGVzY3JpcHRpb246IGVycm9yLnJlc3BvbnNlPy5kYXRhPy5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gZ3JhbnQgcGVybWlzc2lvbicsXG4gICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsXG4gICAgICB9KTtcbiAgICB9LFxuICB9KTtcblxuICBjb25zdCB2YWxpZGF0ZVBlcm1pc3Npb25NdXRhdGlvbiA9IHVzZU11dGF0aW9uKHtcbiAgICBtdXRhdGlvbkZuOiAocGVybWlzc2lvbjogc3RyaW5nKSA9PlxuICAgICAgYXBpUmVxdWVzdCgnUE9TVCcsICcvYXBpL3Blcm1pc3Npb25zL3ZhbGlkYXRlJywgeyBwZXJtaXNzaW9uIH0pLFxuICAgIG9uU3VjY2VzczogKGRhdGE6IGFueSkgPT4ge1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ1Blcm1pc3Npb24gVmFsaWRhdGlvbicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBgJHtkYXRhLm1lc3NhZ2V9IGZvciByb2xlOiAke2RhdGEucm9sZX1gLFxuICAgICAgICB2YXJpYW50OiBkYXRhLmhhc1Blcm1pc3Npb24gPyAnZGVmYXVsdCcgOiAnZGVzdHJ1Y3RpdmUnLFxuICAgICAgfSk7XG4gICAgfSxcbiAgfSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleC0xIGZsZXggZmxleC1jb2wgb3ZlcmZsb3ctaGlkZGVuJz5cbiAgICAgIDxIZWFkZXJcbiAgICAgICAgdGl0bGU9J1JCQUMgUGVybWlzc2lvbnMnXG4gICAgICAgIHN1YnRpdGxlPSdNYW5hZ2Ugcm9sZS1iYXNlZCBhY2Nlc3MgY29udHJvbCBhbmQgdXNlciBwZXJtaXNzaW9ucydcbiAgICAgIC8+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4LTEgb3ZlcmZsb3ctYXV0byBwLTYnPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbWF4LXctN3hsIG14LWF1dG8gc3BhY2UteS02Jz5cbiAgICAgICAgICB7LyogT3ZlcnZpZXcgQ2FyZHMgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2dyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTQgZ2FwLTYnPlxuICAgICAgICAgICAgPENhcmRcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPSdob3ZlcjpzaGFkb3ctbWQgdHJhbnNpdGlvbi1zaGFkb3cgY3Vyc29yLXBvaW50ZXInXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEFjdGl2ZVRhYigncGVybWlzc2lvbnMnKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPENhcmRDb250ZW50IGNsYXNzTmFtZT0ncC02Jz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuJz5cbiAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0ndGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNjAwJz5TeXN0ZW0gUGVybWlzc2lvbnM8L3A+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0ndGV4dC0yeGwgZm9udC1ib2xkIHRleHQta292ZW8tbmF2eSc+e3Blcm1pc3Npb25zPy5sZW5ndGggfHwgMH08L3A+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0ndGV4dC14cyB0ZXh0LWdyYXktNTAwIG10LTEnPkFjdGl2ZSBwZXJtaXNzaW9uczwvcD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPFNoaWVsZCBjbGFzc05hbWU9J2gtOCB3LTggdGV4dC1rb3Zlby1uYXZ5JyAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgICAgICAgPC9DYXJkPlxuXG4gICAgICAgICAgICA8Q2FyZFxuICAgICAgICAgICAgICBjbGFzc05hbWU9J2hvdmVyOnNoYWRvdy1tZCB0cmFuc2l0aW9uLXNoYWRvdyBjdXJzb3ItcG9pbnRlcidcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0QWN0aXZlVGFiKCdwZXJtaXNzaW9ucycpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPSdwLTYnPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4nPlxuICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSd0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS02MDAnPlJvbGUgSGllcmFyY2h5PC9wPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3RleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LWtvdmVvLW5hdnknPntyb2xlcy5sZW5ndGh9PC9wPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3RleHQteHMgdGV4dC1ncmF5LTUwMCBtdC0xJz5cbiAgICAgICAgICAgICAgICAgICAgICBBZG1pbiDihpIgTWFuYWdlciDihpIgUmVzaWRlbnQg4oaSIFRlbmFudFxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxVc2VycyBjbGFzc05hbWU9J2gtOCB3LTggdGV4dC1rb3Zlby1uYXZ5JyAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgICAgICAgPC9DYXJkPlxuXG4gICAgICAgICAgICA8Q2FyZFxuICAgICAgICAgICAgICBjbGFzc05hbWU9J2hvdmVyOnNoYWRvdy1tZCB0cmFuc2l0aW9uLXNoYWRvdyBjdXJzb3ItcG9pbnRlcidcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0QWN0aXZlVGFiKCdwZXJtaXNzaW9ucycpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPSdwLTYnPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4nPlxuICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSd0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS02MDAnPlBlcm1pc3Npb24gTWF0cml4PC9wPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3RleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LWtvdmVvLW5hdnknPjEyPC9wPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3RleHQteHMgdGV4dC1ncmF5LTUwMCBtdC0xJz5QZXJtaXNzaW9uIGNhdGVnb3JpZXM8L3A+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxTZXR0aW5ncyBjbGFzc05hbWU9J2gtOCB3LTggdGV4dC1rb3Zlby1uYXZ5JyAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgICAgICAgPC9DYXJkPlxuXG4gICAgICAgICAgICA8Q2FyZFxuICAgICAgICAgICAgICBjbGFzc05hbWU9J2hvdmVyOnNoYWRvdy1tZCB0cmFuc2l0aW9uLXNoYWRvdyBjdXJzb3ItcG9pbnRlcidcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0QWN0aXZlVGFiKCd1c2VycycpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPSdwLTYnPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4nPlxuICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSd0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS02MDAnPlVzZXIgT3ZlcnJpZGVzPC9wPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3RleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LWtvdmVvLW5hdnknPlxuICAgICAgICAgICAgICAgICAgICAgIHt1c2VyUGVybWlzc2lvbnM/Lmxlbmd0aCB8fCAwfVxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0ndGV4dC14cyB0ZXh0LWdyYXktNTAwIG10LTEnPlxuICAgICAgICAgICAgICAgICAgICAgIHt1c2VyUGVybWlzc2lvbnM/Lmxlbmd0aCA9PT0gMCA/ICdSb2xlLWJhc2VkIG9ubHknIDogJ0N1c3RvbSBwZXJtaXNzaW9ucyd9XG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPFNoaWVsZCBjbGFzc05hbWU9J2gtOCB3LTggdGV4dC1rb3Zlby1uYXZ5JyAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgICAgICAgPC9DYXJkPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIE1haW4gQ29udGVudCBUYWJzICovfVxuICAgICAgICAgIDxUYWJzIHZhbHVlPXthY3RpdmVUYWJ9IG9uVmFsdWVDaGFuZ2U9e3NldEFjdGl2ZVRhYn0gY2xhc3NOYW1lPSd3LWZ1bGwnPlxuICAgICAgICAgICAgPFRhYnNMaXN0IGNsYXNzTmFtZT0nZ3JpZCB3LWZ1bGwgZ3JpZC1jb2xzLTInPlxuICAgICAgICAgICAgICA8VGFic1RyaWdnZXIgdmFsdWU9J3VzZXJzJz5Vc2VyIFBlcm1pc3Npb25zPC9UYWJzVHJpZ2dlcj5cbiAgICAgICAgICAgICAgPFRhYnNUcmlnZ2VyIHZhbHVlPSdwZXJtaXNzaW9ucyc+QWxsIFBlcm1pc3Npb25zPC9UYWJzVHJpZ2dlcj5cbiAgICAgICAgICAgIDwvVGFic0xpc3Q+XG5cbiAgICAgICAgICAgIHsvKiBVc2VyIFBlcm1pc3Npb25zIFRhYiAqL31cbiAgICAgICAgICAgIDxUYWJzQ29udGVudCB2YWx1ZT0ndXNlcnMnIGNsYXNzTmFtZT0nc3BhY2UteS02Jz5cbiAgICAgICAgICAgICAgPENhcmQ+XG4gICAgICAgICAgICAgICAgPENhcmRIZWFkZXI+XG4gICAgICAgICAgICAgICAgICA8Q2FyZFRpdGxlIGNsYXNzTmFtZT0nZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTInPlxuICAgICAgICAgICAgICAgICAgICA8U2hpZWxkIGNsYXNzTmFtZT0naC01IHctNScgLz5cbiAgICAgICAgICAgICAgICAgICAgVXNlci1TcGVjaWZpYyBQZXJtaXNzaW9uc1xuICAgICAgICAgICAgICAgICAgPC9DYXJkVGl0bGU+XG4gICAgICAgICAgICAgICAgPC9DYXJkSGVhZGVyPlxuICAgICAgICAgICAgICAgIDxDYXJkQ29udGVudD5cbiAgICAgICAgICAgICAgICAgIHsvKiBFbmhhbmNlZCBTZWFyY2ggYW5kIEZpbHRlciBDb250cm9scyAqL31cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzcGFjZS15LTQgbWItNic+XG4gICAgICAgICAgICAgICAgICAgIHsvKiBQcmltYXJ5IGZpbHRlcnMgcm93ICovfVxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBnYXAtNCc+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXgtMSc+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncmVsYXRpdmUnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VhcmNoIGNsYXNzTmFtZT0nYWJzb2x1dGUgbGVmdC0zIHRvcC0zIGgtNCB3LTQgdGV4dC1ncmF5LTQwMCcgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9J1NlYXJjaCB1c2VycyBieSBuYW1lIG9yIGVtYWlsLi4uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzZWFyY2hRdWVyeX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZVNlYXJjaENoYW5nZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdwbC0xMCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD0naW5wdXQtdXNlci1zZWFyY2gnXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0IHZhbHVlPXtmaWx0ZXJSb2xlfSBvblZhbHVlQ2hhbmdlPXtoYW5kbGVSb2xlQ2hhbmdlfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RUcmlnZ2VyIGNsYXNzTmFtZT0ndy00MCcgZGF0YS10ZXN0aWQ9J3NlbGVjdC1yb2xlLWZpbHRlcic+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RWYWx1ZSBwbGFjZWhvbGRlcj0nRmlsdGVyIGJ5IHJvbGUnIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdFRyaWdnZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9J2FsbCc+QWxsIFJvbGVzPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7cm9sZXMubWFwKChyb2xlKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0ga2V5PXtyb2xlfSB2YWx1ZT17cm9sZX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cm9sZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHJvbGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgey8qIFNlY29uZGFyeSBmaWx0ZXJzIHJvdyAqL31cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXggZ2FwLTQgaXRlbXMtY2VudGVyJz5cbiAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0IHZhbHVlPXtmaWx0ZXJVc2VyU3RhdHVzfSBvblZhbHVlQ2hhbmdlPXtzZXRGaWx0ZXJVc2VyU3RhdHVzfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RUcmlnZ2VyIGNsYXNzTmFtZT0ndy00MCcgZGF0YS10ZXN0aWQ9J3NlbGVjdC11c2VyLXN0YXR1cy1maWx0ZXInPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0VmFsdWUgcGxhY2Vob2xkZXI9J1VzZXIgc3RhdHVzJyAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RUcmlnZ2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPSdhbGwnPkFsbCBVc2VyczwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9J2FjdGl2ZSc+QWN0aXZlIE9ubHk8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPSdpbmFjdGl2ZSc+SW5hY3RpdmUgT25seTwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cblxuICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtmaWx0ZXJQZXJtaXNzaW9uU3RhdHVzfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25WYWx1ZUNoYW5nZT17c2V0RmlsdGVyUGVybWlzc2lvblN0YXR1c31cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0VHJpZ2dlclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3ctNDgnXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPSdzZWxlY3QtcGVybWlzc2lvbi1zdGF0dXMtZmlsdGVyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0VmFsdWUgcGxhY2Vob2xkZXI9J1Blcm1pc3Npb24gc3RhdHVzJyAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RUcmlnZ2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPSdhbGwnPkFsbCBQZXJtaXNzaW9uIFR5cGVzPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT0nZ3JhbnRlZCc+SGFzIEdyYW50ZWQgUGVybWlzc2lvbnM8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPSdyZXZva2VkJz5IYXMgUmV2b2tlZCBQZXJtaXNzaW9uczwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cblxuICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9J291dGxpbmUnXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplPSdzbSdcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3Jlc2V0VXNlckZpbHRlcnN9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2ZsZXggaXRlbXMtY2VudGVyIGdhcC0yJ1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9J2J1dHRvbi1yZXNldC11c2VyLWZpbHRlcnMnXG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFggY2xhc3NOYW1lPSdoLTQgdy00JyAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgUmVzZXQgRmlsdGVyc1xuICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICB7LyogRmlsdGVyIHN1bW1hcnkgKi99XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNCB0ZXh0LXNtIHRleHQtZ3JheS02MDAnPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgU2hvd2luZyB7ZmlsdGVyZWRVc2Vycy5sZW5ndGh9IG9mIHt1c2Vycz8ubGVuZ3RoIHx8IDB9IHVzZXJzXG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIHsoc2VhcmNoUXVlcnkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlclJvbGUgIT09ICdhbGwnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJVc2VyU3RhdHVzICE9PSAnYWxsJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyUGVybWlzc2lvblN0YXR1cyAhPT0gJ2FsbCcpICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMic+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxGaWx0ZXIgY2xhc3NOYW1lPSdoLTQgdy00JyAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5GaWx0ZXJzIGFjdGl2ZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgIHtpc0xvYWRpbmcgPyAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGp1c3RpZnktY2VudGVyIGl0ZW1zLWNlbnRlciBweS04Jz5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBoLTggdy04IGJvcmRlci1iLTIgYm9yZGVyLWtvdmVvLW5hdnknPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3NwYWNlLXktNCc+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudFVzZXJzLm1hcCgodXNlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VyU3BlY2lmaWNQZXJtaXNzaW9ucyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlclBlcm1pc3Npb25zPy5maWx0ZXIoKHVwKSA9PiB1cC51c2VySWQgPT09IHVzZXIuaWQpIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByb2xlUGVybWlzc2lvbnNDb3VudCA9IHBlcm1pc3Npb25zQnlSb2xlW3VzZXIucm9sZV0/Lmxlbmd0aCB8fCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b3RhbFBlcm1pc3Npb25zID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlUGVybWlzc2lvbnNDb3VudCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlclNwZWNpZmljUGVybWlzc2lvbnMuZmlsdGVyKCh1cCkgPT4gdXAuZ3JhbnRlZCkubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXt1c2VyLmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdib3JkZXIgcm91bmRlZC1sZyBwLTYgaG92ZXI6c2hhZG93LW1kIHRyYW5zaXRpb24tc2hhZG93J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbWItNCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTMnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LTEwIGgtMTAgYmcta292ZW8tbmF2eSByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXInPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSd0ZXh0LXdoaXRlIHRleHQtc20gZm9udC1tZWRpdW0nPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dXNlci5maXJzdE5hbWU/LmNoYXJBdCgwKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3VzZXIubGFzdE5hbWU/LmNoYXJBdCgwKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT0nZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3VzZXIuZmlyc3ROYW1lfSB7dXNlci5sYXN0TmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3RleHQtc20gdGV4dC1ncmF5LTYwMCc+e3VzZXIuZW1haWx9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXggaXRlbXMtY2VudGVyIGdhcC0yJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QmFkZ2UgdmFyaWFudD0nb3V0bGluZScgY2xhc3NOYW1lPSdjYXBpdGFsaXplIGZvbnQtbWVkaXVtJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt1c2VyLnJvbGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CYWRnZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QmFkZ2UgdmFyaWFudD17dXNlci5pc0FjdGl2ZSA/ICdkZWZhdWx0JyA6ICdzZWNvbmRhcnknfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt1c2VyLmlzQWN0aXZlID8gJ0FjdGl2ZScgOiAnSW5hY3RpdmUnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQmFkZ2U+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBQZXJtaXNzaW9uIFN1bW1hcnkgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZ3JpZCBncmlkLWNvbHMtMyBnYXAtNCBtYi00IHAtMyBiZy1ncmF5LTUwIHJvdW5kZWQtbGcnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndGV4dC1jZW50ZXInPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0ndGV4dC0yeGwgZm9udC1ib2xkIHRleHQta292ZW8tbmF2eSc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cm9sZVBlcm1pc3Npb25zQ291bnR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0ndGV4dC14cyB0ZXh0LWdyYXktNjAwJz5Sb2xlIFBlcm1pc3Npb25zPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3RleHQtY2VudGVyJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3RleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LWJsdWUtNjAwJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt1c2VyU3BlY2lmaWNQZXJtaXNzaW9ucy5sZW5ndGh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0ndGV4dC14cyB0ZXh0LWdyYXktNjAwJz5Vc2VyIE92ZXJyaWRlczwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd0ZXh0LWNlbnRlcic+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSd0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC1ncmVlbi02MDAnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RvdGFsUGVybWlzc2lvbnN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0ndGV4dC14cyB0ZXh0LWdyYXktNjAwJz5Ub3RhbCBQZXJtaXNzaW9uczwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIFVzZXItc3BlY2lmaWMgcGVybWlzc2lvbnMgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dXNlclNwZWNpZmljUGVybWlzc2lvbnMubGVuZ3RoID4gMCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3NwYWNlLXktMic+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg1IGNsYXNzTmFtZT0nZm9udC1tZWRpdW0gdGV4dC1ncmF5LTkwMCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMic+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2V0dGluZ3MgY2xhc3NOYW1lPSdoLTQgdy00JyAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVXNlci1TcGVjaWZpYyBQZXJtaXNzaW9ucyAoe3VzZXJTcGVjaWZpY1Blcm1pc3Npb25zLmxlbmd0aH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oNT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBnYXAtMic+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dXNlclNwZWNpZmljUGVybWlzc2lvbnMubWFwKCh1cCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXt1cC5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B0ZXh0LXNtIHB4LTMgcHktMiByb3VuZGVkLWxnIGJvcmRlciBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwLmdyYW50ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctZ3JlZW4tNTAgYm9yZGVyLWdyZWVuLTIwMCB0ZXh0LWdyZWVuLTgwMCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnYmctcmVkLTUwIGJvcmRlci1yZWQtMjAwIHRleHQtcmVkLTgwMCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4LTEnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSdmb250LW1lZGl1bSc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt1cC5wZXJtaXNzaW9uPy5kaXNwbGF5TmFtZSB8fCB1cC5wZXJtaXNzaW9uSWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dXAucmVhc29uICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSd0ZXh0LXhzIG9wYWNpdHktNzUgbXQtMSc+e3VwLnJlYXNvbn08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMic+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QmFkZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD17dXAuZ3JhbnRlZCA/ICdkZWZhdWx0JyA6ICdkZXN0cnVjdGl2ZSd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0ndGV4dC14cydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3VwLmdyYW50ZWQgPyAnR3JhbnRlZCcgOiAnUmV2b2tlZCd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0JhZGdlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd0ZXh0LXhzIHRleHQtZ3JheS01MDAgbXQtMic+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMYXN0IG1vZGlmaWVkOnsnICd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bmV3IERhdGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJTcGVjaWZpY1Blcm1pc3Npb25zWzBdPy5ncmFudGVkQXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkudG9Mb2NhbGVEYXRlU3RyaW5nKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3RleHQtY2VudGVyIHB5LTQgdGV4dC1ncmF5LTUwMCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNoaWVsZCBjbGFzc05hbWU9J3ctOCBoLTggbXgtYXV0byBtYi0yIHRleHQtZ3JheS00MDAnIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSd0ZXh0LXNtJz5ObyB1c2VyLXNwZWNpZmljIHBlcm1pc3Npb24gb3ZlcnJpZGVzPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0ndGV4dC14cyB0ZXh0LWdyYXktNDAwJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVzZXIgaW5oZXJpdHMgYWxsIHBlcm1pc3Npb25zIGZyb20ge3VzZXIucm9sZX0gcm9sZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogQWN0aW9uIGJ1dHRvbnMgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBnYXAtMiBtdC00IHB0LTQgYm9yZGVyLXQnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD0nb3V0bGluZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPSdzbSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RWRpdGluZ1VzZXIoZWRpdGluZ1VzZXIgPT09IHVzZXIuaWQgPyBudWxsIDogdXNlci5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RWRpdCBjbGFzc05hbWU9J2gtNCB3LTQgbXItMicgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZWRpdGluZ1VzZXIgPT09IHVzZXIuaWQgPyAnQ2FuY2VsJyA6ICdNYW5hZ2UgUGVybWlzc2lvbnMnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9J2dob3N0J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9J3NtJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFZpZXcgZGV0YWlsZWQgcGVybWlzc2lvbnMgZm9yIHRoaXMgdXNlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1VzZXIgRGV0YWlscycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgJHt1c2VyLmZpcnN0TmFtZX0gJHt1c2VyLmxhc3ROYW1lfSBoYXMgJHt0b3RhbFBlcm1pc3Npb25zfSB0b3RhbCBwZXJtaXNzaW9uc2AsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFVzZXJzIGNsYXNzTmFtZT0naC00IHctNCBtci0yJyAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZpZXcgRGV0YWlsc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogRXhwYW5kYWJsZSBwZXJtaXNzaW9uIG1hbmFnZW1lbnQgZm9ybSAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtlZGl0aW5nVXNlciA9PT0gdXNlci5pZCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdtdC00IHAtNCBiZy1ibHVlLTUwIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ibHVlLTIwMCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg2IGNsYXNzTmFtZT0nZm9udC1tZWRpdW0gdGV4dC1ibHVlLTkwMCBtYi0zJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hbmFnZSBVc2VyIFBlcm1pc3Npb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oNj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc3BhY2UteS0zJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25WYWx1ZUNoYW5nZT17KHBlcm1pc3Npb25JZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyYW50VXNlclBlcm1pc3Npb25NdXRhdGlvbi5tdXRhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcklkOiB1c2VyLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVybWlzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uOiAnQWRtaW4gZ3JhbnRlZCB2aWEgcGVybWlzc2lvbnMgcGFnZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RUcmlnZ2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RWYWx1ZSBwbGFjZWhvbGRlcj0nR3JhbnQgYSBuZXcgcGVybWlzc2lvbi4uLicgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RUcmlnZ2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cGVybWlzc2lvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICF1c2VyU3BlY2lmaWNQZXJtaXNzaW9ucy5zb21lKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHVwKSA9PiB1cC5wZXJtaXNzaW9uSWQgPT09IHAuaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChwZXJtaXNzaW9uKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIGtleT17cGVybWlzc2lvbi5pZH0gdmFsdWU9e3Blcm1pc3Npb24uaWR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtwZXJtaXNzaW9uLmRpc3BsYXlOYW1lfSAoe3Blcm1pc3Npb24ucmVzb3VyY2VUeXBlfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXggZ2FwLTInPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD0nb3V0bGluZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPSdzbSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRFZGl0aW5nVXNlcihudWxsKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhbmNlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PSdnaG9zdCcgc2l6ZT0nc20nIGRpc2FibGVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCYWRnZSB2YXJpYW50PSdzZWNvbmRhcnknPkZ1dHVyZTogQnVsayBBY3Rpb25zPC9CYWRnZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtmaWx0ZXJlZFVzZXJzLmxlbmd0aCA9PT0gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd0ZXh0LWNlbnRlciBweS04IHRleHQtZ3JheS01MDAnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxVc2VycyBjbGFzc05hbWU9J3ctMTIgaC0xMiBteC1hdXRvIG1iLTQgdGV4dC1ncmF5LTQwMCcgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5ObyB1c2VycyBmb3VuZCBtYXRjaGluZyB5b3VyIHNlYXJjaCBjcml0ZXJpYS48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgIHsvKiBQYWdpbmF0aW9uIENvbnRyb2xzICovfVxuICAgICAgICAgICAgICAgICAgICAgIHt0b3RhbFBhZ2VzID4gMSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBqdXN0aWZ5LWNlbnRlciBpdGVtcy1jZW50ZXIgZ2FwLTQgbXQtNic+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PSdvdXRsaW5lJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9J3NtJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEN1cnJlbnRQYWdlKChwcmV2KSA9PiBNYXRoLm1heChwcmV2IC0gMSwgMSkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtjdXJyZW50UGFnZSA9PT0gMX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByZXZpb3VzXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMic+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSd0ZXh0LXNtIHRleHQtZ3JheS02MDAnPlBhZ2U8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPSdudW1iZXInXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW49JzEnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXg9e3RvdGFsUGFnZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Y3VycmVudFBhZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFnZSA9IHBhcnNlSW50KGUudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2UgPj0gMSAmJiBwYWdlIDw9IHRvdGFsUGFnZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDdXJyZW50UGFnZShwYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQmx1cj17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFnZSA9IHBhcnNlSW50KGUudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKHBhZ2UpIHx8IHBhZ2UgPCAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q3VycmVudFBhZ2UoMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFnZSA+IHRvdGFsUGFnZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDdXJyZW50UGFnZSh0b3RhbFBhZ2VzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0ndy0xNiB0ZXh0LWNlbnRlcidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0ndGV4dC1zbSB0ZXh0LWdyYXktNjAwJz5vZiB7dG90YWxQYWdlc308L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PSdvdXRsaW5lJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9J3NtJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEN1cnJlbnRQYWdlKChwcmV2KSA9PiBNYXRoLm1pbihwcmV2ICsgMSwgdG90YWxQYWdlcykpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtjdXJyZW50UGFnZSA9PT0gdG90YWxQYWdlc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5leHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3RleHQtc20gdGV4dC1ncmF5LTYwMCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU2hvd2luZyB7c3RhcnRJbmRleCArIDF9LXtNYXRoLm1pbihlbmRJbmRleCwgdG90YWxVc2Vycyl9IG9meycgJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dG90YWxVc2Vyc30gdXNlcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9DYXJkQ29udGVudD5cbiAgICAgICAgICAgICAgPC9DYXJkPlxuICAgICAgICAgICAgPC9UYWJzQ29udGVudD5cblxuICAgICAgICAgICAgey8qIEFsbCBQZXJtaXNzaW9ucyBUYWIgKi99XG4gICAgICAgICAgICA8VGFic0NvbnRlbnQgdmFsdWU9J3Blcm1pc3Npb25zJyBjbGFzc05hbWU9J3NwYWNlLXktNic+XG4gICAgICAgICAgICAgIDxDYXJkPlxuICAgICAgICAgICAgICAgIDxDYXJkSGVhZGVyPlxuICAgICAgICAgICAgICAgICAgPENhcmRUaXRsZSBjbGFzc05hbWU9J2ZsZXggaXRlbXMtY2VudGVyIGdhcC0yJz5cbiAgICAgICAgICAgICAgICAgICAgPFNoaWVsZCBjbGFzc05hbWU9J2gtNSB3LTUnIC8+XG4gICAgICAgICAgICAgICAgICAgIEFsbCBQZXJtaXNzaW9uc1xuICAgICAgICAgICAgICAgICAgPC9DYXJkVGl0bGU+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3RleHQtc20gdGV4dC1ncmF5LTYwMCc+XG4gICAgICAgICAgICAgICAgICAgIENvbXBsZXRlIHN5c3RlbSBwZXJtaXNzaW9ucyB0YWJsZSB3aXRoIGRldGFpbGVkIGluZm9ybWF0aW9uIGFib3V0IGVhY2hcbiAgICAgICAgICAgICAgICAgICAgcGVybWlzc2lvbi5cbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L0NhcmRIZWFkZXI+XG4gICAgICAgICAgICAgICAgPENhcmRDb250ZW50PlxuICAgICAgICAgICAgICAgICAgey8qIEVuaGFuY2VkIFNlYXJjaCBhbmQgRmlsdGVyIGZvciBwZXJtaXNzaW9ucyAqL31cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzcGFjZS15LTQgbWItNic+XG4gICAgICAgICAgICAgICAgICAgIHsvKiBQcmltYXJ5IGZpbHRlcnMgcm93ICovfVxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBnYXAtNCc+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXgtMSc+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncmVsYXRpdmUnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VhcmNoIGNsYXNzTmFtZT0nYWJzb2x1dGUgbGVmdC0zIHRvcC0zIGgtNCB3LTQgdGV4dC1ncmF5LTQwMCcgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9J1NlYXJjaCBwZXJtaXNzaW9ucyBieSBuYW1lLCBkZXNjcmlwdGlvbiwgb3IgcmVzb3VyY2UgdHlwZS4uLidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17cGVybWlzc2lvblNlYXJjaFF1ZXJ5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0UGVybWlzc2lvblNlYXJjaFF1ZXJ5KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3BsLTEwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPSdpbnB1dC1wZXJtaXNzaW9uLXNlYXJjaCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QgdmFsdWU9e3NlbGVjdGVkQ2F0ZWdvcnl9IG9uVmFsdWVDaGFuZ2U9e3NldFNlbGVjdGVkQ2F0ZWdvcnl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFRyaWdnZXIgY2xhc3NOYW1lPSd3LTQ4JyBkYXRhLXRlc3RpZD0nc2VsZWN0LWNhdGVnb3J5LWZpbHRlcic+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RWYWx1ZSBwbGFjZWhvbGRlcj0nRmlsdGVyIGJ5IGNhdGVnb3J5JyAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RUcmlnZ2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPSdhbGwnPkFsbCBDYXRlZ29yaWVzPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7T2JqZWN0LmtleXMocGVybWlzc2lvbnNCeVJlc291cmNlKS5tYXAoKGNhdGVnb3J5KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0ga2V5PXtjYXRlZ29yeX0gdmFsdWU9e2NhdGVnb3J5fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjYXRlZ29yeS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5LnNsaWNlKDEpLnJlcGxhY2UoL1tfLV0vZywgJyAnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RDb250ZW50PlxuICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICB7LyogU2Vjb25kYXJ5IGZpbHRlcnMgcm93ICovfVxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBnYXAtNCBpdGVtcy1jZW50ZXInPlxuICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QgdmFsdWU9e2ZpbHRlckFjdGlvblR5cGV9IG9uVmFsdWVDaGFuZ2U9e3NldEZpbHRlckFjdGlvblR5cGV9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFRyaWdnZXIgY2xhc3NOYW1lPSd3LTQwJyBkYXRhLXRlc3RpZD0nc2VsZWN0LWFjdGlvbi1maWx0ZXInPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0VmFsdWUgcGxhY2Vob2xkZXI9J0FjdGlvbiB0eXBlJyAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RUcmlnZ2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPSdhbGwnPkFsbCBBY3Rpb25zPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7YWN0aW9uVHlwZXMubWFwKChhY3Rpb24pID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSBrZXk9e2FjdGlvbn0gdmFsdWU9e2FjdGlvbn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YWN0aW9uLnRvVXBwZXJDYXNlKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cblxuICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QgdmFsdWU9e3NvcnRCeX0gb25WYWx1ZUNoYW5nZT17c2V0U29ydEJ5fT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RUcmlnZ2VyIGNsYXNzTmFtZT0ndy00MCcgZGF0YS10ZXN0aWQ9J3NlbGVjdC1zb3J0LWJ5Jz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFZhbHVlIHBsYWNlaG9sZGVyPSdTb3J0IGJ5JyAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RUcmlnZ2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPSduYW1lJz5Tb3J0IGJ5IE5hbWU8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPSdyZXNvdXJjZSc+U29ydCBieSBSZXNvdXJjZTwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9J2FjdGlvbic+U29ydCBieSBBY3Rpb248L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPSdkYXRlJz5Tb3J0IGJ5IERhdGU8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG5cbiAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PSdvdXRsaW5lJ1xuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT0nc20nXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtyZXNldFBlcm1pc3Npb25GaWx0ZXJzfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMidcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPSdidXR0b24tcmVzZXQtcGVybWlzc2lvbi1maWx0ZXJzJ1xuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxYIGNsYXNzTmFtZT0naC00IHctNCcgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIFJlc2V0IEZpbHRlcnNcbiAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgey8qIEZpbHRlciBzdW1tYXJ5ICovfVxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTQgdGV4dC1zbSB0ZXh0LWdyYXktNjAwJz5cbiAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIFNob3dpbmcge3NvcnRlZFBlcm1pc3Npb25zLmxlbmd0aH0gb2Yge3Blcm1pc3Npb25zPy5sZW5ndGggfHwgMH0gcGVybWlzc2lvbnNcbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgeyhwZXJtaXNzaW9uU2VhcmNoUXVlcnkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkQ2F0ZWdvcnkgIT09ICdhbGwnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJBY3Rpb25UeXBlICE9PSAnYWxsJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgc29ydEJ5ICE9PSAnbmFtZScpICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMic+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxGaWx0ZXIgY2xhc3NOYW1lPSdoLTQgdy00JyAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5GaWx0ZXJzIGFjdGl2ZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgIHtpc0xvYWRpbmcgPyAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGp1c3RpZnktY2VudGVyIGl0ZW1zLWNlbnRlciBweS04Jz5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBoLTggdy04IGJvcmRlci1iLTIgYm9yZGVyLWtvdmVvLW5hdnknPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdvdmVyZmxvdy14LWF1dG8nPlxuICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUhlYWRlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlUm93IGNsYXNzTmFtZT0nYmctZ3JheS01MCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlSGVhZCBjbGFzc05hbWU9J2ZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQZXJtaXNzaW9uIElEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UYWJsZUhlYWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlSGVhZCBjbGFzc05hbWU9J2ZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEaXNwbGF5IE5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RhYmxlSGVhZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGVIZWFkIGNsYXNzTmFtZT0nZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlc291cmNlIFR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RhYmxlSGVhZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGVIZWFkIGNsYXNzTmFtZT0nZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwJz5BY3Rpb248L1RhYmxlSGVhZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGVIZWFkIGNsYXNzTmFtZT0ndGV4dC1jZW50ZXIgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0YXR1c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFibGVIZWFkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUhlYWQgY2xhc3NOYW1lPSdmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RhYmxlSGVhZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGVIZWFkIGNsYXNzTmFtZT0ndGV4dC1jZW50ZXIgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJvbGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UYWJsZUhlYWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFibGVSb3c+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1RhYmxlSGVhZGVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQm9keT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge3NvcnRlZFBlcm1pc3Npb25zLm1hcCgocGVybWlzc2lvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJvbGVzV2l0aFBlcm1pc3Npb24gPSByb2xlcy5maWx0ZXIoKHJvbGUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlTWF0cml4W3JvbGVdPy5pbmNsdWRlcyhwZXJtaXNzaW9uLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlUm93IGtleT17cGVybWlzc2lvbi5pZH0gY2xhc3NOYW1lPSdob3ZlcjpiZy1ncmF5LTUwJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ2VsbCBjbGFzc05hbWU9J2ZvbnQtbW9ubyB0ZXh0LXhzIHRleHQtZ3JheS02MDAnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtwZXJtaXNzaW9uLmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RhYmxlQ2VsbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ2VsbCBjbGFzc05hbWU9J2ZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtwZXJtaXNzaW9uLmRpc3BsYXlOYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RhYmxlQ2VsbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ2VsbCBjbGFzc05hbWU9J2NhcGl0YWxpemUnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCYWRnZSB2YXJpYW50PSdvdXRsaW5lJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtwZXJtaXNzaW9uLnJlc291cmNlVHlwZS5yZXBsYWNlKCdfJywgJyAnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0JhZGdlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RhYmxlQ2VsbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ2VsbCBjbGFzc05hbWU9J3RleHQtYmx1ZS02MDAgZm9udC1tZWRpdW0gdXBwZXJjYXNlJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cGVybWlzc2lvbi5hY3Rpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFibGVDZWxsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGVDZWxsIGNsYXNzTmFtZT0ndGV4dC1jZW50ZXInPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCYWRnZSB2YXJpYW50PXtwZXJtaXNzaW9uLmlzQWN0aXZlID8gJ2RlZmF1bHQnIDogJ3NlY29uZGFyeSd9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3Blcm1pc3Npb24uaXNBY3RpdmUgPyAnQWN0aXZlJyA6ICdJbmFjdGl2ZSd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CYWRnZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UYWJsZUNlbGw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUNlbGwgY2xhc3NOYW1lPSd0ZXh0LXNtIHRleHQtZ3JheS02MDAgbWF4LXctbWQnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtwZXJtaXNzaW9uLmRlc2NyaXB0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RhYmxlQ2VsbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ2VsbCBjbGFzc05hbWU9J3RleHQtY2VudGVyJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBmbGV4LXdyYXAgZ2FwLTEganVzdGlmeS1jZW50ZXInPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3JvbGVzV2l0aFBlcm1pc3Npb24ubWFwKChyb2xlKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCYWRnZSBrZXk9e3JvbGV9IHZhcmlhbnQ9J3NlY29uZGFyeScgY2xhc3NOYW1lPSd0ZXh0LXhzJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cm9sZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHJvbGUuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQmFkZ2U+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtyb2xlc1dpdGhQZXJtaXNzaW9uLmxlbmd0aCA9PT0gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0ndGV4dC14cyB0ZXh0LWdyYXktNDAwJz5Ob25lPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UYWJsZUNlbGw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RhYmxlUm93PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9UYWJsZUJvZHk+XG4gICAgICAgICAgICAgICAgICAgICAgPC9UYWJsZT5cblxuICAgICAgICAgICAgICAgICAgICAgIHtzb3J0ZWRQZXJtaXNzaW9ucy5sZW5ndGggPT09IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3RleHQtY2VudGVyIHB5LTggdGV4dC1ncmF5LTUwMCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTaGllbGQgY2xhc3NOYW1lPSd3LTEyIGgtMTIgbXgtYXV0byBtYi00IHRleHQtZ3JheS00MDAnIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxwPk5vIHBlcm1pc3Npb25zIGZvdW5kIG1hdGNoaW5nIHlvdXIgc2VhcmNoIGNyaXRlcmlhLjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgICAgICAgICA8L0NhcmQ+XG4gICAgICAgICAgICA8L1RhYnNDb250ZW50PlxuICAgICAgICAgIDwvVGFicz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJ2ZXJzaW9uIjozfQ==