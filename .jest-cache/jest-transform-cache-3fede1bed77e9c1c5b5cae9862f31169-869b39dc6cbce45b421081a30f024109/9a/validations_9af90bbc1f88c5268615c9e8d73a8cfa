4a917fe95cd0483e39230ed3770cdc2d
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.validationHelpers = exports.schemas = exports.compositeFields = exports.enumFields = exports.commonFields = exports.RESIDENCE_DOCUMENT_TYPES = exports.BUILDING_DOCUMENT_TYPES = exports.BILL_CATEGORIES = exports.BUILDING_TYPES = exports.SCHEDULE_TYPES = exports.PAYMENT_TYPES = exports.BILL_STATUSES = exports.DEMAND_STATUSES = exports.DEMAND_TYPES = exports.USER_ROLES = void 0;
const zod_1 = require("zod");
// Common enum definitions
exports.USER_ROLES = ['admin', 'manager', 'tenant', 'resident'];
exports.DEMAND_TYPES = ['maintenance', 'complaint', 'information', 'other'];
exports.DEMAND_STATUSES = [
    'submitted',
    'under_review',
    'approved',
    'rejected',
    'in_progress',
    'completed',
    'cancelled',
];
exports.BILL_STATUSES = ['draft', 'sent', 'overdue', 'paid', 'cancelled'];
exports.PAYMENT_TYPES = ['unique', 'recurrent'];
exports.SCHEDULE_TYPES = ['weekly', 'monthly', 'quarterly', 'yearly'];
exports.BUILDING_TYPES = [
    'condo',
    'apartment',
    'townhouse',
    'commercial',
    'mixed_use',
    'other',
];
exports.BILL_CATEGORIES = [
    'insurance',
    'maintenance',
    'salary',
    'utilities',
    'cleaning',
    'security',
    'landscaping',
    'professional_services',
    'administration',
    'repairs',
    'supplies',
    'taxes',
    'technology',
    'reserves',
    'other',
];
exports.BUILDING_DOCUMENT_TYPES = [
    'bylaw',
    'financial',
    'maintenance',
    'legal',
    'meeting_minutes',
    'insurance',
    'contracts',
    'permits',
    'inspection',
    'other',
];
exports.RESIDENCE_DOCUMENT_TYPES = [
    'lease',
    'inspection',
    'maintenance',
    'legal',
    'insurance',
    'financial',
    'communication',
    'photos',
    'other',
];
// Common validation schemas
exports.commonFields = {
    // Required string fields
    requiredString: (fieldName, maxLength) => maxLength
        ? zod_1.z.string().min(1, `${fieldName} is required`).max(maxLength, `${fieldName} is too long`)
        : zod_1.z.string().min(1, `${fieldName} is required`),
    // Optional string fields
    optionalString: (maxLength) => maxLength ? zod_1.z.string().max(maxLength, 'Text is too long').optional() : zod_1.z.string().optional(),
    // Required ID fields
    requiredId: (fieldName) => zod_1.z.string().min(1, `${fieldName} is required`),
    // Email validation
    email: zod_1.z.string().email('Invalid email address'),
    // Description with minimum length
    description: (minLength = 10) => zod_1.z.string().min(minLength, `Description must be at least ${minLength} characters`),
    // Amount/Price validation
    amount: zod_1.z.string().min(1, 'Amount is required'),
    // Date validation
    date: (fieldName) => zod_1.z
        .string()
        .min(1, `${fieldName} is required`)
        .refine((dateStr) => {
        const date = new Date(dateStr);
        return !isNaN(date.getTime());
    }, {
        message: `Valid ${fieldName.toLowerCase()} is required`,
    }),
    // Optional date validation
    optionalDate: zod_1.z.string().optional(),
    // Boolean with default
    booleanWithDefault: (defaultValue) => zod_1.z.boolean().default(defaultValue),
};
// Enum validation schemas
exports.enumFields = {
    userRole: zod_1.z.enum(exports.USER_ROLES),
    demandType: zod_1.z.enum(exports.DEMAND_TYPES),
    demandStatus: zod_1.z.enum(exports.DEMAND_STATUSES),
    billStatus: zod_1.z.enum(exports.BILL_STATUSES),
    billCategory: zod_1.z.enum(exports.BILL_CATEGORIES),
    paymentType: zod_1.z.enum(exports.PAYMENT_TYPES),
    scheduleType: zod_1.z.enum(exports.SCHEDULE_TYPES).optional(),
    buildingType: zod_1.z.enum(exports.BUILDING_TYPES),
    buildingDocumentType: zod_1.z.enum(exports.BUILDING_DOCUMENT_TYPES),
    residenceDocumentType: zod_1.z.enum(exports.RESIDENCE_DOCUMENT_TYPES),
};
// Complex field combinations
// First define basic composites that don't depend on others
const addressFields = {
    address: exports.commonFields.requiredString('Address', 500),
    city: exports.commonFields.requiredString('City', 100),
    province: exports.commonFields.requiredString('Province', 100),
    postalCode: exports.commonFields.requiredString('Postal code', 20),
};
const personNameFields = {
    firstName: exports.commonFields.requiredString('First name', 100),
    lastName: exports.commonFields.requiredString('Last name', 100),
};
exports.compositeFields = {
    // Standard name fields
    personName: personNameFields,
    // Standard address fields
    address: addressFields,
    // Organization fields
    organizationBase: {
        name: exports.commonFields.requiredString('Organization name', 200),
        type: exports.commonFields.requiredString('Organization type'),
        ...addressFields,
    },
    // Building base fields
    buildingBase: {
        name: exports.commonFields.requiredString('Building name', 255),
        ...addressFields,
        buildingType: exports.enumFields.buildingType,
        organizationId: exports.commonFields.requiredId('Organization'),
    },
    // Document base fields
    documentBase: {
        name: exports.commonFields.requiredString('Name', 255),
        dateReference: exports.commonFields.date('Reference date'),
        isVisibleToTenants: exports.commonFields.booleanWithDefault(true),
    },
    // Bill base fields
    billBase: {
        title: exports.commonFields.requiredString('Title'),
        description: exports.commonFields.optionalString(),
        category: exports.enumFields.billCategory,
        vendor: exports.commonFields.optionalString(),
        paymentType: exports.enumFields.paymentType,
        schedulePayment: exports.enumFields.scheduleType,
        totalAmount: exports.commonFields.amount,
        startDate: exports.commonFields.date('Start date'),
        endDate: exports.commonFields.optionalDate,
        status: exports.enumFields.billStatus,
        notes: exports.commonFields.optionalString(),
    },
    // Demand base fields
    demandBase: {
        type: exports.enumFields.demandType,
        description: exports.commonFields.description(10),
        attachments: zod_1.z.array(zod_1.z.string()).optional(), // Array of file URLs/paths
        buildingId: exports.commonFields.requiredId('Building'),
        residenceId: exports.commonFields.optionalString(),
        assignationBuildingId: exports.commonFields.optionalString(),
        assignationResidenceId: exports.commonFields.optionalString(),
    },
};
// Pre-built schemas for common entities
exports.schemas = {
    // User schemas
    userCreate: zod_1.z.object({
        ...exports.compositeFields.personName,
        email: exports.commonFields.email,
        role: exports.enumFields.userRole,
    }),
    // Building document schema
    buildingDocument: zod_1.z.object({
        ...exports.compositeFields.documentBase,
        type: exports.enumFields.buildingDocumentType,
        buildingId: exports.commonFields.requiredId('Building'),
    }),
    // Residence document schema
    residenceDocument: zod_1.z.object({
        ...exports.compositeFields.documentBase,
        type: exports.enumFields.residenceDocumentType,
        residenceId: exports.commonFields.requiredId('Residence'),
    }),
    // Bill schema
    bill: zod_1.z.object(exports.compositeFields.billBase),
    // Demand schema
    demand: zod_1.z.object(exports.compositeFields.demandBase),
    // Demand review schema (for managers)
    demandReview: zod_1.z.object({
        status: zod_1.z.enum(['approved', 'rejected', 'under_review', 'in_progress', 'completed']),
        reviewNotes: exports.commonFields.optionalString(),
        assignationBuildingId: exports.commonFields.optionalString(),
        assignationResidenceId: exports.commonFields.optionalString(),
    }),
};
// Utility functions for validation
exports.validationHelpers = {
    // Create form schema with common fields
    createFormSchema: (fields) => zod_1.z.object(fields),
    // Extend existing schema with additional fields
    extendSchema: (baseSchema, extensions) => baseSchema.extend(extensions),
    // Create optional version of schema
    makeOptional: (schema) => schema.partial(),
    // Create pick schema with selected fields
    pickFields: (schema, keys) => schema.pick(Object.fromEntries(keys.map((k) => [k, true]))),
    // Validate enum value
    isValidEnum: (enumArray, value) => enumArray.includes(value),
};
exports.default = {
    commonFields: exports.commonFields,
    enumFields: exports.enumFields,
    compositeFields: exports.compositeFields,
    schemas: exports.schemas,
    validationHelpers: exports.validationHelpers,
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9jbGllbnQvc3JjL2xpYi92YWxpZGF0aW9ucy50cyIsIm1hcHBpbmdzIjoiOzs7QUFBQSw2QkFBd0I7QUFFeEIsMEJBQTBCO0FBQ2IsUUFBQSxVQUFVLEdBQUcsQ0FBQyxPQUFPLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxVQUFVLENBQVUsQ0FBQztBQUNqRSxRQUFBLFlBQVksR0FBRyxDQUFDLGFBQWEsRUFBRSxXQUFXLEVBQUUsYUFBYSxFQUFFLE9BQU8sQ0FBVSxDQUFDO0FBQzdFLFFBQUEsZUFBZSxHQUFHO0lBQzdCLFdBQVc7SUFDWCxjQUFjO0lBQ2QsVUFBVTtJQUNWLFVBQVU7SUFDVixhQUFhO0lBQ2IsV0FBVztJQUNYLFdBQVc7Q0FDSCxDQUFDO0FBQ0UsUUFBQSxhQUFhLEdBQUcsQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsV0FBVyxDQUFVLENBQUM7QUFDM0UsUUFBQSxhQUFhLEdBQUcsQ0FBQyxRQUFRLEVBQUUsV0FBVyxDQUFVLENBQUM7QUFDakQsUUFBQSxjQUFjLEdBQUcsQ0FBQyxRQUFRLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxRQUFRLENBQVUsQ0FBQztBQUN2RSxRQUFBLGNBQWMsR0FBRztJQUM1QixPQUFPO0lBQ1AsV0FBVztJQUNYLFdBQVc7SUFDWCxZQUFZO0lBQ1osV0FBVztJQUNYLE9BQU87Q0FDQyxDQUFDO0FBRUUsUUFBQSxlQUFlLEdBQUc7SUFDN0IsV0FBVztJQUNYLGFBQWE7SUFDYixRQUFRO0lBQ1IsV0FBVztJQUNYLFVBQVU7SUFDVixVQUFVO0lBQ1YsYUFBYTtJQUNiLHVCQUF1QjtJQUN2QixnQkFBZ0I7SUFDaEIsU0FBUztJQUNULFVBQVU7SUFDVixPQUFPO0lBQ1AsWUFBWTtJQUNaLFVBQVU7SUFDVixPQUFPO0NBQ0MsQ0FBQztBQUVFLFFBQUEsdUJBQXVCLEdBQUc7SUFDckMsT0FBTztJQUNQLFdBQVc7SUFDWCxhQUFhO0lBQ2IsT0FBTztJQUNQLGlCQUFp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Q0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQVEsQ0FBQztJQUVwRSxzQkFBc0I7SUFDdEIsV0FBVyxFQUFFLENBQThCLFNBQVksRUFBRSxLQUFhLEVBQXNCLEVBQUUsQ0FDNUYsU0FBUyxDQUFDLFFBQVEsQ0FBQyxLQUFrQixDQUFDO0NBQ3pDLENBQUM7QUFzRUYsa0JBQWU7SUFDYixZQUFZLEVBQVosb0JBQVk7SUFDWixVQUFVLEVBQVYsa0JBQVU7SUFDVixlQUFlLEVBQWYsdUJBQWU7SUFDZixPQUFPLEVBQVAsZUFBTztJQUNQLGlCQUFpQixFQUFqQix5QkFBaUI7Q0FDbEIsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvaG9tZS9ydW5uZXIvd29ya3NwYWNlL2NsaWVudC9zcmMvbGliL3ZhbGlkYXRpb25zLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xuXG4vLyBDb21tb24gZW51bSBkZWZpbml0aW9uc1xuZXhwb3J0IGNvbnN0IFVTRVJfUk9MRVMgPSBbJ2FkbWluJywgJ21hbmFnZXInLCAndGVuYW50JywgJ3Jlc2lkZW50J10gYXMgY29uc3Q7XG5leHBvcnQgY29uc3QgREVNQU5EX1RZUEVTID0gWydtYWludGVuYW5jZScsICdjb21wbGFpbnQnLCAnaW5mb3JtYXRpb24nLCAnb3RoZXInXSBhcyBjb25zdDtcbmV4cG9ydCBjb25zdCBERU1BTkRfU1RBVFVTRVMgPSBbXG4gICdzdWJtaXR0ZWQnLFxuICAndW5kZXJfcmV2aWV3JyxcbiAgJ2FwcHJvdmVkJyxcbiAgJ3JlamVjdGVkJyxcbiAgJ2luX3Byb2dyZXNzJyxcbiAgJ2NvbXBsZXRlZCcsXG4gICdjYW5jZWxsZWQnLFxuXSBhcyBjb25zdDtcbmV4cG9ydCBjb25zdCBCSUxMX1NUQVRVU0VTID0gWydkcmFmdCcsICdzZW50JywgJ292ZXJkdWUnLCAncGFpZCcsICdjYW5jZWxsZWQnXSBhcyBjb25zdDtcbmV4cG9ydCBjb25zdCBQQVlNRU5UX1RZUEVTID0gWyd1bmlxdWUnLCAncmVjdXJyZW50J10gYXMgY29uc3Q7XG5leHBvcnQgY29uc3QgU0NIRURVTEVfVFlQRVMgPSBbJ3dlZWtseScsICdtb250aGx5JywgJ3F1YXJ0ZXJseScsICd5ZWFybHknXSBhcyBjb25zdDtcbmV4cG9ydCBjb25zdCBCVUlMRElOR19UWVBFUyA9IFtcbiAgJ2NvbmRvJyxcbiAgJ2FwYXJ0bWVudCcsXG4gICd0b3duaG91c2UnLFxuICAnY29tbWVyY2lhbCcsXG4gICdtaXhlZF91c2UnLFxuICAnb3RoZXInLFxuXSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IEJJTExfQ0FURUdPUklFUyA9IFtcbiAgJ2luc3VyYW5jZScsXG4gICdtYWludGVuYW5jZScsXG4gICdzYWxhcnknLFxuICAndXRpbGl0aWVzJyxcbiAgJ2NsZWFuaW5nJyxcbiAgJ3NlY3VyaXR5JyxcbiAgJ2xhbmRzY2FwaW5nJyxcbiAgJ3Byb2Zlc3Npb25hbF9zZXJ2aWNlcycsXG4gICdhZG1pbmlzdHJhdGlvbicsXG4gICdyZXBhaXJzJyxcbiAgJ3N1cHBsaWVzJyxcbiAgJ3RheGVzJyxcbiAgJ3RlY2hub2xvZ3knLFxuICAncmVzZXJ2ZXMnLFxuICAnb3RoZXInLFxuXSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IEJVSUxESU5HX0RPQ1VNRU5UX1RZUEVTID0gW1xuICAnYnlsYXcnLFxuICAnZmluYW5jaWFsJyxcbiAgJ21haW50ZW5hbmNlJyxcbiAgJ2xlZ2FsJyxcbiAgJ21lZXRpbmdfbWludXRlcycsXG4gICdpbnN1cmFuY2UnLFxuICAnY29udHJhY3RzJyxcbiAgJ3Blcm1pdHMnLFxuICAnaW5zcGVjdGlvbicsXG4gICdvdGhlcicsXG5dIGFzIGNvbnN0O1xuXG5leHBvcnQgY29uc3QgUkVTSURFTkNFX0RPQ1VNRU5UX1RZUEVTID0gW1xuICAnbGVhc2UnLFxuICAnaW5zcGVjdGlvbicsXG4gICdtYWludGVuYW5jZScsXG4gICdsZWdhbCcsXG4gICdpbnN1cmFuY2UnLFxuICAnZmluYW5jaWFsJyxcbiAgJ2NvbW11bmljYXRpb24nLFxuICAncGhvdG9zJyxcbiAgJ290aGVyJyxcbl0gYXMgY29uc3Q7XG5cbi8vIENvbW1vbiB2YWxpZGF0aW9uIHNjaGVtYXNcbmV4cG9ydCBjb25zdCBjb21tb25GaWVsZHMgPSB7XG4gIC8vIFJlcXVpcmVkIHN0cmluZyBmaWVsZHNcbiAgcmVxdWlyZWRTdHJpbmc6IChmaWVsZE5hbWU6IHN0cmluZywgbWF4TGVuZ3RoPzogbnVtYmVyKSA9PlxuICAgIG1heExlbmd0aFxuICAgICAgPyB6LnN0cmluZygpLm1pbigxLCBgJHtmaWVsZE5hbWV9IGlzIHJlcXVpcmVkYCkubWF4KG1heExlbmd0aCwgYCR7ZmllbGROYW1lfSBpcyB0b28gbG9uZ2ApXG4gICAgICA6IHouc3RyaW5nKCkubWluKDEsIGAke2ZpZWxkTmFtZX0gaXMgcmVxdWlyZWRgKSxcblxuICAvLyBPcHRpb25hbCBzdHJpbmcgZmllbGRzXG4gIG9wdGlvbmFsU3RyaW5nOiAobWF4TGVuZ3RoPzogbnVtYmVyKSA9PlxuICAgIG1heExlbmd0aCA/IHouc3RyaW5nKCkubWF4KG1heExlbmd0aCwgJ1RleHQgaXMgdG9vIGxvbmcnKS5vcHRpb25hbCgpIDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuXG4gIC8vIFJlcXVpcmVkIElEIGZpZWxkc1xuICByZXF1aXJlZElkOiAoZmllbGROYW1lOiBzdHJpbmcpID0+IHouc3RyaW5nKCkubWluKDEsIGAke2ZpZWxkTmFtZX0gaXMgcmVxdWlyZWRgKSxcblxuICAvLyBFbWFpbCB2YWxpZGF0aW9uXG4gIGVtYWlsOiB6LnN0cmluZygpLmVtYWlsKCdJbnZhbGlkIGVtYWlsIGFkZHJlc3MnKSxcblxuICAvLyBEZXNjcmlwdGlvbiB3aXRoIG1pbmltdW0gbGVuZ3RoXG4gIGRlc2NyaXB0aW9uOiAobWluTGVuZ3RoID0gMTApID0+XG4gICAgei5zdHJpbmcoKS5taW4obWluTGVuZ3RoLCBgRGVzY3JpcHRpb24gbXVzdCBiZSBhdCBsZWFzdCAke21pbkxlbmd0aH0gY2hhcmFjdGVyc2ApLFxuXG4gIC8vIEFtb3VudC9QcmljZSB2YWxpZGF0aW9uXG4gIGFtb3VudDogei5zdHJpbmcoKS5taW4oMSwgJ0Ftb3VudCBpcyByZXF1aXJlZCcpLFxuXG4gIC8vIERhdGUgdmFsaWRhdGlvblxuICBkYXRlOiAoZmllbGROYW1lOiBzdHJpbmcpID0+XG4gICAgelxuICAgICAgLnN0cmluZygpXG4gICAgICAubWluKDEsIGAke2ZpZWxkTmFtZX0gaXMgcmVxdWlyZWRgKVxuICAgICAgLnJlZmluZShcbiAgICAgICAgKGRhdGVTdHIpID0+IHtcbiAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoZGF0ZVN0cik7XG4gICAgICAgICAgcmV0dXJuICFpc05hTihkYXRlLmdldFRpbWUoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBtZXNzYWdlOiBgVmFsaWQgJHtmaWVsZE5hbWUudG9Mb3dlckNhc2UoKX0gaXMgcmVxdWlyZWRgLFxuICAgICAgICB9XG4gICAgICApLFxuXG4gIC8vIE9wdGlvbmFsIGRhdGUgdmFsaWRhdGlvblxuICBvcHRpb25hbERhdGU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcblxuICAvLyBCb29sZWFuIHdpdGggZGVmYXVsdFxuICBib29sZWFuV2l0aERlZmF1bHQ6IChkZWZhdWx0VmFsdWU6IGJvb2xlYW4pID0+IHouYm9vbGVhbigpLmRlZmF1bHQoZGVmYXVsdFZhbHVlKSxcbn07XG5cbi8vIEVudW0gdmFsaWRhdGlvbiBzY2hlbWFzXG5leHBvcnQgY29uc3QgZW51bUZpZWxkcyA9IHtcbiAgdXNlclJvbGU6IHouZW51bShVU0VSX1JPTEVTKSxcbiAgZGVtYW5kVHlwZTogei5lbnVtKERFTUFORF9UWVBFUyksXG4gIGRlbWFuZFN0YXR1czogei5lbnVtKERFTUFORF9TVEFUVVNFUyksXG4gIGJpbGxTdGF0dXM6IHouZW51bShCSUxMX1NUQVRVU0VTKSxcbiAgYmlsbENhdGVnb3J5OiB6LmVudW0oQklMTF9DQVRFR09SSUVTKSxcbiAgcGF5bWVudFR5cGU6IHouZW51bShQQVlNRU5UX1RZUEVTKSxcbiAgc2NoZWR1bGVUeXBlOiB6LmVudW0oU0NIRURVTEVfVFlQRVMpLm9wdGlvbmFsKCksXG4gIGJ1aWxkaW5nVHlwZTogei5lbnVtKEJVSUxESU5HX1RZUEVTKSxcbiAgYnVpbGRpbmdEb2N1bWVudFR5cGU6IHouZW51bShCVUlMRElOR19ET0NVTUVOVF9UWVBFUyksXG4gIHJlc2lkZW5jZURvY3VtZW50VHlwZTogei5lbnVtKFJFU0lERU5DRV9ET0NVTUVOVF9UWVBFUyksXG59O1xuXG4vLyBDb21wbGV4IGZpZWxkIGNvbWJpbmF0aW9uc1xuLy8gRmlyc3QgZGVmaW5lIGJhc2ljIGNvbXBvc2l0ZXMgdGhhdCBkb24ndCBkZXBlbmQgb24gb3RoZXJzXG5jb25zdCBhZGRyZXNzRmllbGRzID0ge1xuICBhZGRyZXNzOiBjb21tb25GaWVsZHMucmVxdWlyZWRTdHJpbmcoJ0FkZHJlc3MnLCA1MDApLFxuICBjaXR5OiBjb21tb25GaWVsZHMucmVxdWlyZWRTdHJpbmcoJ0NpdHknLCAxMDApLFxuICBwcm92aW5jZTogY29tbW9uRmllbGRzLnJlcXVpcmVkU3RyaW5nKCdQcm92aW5jZScsIDEwMCksXG4gIHBvc3RhbENvZGU6IGNvbW1vbkZpZWxkcy5yZXF1aXJlZFN0cmluZygnUG9zdGFsIGNvZGUnLCAyMCksXG59O1xuXG5jb25zdCBwZXJzb25OYW1lRmllbGRzID0ge1xuICBmaXJzdE5hbWU6IGNvbW1vbkZpZWxkcy5yZXF1aXJlZFN0cmluZygnRmlyc3QgbmFtZScsIDEwMCksXG4gIGxhc3ROYW1lOiBjb21tb25GaWVsZHMucmVxdWlyZWRTdHJpbmcoJ0xhc3QgbmFtZScsIDEwMCksXG59O1xuXG5leHBvcnQgY29uc3QgY29tcG9zaXRlRmllbGRzID0ge1xuICAvLyBTdGFuZGFyZCBuYW1lIGZpZWxkc1xuICBwZXJzb25OYW1lOiBwZXJzb25OYW1lRmllbGRzLFxuXG4gIC8vIFN0YW5kYXJkIGFkZHJlc3MgZmllbGRzXG4gIGFkZHJlc3M6IGFkZHJlc3NGaWVsZHMsXG5cbiAgLy8gT3JnYW5pemF0aW9uIGZpZWxkc1xuICBvcmdhbml6YXRpb25CYXNlOiB7XG4gICAgbmFtZTogY29tbW9uRmllbGRzLnJlcXVpcmVkU3RyaW5nKCdPcmdhbml6YXRpb24gbmFtZScsIDIwMCksXG4gICAgdHlwZTogY29tbW9uRmllbGRzLnJlcXVpcmVkU3RyaW5nKCdPcmdhbml6YXRpb24gdHlwZScpLFxuICAgIC4uLmFkZHJlc3NGaWVsZHMsXG4gIH0sXG5cbiAgLy8gQnVpbGRpbmcgYmFzZSBmaWVsZHNcbiAgYnVpbGRpbmdCYXNlOiB7XG4gICAgbmFtZTogY29tbW9uRmllbGRzLnJlcXVpcmVkU3RyaW5nKCdCdWlsZGluZyBuYW1lJywgMjU1KSxcbiAgICAuLi5hZGRyZXNzRmllbGRzLFxuICAgIGJ1aWxkaW5nVHlwZTogZW51bUZpZWxkcy5idWlsZGluZ1R5cGUsXG4gICAgb3JnYW5pemF0aW9uSWQ6IGNvbW1vbkZpZWxkcy5yZXF1aXJlZElkKCdPcmdhbml6YXRpb24nKSxcbiAgfSxcblxuICAvLyBEb2N1bWVudCBiYXNlIGZpZWxkc1xuICBkb2N1bWVudEJhc2U6IHtcbiAgICBuYW1lOiBjb21tb25GaWVsZHMucmVxdWlyZWRTdHJpbmcoJ05hbWUnLCAyNTUpLFxuICAgIGRhdGVSZWZlcmVuY2U6IGNvbW1vbkZpZWxkcy5kYXRlKCdSZWZlcmVuY2UgZGF0ZScpLFxuICAgIGlzVmlzaWJsZVRvVGVuYW50czogY29tbW9uRmllbGRzLmJvb2xlYW5XaXRoRGVmYXVsdCh0cnVlKSxcbiAgfSxcblxuICAvLyBCaWxsIGJhc2UgZmllbGRzXG4gIGJpbGxCYXNlOiB7XG4gICAgdGl0bGU6IGNvbW1vbkZpZWxkcy5yZXF1aXJlZFN0cmluZygnVGl0bGUnKSxcbiAgICBkZXNjcmlwdGlvbjogY29tbW9uRmllbGRzLm9wdGlvbmFsU3RyaW5nKCksXG4gICAgY2F0ZWdvcnk6IGVudW1GaWVsZHMuYmlsbENhdGVnb3J5LFxuICAgIHZlbmRvcjogY29tbW9uRmllbGRzLm9wdGlvbmFsU3RyaW5nKCksXG4gICAgcGF5bWVudFR5cGU6IGVudW1GaWVsZHMucGF5bWVudFR5cGUsXG4gICAgc2NoZWR1bGVQYXltZW50OiBlbnVtRmllbGRzLnNjaGVkdWxlVHlwZSxcbiAgICB0b3RhbEFtb3VudDogY29tbW9uRmllbGRzLmFtb3VudCxcbiAgICBzdGFydERhdGU6IGNvbW1vbkZpZWxkcy5kYXRlKCdTdGFydCBkYXRlJyksXG4gICAgZW5kRGF0ZTogY29tbW9uRmllbGRzLm9wdGlvbmFsRGF0ZSxcbiAgICBzdGF0dXM6IGVudW1GaWVsZHMuYmlsbFN0YXR1cyxcbiAgICBub3RlczogY29tbW9uRmllbGRzLm9wdGlvbmFsU3RyaW5nKCksXG4gIH0sXG5cbiAgLy8gRGVtYW5kIGJhc2UgZmllbGRzXG4gIGRlbWFuZEJhc2U6IHtcbiAgICB0eXBlOiBlbnVtRmllbGRzLmRlbWFuZFR5cGUsXG4gICAgZGVzY3JpcHRpb246IGNvbW1vbkZpZWxkcy5kZXNjcmlwdGlvbigxMCksXG4gICAgYXR0YWNobWVudHM6IHouYXJyYXkoei5zdHJpbmcoKSkub3B0aW9uYWwoKSwgLy8gQXJyYXkgb2YgZmlsZSBVUkxzL3BhdGhzXG4gICAgYnVpbGRpbmdJZDogY29tbW9uRmllbGRzLnJlcXVpcmVkSWQoJ0J1aWxkaW5nJyksXG4gICAgcmVzaWRlbmNlSWQ6IGNvbW1vbkZpZWxkcy5vcHRpb25hbFN0cmluZygpLFxuICAgIGFzc2lnbmF0aW9uQnVpbGRpbmdJZDogY29tbW9uRmllbGRzLm9wdGlvbmFsU3RyaW5nKCksXG4gICAgYXNzaWduYXRpb25SZXNpZGVuY2VJZDogY29tbW9uRmllbGRzLm9wdGlvbmFsU3RyaW5nKCksXG4gIH0sXG59O1xuXG4vLyBQcmUtYnVpbHQgc2NoZW1hcyBmb3IgY29tbW9uIGVudGl0aWVzXG5leHBvcnQgY29uc3Qgc2NoZW1hcyA9IHtcbiAgLy8gVXNlciBzY2hlbWFzXG4gIHVzZXJDcmVhdGU6IHoub2JqZWN0KHtcbiAgICAuLi5jb21wb3NpdGVGaWVsZHMucGVyc29uTmFtZSxcbiAgICBlbWFpbDogY29tbW9uRmllbGRzLmVtYWlsLFxuICAgIHJvbGU6IGVudW1GaWVsZHMudXNlclJvbGUsXG4gIH0pLFxuXG4gIC8vIEJ1aWxkaW5nIGRvY3VtZW50IHNjaGVtYVxuICBidWlsZGluZ0RvY3VtZW50OiB6Lm9iamVjdCh7XG4gICAgLi4uY29tcG9zaXRlRmllbGRzLmRvY3VtZW50QmFzZSxcbiAgICB0eXBlOiBlbnVtRmllbGRzLmJ1aWxkaW5nRG9jdW1lbnRUeXBlLFxuICAgIGJ1aWxkaW5nSWQ6IGNvbW1vbkZpZWxkcy5yZXF1aXJlZElkKCdCdWlsZGluZycpLFxuICB9KSxcblxuICAvLyBSZXNpZGVuY2UgZG9jdW1lbnQgc2NoZW1hXG4gIHJlc2lkZW5jZURvY3VtZW50OiB6Lm9iamVjdCh7XG4gICAgLi4uY29tcG9zaXRlRmllbGRzLmRvY3VtZW50QmFzZSxcbiAgICB0eXBlOiBlbnVtRmllbGRzLnJlc2lkZW5jZURvY3VtZW50VHlwZSxcbiAgICByZXNpZGVuY2VJZDogY29tbW9uRmllbGRzLnJlcXVpcmVkSWQoJ1Jlc2lkZW5jZScpLFxuICB9KSxcblxuICAvLyBCaWxsIHNjaGVtYVxuICBiaWxsOiB6Lm9iamVjdChjb21wb3NpdGVGaWVsZHMuYmlsbEJhc2UpLFxuXG4gIC8vIERlbWFuZCBzY2hlbWFcbiAgZGVtYW5kOiB6Lm9iamVjdChjb21wb3NpdGVGaWVsZHMuZGVtYW5kQmFzZSksXG5cbiAgLy8gRGVtYW5kIHJldmlldyBzY2hlbWEgKGZvciBtYW5hZ2VycylcbiAgZGVtYW5kUmV2aWV3OiB6Lm9iamVjdCh7XG4gICAgc3RhdHVzOiB6LmVudW0oWydhcHByb3ZlZCcsICdyZWplY3RlZCcsICd1bmRlcl9yZXZpZXcnLCAnaW5fcHJvZ3Jlc3MnLCAnY29tcGxldGVkJ10pLFxuICAgIHJldmlld05vdGVzOiBjb21tb25GaWVsZHMub3B0aW9uYWxTdHJpbmcoKSxcbiAgICBhc3NpZ25hdGlvbkJ1aWxkaW5nSWQ6IGNvbW1vbkZpZWxkcy5vcHRpb25hbFN0cmluZygpLFxuICAgIGFzc2lnbmF0aW9uUmVzaWRlbmNlSWQ6IGNvbW1vbkZpZWxkcy5vcHRpb25hbFN0cmluZygpLFxuICB9KSxcbn07XG5cbi8vIFV0aWxpdHkgZnVuY3Rpb25zIGZvciB2YWxpZGF0aW9uXG5leHBvcnQgY29uc3QgdmFsaWRhdGlvbkhlbHBlcnMgPSB7XG4gIC8vIENyZWF0ZSBmb3JtIHNjaGVtYSB3aXRoIGNvbW1vbiBmaWVsZHNcbiAgY3JlYXRlRm9ybVNjaGVtYTogPFQgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCB6LlpvZFR5cGVBbnk+PihmaWVsZHM6IFQpID0+IHoub2JqZWN0KGZpZWxkcyksXG5cbiAgLy8gRXh0ZW5kIGV4aXN0aW5nIHNjaGVtYSB3aXRoIGFkZGl0aW9uYWwgZmllbGRzXG4gIGV4dGVuZFNjaGVtYTogPFQgZXh0ZW5kcyB6LlpvZFJhd1NoYXBlLCBVIGV4dGVuZHMgei5ab2RSYXdTaGFwZT4oXG4gICAgYmFzZVNjaGVtYTogei5ab2RPYmplY3Q8VD4sXG4gICAgZXh0ZW5zaW9uczogVVxuICApID0+IGJhc2VTY2hlbWEuZXh0ZW5kKGV4dGVuc2lvbnMpLFxuXG4gIC8vIENyZWF0ZSBvcHRpb25hbCB2ZXJzaW9uIG9mIHNjaGVtYVxuICBtYWtlT3B0aW9uYWw6IDxUIGV4dGVuZHMgei5ab2RSYXdTaGFwZT4oc2NoZW1hOiB6LlpvZE9iamVjdDxUPikgPT4gc2NoZW1hLnBhcnRpYWwoKSxcblxuICAvLyBDcmVhdGUgcGljayBzY2hlbWEgd2l0aCBzZWxlY3RlZCBmaWVsZHNcbiAgcGlja0ZpZWxkczogPFQgZXh0ZW5kcyB6LlpvZFJhd1NoYXBlLCBLIGV4dGVuZHMga2V5b2YgVD4oc2NoZW1hOiB6LlpvZE9iamVjdDxUPiwga2V5czogS1tdKSA9PlxuICAgIHNjaGVtYS5waWNrKE9iamVjdC5mcm9tRW50cmllcyhrZXlzLm1hcCgoaykgPT4gW2ssIHRydWVdKSkgYXMgYW55KSxcblxuICAvLyBWYWxpZGF0ZSBlbnVtIHZhbHVlXG4gIGlzVmFsaWRFbnVtOiA8VCBleHRlbmRzIHJlYWRvbmx5IHN0cmluZ1tdPihlbnVtQXJyYXk6IFQsIHZhbHVlOiBzdHJpbmcpOiB2YWx1ZSBpcyBUW251bWJlcl0gPT5cbiAgICBlbnVtQXJyYXkuaW5jbHVkZXModmFsdWUgYXMgVFtudW1iZXJdKSxcbn07XG5cbi8vIFR5cGUgaW5mZXJlbmNlIGhlbHBlcnNcbi8qKlxuICpcbiAqL1xuZXhwb3J0IHR5cGUgVXNlclJvbGUgPSB6LmluZmVyPHR5cGVvZiBlbnVtRmllbGRzLnVzZXJSb2xlPjtcbi8qKlxuICpcbiAqL1xuZXhwb3J0IHR5cGUgRGVtYW5kVHlwZSA9IHouaW5mZXI8dHlwZW9mIGVudW1GaWVsZHMuZGVtYW5kVHlwZT47XG4vKipcbiAqXG4gKi9cbmV4cG9ydCB0eXBlIERlbWFuZFN0YXR1cyA9IHouaW5mZXI8dHlwZW9mIGVudW1GaWVsZHMuZGVtYW5kU3RhdHVzPjtcbi8qKlxuICpcbiAqL1xuZXhwb3J0IHR5cGUgQmlsbFN0YXR1cyA9IHouaW5mZXI8dHlwZW9mIGVudW1GaWVsZHMuYmlsbFN0YXR1cz47XG4vKipcbiAqXG4gKi9cbmV4cG9ydCB0eXBlIEJpbGxDYXRlZ29yeSA9IHouaW5mZXI8dHlwZW9mIGVudW1GaWVsZHMuYmlsbENhdGVnb3J5Pjtcbi8qKlxuICpcbiAqL1xuZXhwb3J0IHR5cGUgUGF5bWVudFR5cGUgPSB6LmluZmVyPHR5cGVvZiBlbnVtRmllbGRzLnBheW1lbnRUeXBlPjtcbi8qKlxuICpcbiAqL1xuZXhwb3J0IHR5cGUgU2NoZWR1bGVUeXBlID0gei5pbmZlcjx0eXBlb2YgZW51bUZpZWxkcy5zY2hlZHVsZVR5cGU+O1xuLyoqXG4gKlxuICovXG5leHBvcnQgdHlwZSBCdWlsZGluZ1R5cGUgPSB6LmluZmVyPHR5cGVvZiBlbnVtRmllbGRzLmJ1aWxkaW5nVHlwZT47XG4vKipcbiAqXG4gKi9cbmV4cG9ydCB0eXBlIEJ1aWxkaW5nRG9jdW1lbnRUeXBlID0gei5pbmZlcjx0eXBlb2YgZW51bUZpZWxkcy5idWlsZGluZ0RvY3VtZW50VHlwZT47XG4vKipcbiAqXG4gKi9cbmV4cG9ydCB0eXBlIFJlc2lkZW5jZURvY3VtZW50VHlwZSA9IHouaW5mZXI8dHlwZW9mIGVudW1GaWVsZHMucmVzaWRlbmNlRG9jdW1lbnRUeXBlPjtcblxuLy8gU2NoZW1hIHR5cGUgZXhwb3J0c1xuLyoqXG4gKlxuICovXG5leHBvcnQgdHlwZSBVc2VyQ3JlYXRlU2NoZW1hID0gei5pbmZlcjx0eXBlb2Ygc2NoZW1hcy51c2VyQ3JlYXRlPjtcbi8qKlxuICpcbiAqL1xuZXhwb3J0IHR5cGUgQnVpbGRpbmdEb2N1bWVudFNjaGVtYSA9IHouaW5mZXI8dHlwZW9mIHNjaGVtYXMuYnVpbGRpbmdEb2N1bWVudD47XG4vKipcbiAqXG4gKi9cbmV4cG9ydCB0eXBlIFJlc2lkZW5jZURvY3VtZW50U2NoZW1hID0gei5pbmZlcjx0eXBlb2Ygc2NoZW1hcy5yZXNpZGVuY2VEb2N1bWVudD47XG4vKipcbiAqXG4gKi9cbmV4cG9ydCB0eXBlIEJpbGxTY2hlbWEgPSB6LmluZmVyPHR5cGVvZiBzY2hlbWFzLmJpbGw+O1xuLyoqXG4gKlxuICovXG5leHBvcnQgdHlwZSBEZW1hbmRTY2hlbWEgPSB6LmluZmVyPHR5cGVvZiBzY2hlbWFzLmRlbWFuZD47XG4vKipcbiAqXG4gKi9cbmV4cG9ydCB0eXBlIERlbWFuZFJldmlld1NjaGVtYSA9IHouaW5mZXI8dHlwZW9mIHNjaGVtYXMuZGVtYW5kUmV2aWV3PjtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBjb21tb25GaWVsZHMsXG4gIGVudW1GaWVsZHMsXG4gIGNvbXBvc2l0ZUZpZWxkcyxcbiAgc2NoZW1hcyxcbiAgdmFsaWRhdGlvbkhlbHBlcnMsXG59O1xuIl0sInZlcnNpb24iOjN9