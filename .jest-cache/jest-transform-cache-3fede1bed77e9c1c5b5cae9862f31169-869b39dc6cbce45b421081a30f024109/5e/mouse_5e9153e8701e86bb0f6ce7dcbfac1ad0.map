{"file":"/home/runner/workspace/node_modules/@testing-library/user-event/dist/cjs/system/pointer/mouse.js","mappings":"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","names":[],"sources":["/home/runner/workspace/node_modules/@testing-library/user-event/dist/cjs/system/pointer/mouse.js"],"sourcesContent":["'use strict';\n\nrequire('../../event/behavior/click.js');\nrequire('../../event/behavior/cut.js');\nrequire('../../event/behavior/keydown.js');\nrequire('../../event/behavior/keypress.js');\nrequire('../../event/behavior/keyup.js');\nrequire('../../event/behavior/paste.js');\nrequire('@testing-library/dom');\nrequire('../../utils/dataTransfer/Clipboard.js');\nvar isDisabled = require('../../utils/misc/isDisabled.js');\nvar getTreeDiff = require('../../utils/misc/getTreeDiff.js');\nvar focus = require('../../event/focus.js');\nvar setSelectionPerMouse = require('../../event/selection/setSelectionPerMouse.js');\nvar modifySelectionPerMouse = require('../../event/selection/modifySelectionPerMouse.js');\nvar buttons = require('./buttons.js');\nvar shared = require('./shared.js');\n\nfunction _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n/**\n * This object is the single \"virtual\" mouse that might be controlled by multiple different pointer devices.\n */ class Mouse {\n    move(instance, position, /** Whether `preventDefault()` has been called on the `pointerdown` event */ isPrevented) {\n        const prevPosition = this.position;\n        const prevTarget = this.getTarget(instance);\n        this.position = position;\n        if (!shared.isDifferentPointerPosition(prevPosition, position)) {\n            return;\n        }\n        const nextTarget = this.getTarget(instance);\n        const init = this.getEventInit('mousemove');\n        const [leave, enter] = getTreeDiff.getTreeDiff(prevTarget, nextTarget);\n        return {\n            leave: ()=>{\n                if (prevTarget !== nextTarget) {\n                    instance.dispatchUIEvent(prevTarget, 'mouseout', init);\n                    leave.forEach((el)=>instance.dispatchUIEvent(el, 'mouseleave', init));\n                }\n            },\n            enter: ()=>{\n                if (prevTarget !== nextTarget) {\n                    instance.dispatchUIEvent(nextTarget, 'mouseover', init);\n                    enter.forEach((el)=>instance.dispatchUIEvent(el, 'mouseenter', init));\n                }\n            },\n            move: ()=>{\n                if (isPrevented) {\n                    return;\n                }\n                instance.dispatchUIEvent(nextTarget, 'mousemove', init);\n                this.modifySelecting(instance);\n            }\n        };\n    }\n    down(instance, keyDef, /** Whether `preventDefault()` has been called on the `pointerdown` event */ isPrevented) {\n        const button = this.buttons.down(keyDef);\n        if (button === undefined) {\n            return;\n        }\n        const target = this.getTarget(instance);\n        this.buttonDownTarget[button] = target;\n        const init = this.getEventInit('mousedown', keyDef.button);\n        const disabled = isDisabled.isDisabled(target);\n        if (!isPrevented && (disabled || instance.dispatchUIEvent(target, 'mousedown', init))) {\n            this.startSelecting(instance, init.detail);\n            focus.focusElement(target);\n        }\n        if (!disabled && buttons.getMouseEventButton(keyDef.button) === 2) {\n            instance.dispatchUIEvent(target, 'contextmenu', this.getEventInit('contextmenu', keyDef.button));\n        }\n    }\n    up(instance, keyDef, /** Whether `preventDefault()` has been called on the `pointerdown` event */ isPrevented) {\n        const button = this.buttons.up(keyDef);\n        if (button === undefined) {\n            return;\n        }\n        const target = this.getTarget(instance);\n        if (!isDisabled.isDisabled(target)) {\n            if (!isPrevented) {\n                const mouseUpInit = this.getEventInit('mouseup', keyDef.button);\n                instance.dispatchUIEvent(target, 'mouseup', mouseUpInit);\n                this.endSelecting();\n            }\n            const clickTarget = getTreeDiff.getTreeDiff(this.buttonDownTarget[button], target)[2][0];\n            if (clickTarget) {\n                const init = this.getEventInit('click', keyDef.button);\n                if (init.detail) {\n                    instance.dispatchUIEvent(clickTarget, init.button === 0 ? 'click' : 'auxclick', init);\n                    if (init.button === 0 && init.detail === 2) {\n                        instance.dispatchUIEvent(clickTarget, 'dblclick', {\n                            ...this.getEventInit('dblclick', keyDef.button),\n                            detail: init.detail\n                        });\n                    }\n                }\n            }\n        }\n    }\n    resetClickCount() {\n        this.clickCount.reset();\n    }\n    getEventInit(type, button) {\n        const init = {\n            ...this.position.coords\n        };\n        init.button = buttons.getMouseEventButton(button);\n        init.buttons = this.buttons.getButtons();\n        if (type === 'mousedown') {\n            init.detail = this.clickCount.getOnDown(init.button);\n        } else if (type === 'mouseup') {\n            init.detail = this.clickCount.getOnUp(init.button);\n        } else if (type === 'click' || type === 'auxclick') {\n            init.detail = this.clickCount.incOnClick(init.button);\n        }\n        return init;\n    }\n    getTarget(instance) {\n        var _this_position_target;\n        return (_this_position_target = this.position.target) !== null && _this_position_target !== undefined ? _this_position_target : instance.config.document.body;\n    }\n    startSelecting(instance, clickCount) {\n        var _this_position_caret, _this_position_caret1;\n        // TODO: support extending range (shift)\n        this.selecting = setSelectionPerMouse.setSelectionPerMouseDown({\n            document: instance.config.document,\n            target: this.getTarget(instance),\n            node: (_this_position_caret = this.position.caret) === null || _this_position_caret === undefined ? undefined : _this_position_caret.node,\n            offset: (_this_position_caret1 = this.position.caret) === null || _this_position_caret1 === undefined ? undefined : _this_position_caret1.offset,\n            clickCount\n        });\n    }\n    modifySelecting(instance) {\n        var _this_position_caret, _this_position_caret1;\n        if (!this.selecting) {\n            return;\n        }\n        modifySelectionPerMouse.modifySelectionPerMouseMove(this.selecting, {\n            document: instance.config.document,\n            target: this.getTarget(instance),\n            node: (_this_position_caret = this.position.caret) === null || _this_position_caret === undefined ? undefined : _this_position_caret.node,\n            offset: (_this_position_caret1 = this.position.caret) === null || _this_position_caret1 === undefined ? undefined : _this_position_caret1.offset\n        });\n    }\n    endSelecting() {\n        this.selecting = undefined;\n    }\n    constructor(){\n        _define_property(this, \"position\", {});\n        _define_property(this, \"buttons\", new buttons.Buttons());\n        _define_property(this, \"selecting\", undefined);\n        _define_property(this, \"buttonDownTarget\", {});\n        // According to spec the `detail` on click events should be the number\n        // of *consecutive* clicks with a specific button.\n        // On `mousedown` and `mouseup` it should be this number increased by one.\n        // But the browsers don't implement it this way.\n        // If another button is pressed,\n        //   in Webkit: the `mouseup` on the previously pressed button has `detail: 0` and no `click`/`auxclick`.\n        //   in Gecko: the `mouseup` and click events have the same detail as the `mousedown`.\n        // If there is a delay while a button is pressed,\n        // the `mouseup` and `click` are normal, but a following `mousedown` starts a new click count.\n        // We'll follow the minimal implementation of Webkit.\n        _define_property(this, \"clickCount\", new class {\n            incOnClick(button) {\n                const current = this.down[button] === undefined ? undefined : Number(this.down[button]) + 1;\n                this.count = this.count[button] === undefined ? {} : {\n                    [button]: Number(this.count[button]) + 1\n                };\n                return current;\n            }\n            getOnDown(button) {\n                var _this_count_button;\n                this.down = {\n                    [button]: (_this_count_button = this.count[button]) !== null && _this_count_button !== undefined ? _this_count_button : 0\n                };\n                var _this_count_button1;\n                this.count = {\n                    [button]: (_this_count_button1 = this.count[button]) !== null && _this_count_button1 !== undefined ? _this_count_button1 : 0\n                };\n                return Number(this.count[button]) + 1;\n            }\n            getOnUp(button) {\n                return this.down[button] === undefined ? undefined : Number(this.down[button]) + 1;\n            }\n            reset() {\n                this.count = {};\n            }\n            constructor(){\n                _define_property(this, \"down\", {});\n                _define_property(this, \"count\", {});\n            }\n        }());\n    }\n}\n\nexports.Mouse = Mouse;\n"],"version":3}