{"file":"/home/runner/workspace/client/src/components/ui/hamburger-menu.tsx","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,sCAwPC;;AAvRD,+CAAmD;AACnD,mDAAgD;AAChD,mCAAqC;AACrC,+CAA2C;AAC3C,uDAAmD;AACnD,+CAiBsB;AAMtB;;GAEG;AACH,SAAgB,aAAa,CAAC,EAAE,SAAS,GAAG,EAAE,EAAsB;IAClE,MAAM,CAAC,MAAM,EAAE,SAAS,CAAC,GAAG,IAAA,gBAAQ,EAAC,KAAK,CAAC,CAAC;IAC5C,MAAM,CAAC,YAAY,EAAE,eAAe,CAAC,GAAG,IAAA,gBAAQ,EAAC,KAAK,CAAC,CAAC;IACxD,MAAM,CAAC,EAAE,WAAW,CAAC,GAAG,IAAA,oBAAW,GAAE,CAAC;IACtC,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,IAAA,kBAAO,GAAE,CAAC;IACnC,MAAM,EAAE,CAAC,EAAE,QAAQ,EAAE,cAAc,EAAE,GAAG,IAAA,0BAAW,GAAE,CAAC;IAEtD,MAAM,UAAU,GAAG,GAAG,EAAE,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,CAAC;IAC5C,MAAM,SAAS,GAAG,GAAG,EAAE,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;IAEzC,oDAAoD;IACpD,IAAA,iBAAS,EAAC,GAAG,EAAE;QACb,IAAI,MAAM,EAAE,CAAC;YACX,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC;YAExC,kEAAkE;YAClE,MAAM,mBAAmB,GAAG,CAAC,KAAiB,EAAE,EAAE;gBAChD,MAAM,MAAM,GAAG,KAAK,CAAC,MAAiB,CAAC;gBACvC,MAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,4BAA4B,CAAC,CAAC;gBACvE,MAAM,eAAe,GAAG,QAAQ,CAAC,aAAa,CAAC,kCAAkC,CAAC,CAAC;gBAEnF,2EAA2E;gBAC3E,IACE,eAAe,EAAE,QAAQ,CAAC,MAAM,CAAC;oBACjC,SAAS,EAAE,QAAQ,CAAC,MAAM,CAAC,EAC3B,CAAC;oBACD,OAAO;gBACT,CAAC;gBAED,kCAAkC;gBAClC,SAAS,EAAE,CAAC;YACd,CAAC,CAAC;YAEF,6DAA6D;YAC7D,MAAM,SAAS,GAAG,UAAU,CAAC,GAAG,EAAE;gBAChC,QAAQ,CAAC,gBAAgB,CAAC,OAAO,EAAE,mBAAmB,CAAC,CAAC;YAC1D,CAAC,EAAE,GAAG,CAAC,CAAC;YAER,OAAO,GAAG,EAAE;gBACV,YAAY,CAAC,SAAS,CAAC,CAAC;gBACxB,QAAQ,CAAC,mBAAmB,CAAC,OAAO,EAAE,mBAAmB,CAAC,CAAC;YAC7D,CAAC,CAAC;QACJ,CAAC;aAAM,CAAC;YACN,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,EAAE,CAAC;QACpC,CAAC;QAED,OAAO,GAAG,EAAE;YACV,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,EAAE,CAAC;QACpC,CAAC,CAAC;IACJ,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;IAEb,MAAM,gBAAgB,GAAG,CAAC,IAAY,EAAE,EAAE;QACxC,WAAW,CAAC,IAAI,CAAC,CAAC;QAClB,SAAS,EAAE,CAAC;IACd,CAAC,CAAC;IAEF,MAAM,YAAY,GAAG,KAAK,IAAI,EAAE;QAC9B,IAAI,CAAC;YACH,eAAe,CAAC,IAAI,CAAC,CAAC;YACtB,MAAM,MAAM,EAAE,CAAC;YACf,SAAS,EAAE,CAAC;QACd,CAAC;gBAAS,CAAC;YACT,eAAe,CAAC,KAAK,CAAC,CAAC;QACzB,CAAC;IACH,CAAC,CAAC;IAEF,oCAAoC;IACpC,MAAM,cAAc,GAAG;QACrB,EAAE,IAAI,EAAE,mBAAI,EAAE,KAAK,EAAE,CAAC,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,GAAG,EAAE,MAAM,EAAE,UAAU,EAAE;QAC/D,EAAE,IAAI,EAAE,qBAAM,EAAE,KAAK,EAAE,CAAC,CAAC,UAAU,CAAC,EAAE,IAAI,EAAE,WAAW,EAAE,MAAM,EAAE,cAAc,EAAE;QACjF,EAAE,IAAI,EAAE,yBAAU,EAAE,KAAK,EAAE,CAAC,CAAC,SAAS,CAAC,EAAE,IAAI,EAAE,UAAU,EAAE,MAAM,EAAE,aAAa,EAAE;QAClF,EAAE,IAAI,EAAE,qBAAM,EAAE,KAAK,EAAE,CAAC,CAAC,UAAU,CAAC,EAAE,IAAI,EAAE,WAAW,EAAE,MAAM,EAAE,cAAc,EAAE;QACjF,EAAE,IAAI,EAAE,uBAAQ,EAAE,KAAK,EAAE,CAAC,CAAC,UAAU,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,WAAW,EAAE;QAC7E,EAAE,IAAI,EAAE,uBAAQ,EAAE,KAAK,EAAE,CAAC,CAAC,eAAe,CAAC,EAAE,IAAI,EAAE,iBAAiB,EAAE,MAAM,EAAE,aAAa,EAAE;QAC7F,EAAE,IAAI,EAAE,oBAAK,EAAE,KAAK,EAAE,CAAC,CAAC,gBAAgB,CAAC,EAAE,IAAI,EAAE,mBAAmB,EAAE,MAAM,EAAE,WAAW,EAAE;KAC5F,CAAC;IAEF,OAAO,CACL,iCAAK,SAAS,EAAE,YAAY,SAAS,EAAE,aAErC,uBAAC,eAAM,IACL,OAAO,EAAC,OAAO,EACf,IAAI,EAAC,MAAM,EACX,OAAO,EAAE,UAAU,EACnB,SAAS,EAAC,eAAe,iBACb,kBAAkB,gBAClB,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,YAElD,MAAM,CAAC,CAAC,CAAC,uBAAC,gBAAC,IAAC,SAAS,EAAC,SAAS,GAAG,CAAC,CAAC,CAAC,uBAAC,mBAAI,IAAC,SAAS,EAAC,SAAS,GAAG,GAC3D,EAGR,MAAM,IAAI,CACT,gCACE,SAAS,EAAC,eAAe,EACzB,KAAK,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,EACtB,OAAO,EAAE,SAAS,iBACN,cAAc,GAC1B,CACH,EAGD,gCACE,SAAS,EAAE,mHACT,MAAM,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,kBAC7B,EAAE,EACF,KAAK,EAAE;oBACL,eAAe,EAAE,SAAS;oBAC1B,UAAU,EAAE,mBAAmB;oBAC/B,MAAM,EAAE,MAAM;oBACd,QAAQ,EAAE,OAAO;iBAClB,iBACW,YAAY,YAExB,iCACE,SAAS,EAAC,qCAAqC,EAC/C,KAAK,EAAE;wBACL,eAAe,EAAE,oBAAoB;wBACrC,KAAK,EAAE,MAAM;wBACb,MAAM,EAAE,OAAO;wBACf,QAAQ,EAAE,UAAU;wBACpB,MAAM,EAAE,MAAM;qBACf,aAGD,iCAAK,SAAS,EAAC,wCAAwC,aACrD,+BAAI,SAAS,EAAC,uBAAuB,qBAAU,EAC/C,uBAAC,eAAM,IACL,OAAO,EAAC,OAAO,EACf,IAAI,EAAC,MAAM,EACX,OAAO,EAAE,SAAS,EAClB,SAAS,EAAC,SAAS,iBACP,mBAAmB,YAE/B,uBAAC,gBAAC,IAAC,SAAS,EAAC,SAAS,GAAG,GAClB,IACL,EAGN,gCAAK,SAAS,EAAC,mBAAmB,EAAC,KAAK,EAAE,EAAE,eAAe,EAAE,oBAAoB,EAAE,YACjF,+BAAI,SAAS,EAAC,WAAW,YACtB,cAAc,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;oCAC3B,MAAM,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC;oCAChC,OAAO,CACL,yCACE,wBAAC,eAAM,IACL,OAAO,EAAC,OAAO,EACf,SAAS,EAAC,4DAA4D,EACtE,OAAO,EAAE,GAAG,EAAE,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,iBAC7B,IAAI,CAAC,MAAM,aAExB,uBAAC,aAAa,IAAC,SAAS,EAAC,cAAc,GAAG,EACzC,IAAI,CAAC,KAAK,IACJ,IATF,IAAI,CAAC,IAAI,CAUb,CACN,CAAC;gCACJ,CAAC,CAAC,GACC,GACD,EAGL,CAAC,IAAI,IAAI,CACR,iCACE,SAAS,EAAC,4DAA4D,EACtE,KAAK,EAAE,EAAE,eAAe,EAAE,oBAAoB,EAAE,aAGhD,iCAAK,SAAS,EAAC,4CAA4C,aACzD,uBAAC,oBAAK,IAAC,SAAS,EAAC,uBAAuB,GAAG,EAC3C,uBAAC,eAAM,IACL,OAAO,EAAC,OAAO,EACf,IAAI,EAAC,IAAI,EACT,SAAS,EAAC,SAAS,EACnB,OAAO,EAAE,GAAG,EAAE;gDACZ,cAAc,EAAE,CAAC;gDACjB,SAAS,EAAE,CAAC;4CACd,CAAC,iBACW,iBAAiB,YAE5B,QAAQ,KAAK,IAAI,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,SAAS,GACpC,IACL,EAGN,gCAAK,SAAS,EAAC,WAAW,YACxB,wBAAC,eAAM,IACL,OAAO,EAAC,SAAS,EACjB,SAAS,EAAC,QAAQ,EAClB,OAAO,EAAE,GAAG,EAAE,CAAC,gBAAgB,CAAC,QAAQ,CAAC,iBAC7B,WAAW,aAEvB,uBAAC,uBAAQ,IAAC,SAAS,EAAC,cAAc,GAAG,EACpC,CAAC,CAAC,OAAO,CAAC,IACJ,GACL,IACF,CACP,EAGA,IAAI,IAAI,CACP,iCAAK,SAAS,EAAC,uBAAuB,aACpC,iCAAK,SAAS,EAAC,mDAAmD,aAChE,uBAAC,mBAAI,IAAC,SAAS,EAAC,4BAA4B,GAAG,EAC/C,4CACE,+BAAG,SAAS,EAAC,qBAAqB,aAC/B,IAAI,CAAC,SAAS,OAAG,IAAI,CAAC,QAAQ,IAC7B,EACJ,8BAAG,SAAS,EAAC,uBAAuB,YAAE,IAAI,CAAC,KAAK,GAAK,IACjD,IACF,EAEN,iCAAK,SAAS,EAAC,WAAW,aACxB,wBAAC,eAAM,IACL,OAAO,EAAC,OAAO,EACf,SAAS,EAAC,2BAA2B,EACrC,OAAO,EAAE,GAAG,EAAE,CAAC,gBAAgB,CAAC,oBAAoB,CAAC,iBACzC,aAAa,aAEzB,uBAAC,uBAAQ,IAAC,SAAS,EAAC,cAAc,GAAG,wBAE9B,EAET,uBAAC,eAAM,IACL,OAAO,EAAC,OAAO,EACf,SAAS,EAAC,2EAA2E,EACrF,OAAO,EAAE,YAAY,EACrB,QAAQ,EAAE,YAAY,iBACV,YAAY,YAEvB,YAAY,CAAC,CAAC,CAAC,CACd,6DACE,gCAAK,SAAS,EAAC,qFAAqF,GAAG,sBAEtG,CACJ,CAAC,CAAC,CAAC,CACF,6DACE,uBAAC,qBAAM,IAAC,SAAS,EAAC,cAAc,GAAG,cAElC,CACJ,GACM,IACL,IACF,CACP,IACG,GACF,IACF,CACP,CAAC;AACJ,CAAC","names":[],"sources":["/home/runner/workspace/client/src/components/ui/hamburger-menu.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { useLocation } from 'wouter';\nimport { useAuth } from '@/hooks/use-auth';\nimport { useLanguage } from '@/hooks/use-language';\nimport {\n  X,\n  Menu,\n  Home,\n  Wrench,\n  Shield,\n  BookOpen,\n  FileText,\n  Scale,\n  Building2,\n  Users,\n  LogOut,\n  User,\n  Settings,\n  Globe,\n  UserPlus,\n  DollarSign,\n} from 'lucide-react';\n\ninterface HamburgerMenuProps {\n  className?: string;\n}\n\n/**\n * Hamburger menu component for mobile navigation.\n */\nexport function HamburgerMenu({ className = '' }: HamburgerMenuProps) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [isLoggingOut, setIsLoggingOut] = useState(false);\n  const [, setLocation] = useLocation();\n  const { user, logout } = useAuth();\n  const { t, language, toggleLanguage } = useLanguage();\n\n  const toggleMenu = () => setIsOpen(!isOpen);\n  const closeMenu = () => setIsOpen(false);\n\n  // Close menu when clicking outside or on navigation\n  useEffect(() => {\n    if (isOpen) {\n      document.body.style.overflow = 'hidden';\n      \n      // Add document click listener to close menu when clicking outside\n      const handleDocumentClick = (event: MouseEvent) => {\n        const target = event.target as Element;\n        const menuPanel = document.querySelector('[data-testid=\"menu-panel\"]');\n        const hamburgerButton = document.querySelector('[data-testid=\"hamburger-button\"]');\n        \n        // Don't close if clicking on the hamburger button or inside the menu panel\n        if (\n          hamburgerButton?.contains(target) || \n          menuPanel?.contains(target)\n        ) {\n          return;\n        }\n        \n        // Close menu for any other clicks\n        closeMenu();\n      };\n      \n      // Add listener with a small delay to avoid immediate closure\n      const timeoutId = setTimeout(() => {\n        document.addEventListener('click', handleDocumentClick);\n      }, 100);\n      \n      return () => {\n        clearTimeout(timeoutId);\n        document.removeEventListener('click', handleDocumentClick);\n      };\n    } else {\n      document.body.style.overflow = '';\n    }\n\n    return () => {\n      document.body.style.overflow = '';\n    };\n  }, [isOpen]);\n\n  const handleNavigation = (path: string) => {\n    setLocation(path);\n    closeMenu();\n  };\n\n  const handleLogout = async () => {\n    try {\n      setIsLoggingOut(true);\n      await logout();\n      closeMenu();\n    } finally {\n      setIsLoggingOut(false);\n    }\n  };\n\n  // Navigation items for public pages\n  const publicNavItems = [\n    { icon: Home, label: t('home'), path: '/', testId: 'nav-home' },\n    { icon: Wrench, label: t('features'), path: '/features', testId: 'nav-features' },\n    { icon: DollarSign, label: t('pricing'), path: '/pricing', testId: 'nav-pricing' },\n    { icon: Shield, label: t('security'), path: '/security', testId: 'nav-security' },\n    { icon: BookOpen, label: t('ourStory'), path: '/story', testId: 'nav-story' },\n    { icon: FileText, label: t('privacyPolicy'), path: '/privacy-policy', testId: 'nav-privacy' },\n    { icon: Scale, label: t('termsOfService'), path: '/terms-of-service', testId: 'nav-terms' },\n  ];\n\n  return (\n    <div className={`relative ${className}`}>\n      {/* Hamburger Button */}\n      <Button\n        variant='ghost'\n        size='icon'\n        onClick={toggleMenu}\n        className='relative z-50'\n        data-testid='hamburger-button'\n        aria-label={isOpen ? t('closeMenu') : t('openMenu')}\n      >\n        {isOpen ? <X className='h-6 w-6' /> : <Menu className='h-6 w-6' />}\n      </Button>\n\n      {/* Invisible Overlay for Click Outside */}\n      {isOpen && (\n        <div\n          className='fixed inset-0'\n          style={{ zIndex: 999 }}\n          onClick={closeMenu}\n          data-testid='menu-overlay'\n        />\n      )}\n\n      {/* Menu Panel */}\n      <div\n        className={`fixed top-0 right-0 h-full w-80 max-w-[80vw] shadow-2xl transform transition-transform duration-300 ease-in-out ${\n          isOpen ? 'translate-x-0' : 'translate-x-full'\n        }`}\n        style={{\n          backgroundColor: '#f9fafb',\n          borderLeft: '1px solid #e5e7eb',\n          zIndex: '1000',\n          position: 'fixed',\n        }}\n        data-testid='menu-panel'\n      >\n        <div\n          className='p-6 h-full flex flex-col bg-gray-50'\n          style={{\n            backgroundColor: '#f9fafb !important',\n            width: '100%',\n            height: '100vh',\n            position: 'relative',\n            zIndex: '1001',\n          }}\n        >\n          {/* Header */}\n          <div className='flex items-center justify-between mb-8'>\n            <h2 className='text-xl font-semibold'>Menu</h2>\n            <Button\n              variant='ghost'\n              size='icon'\n              onClick={closeMenu}\n              className='h-8 w-8'\n              data-testid='menu-close-button'\n            >\n              <X className='h-4 w-4' />\n            </Button>\n          </div>\n\n          {/* Navigation Items */}\n          <nav className='flex-1 bg-gray-50' style={{ backgroundColor: '#f9fafb !important' }}>\n            <ul className='space-y-2'>\n              {publicNavItems.map((item) => {\n                const IconComponent = item.icon;\n                return (\n                  <li key={item.path}>\n                    <Button\n                      variant='ghost'\n                      className='w-full justify-start h-12 bg-transparent hover:bg-gray-100'\n                      onClick={() => handleNavigation(item.path)}\n                      data-testid={item.testId}\n                    >\n                      <IconComponent className='mr-3 h-5 w-5' />\n                      {item.label}\n                    </Button>\n                  </li>\n                );\n              })}\n            </ul>\n          </nav>\n\n          {/* Language and Auth Section */}\n          {!user && (\n            <div\n              className='mt-auto border-t border-gray-300 pt-4 space-y-3 bg-gray-50'\n              style={{ backgroundColor: '#f9fafb !important' }}\n            >\n              {/* Language Switcher */}\n              <div className='flex items-center justify-center space-x-2'>\n                <Globe className='h-4 w-4 text-gray-500' />\n                <Button\n                  variant='ghost'\n                  size='sm'\n                  className='text-sm'\n                  onClick={() => {\n                    toggleLanguage();\n                    closeMenu();\n                  }}\n                  data-testid='language-toggle'\n                >\n                  {language === 'en' ? 'Français' : 'English'}\n                </Button>\n              </div>\n\n              {/* Authentication Buttons */}\n              <div className='space-y-2'>\n                <Button\n                  variant='default'\n                  className='w-full'\n                  onClick={() => handleNavigation('/login')}\n                  data-testid='nav-login'\n                >\n                  <UserPlus className='mr-2 h-4 w-4' />\n                  {t('login')}\n                </Button>\n              </div>\n            </div>\n          )}\n\n          {/* User Section */}\n          {user && (\n            <div className='mt-auto border-t pt-4'>\n              <div className='flex items-center mb-4 p-3 bg-gray-100 rounded-lg'>\n                <User className='h-8 w-8 text-gray-500 mr-3' />\n                <div>\n                  <p className='font-medium text-sm'>\n                    {user.firstName} {user.lastName}\n                  </p>\n                  <p className='text-xs text-gray-500'>{user.email}</p>\n                </div>\n              </div>\n\n              <div className='space-y-1'>\n                <Button\n                  variant='ghost'\n                  className='w-full justify-start h-10'\n                  onClick={() => handleNavigation('/settings/settings')}\n                  data-testid='nav-profile'\n                >\n                  <Settings className='mr-3 h-4 w-4' />\n                  Profile Settings\n                </Button>\n\n                <Button\n                  variant='ghost'\n                  className='w-full justify-start h-10 text-red-600 hover:text-red-700 hover:bg-red-50'\n                  onClick={handleLogout}\n                  disabled={isLoggingOut}\n                  data-testid='nav-logout'\n                >\n                  {isLoggingOut ? (\n                    <>\n                      <div className='mr-3 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent' />\n                      Logging out...\n                    </>\n                  ) : (\n                    <>\n                      <LogOut className='mr-3 h-4 w-4' />\n                      Logout\n                    </>\n                  )}\n                </Button>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"version":3}