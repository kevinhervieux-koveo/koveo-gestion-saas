d4643ecad289b7e399fde1a4e1f2d8ed
'use strict';
var index = require('../keyboard/index.js');
require('../utils/dataTransfer/Clipboard.js');
var setSelectionRange = require('../event/selection/setSelectionRange.js');
async function type(element, text, { skipClick = this.config.skipClick, skipAutoClose = this.config.skipAutoClose, initialSelectionStart, initialSelectionEnd } = {}) {
    // TODO: properly type guard
    // we use this workaround for now to prevent changing behavior
    if (element.disabled)
        return;
    if (!skipClick) {
        await this.click(element);
    }
    if (initialSelectionStart !== undefined) {
        setSelectionRange.setSelectionRange(element, initialSelectionStart, initialSelectionEnd !== null && initialSelectionEnd !== undefined ? initialSelectionEnd : initialSelectionStart);
    }
    await this.keyboard(text);
    if (!skipAutoClose) {
        await index.releaseAllKeys(this);
    }
}
exports.type = type;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9ub2RlX21vZHVsZXMvQHRlc3RpbmctbGlicmFyeS91c2VyLWV2ZW50L2Rpc3QvY2pzL3V0aWxpdHkvdHlwZS5qcyIsIm1hcHBpbmdzIjoiQUFBQSxZQUFZLENBQUM7QUFFYixJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsc0JBQXNCLENBQUMsQ0FBQztBQUM1QyxPQUFPLENBQUMsb0NBQW9DLENBQUMsQ0FBQztBQUM5QyxJQUFJLGlCQUFpQixHQUFHLE9BQU8sQ0FBQyx5Q0FBeUMsQ0FBQyxDQUFDO0FBRTNFLEtBQUssVUFBVSxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksRUFBRSxFQUFFLFNBQVMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsRUFBRSxhQUFhLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxhQUFhLEVBQUUscUJBQXFCLEVBQUUsbUJBQW1CLEVBQUUsR0FBRyxFQUFFO0lBQ2hLLDRCQUE0QjtJQUM1Qiw4REFBOEQ7SUFDOUQsSUFBSSxPQUFPLENBQUMsUUFBUTtRQUFFLE9BQU87SUFDN0IsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ2IsTUFBTSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzlCLENBQUM7SUFDRCxJQUFJLHFCQUFxQixLQUFLLFNBQVMsRUFBRSxDQUFDO1FBQ3RDLGlCQUFpQixDQUFDLGlCQUFpQixDQUFDLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxtQkFBbUIsS0FBSyxJQUFJLElBQUksbUJBQW1CLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUMscUJBQXFCLENBQUMsQ0FBQztJQUN6TCxDQUFDO0lBQ0QsTUFBTSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzFCLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUNqQixNQUFNLEtBQUssQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDckMsQ0FBQztBQUNMLENBQUM7QUFFRCxPQUFPLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvaG9tZS9ydW5uZXIvd29ya3NwYWNlL25vZGVfbW9kdWxlcy9AdGVzdGluZy1saWJyYXJ5L3VzZXItZXZlbnQvZGlzdC9janMvdXRpbGl0eS90eXBlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIGluZGV4ID0gcmVxdWlyZSgnLi4va2V5Ym9hcmQvaW5kZXguanMnKTtcbnJlcXVpcmUoJy4uL3V0aWxzL2RhdGFUcmFuc2Zlci9DbGlwYm9hcmQuanMnKTtcbnZhciBzZXRTZWxlY3Rpb25SYW5nZSA9IHJlcXVpcmUoJy4uL2V2ZW50L3NlbGVjdGlvbi9zZXRTZWxlY3Rpb25SYW5nZS5qcycpO1xuXG5hc3luYyBmdW5jdGlvbiB0eXBlKGVsZW1lbnQsIHRleHQsIHsgc2tpcENsaWNrID0gdGhpcy5jb25maWcuc2tpcENsaWNrLCBza2lwQXV0b0Nsb3NlID0gdGhpcy5jb25maWcuc2tpcEF1dG9DbG9zZSwgaW5pdGlhbFNlbGVjdGlvblN0YXJ0LCBpbml0aWFsU2VsZWN0aW9uRW5kIH0gPSB7fSkge1xuICAgIC8vIFRPRE86IHByb3Blcmx5IHR5cGUgZ3VhcmRcbiAgICAvLyB3ZSB1c2UgdGhpcyB3b3JrYXJvdW5kIGZvciBub3cgdG8gcHJldmVudCBjaGFuZ2luZyBiZWhhdmlvclxuICAgIGlmIChlbGVtZW50LmRpc2FibGVkKSByZXR1cm47XG4gICAgaWYgKCFza2lwQ2xpY2spIHtcbiAgICAgICAgYXdhaXQgdGhpcy5jbGljayhlbGVtZW50KTtcbiAgICB9XG4gICAgaWYgKGluaXRpYWxTZWxlY3Rpb25TdGFydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHNldFNlbGVjdGlvblJhbmdlLnNldFNlbGVjdGlvblJhbmdlKGVsZW1lbnQsIGluaXRpYWxTZWxlY3Rpb25TdGFydCwgaW5pdGlhbFNlbGVjdGlvbkVuZCAhPT0gbnVsbCAmJiBpbml0aWFsU2VsZWN0aW9uRW5kICE9PSB1bmRlZmluZWQgPyBpbml0aWFsU2VsZWN0aW9uRW5kIDogaW5pdGlhbFNlbGVjdGlvblN0YXJ0KTtcbiAgICB9XG4gICAgYXdhaXQgdGhpcy5rZXlib2FyZCh0ZXh0KTtcbiAgICBpZiAoIXNraXBBdXRvQ2xvc2UpIHtcbiAgICAgICAgYXdhaXQgaW5kZXgucmVsZWFzZUFsbEtleXModGhpcyk7XG4gICAgfVxufVxuXG5leHBvcnRzLnR5cGUgPSB0eXBlO1xuIl0sInZlcnNpb24iOjN9