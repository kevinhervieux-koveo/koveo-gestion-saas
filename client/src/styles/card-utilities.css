/**
 * Card Text Formatting Utilities
 * Custom CSS utilities for handling text overflow, truncation, and responsive card layouts
 */

/* Line clamping utilities for multi-line text truncation */
.line-clamp-1 {
  display: -webkit-box;
  -webkit-line-clamp: 1;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-4 {
  display: -webkit-box;
  -webkit-line-clamp: 4;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Enhanced text breaking for better overflow handling */
.text-break-all {
  word-break: break-all;
  overflow-wrap: break-word;
}

.text-break-word {
  word-break: break-word;
  overflow-wrap: break-word;
  hyphens: auto;
}

/* Card layout utilities */
.card-container {
  @apply bg-white rounded-lg border border-gray-200 shadow-sm;
  min-height: 200px;
  max-width: 320px;
  width: 100%;
}

.card-header {
  @apply flex justify-between items-start gap-2 mb-3;
}

.card-header-left {
  @apply flex items-center gap-2 min-w-0 flex-1;
}

.card-header-right {
  @apply flex gap-1 shrink-0 ml-2;
}

.card-title {
  @apply text-gray-900 font-medium text-base leading-5;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  word-break: break-word;
  hyphens: auto;
}

.card-metadata {
  @apply space-y-2 text-sm text-gray-600;
}

.card-metadata-row {
  @apply flex justify-between items-center gap-2;
}

.card-metadata-label {
  @apply font-medium text-gray-700 shrink-0;
}

.card-metadata-value {
  @apply text-right min-w-0 flex-1 overflow-hidden text-ellipsis whitespace-nowrap;
}

/* Status badge utilities */
.status-badge {
  @apply px-2 py-1 rounded text-xs font-medium shrink-0 border border-opacity-20;
}

.status-submitted {
  @apply bg-blue-50 text-blue-700 border-blue-200;
}

.status-under-review {
  @apply bg-yellow-50 text-yellow-700 border-yellow-200;
}

.status-approved {
  @apply bg-green-50 text-green-700 border-green-200;
}

.status-in-progress {
  @apply bg-purple-50 text-purple-700 border-purple-200;
}

.status-completed {
  @apply bg-gray-50 text-gray-700 border-gray-200;
}

.status-rejected {
  @apply bg-red-50 text-red-700 border-red-200;
}

/* Responsive grid utilities for cards */
.cards-grid {
  @apply grid gap-4 p-4;
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
}

@media (max-width: 640px) {
  .cards-grid {
    grid-template-columns: 1fr;
    @apply gap-3 p-3;
  }

  .card-container {
    max-width: none;
  }

  .card-title {
    @apply text-sm leading-4;
    -webkit-line-clamp: 3;
  }

  .card-metadata {
    @apply text-xs;
  }
}

@media (min-width: 641px) and (max-width: 1023px) {
  .cards-grid {
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  }
}

@media (min-width: 1024px) {
  .cards-grid {
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  }
}

/* Accessibility improvements */
.card-container:focus-within {
  @apply ring-2 ring-blue-500 ring-offset-2;
}

.card-action-button {
  @apply p-2 rounded-md hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1;
  min-width: 32px;
  min-height: 32px;
  transition: background-color 0.2s ease;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .card-container {
    @apply border-2 border-gray-800;
  }

  .card-title {
    @apply text-black;
  }

  .status-badge {
    @apply border-2;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .card-action-button {
    transition: none;
  }
}

/* Print styles */
@media print {
  .card-container {
    @apply shadow-none border-2 border-gray-400;
    break-inside: avoid;
    page-break-inside: avoid;
  }

  .card-action-button {
    @apply hidden;
  }
}
