2025-08-27T20:55:10Z info: Deployment: 758d6e12-3aac-479b-be4e-9038a1ca3189
2025-08-27T20:55:10Z info: Build: e497d89b-b250-4d46-ba92-3378b4bc65d4
2025-08-27T20:55:10Z info: Connecting to builder
2025-08-27T20:55:13Z info: Builder connected
2025-08-27T20:55:14Z info: Installing packages
--> npm install


added 391 packages, and audited 1357 packages in 10s


275 packages are looking for funding

  run `npm fund` for details


4 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.

npm notice
npm notice New major version of npm available! 10.8.2 -> 11.5.2
npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.5.2
npm notice To update run: npm install -g npm@11.5.2
npm notice

2025-08-27T20:55:24Z info: Starting Build

> koveo-gestion@1.0.0 build
> vite build && esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=dist


vite v7.1.3 building for production...

transforming...

✓ 3850 modules transformed.

rendering chunks...

computing gzip size...

../dist/public/index.html                                  2.20 kB │ gzip:   0.87 kB

../dist/public/assets/koveo-logo-FasO0tcB.jpg             84.22 kB
../dist/public/assets/Documents-CdSQcek-.css              65.86 kB │ gzip:  10.54 kB
../dist/public/assets/index-BbK4NAoV.css                 105.26 kB │ gzip:  16.93 kB

../dist/public/assets/skeleton-qp_mquEt.js                 0.17 kB │ gzip:   0.16 kB

../dist/public/assets/index-CCgDLPIa.js                    0.23 kB │ gzip:   0.17 kB

../dist/public/assets/check-DxIWWZn7.js                    0.29 kB │ gzip:   0.24 kB

../dist/public/assets/circle-DCgmrvCp.js                   0.30 kB │ gzip:   0.24 kB

../dist/public/assets/chevron-left-CTbf5w7L.js             0.30 kB │ gzip:   0.25 kB
../dist/public/assets/plus-CgDd1G7Y.js                     0.33 kB │ gzip:   0.25 kB
../dist/public/assets/terminal-Bg-aiMng.js                 0.34 kB │ gzip:   0.26 kB
../dist/public/assets/clock-BKCEYBd4.js                    0.34 kB │ gzip:   0.27 kB
../dist/public/assets/arrow-left-CZXHM0LF.js               0.34 kB │ gzip:   0.27 kB

../dist/public/assets/arrow-right-BImhvMKd.js              0.34 kB │ gzip:   0.26 kB

../dist/public/assets/search-tVYrqi50.js                   0.34 kB │ gzip:   0.27 kB

../dist/public/assets/circle-check-CSHkvNlj.js             0.35 kB │ gzip:   0.27 kB

../dist/public/assets/trending-up-C1edCvQd.js              0.35 kB │ gzip:   0.28 kB
../dist/public/assets/menu-7309GORg.js                     0.36 kB │ gzip:   0.26 kB
../dist/public/assets/lock-CeZ5EIot.js                     0.37 kB │ gzip:   0.29 kB
../dist/public/assets/circle-x-DG_0nDkM.js                 0.38 kB │ gzip:   0.28 kB

../dist/public/assets/credit-card-DlG-7J3J.js              0.38 kB │ gzip:   0.29 kB

../dist/public/assets/mail-hJHPL93x.js                     0.39 kB │ gzip:   0.30 kB

../dist/public/assets/target-D27CxEZG.js                   0.39 kB │ gzip:   0.26 kB

../dist/public/assets/download-CvoZh8aa.js                 0.41 kB │ gzip:   0.30 kB

../dist/public/assets/message-square-C3KsHmJZ.js           0.41 kB │ gzip:   0.31 kB

../dist/public/assets/pen-Bj73CN05.js                      0.41 kB │ gzip:   0.31 kB

../dist/public/assets/globe-BA4UQDP4.js                    0.41 kB │ gzip:   0.29 kB

../dist/public/assets/database-B66pAMoN.js                 0.42 kB │ gzip:   0.30 kB

../dist/public/assets/funnel-C1fCLfGV.js                   0.42 kB │ gzip:   0.31 kB

../dist/public/assets/eye-CjCs5ZkS.js                      0.42 kB │ gzip:   0.30 kB
../dist/public/assets/chart-column-Dv6DQVfM.js             0.42 kB │ gzip:   0.30 kB
../dist/public/assets/map-pin-D32sqI25.js                  0.43 kB │ gzip:   0.32 kB
../dist/public/assets/calendar-DY5YbbD6.js                 0.43 kB │ gzip:   0.30 kB
../dist/public/assets/zap-D-VTmeL4.js                      0.44 kB │ gzip:   0.31 kB
../dist/public/assets/triangle-alert-DTH49ueG.js           0.44 kB │ gzip:   0.31 kB
../dist/public/assets/book-open-B0Q-75Hb.js                0.45 kB │ gzip:   0.31 kB
../dist/public/assets/send-OWzl25a0.js                     0.46 kB │ gzip:   0.33 kB
../dist/public/assets/bell-Dz_oJcV2.js                     0.46 kB │ gzip:   0.34 kB
../dist/public/assets/wrench-CrP6pO-J.js                   0.47 kB │ gzip:   0.34 kB
../dist/public/assets/user-plus-M0AXq_mB.js                0.48 kB │ gzip:   0.34 kB
../dist/public/assets/square-pen-CcVOkBe5.js               0.49 kB │ gzip:   0.34 kB
../dist/public/assets/tag-w2vIsdKm.js                      0.49 kB │ gzip:   0.35 kB
../dist/public/assets/textarea-D4xScHYN.js                 0.50 kB │ gzip:   0.32 kB
../dist/public/assets/phone-zOQTzF25.js                    0.50 kB │ gzip:   0.33 kB
../dist/public/assets/save-CgqfE_ak.js                     0.50 kB │ gzip:   0.33 kB
../dist/public/assets/trash-2-Ci-_ZeXy.js                  0.50 kB │ gzip:   0.32 kB
../dist/public/assets/label-DeWQOImC.js                    0.53 kB │ gzip:   0.36 kB
../dist/public/assets/scale-C2PJs7qI.js                    0.54 kB │ gzip:   0.34 kB
../dist/public/assets/package-DgkY53jK.js                  0.55 kB │ gzip:   0.36 kB
../dist/public/assets/car-BUJrpdOn.js                      0.58 kB │ gzip:   0.38 kB
../dist/public/assets/input-CliN-jCJ.js                    0.58 kB │ gzip:   0.35 kB

../dist/public/assets/eye-off-BZTXoZCw.js                  0.60 kB │ gzip:   0.37 kB
../dist/public/assets/not-found-DibhxOy1.js                0.62 kB │ gzip:   0.36 kB

../dist/public/assets/separator-B5N1AYWB.js                0.67 kB │ gzip:   0.40 kB
../dist/public/assets/badge-ChPqWnw6.js                    0.86 kB │ gzip:   0.42 kB
../dist/public/assets/bed-BGNIOaFC.js                      0.87 kB │ gzip:   0.40 kB

../dist/public/assets/alert-DyD6I3Un.js                    0.91 kB │ gzip:   0.47 kB

../dist/public/assets/card-RZZ0eS78.js                     0.99 kB │ gzip:   0.37 kB

../dist/public/assets/with-selector-e0GhZCau.js            1.19 kB │ gzip:   0.68 kB

../dist/public/assets/documents-DVV-zGjw.js                1.22 kB │ gzip:   0.47 kB
../dist/public/assets/header-2MDlVKW5.js                   1.35 kB │ gzip:   0.60 kB

../dist/public/assets/table-CVwKVpuU.js                    1.49 kB │ gzip:   0.52 kB
../dist/public/assets/form-DknH376B.js                     1.72 kB │ gzip:   0.75 kB

../dist/public/assets/progress-DIKLGlQG.js                 1.90 kB │ gzip:   0.94 kB

../dist/public/assets/use-fullscreen-hHVACsKs.js           1.93 kB │ gzip:   0.65 kB

../dist/public/assets/dialog-DmaWJ9-O.js                   2.17 kB │ gzip:   0.84 kB

../dist/public/assets/switch-DjqqwPtG.js                   2.48 kB │ gzip:   1.24 kB

../dist/public/assets/zod-BFWn2UC2.js                      2.80 kB │ gzip:   1.02 kB

../dist/public/assets/forgot-password-BHJ9gqT7.js          3.17 kB │ gzip:   1.32 kB

../dist/public/assets/tabs-D_rrSgy6.js                     3.26 kB │ gzip:   1.37 kB

../dist/public/assets/validations-wRUdL_q6.js              3.32 kB │ gzip:   1.28 kB

../dist/public/assets/index-CRcWZisz.js                    3.48 kB │ gzip:   1.60 kB

../dist/public/assets/checkbox-6_rpUhPE.js                 3.88 kB │ gzip:   1.72 kB

../dist/public/assets/hamburger-menu-DHcQgM3L.js           4.51 kB │ gzip:   1.73 kB

../dist/public/assets/alert-dialog-CE83Fh75.js             4.73 kB │ gzip:   1.73 kB

../dist/public/assets/quality-gvjpqy5d.js                  4.84 kB │ gzip:   1.38 kB
../dist/public/assets/index-CZx-thnW.js                    5.12 kB │ gzip:   1.97 kB

../dist/public/assets/my-calendar-ByJ_2PqS.js              5.25 kB │ gzip:   2.02 kB

../dist/public/assets/BuildingDocuments-Co9F-XCE.js        5.48 kB │ gzip:   2.03 kB

../dist/public/assets/reset-password-Z_QBU57B.js           6.29 kB │ gzip:   2.01 kB
../dist/public/assets/dashboard-DwpJObjn.js                6.49 kB │ gzip:   1.38 kB
../dist/public/assets/dashboard-7Sc14D5x.js                7.18 kB │ gzip:   2.07 kB
../dist/public/assets/building-9oQjk5Uw.js                 7.19 kB │ gzip:   2.00 kB

../dist/public/assets/pricing-CMKyrOo7.js                  7.80 kB │ gzip:   2.26 kB

../dist/public/assets/privacy-policy-D9T_I0Cg.js           8.08 kB │ gzip:   2.56 kB
../dist/public/assets/suggestions-DC0YVKco.js              8.48 kB │ gzip:   3.11 kB

../dist/public/assets/pillars-CjX5H-Jl.js                  8.52 kB │ gzip:   2.51 kB

../dist/public/assets/compliance-CEVHc9M3.js               8.67 kB │ gzip:   2.52 kB
../dist/public/assets/ResidenceDocuments-Cp_WHb-i.js       8.93 kB │ gzip:   3.19 kB

../dist/public/assets/terms-of-service-3h6a9DCy.js         9.03 kB │ gzip:   2.74 kB

../dist/public/assets/demand-details-popup-BfCSWWcZ.js     9.57 kB │ gzip:   3.06 kB

../dist/public/assets/features-DJNRx-v9.js                10.43 kB │ gzip:   3.18 kB

../dist/public/assets/demands-BNCKumJx.js                 10.59 kB │ gzip:   3.17 kB

../dist/public/assets/residence-FEbBL9xF.js               10.88 kB │ gzip:   2.94 kB
../dist/public/assets/ResidentDemandsPage-D3T0EFqO.js     10.93 kB │ gzip:   3.67 kB

../dist/public/assets/common-space-calendar-DtD8dr2d.js   10.93 kB │ gzip:   2.53 kB

../dist/public/assets/login-BEeTWu1c.js                   11.15 kB │ gzip:   3.64 kB

../dist/public/assets/buildings-D11zBJCD.js               12.11 kB │ gzip:   3.61 kB

../dist/public/assets/BuildingDocuments-DqRStYZf.js       12.29 kB │ gzip:   3.60 kB

../dist/public/assets/security-GCDAUNLP.js                12.51 kB │ gzip:   3.84 kB

../dist/public/assets/ResidenceDocuments-BC56sLNn.js      12.82 kB │ gzip:   3.74 kB

../dist/public/assets/residences-DKlJcRvM.js              14.24 kB │ gzip:   3.96 kB

../dist/public/assets/settings-DmBluUJc.js                14.84 kB │ gzip:   4.06 kB

../dist/public/assets/home-D_qbZazc.js                    16.14 kB │ gzip:   4.13 kB

../dist/public/assets/Combination-NPd0Uwrz.js             16.46 kB │ gzip:   6.23 kB

../dist/public/assets/calendar-T8vEXIdF.js                16.91 kB │ gzip:   4.46 kB

../dist/public/assets/story-8smvbgc1.js                   17.05 kB │ gzip:   4.71 kB

../dist/public/assets/bug-reports-1lFrGHrU.js             17.18 kB │ gzip:   4.66 kB

../dist/public/assets/organizations-CAb6FMcK.js           18.09 kB │ gzip:   4.78 kB

../dist/public/assets/permissions-D4Rai4Pp.js             18.81 kB │ gzip:   4.60 kB

../dist/public/assets/idea-box-B1cnJqfO.js                19.12 kB │ gzip:   5.01 kB

../dist/public/assets/dropdown-menu-Dp8J2sWu.js           20.69 kB │ gzip:   6.01 kB

../dist/public/assets/select-5-0Vanjb.js                  21.20 kB │ gzip:   7.45 kB

../dist/public/assets/bills-HKJkQ_GW.js                   30.71 kB │ gzip:   7.99 kB

../dist/public/assets/common-spaces-BHUpJdPa.js           35.90 kB │ gzip:   9.62 kB

../dist/public/assets/user-management-CipHGEjQ.js         36.28 kB │ gzip:   7.56 kB

../dist/public/assets/calendar-view-D9qT-ocJ.js           37.31 kB │ gzip:  10.97 kB

../dist/public/assets/invitation-acceptance-DAa6Mzwp.js   39.43 kB │ gzip:  10.04 kB

../dist/public/assets/documentation-CnBiJ5m-.js           51.97 kB │ gzip:  17.05 kB

../dist/public/assets/common-spaces-stats-BICLQMzy.js     57.80 kB │ gzip:  15.90 kB

../dist/public/assets/roadmap-CXEEdqrF.js                 58.25 kB │ gzip:  16.28 kB

../dist/public/assets/budget-BiEyA1NI.js                  61.42 kB │ gzip:  16.88 kB

../dist/public/assets/schemas-B4MQ7wyd.js                 78.00 kB │ gzip:  23.36 kB
../dist/public/assets/Documents-xBDME-u5.js              233.40 kB │ gzip:  72.96 kB

../dist/public/assets/CartesianChart-DLC8mDyp.js         289.16 kB │ gzip:  88.19 kB

../dist/public/assets/index-c0Z1k2Cf.js                  382.52 kB │ gzip: 121.23 kB

✓ built in 23.86s


  dist/index.js  688.0kb

⚡ Done in 99ms

2025-08-27T20:55:51Z info: Pushing pid1 binary layer...
2025-08-27T20:55:52Z info: Pushing Repl layer...
2025-08-27T20:55:52Z info: Pushing hosting layer...
2025-08-27T20:55:53Z info: Created pid1 binary layer
2025-08-27T20:55:53Z info: Created hosting layer
2025-08-27T20:56:36Z info: Created Repl layer
2025-08-27T20:56:36Z info: Pushed image manifest
2025-08-27T20:56:37Z info: Pushed soci index manifest
2025-08-27T20:56:41Z info: Creating Autoscale service
starting up user application
8:59:03 PM [express]    - http://0.0.0.0:443/health
> koveo-gestion@1.0.0 start
8:59:03 PM [express] 🔄 Production mode: Loading features in background...
8:59:03 PM [express]    - http://0.0.0.0:443/ready
8:59:03 PM [express] 🚀 Server listening on http://0.0.0.0:443 - Health checks ready
> PORT=${PORT:-5000} node server/index.js
8:59:04 PM [express] ✅ Body parser middleware configured
8:59:03 PM [express]    - http://0.0.0.0:443/status
8:59:04 PM [express] ✅ Production diagnostic routes registered
8:59:03 PM [express] 🌐 Health check URLs:
8:59:04 PM [express] ✅ Building routes registered
forwarding local port 5000 to external port 80 (mapped as 1104)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_users_email ON users(email)
8:59:03 PM [express] 🔄 Loading full application features...
8:59:04 PM [express] ✅ Organization routes registered
8:59:04 PM [express] ✅ User routes registered
8:59:04 PM [express] ✅ Quality metrics and pillar routes registered
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_organizations_active ON organizations(is_active)
📊 Database initialized with 17 tables (relations excluded for stability)
8:59:04 PM [express] ✅ Document routes registered
8:59:04 PM [express] ✅ Quality metrics routes registered
8:59:03 PM [express]    - http://0.0.0.0:443/ping
Applying core database optimizations...
8:59:04 PM [express] ✅ Improvement suggestions routes registered
8:59:03 PM [express] 🚀 Server ready and health checks available on port 443
8:59:04 PM [express] ✅ Bills routes registered
8:59:04 PM [express] ✅ Feature request routes registered
8:59:04 PM [express] ✅ Feature management routes registered
8:59:04 PM [express] ✅ Dynamic budget routes registered
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_users_role ON users(role)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_buildings_org_id ON buildings(organization_id)
8:59:04 PM [express] ✅ Budget routes registered
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_organizations_city ON organizations(city)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_users_active ON users(is_active)
8:59:04 PM [express] ✅ Demand routes registered
8:59:04 PM [express] ✅ Delayed update monitoring routes registered
8:59:04 PM [express] ✅ Common spaces routes registered
8:59:04 PM [express] ✅ Permissions routes registered
8:59:04 PM [express] ✅ AI monitoring routes registered
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_buildings_type ON buildings(building_type)
8:59:04 PM [express] ✅ Residence routes registered
8:59:04 PM [express] ✅ Auth routes registered on API router with session middleware
8:59:04 PM [express] ✅ Contact routes registered
🕐 Delayed Update Service initialized with 15-minute delay
8:59:04 PM [express] ✅ Cleanup routes registered
8:59:04 PM [express] ✅ Bug routes registered
8:59:04 PM [express] ✅ Features and actionable items routes registered
8:59:04 PM [express] ✅ Invitation routes registered
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_organizations_type ON organizations(type)
8:59:04 PM [express] ✅ Law 25 compliance routes registered
8:59:04 PM [express] ✅ Demo management routes removed (not registered)
8:59:04 PM [express] ✅ Production server configuration applied
8:59:04 PM [express] ✅ Session middleware configured
8:59:04 PM [express] ✅ Storage cleanup scheduler initialized
✅ Storage cleanup scheduler started - runs every 6 hours
8:59:04 PM [express] ✅ Demo organizations functionality removed - no initialization needed
8:59:04 PM [express] ✅ User relationship endpoints registered
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_bills_status ON bills(status)
8:59:04 PM [express] ✅ Demo bookings routes registered
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_buildings_city ON buildings(city)
8:59:04 PM [express] 🔄 Setting up production server with proper API routing...
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_quality_metrics_timestamp ON quality_metrics(timestamp)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_buildings_active ON buildings(is_active)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_bills_due_date ON bills(due_date)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_maintenance_category ON maintenance_requests(category)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_maintenance_status ON maintenance_requests(status)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_user_residences_residence_id ON user_residences(residence_id)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_buildings_postal ON buildings(postal_code)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_features_created ON features(created_at)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_residences_building_id ON residences(building_id)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_bills_issue_date ON bills(issue_date)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_notifications_type ON notifications(type)
8:59:04 PM [express] ✅ Essential application routes loaded
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_residences_unit ON residences(unit_number)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_bills_type ON bills(type)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_budgets_category ON budgets(category)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_maintenance_scheduled ON maintenance_requests(scheduled_date)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_documents_uploaded_by ON documents(uploaded_by)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_budgets_active ON budgets(is_active)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_maintenance_residence_id ON maintenance_requests(residence_id)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_notifications_entity ON notifications(related_entity_id, related_entity_type)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_bills_residence_id ON bills(residence_id)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_notifications_created ON notifications(created_at)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_user_residences_active ON user_residences(is_active)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_prediction_validations_validated ON prediction_validations(validated_at)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_documents_residence_id ON documents(residence_id)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_workspace_component ON workspace_status(component)
✓ Applied covering _index: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_buildings_covering ON buildings(organization_id) INCLUDE (name, address, city, building_type, is_active)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_documents_org_id ON documents(organization_id)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_residences_floor ON residences(floor)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_residences_active ON residences(is_active)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_budgets_building_id ON budgets(building_id)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_features_roadmap_recent ON features(show_on_roadmap, created_at) WHERE show_on_roadmap = true
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_user_residences_dates ON user_residences(start_date, end_date)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_prediction_validations_status ON prediction_validations(validation_status)
✓ Applied covering _index: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_users_covering ON users(email) INCLUDE (first_name, last_name, role, is_active)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_maintenance_priority ON maintenance_requests(priority)
8:59:04 PM [express] ✅ Production static file serving enabled with API route protection
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_features_category ON features(category)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_documents_category ON documents(category)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_maintenance_residence_status ON maintenance_requests(residence_id, status, priority)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_pillars_order ON development_pillars("order")
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_notifications_user_id ON notifications(user_id)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_user_residences_relationship ON user_residences(relationship_type)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_budgets_building_year ON budgets(building_id, year, is_active)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_workspace_updated ON workspace_status(last_updated)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_quality_metrics_type ON quality_metrics(metric_type)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_pillars_status ON development_pillars(status)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_budgets_created_by ON budgets(created_by)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_improvement_suggestions_status ON improvement_suggestions(status)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_framework_config_updated ON framework_configuration(updated_at)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_features_strategic ON features(is_strategic_path)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_buildings_org_active ON buildings(organization_id, is_active)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_metric_predictions_created ON metric_predictions(created_at)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_metric_predictions_category ON metric_predictions(property_management_category)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_budgets_year ON budgets(year)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_metric_effectiveness_validation ON metric_effectiveness_tracking(validation_date)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_bills_created_by ON bills(created_by)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_residences_building_active ON residences(building_id, is_active)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_documents_building_id ON documents(building_id)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_prediction_validations_prediction_id ON prediction_validations(prediction_id)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_organizations_active_type ON organizations(type) WHERE is_active = true
✓ Created materialized view
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_workspace_status ON workspace_status(status)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_notifications_unread ON notifications(user_id, created_at) WHERE is_read = false
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_framework_config_key ON framework_configuration(_key)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_features_synced ON features(synced_at)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_bills_number ON bills(bill_number)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_notifications_read ON notifications(is_read)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_residences_active_building ON residences(building_id) WHERE is_active = true
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_actionable_items_status ON actionable_items(status)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_metric_effectiveness_type ON metric_effectiveness_tracking(metric_type)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_improvement_suggestions_priority ON improvement_suggestions(priority)
✓ Created materialized view
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_bills_residence_status ON bills(residence_id, status, due_date)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_users_active_email ON users(email) WHERE is_active = true
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_features_status ON features(status)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_features_roadmap ON features(show_on_roadmap)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_improvement_suggestions_category ON improvement_suggestions(category)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_user_residences_active_relationship ON user_residences(user_id, residence_id) WHERE is_active = true
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_user_residences_user_id ON user_residences(user_id)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_metric_predictions_compliance ON metric_predictions(quebec_compliance_relevant)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_metric_effectiveness_compliance ON metric_effectiveness_tracking(quebec_compliance_impact)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_buildings_active_org ON buildings(organization_id) WHERE is_active = true
✓ Applied covering _index: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_bills_covering ON bills(residence_id, status) INCLUDE (bill_number, amount, due_date, type)
✓ Created materialized view
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_features_priority ON features(priority)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_maintenance_assigned_to ON maintenance_requests(assigned_to)
8:59:03 PM [express]    - http://0.0.0.0:443/healthz
✓ Applied covering _index: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_notifications_covering ON notifications(user_id, is_read) INCLUDE (title, message, type, created_at)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_maintenance_open ON maintenance_requests(residence_id, priority) WHERE status IN ('submitted', 'acknowledged', 'in_progress')
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_documents_public ON documents(is_public)
✓ Applied covering _index: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_residences_covering ON residences(building_id) INCLUDE (unit_number, floor, square_footage, is_active)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_actionable_items_feature_id ON actionable_items(feature_id)
Database optimizations complete
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_metric_predictions_type ON metric_predictions(metric_type)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_improvement_suggestions_created ON improvement_suggestions(created_at)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_users_last_login ON users(last_login_at)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_maintenance_submitted_by ON maintenance_requests(submitted_by)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_notifications_user_unread ON notifications(user_id, created_at) WHERE is_read = false
✓ Applied covering _index: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_maintenance_covering ON maintenance_requests(residence_id, status) INCLUDE (title, priority, category, scheduled_date)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_bills_unpaid ON bills(residence_id, due_date) WHERE status IN ('sent', 'overdue')
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_users_email ON users(email)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_residences_building_id ON residences(building_id)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_maintenance_priority ON maintenance_requests(priority)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_organizations_type ON organizations(type)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_buildings_type ON buildings(building_type)
8:59:05 PM [express] 🔄 Starting background database optimizations...
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_bills_issue_date ON bills(issue_date)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_bills_created_by ON bills(created_by)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_bills_due_date ON bills(due_date)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_organizations_city ON organizations(city)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_residences_floor ON residences(floor)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_notifications_read ON notifications(is_read)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_users_active ON users(is_active)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_residences_unit ON residences(unit_number)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_users_last_login ON users(last_login_at)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_budgets_category ON budgets(category)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_budgets_active ON budgets(is_active)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_budgets_year ON budgets(year)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_workspace_component ON workspace_status(component)
Applying core database optimizations...
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_features_roadmap_recent ON features(show_on_roadmap, created_at) WHERE show_on_roadmap = true
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_documents_org_id ON documents(organization_id)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_user_residences_residence_id ON user_residences(residence_id)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_budgets_created_by ON budgets(created_by)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_maintenance_status ON maintenance_requests(status)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_organizations_active_type ON organizations(type) WHERE is_active = true
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_buildings_org_id ON buildings(organization_id)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_features_created ON features(created_at)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_budgets_building_id ON budgets(building_id)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_user_residences_relationship ON user_residences(relationship_type)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_bills_status ON bills(status)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_residences_active ON residences(is_active)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_framework_config_updated ON framework_configuration(updated_at)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_features_synced ON features(synced_at)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_documents_building_id ON documents(building_id)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_user_residences_user_id ON user_residences(user_id)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_users_role ON users(role)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_documents_uploaded_by ON documents(uploaded_by)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_buildings_city ON buildings(city)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_quality_metrics_type ON quality_metrics(metric_type)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_documents_public ON documents(is_public)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_users_active_email ON users(email) WHERE is_active = true
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_metric_effectiveness_type ON metric_effectiveness_tracking(metric_type)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_user_residences_active ON user_residences(is_active)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_buildings_active ON buildings(is_active)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_maintenance_submitted_by ON maintenance_requests(submitted_by)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_bills_number ON bills(bill_number)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_metric_predictions_category ON metric_predictions(property_management_category)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_prediction_validations_prediction_id ON prediction_validations(prediction_id)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_maintenance_residence_id ON maintenance_requests(residence_id)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_documents_category ON documents(category)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_actionable_items_feature_id ON actionable_items(feature_id)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_buildings_active_org ON buildings(organization_id) WHERE is_active = true
Database optimizations complete
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_metric_effectiveness_compliance ON metric_effectiveness_tracking(quebec_compliance_impact)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_user_residences_dates ON user_residences(start_date, end_date)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_documents_residence_id ON documents(residence_id)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_actionable_items_status ON actionable_items(status)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_notifications_user_id ON notifications(user_id)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_features_priority ON features(priority)
8:59:05 PM [express] ✅ Database optimizations complete
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_improvement_suggestions_status ON improvement_suggestions(status)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_bills_type ON bills(type)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_features_status ON features(status)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_residences_active_building ON residences(building_id) WHERE is_active = true
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_bills_unpaid ON bills(residence_id, due_date) WHERE status IN ('sent', 'overdue')
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_notifications_created ON notifications(created_at)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_buildings_postal ON buildings(postal_code)
✓ Applied covering _index: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_maintenance_covering ON maintenance_requests(residence_id, status) INCLUDE (title, priority, category, scheduled_date)
✓ Applied covering _index: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_residences_covering ON residences(building_id) INCLUDE (unit_number, floor, square_footage, is_active)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_pillars_status ON development_pillars(status)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_budgets_building_year ON budgets(building_id, year, is_active)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_framework_config_key ON framework_configuration(_key)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_workspace_updated ON workspace_status(last_updated)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_metric_effectiveness_validation ON metric_effectiveness_tracking(validation_date)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_organizations_active ON organizations(is_active)
✓ Created materialized view
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_features_strategic ON features(is_strategic_path)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_buildings_org_active ON buildings(organization_id, is_active)
✓ Applied covering _index: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_buildings_covering ON buildings(organization_id) INCLUDE (name, address, city, building_type, is_active)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_improvement_suggestions_category ON improvement_suggestions(category)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_workspace_status ON workspace_status(status)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_prediction_validations_status ON prediction_validations(validation_status)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_maintenance_residence_status ON maintenance_requests(residence_id, status, priority)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_features_category ON features(category)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_maintenance_category ON maintenance_requests(category)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_notifications_entity ON notifications(related_entity_id, related_entity_type)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_notifications_user_unread ON notifications(user_id, created_at) WHERE is_read = false
✓ Applied covering _index: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_users_covering ON users(email) INCLUDE (first_name, last_name, role, is_active)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_prediction_validations_validated ON prediction_validations(validated_at)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_residences_building_active ON residences(building_id, is_active)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_features_roadmap ON features(show_on_roadmap)
✓ Created materialized view
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_quality_metrics_timestamp ON quality_metrics(timestamp)
✓ Created materialized view
✓ Applied covering _index: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_notifications_covering ON notifications(user_id, is_read) INCLUDE (title, message, type, created_at)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_user_residences_active_relationship ON user_residences(user_id, residence_id) WHERE is_active = true
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_bills_residence_status ON bills(residence_id, status, due_date)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_notifications_type ON notifications(type)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_maintenance_open ON maintenance_requests(residence_id, priority) WHERE status IN ('submitted', 'acknowledged', 'in_progress')
✓ Applied covering _index: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_bills_covering ON bills(residence_id, status) INCLUDE (bill_number, amount, due_date, type)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_metric_predictions_created ON metric_predictions(created_at)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_metric_predictions_compliance ON metric_predictions(quebec_compliance_relevant)
8:59:05 PM [express] 🔄 Background work complete - all routes already loaded
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_bills_residence_id ON bills(residence_id)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_improvement_suggestions_created ON improvement_suggestions(created_at)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_maintenance_assigned_to ON maintenance_requests(assigned_to)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_pillars_order ON development_pillars("order")
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_maintenance_scheduled ON maintenance_requests(scheduled_date)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_metric_predictions_type ON metric_predictions(metric_type)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_improvement_suggestions_priority ON improvement_suggestions(priority)
✓ Applied: CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_notifications_unread ON notifications(user_id, created_at) WHERE is_read = false
a port configuration was specified but the required port was never opened
2025-08-27T21:00:50Z error: The deployment failed because the application failed to open a port in time. This can happen because the application takes to long to open a server, or doesn't open one at all on the expected port. Note that this doesn't mean that the application is crashing, only that it's not opening a port in time. The application must serve traffic on the first port specified as 'localPort' in the port configuration specified in the .replit file. Make sure that the application opens a port quickly and that there are no operations taking too long on startup. Check the logs for more information.